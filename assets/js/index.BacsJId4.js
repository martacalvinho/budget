var qs=Object.defineProperty;var us=_e=>{throw TypeError(_e)};var Gs=(_e,$,et)=>$ in _e?qs(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[$]=et;var Lr=(_e,$,et)=>Gs(_e,typeof $!="symbol"?$+"":$,et),In=(_e,$,et)=>$.has(_e)||us("Cannot "+et);var $t=(_e,$,et)=>(In(_e,$,"read from private field"),et?et.call(_e):$.get(_e)),or=(_e,$,et)=>$.has(_e)?us("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,et),cr=(_e,$,et,tt)=>(In(_e,$,"write to private field"),tt?tt.call(_e,et):$.set(_e,et),et),er=(_e,$,et)=>(In(_e,$,"access private method"),et);var fn=(_e,$,et,tt)=>({set _(rt){cr(_e,$,rt,et)},get _(){return $t(_e,$,tt)}});(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))tt(rt);new MutationObserver(rt=>{for(const nt of rt)if(nt.type==="childList")for(const it of nt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(rt){const nt={};return rt.integrity&&(nt.integrity=rt.integrity),rt.referrerPolicy&&(nt.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?nt.credentials="include":rt.crossOrigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function tt(rt){if(rt.ep)return;rt.ep=!0;const nt=et(rt);fetch(rt.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var et=function tt(){return this instanceof tt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};et.prototype=$.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(_e).forEach(function(tt){var rt=Object.getOwnPropertyDescriptor(_e,tt);Object.defineProperty(et,tt,rt.get?rt:{enumerable:!0,get:function(){return _e[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(_e){return _e===null||typeof _e!="object"?null:(_e=z$1&&_e[z$1]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$1(_e,$,et){this.props=_e,this.context=$,this.refs=D$2,this.updater=et||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$1.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(_e,$,et){this.props=_e,this.context=$,this.refs=D$2,this.updater=et||B$1}var H$1=G$2.prototype=new F$1;H$1.constructor=G$2;C$2(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,$,et){var tt,rt={},nt=null,it=null;if($!=null)for(tt in $.ref!==void 0&&(it=$.ref),$.key!==void 0&&(nt=""+$.key),$)J$1.call($,tt)&&!L$1.hasOwnProperty(tt)&&(rt[tt]=$[tt]);var at=arguments.length-2;if(at===1)rt.children=et;else if(1<at){for(var st=Array(at),ot=0;ot<at;ot++)st[ot]=arguments[ot+2];rt.children=st}if(_e&&_e.defaultProps)for(tt in at=_e.defaultProps,at)rt[tt]===void 0&&(rt[tt]=at[tt]);return{$$typeof:l$3,type:_e,key:nt,ref:it,props:rt,_owner:K$2.current}}function N$1(_e,$){return{$$typeof:l$3,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return $[et]})}var P$3=/\/+/g;function Q$2(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$1(_e,$,et,tt,rt){var nt=typeof _e;(nt==="undefined"||nt==="boolean")&&(_e=null);var it=!1;if(_e===null)it=!0;else switch(nt){case"string":case"number":it=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$3:it=!0}}if(it)return it=_e,rt=rt(it),_e=tt===""?"."+Q$2(it,0):tt,I$1(rt)?(et="",_e!=null&&(et=_e.replace(P$3,"$&/")+"/"),R$1(rt,$,et,"",function(ot){return ot})):rt!=null&&(O$2(rt)&&(rt=N$1(rt,et+(!rt.key||it&&it.key===rt.key?"":(""+rt.key).replace(P$3,"$&/")+"/")+_e)),$.push(rt)),1;if(it=0,tt=tt===""?".":tt+":",I$1(_e))for(var at=0;at<_e.length;at++){nt=_e[at];var st=tt+Q$2(nt,at);it+=R$1(nt,$,et,st,rt)}else if(st=A$2(_e),typeof st=="function")for(_e=st.call(_e),at=0;!(nt=_e.next()).done;)nt=nt.value,st=tt+Q$2(nt,at++),it+=R$1(nt,$,et,st,rt);else if(nt==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return it}function S$2(_e,$,et){if(_e==null)return _e;var tt=[],rt=0;return R$1(_e,tt,"","",function(nt){return $.call(et,nt,rt++)}),tt}function T$1(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(_e,$,et){S$2(_e,function(){$.apply(this,arguments)},et)},count:function(_e){var $=0;return S$2(_e,function(){$++}),$},toArray:function(_e){return S$2(_e,function($){return $})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,$,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var tt=C$2({},_e.props),rt=_e.key,nt=_e.ref,it=_e._owner;if($!=null){if($.ref!==void 0&&(nt=$.ref,it=K$2.current),$.key!==void 0&&(rt=""+$.key),_e.type&&_e.type.defaultProps)var at=_e.type.defaultProps;for(st in $)J$1.call($,st)&&!L$1.hasOwnProperty(st)&&(tt[st]=$[st]===void 0&&at!==void 0?at[st]:$[st])}var st=arguments.length-2;if(st===1)tt.children=et;else if(1<st){at=Array(st);for(var ot=0;ot<st;ot++)at[ot]=arguments[ot+2];tt.children=at}return{$$typeof:l$3,type:_e.type,key:rt,ref:nt,props:tt,_owner:it}};react_production_min.createContext=function(_e){return _e={$$typeof:u$3,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$2,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var $=M$2.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$3,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$1,_payload:{_status:-1,_result:_e},_init:T$1}};react_production_min.memo=function(_e,$){return{$$typeof:x$2,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,$){return U$2.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$2.current.useEffect(_e,$)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,$,et){return U$2.current.useImperativeHandle(_e,$,et)};react_production_min.useInsertionEffect=function(_e,$){return U$2.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$2.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$2.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,et){return U$2.current.useReducer(_e,$,et)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,et){return U$2.current.useSyncExternalStore(_e,$,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_e,$,et){var tt,rt={},nt=null,it=null;et!==void 0&&(nt=""+et),$.key!==void 0&&(nt=""+$.key),$.ref!==void 0&&(it=$.ref);for(tt in $)m$3.call($,tt)&&!p$3.hasOwnProperty(tt)&&(rt[tt]=$[tt]);if(_e&&_e.defaultProps)for(tt in $=_e.defaultProps,$)rt[tt]===void 0&&(rt[tt]=$[tt]);return{$$typeof:k$3,type:_e,key:nt,ref:it,props:rt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(Rt,jt){var Ct=Rt.length;Rt.push(jt);e:for(;0<Ct;){var Dt=Ct-1>>>1,Mt=Rt[Dt];if(0<rt(Mt,jt))Rt[Dt]=jt,Rt[Ct]=Mt,Ct=Dt;else break e}}function et(Rt){return Rt.length===0?null:Rt[0]}function tt(Rt){if(Rt.length===0)return null;var jt=Rt[0],Ct=Rt.pop();if(Ct!==jt){Rt[0]=Ct;e:for(var Dt=0,Mt=Rt.length,At=Mt>>>1;Dt<At;){var Pt=2*(Dt+1)-1,Nt=Rt[Pt],Bt=Pt+1,Vt=Rt[Bt];if(0>rt(Nt,Ct))Bt<Mt&&0>rt(Vt,Nt)?(Rt[Dt]=Vt,Rt[Bt]=Ct,Dt=Bt):(Rt[Dt]=Nt,Rt[Pt]=Ct,Dt=Pt);else if(Bt<Mt&&0>rt(Vt,Ct))Rt[Dt]=Vt,Rt[Bt]=Ct,Dt=Bt;else break e}}return jt}function rt(Rt,jt){var Ct=Rt.sortIndex-jt.sortIndex;return Ct!==0?Ct:Rt.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;_e.unstable_now=function(){return nt.now()}}else{var it=Date,at=it.now();_e.unstable_now=function(){return it.now()-at}}var st=[],ot=[],lt=1,ct=null,ut=3,dt=!1,ht=!1,mt=!1,pt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Rt){for(var jt=et(ot);jt!==null;){if(jt.callback===null)tt(ot);else if(jt.startTime<=Rt)tt(ot),jt.sortIndex=jt.expirationTime,$(st,jt);else break;jt=et(ot)}}function _t(Rt){if(mt=!1,bt(Rt),!ht)if(et(st)!==null)ht=!0,zt(yt);else{var jt=et(ot);jt!==null&&Ft(_t,jt.startTime-Rt)}}function yt(Rt,jt){ht=!1,mt&&(mt=!1,ft(wt),wt=-1),dt=!0;var Ct=ut;try{for(bt(jt),ct=et(st);ct!==null&&(!(ct.expirationTime>jt)||Rt&&!Et());){var Dt=ct.callback;if(typeof Dt=="function"){ct.callback=null,ut=ct.priorityLevel;var Mt=Dt(ct.expirationTime<=jt);jt=_e.unstable_now(),typeof Mt=="function"?ct.callback=Mt:ct===et(st)&&tt(st),bt(jt)}else tt(st);ct=et(st)}if(ct!==null)var At=!0;else{var Pt=et(ot);Pt!==null&&Ft(_t,Pt.startTime-jt),At=!1}return At}finally{ct=null,ut=Ct,dt=!1}}var vt=!1,xt=null,wt=-1,St=5,Ot=-1;function Et(){return!(_e.unstable_now()-Ot<St)}function Tt(){if(xt!==null){var Rt=_e.unstable_now();Ot=Rt;var jt=!0;try{jt=xt(!0,Rt)}finally{jt?It():(vt=!1,xt=null)}}else vt=!1}var It;if(typeof gt=="function")It=function(){gt(Tt)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Lt=Wt.port2;Wt.port1.onmessage=Tt,It=function(){Lt.postMessage(null)}}else It=function(){pt(Tt,0)};function zt(Rt){xt=Rt,vt||(vt=!0,It())}function Ft(Rt,jt){wt=pt(function(){Rt(_e.unstable_now())},jt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Rt){Rt.callback=null},_e.unstable_continueExecution=function(){ht||dt||(ht=!0,zt(yt))},_e.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<Rt?Math.floor(1e3/Rt):5},_e.unstable_getCurrentPriorityLevel=function(){return ut},_e.unstable_getFirstCallbackNode=function(){return et(st)},_e.unstable_next=function(Rt){switch(ut){case 1:case 2:case 3:var jt=3;break;default:jt=ut}var Ct=ut;ut=jt;try{return Rt()}finally{ut=Ct}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Rt,jt){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Ct=ut;ut=Rt;try{return jt()}finally{ut=Ct}},_e.unstable_scheduleCallback=function(Rt,jt,Ct){var Dt=_e.unstable_now();switch(typeof Ct=="object"&&Ct!==null?(Ct=Ct.delay,Ct=typeof Ct=="number"&&0<Ct?Dt+Ct:Dt):Ct=Dt,Rt){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=Ct+Mt,Rt={id:lt++,callback:jt,priorityLevel:Rt,startTime:Ct,expirationTime:Mt,sortIndex:-1},Ct>Dt?(Rt.sortIndex=Ct,$(ot,Rt),et(st)===null&&Rt===et(ot)&&(mt?(ft(wt),wt=-1):mt=!0,Ft(_t,Ct-Dt))):(Rt.sortIndex=Mt,$(st,Rt),ht||dt||(ht=!0,zt(yt))),Rt},_e.unstable_shouldYield=Et,_e.unstable_wrapCallback=function(Rt){var jt=ut;return function(){var Ct=ut;ut=jt;try{return Rt.apply(this,arguments)}finally{ut=Ct}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)$+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka$1.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,et,tt){if($===null||typeof $>"u"||pa(_e,$,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$2(_e,$,et,tt,rt,nt,it){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=tt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=_e,this.type=$,this.sanitizeURL=nt,this.removeEmptyString=it}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z[_e]=new v$2(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z[$]=new v$2($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z[_e]=new v$2(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z[_e]=new v$2(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z[_e]=new v$2(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z[_e]=new v$2(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z[_e]=new v$2(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z[_e]=new v$2(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z[_e]=new v$2(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z[$]=new v$2($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z[$]=new v$2($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z[$]=new v$2($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,et,tt){var rt=z.hasOwnProperty($)?z[$]:null;(rt!==null?rt.type!==0:tt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,et,rt,tt)&&(et=null),tt||rt===null?oa($)&&(et===null?_e.removeAttribute($):_e.setAttribute($,""+et)):rt.mustUseProperty?_e[rt.propertyName]=et===null?rt.type===3?!1:"":et:($=rt.attributeName,tt=rt.attributeNamespace,et===null?_e.removeAttribute($):(rt=rt.type,et=rt===3||rt===4&&et===!0?"":""+et,tt?_e.setAttributeNS(tt,$,et):_e.setAttribute($,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var $=et.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(ot){var tt=ot}Reflect.construct(_e,[],$)}else{try{$.call()}catch(ot){tt=ot}_e.call($.prototype)}else{try{throw Error()}catch(ot){tt=ot}_e()}}catch(ot){if(ot&&tt&&typeof ot.stack=="string"){for(var rt=ot.stack.split(`
`),nt=tt.stack.split(`
`),it=rt.length-1,at=nt.length-1;1<=it&&0<=at&&rt[it]!==nt[at];)at--;for(;1<=it&&0<=at;it--,at--)if(rt[it]!==nt[at]){if(it!==1||at!==1)do if(it--,at--,0>at||rt[it]!==nt[at]){var st=`
`+rt[it].replace(" at new "," at ");return _e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",_e.displayName)),st}while(1<=it&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),tt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var rt=et.get,nt=et.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return rt.call(this)},set:function(it){tt=""+it,nt.call(this,it)}}),Object.defineProperty(_e,$,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var et=$.getValue(),tt="";return _e&&(tt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=tt,_e!==et?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var et=$.checked;return A$1({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,$){var et=$.defaultValue==null?"":$.defaultValue,tt=$.checked!=null?$.checked:$.defaultChecked;et=Sa($.value!=null?$.value:et),_e._wrapperState={initialChecked:tt,initialValue:et,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var et=Sa($.value),tt=$.type;if(et!=null)tt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(tt==="submit"||tt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,et):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,et){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var tt=$.type;if(!(tt!=="submit"&&tt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,et||$===_e.value||(_e.value=$),_e.defaultValue=$}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,$,et){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,$,et,tt){if(_e=_e.options,$){$={};for(var rt=0;rt<et.length;rt++)$["$"+et[rt]]=!0;for(et=0;et<_e.length;et++)rt=$.hasOwnProperty("$"+_e[et].value),_e[et].selected!==rt&&(_e[et].selected=rt),rt&&tt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),$=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===et){_e[rt].selected=!0,tt&&(_e[rt].defaultSelected=!0);return}$!==null||_e[rt].disabled||($=_e[rt])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var et=$.value;if(et==null){if(et=$.children,$=$.defaultValue,et!=null){if($!=null)throw Error(p$2(92));if(eb(et)){if(1<et.length)throw Error(p$2(93));et=et[0]}$=et}$==null&&($=""),et=$}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,$){var et=Sa($.value),tt=Sa($.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),$.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),tt!=null&&(_e.defaultValue=""+tt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,et,tt,rt){MSApp.execUnsafeLocalFunction(function(){return _e($,et,tt,rt)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,et){return $==null||typeof $=="boolean"||$===""?"":et||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var et in $)if($.hasOwnProperty(et)){var tt=et.indexOf("--")===0,rt=rb(et,$[et],tt);et==="float"&&(et="cssFloat"),tt?_e.setProperty(et,rt):_e[et]=rt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$2(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$2(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$2(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$2(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$2(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,et){if(Ib)return _e($,et);Ib=!0;try{return Gb(_e,$,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var et=_e.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(_e=_e.type,tt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!tt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$2(231,$,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,et,tt,rt,nt,it,at,st){var ot=Array.prototype.slice.call(arguments,3);try{$.apply(et,ot)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,et,tt,rt,nt,it,at,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,et,tt,rt,nt,it,at,st){if(Tb.apply(this,arguments),Ob){if(Ob){var ot=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ot)}}function Vb(_e){var $=_e,et=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(et=$.return),_e=$.return;while(_e)}return $.tag===3?et:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$2(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$2(188));return $!==_e?null:_e}for(var et=_e,tt=$;;){var rt=et.return;if(rt===null)break;var nt=rt.alternate;if(nt===null){if(tt=rt.return,tt!==null){et=tt;continue}break}if(rt.child===nt.child){for(nt=rt.child;nt;){if(nt===et)return Xb(rt),_e;if(nt===tt)return Xb(rt),$;nt=nt.sibling}throw Error(p$2(188))}if(et.return!==tt.return)et=rt,tt=nt;else{for(var it=!1,at=rt.child;at;){if(at===et){it=!0,et=rt,tt=nt;break}if(at===tt){it=!0,tt=rt,et=nt;break}at=at.sibling}if(!it){for(at=nt.child;at;){if(at===et){it=!0,et=nt,tt=rt;break}if(at===tt){it=!0,tt=nt,et=rt;break}at=at.sibling}if(!it)throw Error(p$2(189))}}if(et.alternate!==tt)throw Error(p$2(190))}if(et.tag!==3)throw Error(p$2(188));return et.stateNode.current===et?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var et=_e.pendingLanes;if(et===0)return 0;var tt=0,rt=_e.suspendedLanes,nt=_e.pingedLanes,it=et&268435455;if(it!==0){var at=it&~rt;at!==0?tt=tc(at):(nt&=it,nt!==0&&(tt=tc(nt)))}else it=et&~rt,it!==0?tt=tc(it):nt!==0&&(tt=tc(nt));if(tt===0)return 0;if($!==0&&$!==tt&&!($&rt)&&(rt=tt&-tt,nt=$&-$,rt>=nt||rt===16&&(nt&4194240)!==0))return $;if(tt&4&&(tt|=et&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=tt;0<$;)et=31-oc($),rt=1<<et,tt|=_e[et],$&=~rt;return tt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var et=_e.suspendedLanes,tt=_e.pingedLanes,rt=_e.expirationTimes,nt=_e.pendingLanes;0<nt;){var it=31-oc(nt),at=1<<it,st=rt[it];st===-1?(!(at&et)||at&tt)&&(rt[it]=vc(at,$)):st<=$&&(_e.expiredLanes|=at),nt&=~at}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],et=0;31>et;et++)$.push(_e);return $}function Ac(_e,$,et){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=et}function Bc(_e,$){var et=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var tt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var rt=31-oc(et),nt=1<<rt;$[rt]=0,tt[rt]=-1,_e[rt]=-1,et&=~nt}}function Cc(_e,$){var et=_e.entangledLanes|=$;for(_e=_e.entanglements;et;){var tt=31-oc(et),rt=1<<tt;rt&$|_e[tt]&$&&(_e[tt]|=$),et&=~rt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,et,tt,rt,nt){return _e===null||_e.nativeEvent!==nt?(_e={blockedOn:$,domEventName:et,eventSystemFlags:tt,nativeEvent:nt,targetContainers:[rt]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=tt,$=_e.targetContainers,rt!==null&&$.indexOf(rt)===-1&&$.push(rt),_e)}function Uc(_e,$,et,tt,rt){switch($){case"focusin":return Lc=Tc(Lc,_e,$,et,tt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,$,et,tt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,$,et,tt,rt),!0;case"pointerover":var nt=rt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,_e,$,et,tt,rt)),!0;case"gotpointercapture":return nt=rt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,_e,$,et,tt,rt)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var et=Vb($);if(et!==null){if($=et.tag,$===13){if($=Wb(et),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(et)});return}}else if($===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return $=Cb(et),$!==null&&Fc($),_e.blockedOn=et,!1;$.shift()}return!0}function Zc(_e,$,et){Xc(_e)&&et.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===_e&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===_e&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,et,tt){var rt=C$1,nt=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,et,tt)}finally{C$1=rt,cd.transition=nt}}function gd(_e,$,et,tt){var rt=C$1,nt=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,et,tt)}finally{C$1=rt,cd.transition=nt}}function fd(_e,$,et,tt){if(dd){var rt=Yc(_e,$,et,tt);if(rt===null)hd(_e,$,tt,id,et),Sc(_e,tt);else if(Uc(rt,_e,$,et,tt))tt.stopPropagation();else if(Sc(_e,tt),$&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var nt=Cb(rt);if(nt!==null&&Ec(nt),nt=Yc(_e,$,et,tt),nt===null&&hd(_e,$,tt,id,et),nt===rt)break;rt=nt}rt!==null&&tt.stopPropagation()}else hd(_e,$,tt,null,et)}}var id=null;function Yc(_e,$,et,tt){if(id=null,_e=xb(tt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(et=$.tag,et===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(et===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,et=$.length,tt,rt="value"in kd?kd.value:kd.textContent,nt=rt.length;for(_e=0;_e<et&&$[_e]===rt[_e];_e++);var it=et-_e;for(tt=1;tt<=it&&$[et-tt]===rt[nt-tt];tt++);return md=rt.slice(_e,1<tt?1-tt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(et,tt,rt,nt,it){this._reactName=et,this._targetInst=rt,this.type=tt,this.nativeEvent=nt,this.target=it,this.currentTarget=null;for(var at in _e)_e.hasOwnProperty(at)&&(et=_e[at],this[at]=et?et(nt):nt[at]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe$1=!1;function ge$1(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je(_e,$){switch(_e){case"compositionend":return he$1($);case"keypress":return $.which!==32?null:(fe$1=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe$1?null:_e;default:return null}}function ke(_e,$){if(ie$1)return _e==="compositionend"||!ae&&ge$1(_e,$)?(_e=nd(),md=ld=kd=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le$1[_e.type]:$==="textarea"}function ne(_e,$,et,tt){Eb(tt),$=oe$1($,"onChange"),0<$.length&&(et=new td("onChange","change",null,et,tt),_e.push({event:et,listeners:$}))}var pe$1=null,qe=null;function re$2(_e){se(_e,0)}function te$1(_e){var $=ue$1(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe)){var $=[];ne($,qe,_e,xb(_e)),Jb(re$2,$)}}function Ce(_e,$,et){_e==="focusin"?(Ae(),pe$1=$,qe=et,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De$1(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe)}function Ee$1(_e,$){if(_e==="click")return te$1($)}function Fe(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var et=Object.keys(_e),tt=Object.keys($);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var rt=et[tt];if(!ja.call($,rt)||!He(_e[rt],$[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var et=Je(_e);_e=0;for(var tt;et;){if(et.nodeType===3){if(tt=_e+et.textContent.length,_e<=$&&tt>=$)return{node:et,offset:$-_e};_e=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var et=typeof $.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),et=_e.focusedElem,tt=_e.selectionRange;if($!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if($=tt.start,_e=tt.end,_e===void 0&&(_e=$),"selectionStart"in et)et.selectionStart=$,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=($=et.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=et.textContent.length,nt=Math.min(tt.start,rt);tt=tt.end===void 0?nt:Math.min(tt.end,rt),!_e.extend&&nt>tt&&(rt=tt,tt=nt,nt=rt),rt=Ke(et,nt);var it=Ke(et,tt);rt&&it&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==it.node||_e.focusOffset!==it.offset)&&($=$.createRange(),$.setStart(rt.node,rt.offset),_e.removeAllRanges(),nt>tt?(_e.addRange($),_e.extend(it.node,it.offset)):($.setEnd(it.node,it.offset),_e.addRange($)))}}for($=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<$.length;et++)_e=$[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(_e,$,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te$1||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se$1&&Ie(Se$1,tt)||(Se$1=tt,tt=oe$1(Re$1,"onSelect"),0<tt.length&&($=new td("onSelect","select",null,$,et),_e.push({event:$,listeners:tt}),$.target=Qe)))}function Ve(_e,$){var et={};return et[_e.toLowerCase()]=$.toLowerCase(),et["Webkit"+_e]="webkit"+$,et["Moz"+_e]="moz"+$,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var $=We[_e],et;for(et in $)if($.hasOwnProperty(et)&&et in Ye)return Xe[_e]=$[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,et){var tt=_e.type||"unknown-event";_e.currentTarget=et,Ub(tt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var et=0;et<_e.length;et++){var tt=_e[et],rt=tt.event;tt=tt.listeners;e:{var nt=void 0;if($)for(var it=tt.length-1;0<=it;it--){var at=tt[it],st=at.instance,ot=at.currentTarget;if(at=at.listener,st!==nt&&rt.isPropagationStopped())break e;nf(rt,at,ot),nt=st}else for(it=0;it<tt.length;it++){if(at=tt[it],st=at.instance,ot=at.currentTarget,at=at.listener,st!==nt&&rt.isPropagationStopped())break e;nf(rt,at,ot),nt=st}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,$){var et=$[of];et===void 0&&(et=$[of]=new Set);var tt=_e+"__bubble";et.has(tt)||(pf($,_e,2,!1),et.add(tt))}function qf(_e,$,et){var tt=0;$&&(tt|=4),pf(et,_e,tt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,et,tt){switch(jd($)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}et=rt.bind(null,$,et,_e),rt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(rt=!0),tt?rt!==void 0?_e.addEventListener($,et,{capture:!0,passive:rt}):_e.addEventListener($,et,!0):rt!==void 0?_e.addEventListener($,et,{passive:rt}):_e.addEventListener($,et,!1)}function hd(_e,$,et,tt,rt){var nt=tt;if(!($&1)&&!($&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var at=tt.stateNode.containerInfo;if(at===rt||at.nodeType===8&&at.parentNode===rt)break;if(it===4)for(it=tt.return;it!==null;){var st=it.tag;if((st===3||st===4)&&(st=it.stateNode.containerInfo,st===rt||st.nodeType===8&&st.parentNode===rt))return;it=it.return}for(;at!==null;){if(it=Wc(at),it===null)return;if(st=it.tag,st===5||st===6){tt=nt=it;continue e}at=at.parentNode}}tt=tt.return}Jb(function(){var ot=nt,lt=xb(et),ct=[];e:{var ut=df.get(_e);if(ut!==void 0){var dt=td,ht=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":ht="focus",dt=Fd;break;case"focusout":ht="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var mt=($&4)!==0,pt=!mt&&_e==="scroll",ft=mt?ut!==null?ut+"Capture":null:ut;mt=[];for(var gt=ot,bt;gt!==null;){bt=gt;var _t=bt.stateNode;if(bt.tag===5&&_t!==null&&(bt=_t,ft!==null&&(_t=Kb(gt,ft),_t!=null&&mt.push(tf(gt,_t,bt)))),pt)break;gt=gt.return}0<mt.length&&(ut=new dt(ut,ht,null,et,lt),ct.push({event:ut,listeners:mt}))}}if(!($&7)){e:{if(ut=_e==="mouseover"||_e==="pointerover",dt=_e==="mouseout"||_e==="pointerout",ut&&et!==wb&&(ht=et.relatedTarget||et.fromElement)&&(Wc(ht)||ht[uf]))break e;if((dt||ut)&&(ut=lt.window===lt?lt:(ut=lt.ownerDocument)?ut.defaultView||ut.parentWindow:window,dt?(ht=et.relatedTarget||et.toElement,dt=ot,ht=ht?Wc(ht):null,ht!==null&&(pt=Vb(ht),ht!==pt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(dt=null,ht=ot),dt!==ht)){if(mt=Bd,_t="onMouseLeave",ft="onMouseEnter",gt="mouse",(_e==="pointerout"||_e==="pointerover")&&(mt=Td,_t="onPointerLeave",ft="onPointerEnter",gt="pointer"),pt=dt==null?ut:ue$1(dt),bt=ht==null?ut:ue$1(ht),ut=new mt(_t,gt+"leave",dt,et,lt),ut.target=pt,ut.relatedTarget=bt,_t=null,Wc(lt)===ot&&(mt=new mt(ft,gt+"enter",ht,et,lt),mt.target=bt,mt.relatedTarget=pt,_t=mt),pt=_t,dt&&ht)t:{for(mt=dt,ft=ht,gt=0,bt=mt;bt;bt=vf(bt))gt++;for(bt=0,_t=ft;_t;_t=vf(_t))bt++;for(;0<gt-bt;)mt=vf(mt),gt--;for(;0<bt-gt;)ft=vf(ft),bt--;for(;gt--;){if(mt===ft||ft!==null&&mt===ft.alternate)break t;mt=vf(mt),ft=vf(ft)}mt=null}else mt=null;dt!==null&&wf(ct,ut,dt,mt,!1),ht!==null&&pt!==null&&wf(ct,pt,ht,mt,!0)}}e:{if(ut=ot?ue$1(ot):window,dt=ut.nodeName&&ut.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ut.type==="file")var yt=ve$1;else if(me$1(ut))if(we)yt=Fe;else{yt=De$1;var vt=Ce}else(dt=ut.nodeName)&&dt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(yt=Ee$1);if(yt&&(yt=yt(_e,ot))){ne(ct,yt,et,lt);break e}vt&&vt(_e,ut,ot),_e==="focusout"&&(vt=ut._wrapperState)&&vt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(vt=ot?ue$1(ot):window,_e){case"focusin":(me$1(vt)||vt.contentEditable==="true")&&(Qe=vt,Re$1=ot,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ct,et,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ct,et,lt)}var xt;if(ae)e:{switch(_e){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie$1?ge$1(_e,et)&&(wt="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(wt="onCompositionStart");wt&&(de&&et.locale!=="ko"&&(ie$1||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie$1&&(xt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),vt=oe$1(ot,wt),0<vt.length&&(wt=new Ld(wt,_e,null,et,lt),ct.push({event:wt,listeners:vt}),xt?wt.data=xt:(xt=he$1(et),xt!==null&&(wt.data=xt)))),(xt=ce$1?je(_e,et):ke(_e,et))&&(ot=oe$1(ot,"onBeforeInput"),0<ot.length&&(lt=new Ld("onBeforeInput","beforeinput",null,et,lt),ct.push({event:lt,listeners:ot}),lt.data=xt))}se(ct,$)})}function tf(_e,$,et){return{instance:_e,listener:$,currentTarget:et}}function oe$1(_e,$){for(var et=$+"Capture",tt=[];_e!==null;){var rt=_e,nt=rt.stateNode;rt.tag===5&&nt!==null&&(rt=nt,nt=Kb(_e,et),nt!=null&&tt.unshift(tf(_e,nt,rt)),nt=Kb(_e,$),nt!=null&&tt.push(tf(_e,nt,rt))),_e=_e.return}return tt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,et,tt,rt){for(var nt=$._reactName,it=[];et!==null&&et!==tt;){var at=et,st=at.alternate,ot=at.stateNode;if(st!==null&&st===tt)break;at.tag===5&&ot!==null&&(at=ot,rt?(st=Kb(et,nt),st!=null&&it.unshift(tf(et,st,at))):rt||(st=Kb(et,nt),st!=null&&it.push(tf(et,st,at)))),et=et.return}it.length!==0&&_e.push({event:$,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,et){if($=zf($),zf(_e)!==$&&et)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var et=$,tt=0;do{var rt=et.nextSibling;if(_e.removeChild(et),rt&&rt.nodeType===8)if(et=rt.data,et==="/$"){if(tt===0){_e.removeChild(rt),bd($);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=rt}while(et);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if($===0)return _e;$--}else et==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var et=_e.parentNode;et;){if($=et[uf]||et[Of]){if(et=$.alternate,$.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return $}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$2(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var et=_e.type.contextTypes;if(!et)return Vf;var tt=_e.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===$)return tt.__reactInternalMemoizedMaskedChildContext;var rt={},nt;for(nt in et)rt[nt]=$[nt];return tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E(Wf),E(H)}function ag(_e,$,et){if(H.current!==Vf)throw Error(p$2(168));G$1(H,$),G$1(Wf,et)}function bg(_e,$,et){var tt=_e.stateNode;if($=$.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var rt in tt)if(!(rt in $))throw Error(p$2(108,Ra(_e)||"Unknown",rt));return A$1({},et,tt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G$1(H,_e),G$1(Wf,Wf.current),!0}function dg(_e,$,et){var tt=_e.stateNode;if(!tt)throw Error(p$2(169));et?(_e=bg(_e,$,Xf),tt.__reactInternalMemoizedMergedChildContext=_e,E(Wf),E(H),G$1(H,_e)):E(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var et=eg;for(C$1=1;_e<et.length;_e++){var tt=et[_e];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var tt=rg;_e=sg;var rt=32-oc(tt)-1;tt&=~(1<<rt),et+=1;var nt=32-oc($)+rt;if(30<nt){var it=rt-rt%5;nt=(tt&(1<<it)-1).toString(32),tt>>=it,rt-=it,rg=1<<32-oc($)+rt|et<<rt|tt,sg=nt+_e}else rg=1<<nt|et<<rt|tt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(_e,$){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=$,et.return=_e,$=_e.deletions,$===null?(_e.deletions=[et],_e.flags|=16):$.push(et)}function Cg(_e,$){switch(_e.tag){case 5:var et=_e.type;return $=$.nodeType!==1||et.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=$,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I){var $=yg;if($){var et=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$2(418));$=Lf(et.nextSibling);var tt=xg;$&&Cg(_e,$)?Ag(tt,et):(_e.flags=_e.flags&-4097|2,I=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$2(418));_e.flags=_e.flags&-4097|2,I=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I)return Fg(_e),I=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$2(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$2(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else et!=="$"&&et!=="$!"&&et!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$2(309));var tt=et.stateNode}if(!tt)throw Error(p$2(147,_e));var rt=tt,nt=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===nt?$.ref:($=function(it){var at=rt.refs;it===null?delete at[nt]:at[nt]=it},$._stringRef=nt,$)}if(typeof _e!="string")throw Error(p$2(284));if(!et._owner)throw Error(p$2(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$2(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(ft,gt){if(_e){var bt=ft.deletions;bt===null?(ft.deletions=[gt],ft.flags|=16):bt.push(gt)}}function et(ft,gt){if(!_e)return null;for(;gt!==null;)$(ft,gt),gt=gt.sibling;return null}function tt(ft,gt){for(ft=new Map;gt!==null;)gt.key!==null?ft.set(gt.key,gt):ft.set(gt.index,gt),gt=gt.sibling;return ft}function rt(ft,gt){return ft=Pg(ft,gt),ft.index=0,ft.sibling=null,ft}function nt(ft,gt,bt){return ft.index=bt,_e?(bt=ft.alternate,bt!==null?(bt=bt.index,bt<gt?(ft.flags|=2,gt):bt):(ft.flags|=2,gt)):(ft.flags|=1048576,gt)}function it(ft){return _e&&ft.alternate===null&&(ft.flags|=2),ft}function at(ft,gt,bt,_t){return gt===null||gt.tag!==6?(gt=Qg(bt,ft.mode,_t),gt.return=ft,gt):(gt=rt(gt,bt),gt.return=ft,gt)}function st(ft,gt,bt,_t){var yt=bt.type;return yt===ya?lt(ft,gt,bt.props.children,_t,bt.key):gt!==null&&(gt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&Ng(yt)===gt.type)?(_t=rt(gt,bt.props),_t.ref=Lg(ft,gt,bt),_t.return=ft,_t):(_t=Rg(bt.type,bt.key,bt.props,null,ft.mode,_t),_t.ref=Lg(ft,gt,bt),_t.return=ft,_t)}function ot(ft,gt,bt,_t){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==bt.containerInfo||gt.stateNode.implementation!==bt.implementation?(gt=Sg(bt,ft.mode,_t),gt.return=ft,gt):(gt=rt(gt,bt.children||[]),gt.return=ft,gt)}function lt(ft,gt,bt,_t,yt){return gt===null||gt.tag!==7?(gt=Tg(bt,ft.mode,_t,yt),gt.return=ft,gt):(gt=rt(gt,bt),gt.return=ft,gt)}function ct(ft,gt,bt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=Qg(""+gt,ft.mode,bt),gt.return=ft,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return bt=Rg(gt.type,gt.key,gt.props,null,ft.mode,bt),bt.ref=Lg(ft,null,gt),bt.return=ft,bt;case wa:return gt=Sg(gt,ft.mode,bt),gt.return=ft,gt;case Ha:var _t=gt._init;return ct(ft,_t(gt._payload),bt)}if(eb(gt)||Ka(gt))return gt=Tg(gt,ft.mode,bt,null),gt.return=ft,gt;Mg(ft,gt)}return null}function ut(ft,gt,bt,_t){var yt=gt!==null?gt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return yt!==null?null:at(ft,gt,""+bt,_t);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return bt.key===yt?st(ft,gt,bt,_t):null;case wa:return bt.key===yt?ot(ft,gt,bt,_t):null;case Ha:return yt=bt._init,ut(ft,gt,yt(bt._payload),_t)}if(eb(bt)||Ka(bt))return yt!==null?null:lt(ft,gt,bt,_t,null);Mg(ft,bt)}return null}function dt(ft,gt,bt,_t,yt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return ft=ft.get(bt)||null,at(gt,ft,""+_t,yt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return ft=ft.get(_t.key===null?bt:_t.key)||null,st(gt,ft,_t,yt);case wa:return ft=ft.get(_t.key===null?bt:_t.key)||null,ot(gt,ft,_t,yt);case Ha:var vt=_t._init;return dt(ft,gt,bt,vt(_t._payload),yt)}if(eb(_t)||Ka(_t))return ft=ft.get(bt)||null,lt(gt,ft,_t,yt,null);Mg(gt,_t)}return null}function ht(ft,gt,bt,_t){for(var yt=null,vt=null,xt=gt,wt=gt=0,St=null;xt!==null&&wt<bt.length;wt++){xt.index>wt?(St=xt,xt=null):St=xt.sibling;var Ot=ut(ft,xt,bt[wt],_t);if(Ot===null){xt===null&&(xt=St);break}_e&&xt&&Ot.alternate===null&&$(ft,xt),gt=nt(Ot,gt,wt),vt===null?yt=Ot:vt.sibling=Ot,vt=Ot,xt=St}if(wt===bt.length)return et(ft,xt),I&&tg(ft,wt),yt;if(xt===null){for(;wt<bt.length;wt++)xt=ct(ft,bt[wt],_t),xt!==null&&(gt=nt(xt,gt,wt),vt===null?yt=xt:vt.sibling=xt,vt=xt);return I&&tg(ft,wt),yt}for(xt=tt(ft,xt);wt<bt.length;wt++)St=dt(xt,ft,wt,bt[wt],_t),St!==null&&(_e&&St.alternate!==null&&xt.delete(St.key===null?wt:St.key),gt=nt(St,gt,wt),vt===null?yt=St:vt.sibling=St,vt=St);return _e&&xt.forEach(function(Et){return $(ft,Et)}),I&&tg(ft,wt),yt}function mt(ft,gt,bt,_t){var yt=Ka(bt);if(typeof yt!="function")throw Error(p$2(150));if(bt=yt.call(bt),bt==null)throw Error(p$2(151));for(var vt=yt=null,xt=gt,wt=gt=0,St=null,Ot=bt.next();xt!==null&&!Ot.done;wt++,Ot=bt.next()){xt.index>wt?(St=xt,xt=null):St=xt.sibling;var Et=ut(ft,xt,Ot.value,_t);if(Et===null){xt===null&&(xt=St);break}_e&&xt&&Et.alternate===null&&$(ft,xt),gt=nt(Et,gt,wt),vt===null?yt=Et:vt.sibling=Et,vt=Et,xt=St}if(Ot.done)return et(ft,xt),I&&tg(ft,wt),yt;if(xt===null){for(;!Ot.done;wt++,Ot=bt.next())Ot=ct(ft,Ot.value,_t),Ot!==null&&(gt=nt(Ot,gt,wt),vt===null?yt=Ot:vt.sibling=Ot,vt=Ot);return I&&tg(ft,wt),yt}for(xt=tt(ft,xt);!Ot.done;wt++,Ot=bt.next())Ot=dt(xt,ft,wt,Ot.value,_t),Ot!==null&&(_e&&Ot.alternate!==null&&xt.delete(Ot.key===null?wt:Ot.key),gt=nt(Ot,gt,wt),vt===null?yt=Ot:vt.sibling=Ot,vt=Ot);return _e&&xt.forEach(function(Tt){return $(ft,Tt)}),I&&tg(ft,wt),yt}function pt(ft,gt,bt,_t){if(typeof bt=="object"&&bt!==null&&bt.type===ya&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:e:{for(var yt=bt.key,vt=gt;vt!==null;){if(vt.key===yt){if(yt=bt.type,yt===ya){if(vt.tag===7){et(ft,vt.sibling),gt=rt(vt,bt.props.children),gt.return=ft,ft=gt;break e}}else if(vt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&Ng(yt)===vt.type){et(ft,vt.sibling),gt=rt(vt,bt.props),gt.ref=Lg(ft,vt,bt),gt.return=ft,ft=gt;break e}et(ft,vt);break}else $(ft,vt);vt=vt.sibling}bt.type===ya?(gt=Tg(bt.props.children,ft.mode,_t,bt.key),gt.return=ft,ft=gt):(_t=Rg(bt.type,bt.key,bt.props,null,ft.mode,_t),_t.ref=Lg(ft,gt,bt),_t.return=ft,ft=_t)}return it(ft);case wa:e:{for(vt=bt.key;gt!==null;){if(gt.key===vt)if(gt.tag===4&&gt.stateNode.containerInfo===bt.containerInfo&&gt.stateNode.implementation===bt.implementation){et(ft,gt.sibling),gt=rt(gt,bt.children||[]),gt.return=ft,ft=gt;break e}else{et(ft,gt);break}else $(ft,gt);gt=gt.sibling}gt=Sg(bt,ft.mode,_t),gt.return=ft,ft=gt}return it(ft);case Ha:return vt=bt._init,pt(ft,gt,vt(bt._payload),_t)}if(eb(bt))return ht(ft,gt,bt,_t);if(Ka(bt))return mt(ft,gt,bt,_t);Mg(ft,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,gt!==null&&gt.tag===6?(et(ft,gt.sibling),gt=rt(gt,bt),gt.return=ft,ft=gt):(et(ft,gt),gt=Qg(bt,ft.mode,_t),gt.return=ft,ft=gt),it(ft)):et(ft,gt)}return pt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E(Wg),_e._currentValue=$}function bh(_e,$,et){for(;_e!==null;){var tt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,tt!==null&&(tt.childLanes|=$)):tt!==null&&(tt.childLanes&$)!==$&&(tt.childLanes|=$),_e===et)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,et,tt){var rt=$.interleaved;return rt===null?(et.next=et,gh($)):(et.next=rt.next,rt.next=et),$.interleaved=et,ih(_e,tt)}function ih(_e,$){_e.lanes|=$;var et=_e.alternate;for(et!==null&&(et.lanes|=$),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,et=_e.alternate,et!==null&&(et.childLanes|=$),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,et){var tt=_e.updateQueue;if(tt===null)return null;if(tt=tt.shared,K$1&2){var rt=tt.pending;return rt===null?$.next=$:($.next=rt.next,rt.next=$),tt.pending=$,ih(_e,et)}return rt=tt.interleaved,rt===null?($.next=$,gh(tt)):($.next=rt.next,rt.next=$),tt.interleaved=$,ih(_e,et)}function oh(_e,$,et){if($=$.updateQueue,$!==null&&($=$.shared,(et&4194240)!==0)){var tt=$.lanes;tt&=_e.pendingLanes,et|=tt,$.lanes=et,Cc(_e,et)}}function ph(_e,$){var et=_e.updateQueue,tt=_e.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var rt=null,nt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};nt===null?rt=nt=it:nt=nt.next=it,et=et.next}while(et!==null);nt===null?rt=nt=$:nt=nt.next=$}else rt=nt=$;et={baseState:tt.baseState,firstBaseUpdate:rt,lastBaseUpdate:nt,shared:tt.shared,effects:tt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=$:_e.next=$,et.lastBaseUpdate=$}function qh(_e,$,et,tt){var rt=_e.updateQueue;jh=!1;var nt=rt.firstBaseUpdate,it=rt.lastBaseUpdate,at=rt.shared.pending;if(at!==null){rt.shared.pending=null;var st=at,ot=st.next;st.next=null,it===null?nt=ot:it.next=ot,it=st;var lt=_e.alternate;lt!==null&&(lt=lt.updateQueue,at=lt.lastBaseUpdate,at!==it&&(at===null?lt.firstBaseUpdate=ot:at.next=ot,lt.lastBaseUpdate=st))}if(nt!==null){var ct=rt.baseState;it=0,lt=ot=st=null,at=nt;do{var ut=at.lane,dt=at.eventTime;if((tt&ut)===ut){lt!==null&&(lt=lt.next={eventTime:dt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var ht=_e,mt=at;switch(ut=$,dt=et,mt.tag){case 1:if(ht=mt.payload,typeof ht=="function"){ct=ht.call(dt,ct,ut);break e}ct=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=mt.payload,ut=typeof ht=="function"?ht.call(dt,ct,ut):ht,ut==null)break e;ct=A$1({},ct,ut);break e;case 2:jh=!0}}at.callback!==null&&at.lane!==0&&(_e.flags|=64,ut=rt.effects,ut===null?rt.effects=[at]:ut.push(at))}else dt={eventTime:dt,lane:ut,tag:at.tag,payload:at.payload,callback:at.callback,next:null},lt===null?(ot=lt=dt,st=ct):lt=lt.next=dt,it|=ut;if(at=at.next,at===null){if(at=rt.shared.pending,at===null)break;ut=at,at=ut.next,ut.next=null,rt.lastBaseUpdate=ut,rt.shared.pending=null}}while(!0);if(lt===null&&(st=ct),rt.baseState=st,rt.firstBaseUpdate=ot,rt.lastBaseUpdate=lt,$=rt.shared.interleaved,$!==null){rt=$;do it|=rt.lane,rt=rt.next;while(rt!==$)}else nt===null&&(rt.shared.lanes=0);rh|=it,_e.lanes=it,_e.memoizedState=ct}}function sh(_e,$,et){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var tt=_e[$],rt=tt.callback;if(rt!==null){if(tt.callback=null,tt=et,typeof rt!="function")throw Error(p$2(191,rt));rt.call(tt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$2(174));return _e}function yh(_e,$){switch(G$1(wh,$),G$1(vh,_e),G$1(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E(uh),G$1(uh,$)}function zh(){E(uh),E(vh),E(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),et=lb($,_e.type);$!==et&&(G$1(vh,_e),G$1(uh,et))}function Bh(_e){vh.current===_e&&(E(uh),E(vh))}var L=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var et=$.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$2(321))}function Mh(_e,$){if($===null)return!1;for(var et=0;et<$.length&&et<_e.length;et++)if(!He(_e[et],$[et]))return!1;return!0}function Nh(_e,$,et,tt,rt,nt){if(Hh=nt,M$1=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=et(tt,rt),Jh){nt=0;do{if(Jh=!1,Kh=0,25<=nt)throw Error(p$2(301));nt+=1,O$1=N=null,$.updateQueue=null,Fh.current=Qh,_e=et(tt,rt)}while(Jh)}if(Fh.current=Rh,$=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,$)throw Error(p$2(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=_e:O$1=O$1.next=_e,O$1}function Uh(){if(N===null){var _e=M$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N.next;var $=O$1===null?M$1.memoizedState:O$1.next;if($!==null)O$1=$,N=_e;else{if(_e===null)throw Error(p$2(310));N=_e,_e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=_e:O$1=O$1.next=_e}return O$1}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),et=$.queue;if(et===null)throw Error(p$2(311));et.lastRenderedReducer=_e;var tt=N,rt=tt.baseQueue,nt=et.pending;if(nt!==null){if(rt!==null){var it=rt.next;rt.next=nt.next,nt.next=it}tt.baseQueue=rt=nt,et.pending=null}if(rt!==null){nt=rt.next,tt=tt.baseState;var at=it=null,st=null,ot=nt;do{var lt=ot.lane;if((Hh&lt)===lt)st!==null&&(st=st.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),tt=ot.hasEagerState?ot.eagerState:_e(tt,ot.action);else{var ct={lane:lt,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};st===null?(at=st=ct,it=tt):st=st.next=ct,M$1.lanes|=lt,rh|=lt}ot=ot.next}while(ot!==null&&ot!==nt);st===null?it=tt:st.next=at,He(tt,$.memoizedState)||(dh=!0),$.memoizedState=tt,$.baseState=it,$.baseQueue=st,et.lastRenderedState=tt}if(_e=et.interleaved,_e!==null){rt=_e;do nt=rt.lane,M$1.lanes|=nt,rh|=nt,rt=rt.next;while(rt!==_e)}else rt===null&&(et.lanes=0);return[$.memoizedState,et.dispatch]}function Xh(_e){var $=Uh(),et=$.queue;if(et===null)throw Error(p$2(311));et.lastRenderedReducer=_e;var tt=et.dispatch,rt=et.pending,nt=$.memoizedState;if(rt!==null){et.pending=null;var it=rt=rt.next;do nt=_e(nt,it.action),it=it.next;while(it!==rt);He(nt,$.memoizedState)||(dh=!0),$.memoizedState=nt,$.baseQueue===null&&($.baseState=nt),et.lastRenderedState=nt}return[nt,tt]}function Yh(){}function Zh(_e,$){var et=M$1,tt=Uh(),rt=$(),nt=!He(tt.memoizedState,rt);if(nt&&(tt.memoizedState=rt,dh=!0),tt=tt.queue,$h(ai.bind(null,et,tt,_e),[_e]),tt.getSnapshot!==$||nt||O$1!==null&&O$1.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,tt,rt,$),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(et,$,rt)}return rt}function di(_e,$,et){_e.flags|=16384,_e={getSnapshot:$,value:et},$=M$1.updateQueue,$===null?($={lastEffect:null,stores:null},M$1.updateQueue=$,$.stores=[_e]):(et=$.stores,et===null?$.stores=[_e]:et.push(_e))}function ci(_e,$,et,tt){$.value=et,$.getSnapshot=tt,ei($)&&fi(_e)}function ai(_e,$,et){return et(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var et=$();return!He(_e,et)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$1,_e),[$.memoizedState,_e]}function bi(_e,$,et,tt){return _e={tag:_e,create:$,destroy:et,deps:tt,next:null},$=M$1.updateQueue,$===null?($={lastEffect:null,stores:null},M$1.updateQueue=$,$.lastEffect=_e.next=_e):(et=$.lastEffect,et===null?$.lastEffect=_e.next=_e:(tt=et.next,et.next=_e,_e.next=tt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,et,tt){var rt=Th();M$1.flags|=_e,rt.memoizedState=bi(1|$,et,void 0,tt===void 0?null:tt)}function li(_e,$,et,tt){var rt=Uh();tt=tt===void 0?null:tt;var nt=void 0;if(N!==null){var it=N.memoizedState;if(nt=it.destroy,tt!==null&&Mh(tt,it.deps)){rt.memoizedState=bi($,et,nt,tt);return}}M$1.flags|=_e,rt.memoizedState=bi(1|$,et,nt,tt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi$2(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,et){return et=et!=null?et.concat([_e]):null,li(4,4,pi$2.bind(null,$,_e),et)}function ri(){}function si(_e,$){var et=Uh();$=$===void 0?null:$;var tt=et.memoizedState;return tt!==null&&$!==null&&Mh($,tt[1])?tt[0]:(et.memoizedState=[_e,$],_e)}function ti(_e,$){var et=Uh();$=$===void 0?null:$;var tt=et.memoizedState;return tt!==null&&$!==null&&Mh($,tt[1])?tt[0]:(_e=_e(),et.memoizedState=[_e,$],_e)}function ui(_e,$,et){return Hh&21?(He(et,$)||(et=yc(),M$1.lanes|=et,rh|=et,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=et)}function vi(_e,$){var et=C$1;C$1=et!==0&&4>et?et:4,_e(!0);var tt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=et,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi(_e,$,et){var tt=yi(_e);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,et);else if(et=hh(_e,$,et,tt),et!==null){var rt=R();gi(et,_e,tt,rt),Bi(et,$,tt)}}function ii(_e,$,et){var tt=yi(_e),rt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,rt);else{var nt=_e.alternate;if(_e.lanes===0&&(nt===null||nt.lanes===0)&&(nt=$.lastRenderedReducer,nt!==null))try{var it=$.lastRenderedState,at=nt(it,et);if(rt.hasEagerState=!0,rt.eagerState=at,He(at,it)){var st=$.interleaved;st===null?(rt.next=rt,gh($)):(rt.next=st.next,st.next=rt),$.interleaved=rt;return}}catch{}finally{}et=hh(_e,$,rt,tt),et!==null&&(rt=R(),gi(et,_e,tt,rt),Bi(et,$,tt))}}function zi(_e){var $=_e.alternate;return _e===M$1||$!==null&&$===M$1}function Ai(_e,$){Jh=Ih=!0;var et=_e.pending;et===null?$.next=$:($.next=et.next,et.next=$),_e.pending=$}function Bi(_e,$,et){if(et&4194240){var tt=$.lanes;tt&=_e.pendingLanes,et|=tt,$.lanes=et,Cc(_e,et)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,et){return et=et!=null?et.concat([_e]):null,ki(4194308,4,pi$2.bind(null,$,_e),et)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var et=Th();return $=$===void 0?null:$,_e=_e(),et.memoizedState=[_e,$],_e},useReducer:function(_e,$,et){var tt=Th();return $=et!==void 0?et($):$,tt.memoizedState=tt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},tt.queue=_e,_e=_e.dispatch=xi.bind(null,M$1,_e),[tt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,et){var tt=M$1,rt=Th();if(I){if(et===void 0)throw Error(p$2(407));et=et()}else{if(et=$(),Q$1===null)throw Error(p$2(349));Hh&30||di(tt,$,et)}rt.memoizedState=et;var nt={value:et,getSnapshot:$};return rt.queue=nt,mi(ai.bind(null,tt,nt,_e),[_e]),tt.flags|=2048,bi(9,ci.bind(null,tt,nt,et,$),void 0,null),et},useId:function(){var _e=Th(),$=Q$1.identifierPrefix;if(I){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,$=":"+$+"R"+et,et=Kh++,0<et&&($+="H"+et.toString(32)),$+=":"}else et=Lh++,$=":"+$+"r"+et.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N===null?$.memoizedState=_e:ui($,N.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$1({},$),_e=_e.defaultProps;for(var et in _e)$[et]===void 0&&($[et]=_e[et]);return $}return $}function Di(_e,$,et,tt){$=_e.memoizedState,et=et(tt,$),et=et==null?$:A$1({},$,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,et){_e=_e._reactInternals;var tt=R(),rt=yi(_e),nt=mh(tt,rt);nt.payload=$,et!=null&&(nt.callback=et),$=nh(_e,nt,rt),$!==null&&(gi($,_e,rt,tt),oh($,_e,rt))},enqueueReplaceState:function(_e,$,et){_e=_e._reactInternals;var tt=R(),rt=yi(_e),nt=mh(tt,rt);nt.tag=1,nt.payload=$,et!=null&&(nt.callback=et),$=nh(_e,nt,rt),$!==null&&(gi($,_e,rt,tt),oh($,_e,rt))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var et=R(),tt=yi(_e),rt=mh(et,tt);rt.tag=2,$!=null&&(rt.callback=$),$=nh(_e,rt,tt),$!==null&&(gi($,_e,tt,et),oh($,_e,tt))}};function Fi(_e,$,et,tt,rt,nt,it){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(tt,nt,it):$.prototype&&$.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(rt,nt):!0}function Gi(_e,$,et){var tt=!1,rt=Vf,nt=$.contextType;return typeof nt=="object"&&nt!==null?nt=eh(nt):(rt=Zf($)?Xf:H.current,tt=$.contextTypes,nt=(tt=tt!=null)?Yf(_e,rt):Vf),$=new $(et,nt),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=nt),$}function Hi(_e,$,et,tt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(et,tt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(et,tt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,et,tt){var rt=_e.stateNode;rt.props=et,rt.state=_e.memoizedState,rt.refs={},kh(_e);var nt=$.contextType;typeof nt=="object"&&nt!==null?rt.context=eh(nt):(nt=Zf($)?Xf:H.current,rt.context=Yf(_e,nt)),rt.state=_e.memoizedState,nt=$.getDerivedStateFromProps,typeof nt=="function"&&(Di(_e,$,nt,et),rt.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||($=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),$!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(_e,et,rt,tt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var et="",tt=$;do et+=Pa(tt),tt=tt.return;while(tt);var rt=et}catch(nt){rt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:_e,source:$,stack:rt,digest:null}}function Ki(_e,$,et){return{value:_e,source:null,stack:et??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(et){setTimeout(function(){throw et})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var tt=$.value;return et.callback=function(){Oi||(Oi=!0,Pi=tt),Li(_e,$)},et}function Qi(_e,$,et){et=mh(-1,et),et.tag=3;var tt=_e.type.getDerivedStateFromError;if(typeof tt=="function"){var rt=$.value;et.payload=function(){return tt(rt)},et.callback=function(){Li(_e,$)}}var nt=_e.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(et.callback=function(){Li(_e,$),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var it=$.stack;this.componentDidCatch($.value,{componentStack:it!==null?it:""})}),et}function Si(_e,$,et){var tt=_e.pingCache;if(tt===null){tt=_e.pingCache=new Mi;var rt=new Set;tt.set($,rt)}else rt=tt.get($),rt===void 0&&(rt=new Set,tt.set($,rt));rt.has(et)||(rt.add(et),_e=Ti.bind(null,_e,$,et),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,et,tt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:($=mh(-1,1),$.tag=2,nh(et,$,1))),et.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,et,tt){$.child=_e===null?Vg($,null,et,tt):Ug($,_e.child,et,tt)}function Yi(_e,$,et,tt,rt){et=et.render;var nt=$.ref;return ch($,rt),tt=Nh(_e,$,et,tt,nt,rt),et=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~rt,Zi(_e,$,rt)):(I&&et&&vg($),$.flags|=1,Xi(_e,$,tt,rt),$.child)}function $i(_e,$,et,tt,rt){if(_e===null){var nt=et.type;return typeof nt=="function"&&!aj(nt)&&nt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?($.tag=15,$.type=nt,bj(_e,$,nt,tt,rt)):(_e=Rg(et.type,null,tt,$,$.mode,rt),_e.ref=$.ref,_e.return=$,$.child=_e)}if(nt=_e.child,!(_e.lanes&rt)){var it=nt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&_e.ref===$.ref)return Zi(_e,$,rt)}return $.flags|=1,_e=Pg(nt,tt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,et,tt,rt){if(_e!==null){var nt=_e.memoizedProps;if(Ie(nt,tt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=tt=nt,(_e.lanes&rt)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,rt)}return cj(_e,$,et,tt,rt)}function dj(_e,$,et){var tt=$.pendingProps,rt=tt.children,nt=_e!==null?_e.memoizedState:null;if(tt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=et;else{if(!(et&1073741824))return _e=nt!==null?nt.baseLanes|et:et,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$1(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=nt!==null?nt.baseLanes:et,G$1(ej,fj),fj|=tt}else nt!==null?(tt=nt.baseLanes|et,$.memoizedState=null):tt=et,G$1(ej,fj),fj|=tt;return Xi(_e,$,rt,et),$.child}function gj(_e,$){var et=$.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,et,tt,rt){var nt=Zf(et)?Xf:H.current;return nt=Yf($,nt),ch($,rt),et=Nh(_e,$,et,tt,nt,rt),tt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~rt,Zi(_e,$,rt)):(I&&tt&&vg($),$.flags|=1,Xi(_e,$,et,rt),$.child)}function hj(_e,$,et,tt,rt){if(Zf(et)){var nt=!0;cg($)}else nt=!1;if(ch($,rt),$.stateNode===null)ij(_e,$),Gi($,et,tt),Ii($,et,tt,rt),tt=!0;else if(_e===null){var it=$.stateNode,at=$.memoizedProps;it.props=at;var st=it.context,ot=et.contextType;typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf(et)?Xf:H.current,ot=Yf($,ot));var lt=et.getDerivedStateFromProps,ct=typeof lt=="function"||typeof it.getSnapshotBeforeUpdate=="function";ct||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(at!==tt||st!==ot)&&Hi($,it,tt,ot),jh=!1;var ut=$.memoizedState;it.state=ut,qh($,tt,it,rt),st=$.memoizedState,at!==tt||ut!==st||Wf.current||jh?(typeof lt=="function"&&(Di($,et,lt,tt),st=$.memoizedState),(at=jh||Fi($,et,at,tt,ut,st,ot))?(ct||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&($.flags|=4194308)):(typeof it.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=tt,$.memoizedState=st),it.props=tt,it.state=st,it.context=ot,tt=at):(typeof it.componentDidMount=="function"&&($.flags|=4194308),tt=!1)}else{it=$.stateNode,lh(_e,$),at=$.memoizedProps,ot=$.type===$.elementType?at:Ci($.type,at),it.props=ot,ct=$.pendingProps,ut=it.context,st=et.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf(et)?Xf:H.current,st=Yf($,st));var dt=et.getDerivedStateFromProps;(lt=typeof dt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(at!==ct||ut!==st)&&Hi($,it,tt,st),jh=!1,ut=$.memoizedState,it.state=ut,qh($,tt,it,rt);var ht=$.memoizedState;at!==ct||ut!==ht||Wf.current||jh?(typeof dt=="function"&&(Di($,et,dt,tt),ht=$.memoizedState),(ot=jh||Fi($,et,ot,tt,ut,ht,st)||!1)?(lt||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,ht,st),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,ht,st)),typeof it.componentDidUpdate=="function"&&($.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof it.componentDidUpdate!="function"||at===_e.memoizedProps&&ut===_e.memoizedState||($.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ut===_e.memoizedState||($.flags|=1024),$.memoizedProps=tt,$.memoizedState=ht),it.props=tt,it.state=ht,it.context=st,tt=ot):(typeof it.componentDidUpdate!="function"||at===_e.memoizedProps&&ut===_e.memoizedState||($.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ut===_e.memoizedState||($.flags|=1024),tt=!1)}return jj(_e,$,et,tt,nt,rt)}function jj(_e,$,et,tt,rt,nt){gj(_e,$);var it=($.flags&128)!==0;if(!tt&&!it)return rt&&dg($,et,!1),Zi(_e,$,nt);tt=$.stateNode,Wi.current=$;var at=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return $.flags|=1,_e!==null&&it?($.child=Ug($,_e.child,null,nt),$.child=Ug($,null,at,nt)):Xi(_e,$,at,nt),$.memoizedState=tt.state,rt&&dg($,et,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,et,tt,rt){return Ig(),Jg(rt),$.flags|=256,Xi(_e,$,et,tt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,et){var tt=$.pendingProps,rt=L.current,nt=!1,it=($.flags&128)!==0,at;if((at=it)||(at=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),at?(nt=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G$1(L,rt&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(it=tt.children,_e=tt.fallback,nt?(tt=$.mode,nt=$.child,it={mode:"hidden",children:it},!(tt&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=it):nt=pj(it,tt,0,null),_e=Tg(_e,tt,et,null),nt.return=$,_e.return=$,nt.sibling=_e,$.child=nt,$.child.memoizedState=nj(et),$.memoizedState=mj,_e):qj($,it));if(rt=_e.memoizedState,rt!==null&&(at=rt.dehydrated,at!==null))return rj(_e,$,it,tt,at,rt,et);if(nt){nt=tt.fallback,it=$.mode,rt=_e.child,at=rt.sibling;var st={mode:"hidden",children:tt.children};return!(it&1)&&$.child!==rt?(tt=$.child,tt.childLanes=0,tt.pendingProps=st,$.deletions=null):(tt=Pg(rt,st),tt.subtreeFlags=rt.subtreeFlags&14680064),at!==null?nt=Pg(at,nt):(nt=Tg(nt,it,et,null),nt.flags|=2),nt.return=$,tt.return=$,tt.sibling=nt,$.child=tt,tt=nt,nt=$.child,it=_e.child.memoizedState,it=it===null?nj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},nt.memoizedState=it,nt.childLanes=_e.childLanes&~et,$.memoizedState=mj,tt}return nt=_e.child,_e=nt.sibling,tt=Pg(nt,{mode:"visible",children:tt.children}),!($.mode&1)&&(tt.lanes=et),tt.return=$,tt.sibling=null,_e!==null&&(et=$.deletions,et===null?($.deletions=[_e],$.flags|=16):et.push(_e)),$.child=tt,$.memoizedState=null,tt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,et,tt){return tt!==null&&Jg(tt),Ug($,_e.child,null,et),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,et,tt,rt,nt,it){if(et)return $.flags&256?($.flags&=-257,tt=Ki(Error(p$2(422))),sj(_e,$,it,tt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(nt=tt.fallback,rt=$.mode,tt=pj({mode:"visible",children:tt.children},rt,0,null),nt=Tg(nt,rt,it,null),nt.flags|=2,tt.return=$,nt.return=$,tt.sibling=nt,$.child=tt,$.mode&1&&Ug($,_e.child,null,it),$.child.memoizedState=nj(it),$.memoizedState=mj,nt);if(!($.mode&1))return sj(_e,$,it,null);if(rt.data==="$!"){if(tt=rt.nextSibling&&rt.nextSibling.dataset,tt)var at=tt.dgst;return tt=at,nt=Error(p$2(419)),tt=Ki(nt,tt,void 0),sj(_e,$,it,tt)}if(at=(it&_e.childLanes)!==0,dh||at){if(tt=Q$1,tt!==null){switch(it&-it){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(tt.suspendedLanes|it)?0:rt,rt!==0&&rt!==nt.retryLane&&(nt.retryLane=rt,ih(_e,rt),gi(tt,_e,rt,-1))}return tj(),tt=Ki(Error(p$2(421))),sj(_e,$,it,tt)}return rt.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),rt._reactRetry=$,null):(_e=nt.treeContext,yg=Lf(rt.nextSibling),xg=$,I=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,tt.children),$.flags|=4096,$)}function vj(_e,$,et){_e.lanes|=$;var tt=_e.alternate;tt!==null&&(tt.lanes|=$),bh(_e.return,$,et)}function wj(_e,$,et,tt,rt){var nt=_e.memoizedState;nt===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:rt}:(nt.isBackwards=$,nt.rendering=null,nt.renderingStartTime=0,nt.last=tt,nt.tail=et,nt.tailMode=rt)}function xj(_e,$,et){var tt=$.pendingProps,rt=tt.revealOrder,nt=tt.tail;if(Xi(_e,$,tt.children,et),tt=L.current,tt&2)tt=tt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,et,$);else if(_e.tag===19)vj(_e,et,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}tt&=1}if(G$1(L,tt),!($.mode&1))$.memoizedState=null;else switch(rt){case"forwards":for(et=$.child,rt=null;et!==null;)_e=et.alternate,_e!==null&&Ch(_e)===null&&(rt=et),et=et.sibling;et=rt,et===null?(rt=$.child,$.child=null):(rt=et.sibling,et.sibling=null),wj($,!1,rt,et,nt);break;case"backwards":for(et=null,rt=$.child,$.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Ch(_e)===null){$.child=rt;break}_e=rt.sibling,rt.sibling=et,et=rt,rt=_e}wj($,!0,et,null,nt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,et){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(et&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$2(153));if($.child!==null){for(_e=$.child,et=Pg(_e,_e.pendingProps),$.child=et,et.return=$;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=Pg(_e,_e.pendingProps),et.return=$;et.sibling=null}return $.child}function yj(_e,$,et){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var tt=$.type._context,rt=$.memoizedProps.value;G$1(Wg,tt._currentValue),tt._currentValue=rt;break;case 13:if(tt=$.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(L,L.current&1),$.flags|=128,null):et&$.child.childLanes?oj(_e,$,et):(G$1(L,L.current&1),_e=Zi(_e,$,et),_e!==null?_e.sibling:null);G$1(L,L.current&1);break;case 19:if(tt=(et&$.childLanes)!==0,_e.flags&128){if(tt)return xj(_e,$,et);$.flags|=128}if(rt=$.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G$1(L,L.current),tt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,et)}return Zi(_e,$,et)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var et=$.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===$)break;for(;et.sibling===null;){if(et.return===null||et.return===$)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function(_e,$,et,tt){var rt=_e.memoizedProps;if(rt!==tt){_e=$.stateNode,xh(uh.current);var nt=null;switch(et){case"input":rt=Ya(_e,rt),tt=Ya(_e,tt),nt=[];break;case"select":rt=A$1({},rt,{value:void 0}),tt=A$1({},tt,{value:void 0}),nt=[];break;case"textarea":rt=gb(_e,rt),tt=gb(_e,tt),nt=[];break;default:typeof rt.onClick!="function"&&typeof tt.onClick=="function"&&(_e.onclick=Bf)}ub(et,tt);var it;et=null;for(ot in rt)if(!tt.hasOwnProperty(ot)&&rt.hasOwnProperty(ot)&&rt[ot]!=null)if(ot==="style"){var at=rt[ot];for(it in at)at.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?nt||(nt=[]):(nt=nt||[]).push(ot,null));for(ot in tt){var st=tt[ot];if(at=rt!=null?rt[ot]:void 0,tt.hasOwnProperty(ot)&&st!==at&&(st!=null||at!=null))if(ot==="style")if(at){for(it in at)!at.hasOwnProperty(it)||st&&st.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in st)st.hasOwnProperty(it)&&at[it]!==st[it]&&(et||(et={}),et[it]=st[it])}else et||(nt||(nt=[]),nt.push(ot,et)),et=st;else ot==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,at=at?at.__html:void 0,st!=null&&at!==st&&(nt=nt||[]).push(ot,st)):ot==="children"?typeof st!="string"&&typeof st!="number"||(nt=nt||[]).push(ot,""+st):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ot)?(st!=null&&ot==="onScroll"&&D$1("scroll",_e),nt||at===st||(nt=[])):(nt=nt||[]).push(ot,st))}et&&(nt=nt||[]).push("style",et);var ot=nt;($.updateQueue=ot)&&($.flags|=4)}};Cj=function(_e,$,et,tt){et!==tt&&($.flags|=4)};function Dj(_e,$){if(!I)switch(_e.tailMode){case"hidden":$=_e.tail;for(var et=null;$!==null;)$.alternate!==null&&(et=$),$=$.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:tt.sibling=null}}function S$1(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,tt=0;if($)for(var rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,tt|=rt.subtreeFlags&14680064,tt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,tt|=rt.subtreeFlags,tt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=tt,_e.childLanes=et,$}function Ej(_e,$,et){var tt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1($),null;case 1:return Zf($.type)&&$f(),S$1($),null;case 3:return tt=$.stateNode,zh(),E(Wf),E(H),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$1($),null;case 5:Bh($);var rt=xh(wh.current);if(et=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,et,tt,rt),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!tt){if($.stateNode===null)throw Error(p$2(166));return S$1($),null}if(_e=xh(uh.current),Gg($)){tt=$.stateNode,et=$.type;var nt=$.memoizedProps;switch(tt[Of]=$,tt[Pf]=nt,_e=($.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,nt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!nt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,nt),D$1("invalid",tt)}ub(et,nt),rt=null;for(var it in nt)if(nt.hasOwnProperty(it)){var at=nt[it];it==="children"?typeof at=="string"?tt.textContent!==at&&(nt.suppressHydrationWarning!==!0&&Af(tt.textContent,at,_e),rt=["children",at]):typeof at=="number"&&tt.textContent!==""+at&&(nt.suppressHydrationWarning!==!0&&Af(tt.textContent,at,_e),rt=["children",""+at]):ea.hasOwnProperty(it)&&at!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,nt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(tt.onclick=Bf)}tt=rt,$.updateQueue=tt,tt!==null&&($.flags|=4)}else{it=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=it.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof tt.is=="string"?_e=it.createElement(et,{is:tt.is}):(_e=it.createElement(et),et==="select"&&(it=_e,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):_e=it.createElementNS(_e,et),_e[Of]=$,_e[Pf]=tt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(it=vb(et,tt),et){case"dialog":D$1("cancel",_e),D$1("close",_e),rt=tt;break;case"iframe":case"object":case"embed":D$1("load",_e),rt=tt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D$1(lf[rt],_e);rt=tt;break;case"source":D$1("error",_e),rt=tt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),rt=tt;break;case"details":D$1("toggle",_e),rt=tt;break;case"input":Za(_e,tt),rt=Ya(_e,tt),D$1("invalid",_e);break;case"option":rt=tt;break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},rt=A$1({},tt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,tt),rt=gb(_e,tt),D$1("invalid",_e);break;default:rt=tt}ub(et,rt),at=rt;for(nt in at)if(at.hasOwnProperty(nt)){var st=at[nt];nt==="style"?sb(_e,st):nt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(_e,st)):nt==="children"?typeof st=="string"?(et!=="textarea"||st!=="")&&ob(_e,st):typeof st=="number"&&ob(_e,""+st):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?st!=null&&nt==="onScroll"&&D$1("scroll",_e):st!=null&&ta(_e,nt,st,it))}switch(et){case"input":Va(_e),db(_e,tt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":tt.value!=null&&_e.setAttribute("value",""+Sa(tt.value));break;case"select":_e.multiple=!!tt.multiple,nt=tt.value,nt!=null?fb(_e,!!tt.multiple,nt,!1):tt.defaultValue!=null&&fb(_e,!!tt.multiple,tt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$1($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,tt);else{if(typeof tt!="string"&&$.stateNode===null)throw Error(p$2(166));if(et=xh(wh.current),xh(uh.current),Gg($)){if(tt=$.stateNode,et=$.memoizedProps,tt[Of]=$,(nt=tt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(tt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(_e.mode&1)!==0)}nt&&($.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=$,$.stateNode=tt}return S$1($),null;case 13:if(E(L),tt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,nt=!1;else if(nt=Gg($),tt!==null&&tt.dehydrated!==null){if(_e===null){if(!nt)throw Error(p$2(318));if(nt=$.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$2(317));nt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$1($),nt=!1}else zg!==null&&(Fj(zg),zg=null),nt=!0;if(!nt)return $.flags&65536?$:null}return $.flags&128?($.lanes=et,$):(tt=tt!==null,tt!==(_e!==null&&_e.memoizedState!==null)&&tt&&($.child.flags|=8192,$.mode&1&&(_e===null||L.current&1?T===0&&(T=3):tj())),$.updateQueue!==null&&($.flags|=4),S$1($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$1($),null;case 10:return ah($.type._context),S$1($),null;case 17:return Zf($.type)&&$f(),S$1($),null;case 19:if(E(L),nt=$.memoizedState,nt===null)return S$1($),null;if(tt=($.flags&128)!==0,it=nt.rendering,it===null)if(tt)Dj(nt,!1);else{if(T!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(it=Ch(_e),it!==null){for($.flags|=128,Dj(nt,!1),tt=it.updateQueue,tt!==null&&($.updateQueue=tt,$.flags|=4),$.subtreeFlags=0,tt=et,et=$.child;et!==null;)nt=et,_e=tt,nt.flags&=14680066,it=nt.alternate,it===null?(nt.childLanes=0,nt.lanes=_e,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=it.childLanes,nt.lanes=it.lanes,nt.child=it.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=it.memoizedProps,nt.memoizedState=it.memoizedState,nt.updateQueue=it.updateQueue,nt.type=it.type,_e=it.dependencies,nt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G$1(L,L.current&1|2),$.child}_e=_e.sibling}nt.tail!==null&&B()>Gj&&($.flags|=128,tt=!0,Dj(nt,!1),$.lanes=4194304)}else{if(!tt)if(_e=Ch(it),_e!==null){if($.flags|=128,tt=!0,et=_e.updateQueue,et!==null&&($.updateQueue=et,$.flags|=4),Dj(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!it.alternate&&!I)return S$1($),null}else 2*B()-nt.renderingStartTime>Gj&&et!==1073741824&&($.flags|=128,tt=!0,Dj(nt,!1),$.lanes=4194304);nt.isBackwards?(it.sibling=$.child,$.child=it):(et=nt.last,et!==null?et.sibling=it:$.child=it,nt.last=it)}return nt.tail!==null?($=nt.tail,nt.rendering=$,nt.tail=$.sibling,nt.renderingStartTime=B(),$.sibling=null,et=L.current,G$1(L,tt?et&1|2:et&1),$):(S$1($),null);case 22:case 23:return Hj(),tt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==tt&&($.flags|=8192),tt&&$.mode&1?fj&1073741824&&(S$1($),$.subtreeFlags&6&&($.flags|=8192)):S$1($),null;case 24:return null;case 25:return null}throw Error(p$2(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E(Wf),E(H),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E(L),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$2(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1(_e,$,tt)}else et.current=null}function Mj(_e,$,et){try{et()}catch(tt){W$1(_e,$,tt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var rt=tt.anchorOffset,nt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,nt.nodeType}catch{et=null;break e}var it=0,at=-1,st=-1,ot=0,lt=0,ct=_e,ut=null;t:for(;;){for(var dt;ct!==et||rt!==0&&ct.nodeType!==3||(at=it+rt),ct!==nt||tt!==0&&ct.nodeType!==3||(st=it+tt),ct.nodeType===3&&(it+=ct.nodeValue.length),(dt=ct.firstChild)!==null;)ut=ct,ct=dt;for(;;){if(ct===_e)break t;if(ut===et&&++ot===rt&&(at=it),ut===nt&&++lt===tt&&(st=it),(dt=ct.nextSibling)!==null)break;ct=ut,ut=ct.parentNode}ct=dt}et=at===-1||st===-1?null:{start:at,end:st}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var ht=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var mt=ht.memoizedProps,pt=ht.memoizedState,ft=$.stateNode,gt=ft.getSnapshotBeforeUpdate($.elementType===$.type?mt:Ci($.type,mt),pt);ft.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var bt=$.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(_t){W$1($,$.return,_t)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return ht=Nj,Nj=!1,ht}function Pj(_e,$,et){var tt=$.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var rt=tt=tt.next;do{if((rt.tag&_e)===_e){var nt=rt.destroy;rt.destroy=void 0,nt!==void 0&&Mj($,et,nt)}rt=rt.next}while(rt!==tt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var et=$=$.next;do{if((et.tag&_e)===_e){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,$?et.nodeType===8?et.parentNode.insertBefore(_e,$):et.insertBefore(_e,$):(et.nodeType===8?($=et.parentNode,$.insertBefore(_e,et)):($=et,$.appendChild(_e)),et=et._reactRootContainer,et!=null||$.onclick!==null||($.onclick=Bf));else if(tt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,et),_e=_e.sibling;_e!==null;)Vj(_e,$,et),_e=_e.sibling}function Wj(_e,$,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,$?et.insertBefore(_e,$):et.appendChild(_e);else if(tt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,et),_e=_e.sibling;_e!==null;)Wj(_e,$,et),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,$,et){for(et=et.child;et!==null;)Zj(_e,$,et),et=et.sibling}function Zj(_e,$,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Lj(et,$);case 6:var tt=X$1,rt=Xj;X$1=null,Yj(_e,$,et),X$1=tt,Xj=rt,X$1!==null&&(Xj?(_e=X$1,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,rt=Xj,X$1=et.stateNode.containerInfo,Xj=!0,Yj(_e,$,et),X$1=tt,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){rt=tt=tt.next;do{var nt=rt,it=nt.destroy;nt=nt.tag,it!==void 0&&(nt&2||nt&4)&&Mj(et,$,it),rt=rt.next}while(rt!==tt)}Yj(_e,$,et);break;case 1:if(!U$1&&(Lj(et,$),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(at){W$1(et,$,at)}Yj(_e,$,et);break;case 21:Yj(_e,$,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Yj(_e,$,et),U$1=tt):Yj(_e,$,et);break;default:Yj(_e,$,et)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Kj),$.forEach(function(tt){var rt=bk.bind(null,_e,tt);et.has(tt)||(et.add(tt),tt.then(rt,rt))})}}function ck(_e,$){var et=$.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var rt=et[tt];try{var nt=_e,it=$,at=it;e:for(;at!==null;){switch(at.tag){case 5:X$1=at.stateNode,Xj=!1;break e;case 3:X$1=at.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=at.stateNode.containerInfo,Xj=!0;break e}at=at.return}if(X$1===null)throw Error(p$2(160));Zj(nt,it,rt),X$1=null,Xj=!1;var st=rt.alternate;st!==null&&(st.return=null),rt.return=null}catch(ot){W$1(rt,$,ot)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var et=_e.alternate,tt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),tt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(mt){W$1(_e,_e.return,mt)}try{Pj(5,_e,_e.return)}catch(mt){W$1(_e,_e.return,mt)}}break;case 1:ck($,_e),ek(_e),tt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck($,_e),ek(_e),tt&512&&et!==null&&Lj(et,et.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(mt){W$1(_e,_e.return,mt)}}if(tt&4&&(rt=_e.stateNode,rt!=null)){var nt=_e.memoizedProps,it=et!==null?et.memoizedProps:nt,at=_e.type,st=_e.updateQueue;if(_e.updateQueue=null,st!==null)try{at==="input"&&nt.type==="radio"&&nt.name!=null&&ab(rt,nt),vb(at,it);var ot=vb(at,nt);for(it=0;it<st.length;it+=2){var lt=st[it],ct=st[it+1];lt==="style"?sb(rt,ct):lt==="dangerouslySetInnerHTML"?nb(rt,ct):lt==="children"?ob(rt,ct):ta(rt,lt,ct,ot)}switch(at){case"input":bb(rt,nt);break;case"textarea":ib(rt,nt);break;case"select":var ut=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!nt.multiple;var dt=nt.value;dt!=null?fb(rt,!!nt.multiple,dt,!1):ut!==!!nt.multiple&&(nt.defaultValue!=null?fb(rt,!!nt.multiple,nt.defaultValue,!0):fb(rt,!!nt.multiple,nt.multiple?[]:"",!1))}rt[Pf]=nt}catch(mt){W$1(_e,_e.return,mt)}}break;case 6:if(ck($,_e),ek(_e),tt&4){if(_e.stateNode===null)throw Error(p$2(162));rt=_e.stateNode,nt=_e.memoizedProps;try{rt.nodeValue=nt}catch(mt){W$1(_e,_e.return,mt)}}break;case 3:if(ck($,_e),ek(_e),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(mt){W$1(_e,_e.return,mt)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),rt=_e.child,rt.flags&8192&&(nt=rt.memoizedState!==null,rt.stateNode.isHidden=nt,!nt||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B())),tt&4&&ak(_e);break;case 22:if(lt=et!==null&&et.memoizedState!==null,_e.mode&1?(U$1=(ot=U$1)||lt,ck($,_e),U$1=ot):ck($,_e),ek(_e),tt&8192){if(ot=_e.memoizedState!==null,(_e.stateNode.isHidden=ot)&&!lt&&_e.mode&1)for(V$1=_e,lt=_e.child;lt!==null;){for(ct=V$1=lt;V$1!==null;){switch(ut=V$1,dt=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var ht=ut.stateNode;if(typeof ht.componentWillUnmount=="function"){tt=ut,et=ut.return;try{$=tt,ht.props=$.memoizedProps,ht.state=$.memoizedState,ht.componentWillUnmount()}catch(mt){W$1(tt,et,mt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(ct);continue}}dt!==null?(dt.return=ut,V$1=dt):gk(ct)}lt=lt.sibling}e:for(lt=null,ct=_e;;){if(ct.tag===5){if(lt===null){lt=ct;try{rt=ct.stateNode,ot?(nt=rt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(at=ct.stateNode,st=ct.memoizedProps.style,it=st!=null&&st.hasOwnProperty("display")?st.display:null,at.style.display=rb("display",it))}catch(mt){W$1(_e,_e.return,mt)}}}else if(ct.tag===6){if(lt===null)try{ct.stateNode.nodeValue=ot?"":ct.memoizedProps}catch(mt){W$1(_e,_e.return,mt)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===_e)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===_e)break e;for(;ct.sibling===null;){if(ct.return===null||ct.return===_e)break e;lt===ct&&(lt=null),ct=ct.return}lt===ct&&(lt=null),ct.sibling.return=ct.return,ct=ct.sibling}}break;case 19:ck($,_e),ek(_e),tt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var et=_e.return;et!==null;){if(Tj(et)){var tt=et;break e}et=et.return}throw Error(p$2(160))}switch(tt.tag){case 5:var rt=tt.stateNode;tt.flags&32&&(ob(rt,""),tt.flags&=-33);var nt=Uj(_e);Wj(_e,nt,rt);break;case 3:case 4:var it=tt.stateNode.containerInfo,at=Uj(_e);Vj(_e,at,it);break;default:throw Error(p$2(161))}}catch(st){W$1(_e,_e.return,st)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,et){V$1=_e,ik(_e)}function ik(_e,$,et){for(var tt=(_e.mode&1)!==0;V$1!==null;){var rt=V$1,nt=rt.child;if(rt.tag===22&&tt){var it=rt.memoizedState!==null||Jj;if(!it){var at=rt.alternate,st=at!==null&&at.memoizedState!==null||U$1;at=Jj;var ot=U$1;if(Jj=it,(U$1=st)&&!ot)for(V$1=rt;V$1!==null;)it=V$1,st=it.child,it.tag===22&&it.memoizedState!==null?jk(rt):st!==null?(st.return=it,V$1=st):jk(rt);for(;nt!==null;)V$1=nt,ik(nt),nt=nt.sibling;V$1=rt,Jj=at,U$1=ot}kk(_e)}else rt.subtreeFlags&8772&&nt!==null?(nt.return=rt,V$1=nt):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var et=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$1||Qj(5,$);break;case 1:var tt=$.stateNode;if($.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var rt=$.elementType===$.type?et.memoizedProps:Ci($.type,et.memoizedProps);tt.componentDidUpdate(rt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var nt=$.updateQueue;nt!==null&&sh($,nt,tt);break;case 3:var it=$.updateQueue;if(it!==null){if(et=null,$.child!==null)switch($.child.tag){case 5:et=$.child.stateNode;break;case 1:et=$.child.stateNode}sh($,it,et)}break;case 5:var at=$.stateNode;if(et===null&&$.flags&4){et=at;var st=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&et.focus();break;case"img":st.src&&(et.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var ot=$.alternate;if(ot!==null){var lt=ot.memoizedState;if(lt!==null){var ct=lt.dehydrated;ct!==null&&bd(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||$.flags&512&&Rj($)}catch(ut){W$1($,$.return,ut)}}if($===_e){V$1=null;break}if(et=$.sibling,et!==null){et.return=$.return,V$1=et;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var et=$.sibling;if(et!==null){et.return=$.return,V$1=et;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var et=$.return;try{Qj(4,$)}catch(st){W$1($,et,st)}break;case 1:var tt=$.stateNode;if(typeof tt.componentDidMount=="function"){var rt=$.return;try{tt.componentDidMount()}catch(st){W$1($,rt,st)}}var nt=$.return;try{Rj($)}catch(st){W$1($,nt,st)}break;case 5:var it=$.return;try{Rj($)}catch(st){W$1($,it,st)}}}catch(st){W$1($,$.return,st)}if($===_e){V$1=null;break}var at=$.sibling;if(at!==null){at.return=$.return,V$1=at;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B():Ak!==-1?Ak:Ak=B()}function yi(_e){return _e.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,et,tt){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(_e,et,tt),(!(K$1&2)||_e!==Q$1)&&(_e===Q$1&&(!(K$1&2)&&(qk|=et),T===4&&Ck(_e,Z$1)),Dk(_e,tt),et===1&&K$1===0&&!($.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(_e,$){var et=_e.callbackNode;wc(_e,$);var tt=uc(_e,_e===Q$1?Z$1:0);if(tt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if($=tt&-tt,_e.callbackPriority!==$){if(et!=null&&bc(et),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K$1&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=et}}function Gk(_e,$){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var et=_e.callbackNode;if(Hk()&&_e.callbackNode!==et)return null;var tt=uc(_e,_e===Q$1?Z$1:0);if(tt===0)return null;if(tt&30||tt&_e.expiredLanes||$)$=Ik(_e,tt);else{$=tt;var rt=K$1;K$1|=2;var nt=Jk();(Q$1!==_e||Z$1!==$)&&(uk=null,Gj=B()+500,Kk(_e,$));do try{Lk();break}catch(at){Mk(_e,at)}while(!0);$g(),mk.current=nt,K$1=rt,Y$1!==null?$=0:(Q$1=null,Z$1=0,$=T)}if($!==0){if($===2&&(rt=xc(_e),rt!==0&&(tt=rt,$=Nk(_e,rt))),$===1)throw et=pk,Kk(_e,0),Ck(_e,tt),Dk(_e,B()),et;if($===6)Ck(_e,tt);else{if(rt=_e.current.alternate,!(tt&30)&&!Ok(rt)&&($=Ik(_e,tt),$===2&&(nt=xc(_e),nt!==0&&(tt=nt,$=Nk(_e,nt))),$===1))throw et=pk,Kk(_e,0),Ck(_e,tt),Dk(_e,B()),et;switch(_e.finishedWork=rt,_e.finishedLanes=tt,$){case 0:case 1:throw Error(p$2(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,tt),(tt&130023424)===tt&&($=fk+500-B(),10<$)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&tt)!==tt){R(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,tt),(tt&4194240)===tt)break;for($=_e.eventTimes,rt=-1;0<tt;){var it=31-oc(tt);nt=1<<it,it=$[it],it>rt&&(rt=it),tt&=~nt}if(tt=rt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),tt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(_e,B()),_e.callbackNode===et?Gk.bind(null,_e):null}function Nk(_e,$){var et=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=et,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var et=$.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.getSnapshot;rt=rt.value;try{if(!He(nt(),rt))return!1}catch{return!1}}}if(et=$.child,$.subtreeFlags&16384&&et!==null)et.return=$,$=et;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var et=31-oc($),tt=1<<et;_e[et]=-1,$&=~tt}}function Ek(_e){if(K$1&6)throw Error(p$2(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B()),null;var et=Ik(_e,$);if(_e.tag!==0&&et===2){var tt=xc(_e);tt!==0&&($=tt,et=Nk(_e,tt))}if(et===1)throw et=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B()),et;if(et===6)throw Error(p$2(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B()),null}function Qk(_e,$){var et=K$1;K$1|=1;try{return _e($)}finally{K$1=et,K$1===0&&(Gj=B()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var $=K$1;K$1|=1;var et=ok.transition,tt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=tt,ok.transition=et,K$1=$,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q$1=_e,Y$1=_e=Pg(_e.current,null),Z$1=fj=$,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(et=fh[$],tt=et.interleaved,tt!==null){et.interleaved=null;var rt=tt.next,nt=et.pending;if(nt!==null){var it=nt.next;nt.next=rt,tt.next=it}et.pending=tt}fh=null}return _e}function Mk(_e,$){do{var et=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var tt=M$1.memoizedState;tt!==null;){var rt=tt.queue;rt!==null&&(rt.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T=1,pk=$,Y$1=null;break}e:{var nt=_e,it=et.return,at=et,st=$;if($=Z$1,at.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var ot=st,lt=at,ct=lt.tag;if(!(lt.mode&1)&&(ct===0||ct===11||ct===15)){var ut=lt.alternate;ut?(lt.updateQueue=ut.updateQueue,lt.memoizedState=ut.memoizedState,lt.lanes=ut.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var dt=Ui(it);if(dt!==null){dt.flags&=-257,Vi(dt,it,at,nt,$),dt.mode&1&&Si(nt,ot,$),$=dt,st=ot;var ht=$.updateQueue;if(ht===null){var mt=new Set;mt.add(st),$.updateQueue=mt}else ht.add(st);break e}else{if(!($&1)){Si(nt,ot,$),tj();break e}st=Error(p$2(426))}}else if(I&&at.mode&1){var pt=Ui(it);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Vi(pt,it,at,nt,$),Jg(Ji(st,at));break e}}nt=st=Ji(st,at),T!==4&&(T=2),sk===null?sk=[nt]:sk.push(nt),nt=it;do{switch(nt.tag){case 3:nt.flags|=65536,$&=-$,nt.lanes|=$;var ft=Ni(nt,st,$);ph(nt,ft);break e;case 1:at=st;var gt=nt.type,bt=nt.stateNode;if(!(nt.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(bt)))){nt.flags|=65536,$&=-$,nt.lanes|=$;var _t=Qi(nt,at,$);ph(nt,_t);break e}}nt=nt.return}while(nt!==null)}Sk(et)}catch(yt){$=yt,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T===0||T===3||T===2)&&(T=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(_e,$){var et=K$1;K$1|=2;var tt=Jk();(Q$1!==_e||Z$1!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(rt){Mk(_e,rt)}while(!0);if($g(),K$1=et,mk.current=tt,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y$1=$,nk.current=null}function Sk(_e){var $=_e;do{var et=$.alternate;if(_e=$.return,$.flags&32768){if(et=Ij(et,$),et!==null){et.flags&=32767,Y$1=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T=6,Y$1=null;return}}else if(et=Ej(et,$,fj),et!==null){Y$1=et;return}if($=$.sibling,$!==null){Y$1=$;return}Y$1=$=_e}while($!==null);T===0&&(T=5)}function Pk(_e,$,et){var tt=C$1,rt=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,et,tt)}finally{ok.transition=rt,C$1=tt}return null}function Wk(_e,$,et,tt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));et=_e.finishedWork;var rt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$2(177));_e.callbackNode=null,_e.callbackPriority=0;var nt=et.lanes|et.childLanes;if(Bc(_e,nt),_e===Q$1&&(Y$1=Q$1=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),nt=(et.flags&15990)!==0,et.subtreeFlags&15990||nt){nt=ok.transition,ok.transition=null;var it=C$1;C$1=1;var at=K$1;K$1|=4,nk.current=null,Oj(_e,et),dk(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,hk(et),dc(),K$1=at,C$1=it,ok.transition=nt}else _e.current=et;if(vk&&(vk=!1,wk=_e,xk=rt),nt=_e.pendingLanes,nt===0&&(Ri=null),mc(et.stateNode),Dk(_e,B()),$!==null)for(tt=_e.onRecoverableError,et=0;et<$.length;et++)rt=$[et],tt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),nt=_e.pendingLanes,nt&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,et=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var tt=!1;else{if(_e=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var rt=K$1;for(K$1|=4,V$1=_e.current;V$1!==null;){var nt=V$1,it=nt.child;if(V$1.flags&16){var at=nt.deletions;if(at!==null){for(var st=0;st<at.length;st++){var ot=at[st];for(V$1=ot;V$1!==null;){var lt=V$1;switch(lt.tag){case 0:case 11:case 15:Pj(8,lt,nt)}var ct=lt.child;if(ct!==null)ct.return=lt,V$1=ct;else for(;V$1!==null;){lt=V$1;var ut=lt.sibling,dt=lt.return;if(Sj(lt),lt===ot){V$1=null;break}if(ut!==null){ut.return=dt,V$1=ut;break}V$1=dt}}}var ht=nt.alternate;if(ht!==null){var mt=ht.child;if(mt!==null){ht.child=null;do{var pt=mt.sibling;mt.sibling=null,mt=pt}while(mt!==null)}}V$1=nt}}if(nt.subtreeFlags&2064&&it!==null)it.return=nt,V$1=it;else e:for(;V$1!==null;){if(nt=V$1,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Pj(9,nt,nt.return)}var ft=nt.sibling;if(ft!==null){ft.return=nt.return,V$1=ft;break e}V$1=nt.return}}var gt=_e.current;for(V$1=gt;V$1!==null;){it=V$1;var bt=it.child;if(it.subtreeFlags&2064&&bt!==null)bt.return=it,V$1=bt;else e:for(it=gt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Qj(9,at)}}catch(yt){W$1(at,at.return,yt)}if(at===it){V$1=null;break e}var _t=at.sibling;if(_t!==null){_t.return=at.return,V$1=_t;break e}V$1=at.return}}if(K$1=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}tt=!0}return tt}finally{C$1=et,ok.transition=$}}return!1}function Xk(_e,$,et){$=Ji(et,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$1(_e,$,et){if(_e.tag===3)Xk(_e,_e,et);else for(;$!==null;){if($.tag===3){Xk($,_e,et);break}else if($.tag===1){var tt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){_e=Ji(et,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,et){var tt=_e.pingCache;tt!==null&&tt.delete($),$=R(),_e.pingedLanes|=_e.suspendedLanes&et,Q$1===_e&&(Z$1&et)===et&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B()-fk?Kk(_e,0):rk|=et),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var et=R();_e=ih(_e,$),_e!==null&&(Ac(_e,$,et),Dk(_e,et))}function uj(_e){var $=_e.memoizedState,et=0;$!==null&&(et=$.retryLane),Yk(_e,et)}function bk(_e,$){var et=0;switch(_e.tag){case 13:var tt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(et=rt.retryLane);break;case 19:tt=_e.stateNode;break;default:throw Error(p$2(314))}tt!==null&&tt.delete($),Yk(_e,et)}var Vk;Vk=function(_e,$,et){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&et)&&!($.flags&128))return dh=!1,yj(_e,$,et);dh=!!(_e.flags&131072)}else dh=!1,I&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var tt=$.type;ij(_e,$),_e=$.pendingProps;var rt=Yf($,H.current);ch($,et),rt=Nh(null,$,tt,_e,rt,et);var nt=Sh();return $.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(tt)?(nt=!0,cg($)):nt=!1,$.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh($),rt.updater=Ei,$.stateNode=rt,rt._reactInternals=$,Ii($,tt,_e,et),$=jj(null,$,tt,!0,nt,et)):($.tag=0,I&&nt&&vg($),Xi(null,$,rt,et),$=$.child),$;case 16:tt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,rt=tt._init,tt=rt(tt._payload),$.type=tt,rt=$.tag=Zk(tt),_e=Ci(tt,_e),rt){case 0:$=cj(null,$,tt,_e,et);break e;case 1:$=hj(null,$,tt,_e,et);break e;case 11:$=Yi(null,$,tt,_e,et);break e;case 14:$=$i(null,$,tt,Ci(tt.type,_e),et);break e}throw Error(p$2(306,tt,""))}return $;case 0:return tt=$.type,rt=$.pendingProps,rt=$.elementType===tt?rt:Ci(tt,rt),cj(_e,$,tt,rt,et);case 1:return tt=$.type,rt=$.pendingProps,rt=$.elementType===tt?rt:Ci(tt,rt),hj(_e,$,tt,rt,et);case 3:e:{if(kj($),_e===null)throw Error(p$2(387));tt=$.pendingProps,nt=$.memoizedState,rt=nt.element,lh(_e,$),qh($,tt,null,et);var it=$.memoizedState;if(tt=it.element,nt.isDehydrated)if(nt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},$.updateQueue.baseState=nt,$.memoizedState=nt,$.flags&256){rt=Ji(Error(p$2(423)),$),$=lj(_e,$,tt,et,rt);break e}else if(tt!==rt){rt=Ji(Error(p$2(424)),$),$=lj(_e,$,tt,et,rt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I=!0,zg=null,et=Vg($,null,tt,et),$.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===rt){$=Zi(_e,$,et);break e}Xi(_e,$,tt,et)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),tt=$.type,rt=$.pendingProps,nt=_e!==null?_e.memoizedProps:null,it=rt.children,Ef(tt,rt)?it=null:nt!==null&&Ef(tt,nt)&&($.flags|=32),gj(_e,$),Xi(_e,$,it,et),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,et);case 4:return yh($,$.stateNode.containerInfo),tt=$.pendingProps,_e===null?$.child=Ug($,null,tt,et):Xi(_e,$,tt,et),$.child;case 11:return tt=$.type,rt=$.pendingProps,rt=$.elementType===tt?rt:Ci(tt,rt),Yi(_e,$,tt,rt,et);case 7:return Xi(_e,$,$.pendingProps,et),$.child;case 8:return Xi(_e,$,$.pendingProps.children,et),$.child;case 12:return Xi(_e,$,$.pendingProps.children,et),$.child;case 10:e:{if(tt=$.type._context,rt=$.pendingProps,nt=$.memoizedProps,it=rt.value,G$1(Wg,tt._currentValue),tt._currentValue=it,nt!==null)if(He(nt.value,it)){if(nt.children===rt.children&&!Wf.current){$=Zi(_e,$,et);break e}}else for(nt=$.child,nt!==null&&(nt.return=$);nt!==null;){var at=nt.dependencies;if(at!==null){it=nt.child;for(var st=at.firstContext;st!==null;){if(st.context===tt){if(nt.tag===1){st=mh(-1,et&-et),st.tag=2;var ot=nt.updateQueue;if(ot!==null){ot=ot.shared;var lt=ot.pending;lt===null?st.next=st:(st.next=lt.next,lt.next=st),ot.pending=st}}nt.lanes|=et,st=nt.alternate,st!==null&&(st.lanes|=et),bh(nt.return,et,$),at.lanes|=et;break}st=st.next}}else if(nt.tag===10)it=nt.type===$.type?null:nt.child;else if(nt.tag===18){if(it=nt.return,it===null)throw Error(p$2(341));it.lanes|=et,at=it.alternate,at!==null&&(at.lanes|=et),bh(it,et,$),it=nt.sibling}else it=nt.child;if(it!==null)it.return=nt;else for(it=nt;it!==null;){if(it===$){it=null;break}if(nt=it.sibling,nt!==null){nt.return=it.return,it=nt;break}it=it.return}nt=it}Xi(_e,$,rt.children,et),$=$.child}return $;case 9:return rt=$.type,tt=$.pendingProps.children,ch($,et),rt=eh(rt),tt=tt(rt),$.flags|=1,Xi(_e,$,tt,et),$.child;case 14:return tt=$.type,rt=Ci(tt,$.pendingProps),rt=Ci(tt.type,rt),$i(_e,$,tt,rt,et);case 15:return bj(_e,$,$.type,$.pendingProps,et);case 17:return tt=$.type,rt=$.pendingProps,rt=$.elementType===tt?rt:Ci(tt,rt),ij(_e,$),$.tag=1,Zf(tt)?(_e=!0,cg($)):_e=!1,ch($,et),Gi($,tt,rt),Ii($,tt,rt,et),jj(null,$,tt,!0,_e,et);case 19:return xj(_e,$,et);case 22:return dj(_e,$,et)}throw Error(p$2(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,et,tt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,et,tt){return new $k(_e,$,et,tt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var et=_e.alternate;return et===null?(et=Bg(_e.tag,$,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=$,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,$=_e.dependencies,et.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function Rg(_e,$,et,tt,rt,nt){var it=2;if(tt=_e,typeof _e=="function")aj(_e)&&(it=1);else if(typeof _e=="string")it=5;else e:switch(_e){case ya:return Tg(et.children,rt,nt,$);case za:it=8,rt|=8;break;case Aa:return _e=Bg(12,et,$,rt|2),_e.elementType=Aa,_e.lanes=nt,_e;case Ea:return _e=Bg(13,et,$,rt),_e.elementType=Ea,_e.lanes=nt,_e;case Fa:return _e=Bg(19,et,$,rt),_e.elementType=Fa,_e.lanes=nt,_e;case Ia:return pj(et,rt,nt,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$2(130,_e==null?_e:typeof _e,""))}return $=Bg(it,et,$,rt),$.elementType=_e,$.type=tt,$.lanes=nt,$}function Tg(_e,$,et,tt){return _e=Bg(7,_e,tt,$),_e.lanes=et,_e}function pj(_e,$,et,tt){return _e=Bg(22,_e,tt,$),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,et){return _e=Bg(6,_e,null,$),_e.lanes=et,_e}function Sg(_e,$,et){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=et,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,et,tt,rt){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(_e,$,et,tt,rt,nt,it,at,st){return _e=new al(_e,$,et,at,st),$===1?($=1,nt===!0&&($|=8)):$=0,nt=Bg(3,null,null,$),_e.current=nt,nt.stateNode=_e,nt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(nt),_e}function cl(_e,$,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:_e,containerInfo:$,implementation:et}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$2(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$2(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,$)}return $}function el(_e,$,et,tt,rt,nt,it,at,st){return _e=bl(et,tt,!0,_e,rt,nt,it,at,st),_e.context=dl(null),et=_e.current,tt=R(),rt=yi(et),nt=mh(tt,rt),nt.callback=$??null,nh(et,nt,rt),_e.current.lanes=rt,Ac(_e,rt,tt),Dk(_e,tt),_e}function fl(_e,$,et,tt){var rt=$.current,nt=R(),it=yi(rt);return et=dl(et),$.context===null?$.context=et:$.pendingContext=et,$=mh(nt,it),$.payload={element:_e},tt=tt===void 0?null:tt,tt!==null&&($.callback=tt),_e=nh(rt,$,it),_e!==null&&(gi(_e,rt,it,nt),oh(_e,rt,it)),it}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<$?et:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$2(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var et=0;et<Qc.length&&$!==0&&$<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,et,tt,rt){if(rt){if(typeof tt=="function"){var nt=tt;tt=function(){var ot=gl(it);nt.call(ot)}}var it=el($,tt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=it,_e[uf]=it.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),it}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof tt=="function"){var at=tt;tt=function(){var ot=gl(st);at.call(ot)}}var st=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=st,_e[uf]=st.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,st,et,tt)}),st}function rl(_e,$,et,tt,rt){var nt=et._reactRootContainer;if(nt){var it=nt;if(typeof rt=="function"){var at=rt;rt=function(){var st=gl(it);at.call(st)}}fl($,it,_e,rt)}else it=ql(et,$,_e,rt,tt);return gl(it)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var et=tc($.pendingLanes);et!==0&&(Cc($,et|1),Dk($,B()),!(K$1&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var tt=ih(_e,1);if(tt!==null){var rt=R();gi(tt,_e,1,rt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var et=R();gi($,_e,134217728,et)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),et=ih(_e,$);if(et!==null){var tt=R();gi(et,_e,$,tt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var et=C$1;try{return C$1=_e,$()}finally{C$1=et}};yb=function(_e,$,et){switch($){case"input":if(bb(_e,et),$=et.name,et.type==="radio"&&$!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<et.length;$++){var tt=et[$];if(tt!==_e&&tt.form===_e.form){var rt=Db(tt);if(!rt)throw Error(p$2(90));Wa(tt),bb(tt,rt)}}}break;case"textarea":ib(_e,et);break;case"select":$=et.value,$!=null&&fb(_e,!!et.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$2(200));return cl(_e,$,null,et)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$2(299));var et=!1,tt="",rt=kl;return $!=null&&($.unstable_strictMode===!0&&(et=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(rt=$.onRecoverableError)),$=bl(_e,1,!1,null,null,et,!1,tt,rt),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$2(188)):(_e=Object.keys(_e).join(","),Error(p$2(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,et){if(!ol($))throw Error(p$2(200));return rl(null,_e,$,!0,et)};reactDom_production_min.hydrateRoot=function(_e,$,et){if(!nl(_e))throw Error(p$2(405));var tt=et!=null&&et.hydratedSources||null,rt=!1,nt="",it=kl;if(et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),$=el($,null,_e,1,et??null,rt,!1,nt,it),_e[uf]=$.current,sf(_e),tt)for(_e=0;_e<tt.length;_e++)et=tt[_e],rt=et._getVersion,rt=rt(et._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[et,rt]:$.mutableSourceEagerHydrationData.push(et,rt);return new ml($)};reactDom_production_min.render=function(_e,$,et){if(!ol($))throw Error(p$2(200));return rl(null,_e,$,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$2(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,et,tt){if(!ol(et))throw Error(p$2(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$2(38));return rl(_e,$,et,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.parse=parse$1;dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const _e=function(){};return _e.prototype=Object.create(null),_e})();function parse$1(_e,$){const et=new NullObject,tt=_e.length;if(tt<2)return et;const rt=($==null?void 0:$.decode)||decode;let nt=0;do{const it=_e.indexOf("=",nt);if(it===-1)break;const at=_e.indexOf(";",nt),st=at===-1?tt:at;if(it>st){nt=_e.lastIndexOf(";",it-1)+1;continue}const ot=startIndex(_e,nt,it),lt=endIndex(_e,it,ot),ct=_e.slice(ot,lt);if(et[ct]===void 0){let ut=startIndex(_e,it+1,st),dt=endIndex(_e,st,ut);const ht=rt(_e.slice(ut,dt));et[ct]=ht}nt=st+1}while(nt<tt);return et}function startIndex(_e,$,et){do{const tt=_e.charCodeAt($);if(tt!==32&&tt!==9)return $}while(++$<et);return et}function endIndex(_e,$,et){for(;$>et;){const tt=_e.charCodeAt(--$);if(tt!==32&&tt!==9)return $+1}return et}function serialize(_e,$,et){const tt=(et==null?void 0:et.encode)||encodeURIComponent;if(!cookieNameRegExp.test(_e))throw new TypeError(`argument name is invalid: ${_e}`);const rt=tt($);if(!cookieValueRegExp.test(rt))throw new TypeError(`argument val is invalid: ${$}`);let nt=_e+"="+rt;if(!et)return nt;if(et.maxAge!==void 0){if(!Number.isInteger(et.maxAge))throw new TypeError(`option maxAge is invalid: ${et.maxAge}`);nt+="; Max-Age="+et.maxAge}if(et.domain){if(!domainValueRegExp.test(et.domain))throw new TypeError(`option domain is invalid: ${et.domain}`);nt+="; Domain="+et.domain}if(et.path){if(!pathValueRegExp.test(et.path))throw new TypeError(`option path is invalid: ${et.path}`);nt+="; Path="+et.path}if(et.expires){if(!isDate$1(et.expires)||!Number.isFinite(et.expires.valueOf()))throw new TypeError(`option expires is invalid: ${et.expires}`);nt+="; Expires="+et.expires.toUTCString()}if(et.httpOnly&&(nt+="; HttpOnly"),et.secure&&(nt+="; Secure"),et.partitioned&&(nt+="; Partitioned"),et.priority)switch(typeof et.priority=="string"?et.priority.toLowerCase():void 0){case"low":nt+="; Priority=Low";break;case"medium":nt+="; Priority=Medium";break;case"high":nt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${et.priority}`)}if(et.sameSite)switch(typeof et.sameSite=="string"?et.sameSite.toLowerCase():et.sameSite){case!0:case"strict":nt+="; SameSite=Strict";break;case"lax":nt+="; SameSite=Lax";break;case"none":nt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${et.sameSite}`)}return nt}function decode(_e){if(_e.indexOf("%")===-1)return _e;try{return decodeURIComponent(_e)}catch{return _e}}function isDate$1(_e){return __toString.call(_e)==="[object Date]"}/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(_e={}){function $(tt,rt){let{pathname:nt,search:it,hash:at}=tt.location;return createLocation("",{pathname:nt,search:it,hash:at},rt.state&&rt.state.usr||null,rt.state&&rt.state.key||"default")}function et(tt,rt){return typeof rt=="string"?rt:createPath(rt)}return getUrlBasedHistory($,et,null,_e)}function invariant$1(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,et=null,tt){return{pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:"",...typeof $=="string"?parsePath($):$,state:et,key:$&&$.key||tt||createKey()}}function createPath({pathname:_e="/",search:$="",hash:et=""}){return $&&$!=="?"&&(_e+=$.charAt(0)==="?"?$:"?"+$),et&&et!=="#"&&(_e+=et.charAt(0)==="#"?et:"#"+et),_e}function parsePath(_e){let $={};if(_e){let et=_e.indexOf("#");et>=0&&($.hash=_e.substring(et),_e=_e.substring(0,et));let tt=_e.indexOf("?");tt>=0&&($.search=_e.substring(tt),_e=_e.substring(0,tt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,et,tt={}){let{window:rt=document.defaultView,v5Compat:nt=!1}=tt,it=rt.history,at="POP",st=null,ot=lt();ot==null&&(ot=0,it.replaceState({...it.state,idx:ot},""));function lt(){return(it.state||{idx:null}).idx}function ct(){at="POP";let pt=lt(),ft=pt==null?null:pt-ot;ot=pt,st&&st({action:at,location:mt.location,delta:ft})}function ut(pt,ft){at="PUSH";let gt=createLocation(mt.location,pt,ft);ot=lt()+1;let bt=getHistoryState(gt,ot),_t=mt.createHref(gt);try{it.pushState(bt,"",_t)}catch(yt){if(yt instanceof DOMException&&yt.name==="DataCloneError")throw yt;rt.location.assign(_t)}nt&&st&&st({action:at,location:mt.location,delta:1})}function dt(pt,ft){at="REPLACE";let gt=createLocation(mt.location,pt,ft);ot=lt();let bt=getHistoryState(gt,ot),_t=mt.createHref(gt);it.replaceState(bt,"",_t),nt&&st&&st({action:at,location:mt.location,delta:0})}function ht(pt){let ft=rt.location.origin!=="null"?rt.location.origin:rt.location.href,gt=typeof pt=="string"?pt:createPath(pt);return gt=gt.replace(/ $/,"%20"),invariant$1(ft,`No window.location.(origin|href) available to create URL for href: ${gt}`),new URL(gt,ft)}let mt={get action(){return at},get location(){return _e(rt,it)},listen(pt){if(st)throw new Error("A history only accepts one active listener");return rt.addEventListener(PopStateEventType,ct),st=pt,()=>{rt.removeEventListener(PopStateEventType,ct),st=null}},createHref(pt){return $(rt,pt)},createURL:ht,encodeLocation(pt){let ft=ht(pt);return{pathname:ft.pathname,search:ft.search,hash:ft.hash}},push:ut,replace:dt,go(pt){return it.go(pt)}};return mt}function matchRoutes(_e,$,et="/"){return matchRoutesImpl(_e,$,et,!1)}function matchRoutesImpl(_e,$,et,tt){let rt=typeof $=="string"?parsePath($):$,nt=stripBasename(rt.pathname||"/",et);if(nt==null)return null;let it=flattenRoutes(_e);rankRouteBranches(it);let at=null;for(let st=0;at==null&&st<it.length;++st){let ot=decodePath(nt);at=matchRouteBranch(it[st],ot,tt)}return at}function flattenRoutes(_e,$=[],et=[],tt=""){let rt=(nt,it,at)=>{let st={relativePath:at===void 0?nt.path||"":at,caseSensitive:nt.caseSensitive===!0,childrenIndex:it,route:nt};st.relativePath.startsWith("/")&&(invariant$1(st.relativePath.startsWith(tt),`Absolute route path "${st.relativePath}" nested under path "${tt}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),st.relativePath=st.relativePath.slice(tt.length));let ot=joinPaths([tt,st.relativePath]),lt=et.concat(st);nt.children&&nt.children.length>0&&(invariant$1(nt.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ot}".`),flattenRoutes(nt.children,$,lt,ot)),!(nt.path==null&&!nt.index)&&$.push({path:ot,score:computeScore(ot,nt.index),routesMeta:lt})};return _e.forEach((nt,it)=>{var at;if(nt.path===""||!((at=nt.path)!=null&&at.includes("?")))rt(nt,it);else for(let st of explodeOptionalSegments(nt.path))rt(nt,it,st)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[et,...tt]=$,rt=et.endsWith("?"),nt=et.replace(/\?$/,"");if(tt.length===0)return rt?[nt,""]:[nt];let it=explodeOptionalSegments(tt.join("/")),at=[];return at.push(...it.map(st=>st===""?nt:[nt,st].join("/"))),rt&&at.push(...it),at.map(st=>_e.startsWith("/")&&st===""?"/":st)}function rankRouteBranches(_e){_e.sort(($,et)=>$.score!==et.score?et.score-$.score:compareIndexes($.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let et=_e.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),$&&(tt+=indexRouteValue),et.filter(rt=>!isSplat(rt)).reduce((rt,nt)=>rt+(paramRe.test(nt)?dynamicSegmentValue:nt===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((tt,rt)=>tt===$[rt])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$,et=!1){let{routesMeta:tt}=_e,rt={},nt="/",it=[];for(let at=0;at<tt.length;++at){let st=tt[at],ot=at===tt.length-1,lt=nt==="/"?$:$.slice(nt.length)||"/",ct=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:ot},lt),ut=st.route;if(!ct&&ot&&et&&!tt[tt.length-1].route.index&&(ct=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:!1},lt)),!ct)return null;Object.assign(rt,ct.params),it.push({params:rt,pathname:joinPaths([nt,ct.pathname]),pathnameBase:normalizePathname(joinPaths([nt,ct.pathnameBase])),route:ut}),ct.pathnameBase!=="/"&&(nt=joinPaths([nt,ct.pathnameBase]))}return it}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[et,tt]=compilePath(_e.path,_e.caseSensitive,_e.end),rt=$.match(et);if(!rt)return null;let nt=rt[0],it=nt.replace(/(.)\/+$/,"$1"),at=rt.slice(1);return{params:tt.reduce((ot,{paramName:lt,isOptional:ct},ut)=>{if(lt==="*"){let ht=at[ut]||"";it=nt.slice(0,nt.length-ht.length).replace(/(.)\/+$/,"$1")}const dt=at[ut];return ct&&!dt?ot[lt]=void 0:ot[lt]=(dt||"").replace(/%2F/g,"/"),ot},{}),pathname:nt,pathnameBase:it,pattern:_e}}function compilePath(_e,$=!1,et=!0){warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),`Route path "${_e}" will be treated as if it were "${_e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_e.replace(/\*$/,"/*")}".`);let tt=[],rt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(it,at,st)=>(tt.push({paramName:at,isOptional:st!=null}),st?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(tt.push({paramName:"*"}),rt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?rt+="\\/*$":_e!==""&&_e!=="/"&&(rt+="(?:(?=\\/|$))"),[new RegExp(rt,$?void 0:"i"),tt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,`The URL path "${_e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${$}).`),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let et=$.endsWith("/")?$.length-1:$.length,tt=_e.charAt(et);return tt&&tt!=="/"?null:_e.slice(et)||"/"}function resolvePath(_e,$="/"){let{pathname:et,search:tt="",hash:rt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,$):$,search:normalizeSearch(tt),hash:normalizeHash(rt)}}function resolvePathname(_e,$){let et=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(rt=>{rt===".."?et.length>1&&et.pop():rt!=="."&&et.push(rt)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(_e,$,et,tt){return`Cannot include a '${_e}' character in a manually specified \`to.${$}\` field [${JSON.stringify(tt)}].  Please separate it out to the \`to.${et}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(_e){return _e.filter(($,et)=>et===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e){let $=getPathContributingMatches(_e);return $.map((et,tt)=>tt===$.length-1?et.pathname:et.pathnameBase)}function resolveTo(_e,$,et,tt=!1){let rt;typeof _e=="string"?rt=parsePath(_e):(rt={..._e},invariant$1(!rt.pathname||!rt.pathname.includes("?"),getInvalidPathError("?","pathname","search",rt)),invariant$1(!rt.pathname||!rt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rt)),invariant$1(!rt.search||!rt.search.includes("#"),getInvalidPathError("#","search","hash",rt)));let nt=_e===""||rt.pathname==="",it=nt?"/":rt.pathname,at;if(it==null)at=et;else{let ct=$.length-1;if(!tt&&it.startsWith("..")){let ut=it.split("/");for(;ut[0]==="..";)ut.shift(),ct-=1;rt.pathname=ut.join("/")}at=ct>=0?$[ct]:"/"}let st=resolvePath(rt,at),ot=it&&it!=="/"&&it.endsWith("/"),lt=(nt||it===".")&&et.endsWith("/");return!st.pathname.endsWith("/")&&(ot||lt)&&(st.pathname+="/"),st}var joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(_e,{relative:$}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:et,navigator:tt}=reactExports.useContext(NavigationContext),{hash:rt,pathname:nt,search:it}=useResolvedPath(_e,{relative:$}),at=nt;return et!=="/"&&(at=nt==="/"?et:joinPaths([et,nt])),tt.createHref({pathname:at,search:it,hash:rt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let _e=reactExports.useContext(DataRouterContext),{basename:$,navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),{pathname:rt}=useLocation(),nt=JSON.stringify(getResolveToMatches(tt)),it=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{it.current=!0}),reactExports.useCallback((st,ot={})=>{if(warning(it.current,navigateEffectWarning),!it.current)return;if(typeof st=="number"){et.go(st);return}let lt=resolveTo(st,JSON.parse(nt),rt,ot.relative==="path");_e==null&&$!=="/"&&(lt.pathname=lt.pathname==="/"?$:joinPaths([$,lt.pathname])),(ot.replace?et.replace:et.push)(lt,ot.state,ot)},[$,et,nt,rt,_e])}reactExports.createContext(null);function useResolvedPath(_e,{relative:$}={}){let{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),rt=JSON.stringify(getResolveToMatches(et));return reactExports.useMemo(()=>resolveTo(_e,JSON.parse(rt),tt,$==="path"),[_e,rt,tt,$])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,et,tt){var ft;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),it=nt[nt.length-1],at=it?it.params:{},st=it?it.pathname:"/",ot=it?it.pathnameBase:"/",lt=it&&it.route;{let gt=lt&&lt.path||"";warningOnce(st,!lt||gt.endsWith("*")||gt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${st}" (under <Route path="${gt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${gt}"> to <Route path="${gt==="/"?"*":`${gt}/*`}">.`)}let ct=useLocation(),ut;if($){let gt=typeof $=="string"?parsePath($):$;invariant$1(ot==="/"||((ft=gt.pathname)==null?void 0:ft.startsWith(ot)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${ot}" but pathname "${gt.pathname}" was given in the \`location\` prop.`),ut=gt}else ut=ct;let dt=ut.pathname||"/",ht=dt;if(ot!=="/"){let gt=ot.replace(/^\//,"").split("/");ht="/"+dt.replace(/^\//,"").split("/").slice(gt.length).join("/")}let mt=matchRoutes(_e,{pathname:ht});warning(lt||mt!=null,`No routes matched location "${ut.pathname}${ut.search}${ut.hash}" `),warning(mt==null||mt[mt.length-1].route.element!==void 0||mt[mt.length-1].route.Component!==void 0||mt[mt.length-1].route.lazy!==void 0,`Matched leaf route at location "${ut.pathname}${ut.search}${ut.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let pt=_renderMatches(mt&&mt.map(gt=>Object.assign({},gt,{params:Object.assign({},at,gt.params),pathname:joinPaths([ot,rt.encodeLocation?rt.encodeLocation(gt.pathname).pathname:gt.pathname]),pathnameBase:gt.pathnameBase==="/"?ot:joinPaths([ot,rt.encodeLocation?rt.encodeLocation(gt.pathnameBase).pathname:gt.pathnameBase])})),nt,et,tt);return $&&pt?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ut},navigationType:"POP"}},pt):pt}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?`${_e.status} ${_e.statusText}`:_e instanceof Error?_e.message:JSON.stringify(_e),et=_e instanceof Error?_e.stack:null,tt="rgba(200,200,200, 0.5)",rt={padding:"0.5rem",backgroundColor:tt},nt={padding:"2px 4px",backgroundColor:tt},it=null;return console.error("Error handled by React Router default ErrorBoundary:",_e),it=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:nt},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:nt},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),et?reactExports.createElement("pre",{style:rt},et):null,it)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(_e){super(_e),this.state={location:_e.location,revalidation:_e.revalidation,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,$){return $.location!==_e.location||$.revalidation!=="idle"&&_e.revalidation==="idle"?{error:_e.error,location:_e.location,revalidation:_e.revalidation}:{error:_e.error!==void 0?_e.error:$.error,location:$.location,revalidation:_e.revalidation||$.revalidation}}componentDidCatch(_e,$){console.error("React Router caught the following error during render",_e,$)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:_e,match:$,children:et}){let tt=reactExports.useContext(DataRouterContext);return tt&&tt.static&&tt.staticContext&&($.route.errorElement||$.route.ErrorBoundary)&&(tt.staticContext._deepestRenderedBoundaryId=$.route.id),reactExports.createElement(RouteContext.Provider,{value:_e},et)}function _renderMatches(_e,$=[],et=null,tt=null){if(_e==null){if(!et)return null;if(et.errors)_e=et.matches;else if($.length===0&&!et.initialized&&et.matches.length>0)_e=et.matches;else return null}let rt=_e,nt=et==null?void 0:et.errors;if(nt!=null){let st=rt.findIndex(ot=>ot.route.id&&(nt==null?void 0:nt[ot.route.id])!==void 0);invariant$1(st>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(nt).join(",")}`),rt=rt.slice(0,Math.min(rt.length,st+1))}let it=!1,at=-1;if(et)for(let st=0;st<rt.length;st++){let ot=rt[st];if((ot.route.HydrateFallback||ot.route.hydrateFallbackElement)&&(at=st),ot.route.id){let{loaderData:lt,errors:ct}=et,ut=ot.route.loader&&!lt.hasOwnProperty(ot.route.id)&&(!ct||ct[ot.route.id]===void 0);if(ot.route.lazy||ut){it=!0,at>=0?rt=rt.slice(0,at+1):rt=[rt[0]];break}}}return rt.reduceRight((st,ot,lt)=>{let ct,ut=!1,dt=null,ht=null;et&&(ct=nt&&ot.route.id?nt[ot.route.id]:void 0,dt=ot.route.errorElement||defaultErrorElement,it&&(at<0&&lt===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ut=!0,ht=null):at===lt&&(ut=!0,ht=ot.route.hydrateFallbackElement||null)));let mt=$.concat(rt.slice(0,lt+1)),pt=()=>{let ft;return ct?ft=dt:ut?ft=ht:ot.route.Component?ft=reactExports.createElement(ot.route.Component,null):ot.route.element?ft=ot.route.element:ft=st,reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:st,matches:mt,isDataRoute:et!=null},children:ft})};return et&&(ot.route.ErrorBoundary||ot.route.errorElement||lt===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:dt,error:ct,children:pt(),routeContext:{outlet:null,matches:mt,isDataRoute:!0}}):pt()},null)}function getDataRouterConsoleError(_e){return`${_e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return invariant$1($,getDataRouterConsoleError(_e)),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return invariant$1($,getDataRouterConsoleError(_e)),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return invariant$1($,getDataRouterConsoleError(_e)),$}function useCurrentRouteId(_e){let $=useRouteContext(_e),et=$.matches[$.matches.length-1];return invariant$1(et.route.id,`${_e} can only be used on routes that contain a unique "id"`),et.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var tt;let _e=reactExports.useContext(RouteErrorContext),$=useDataRouterState("useRouteError"),et=useCurrentRouteId("useRouteError");return _e!==void 0?_e:(tt=$.errors)==null?void 0:tt[et]}function useNavigateStable(){let{router:_e}=useDataRouterContext("useNavigate"),$=useCurrentRouteId("useNavigate"),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{et.current=!0}),reactExports.useCallback(async(rt,nt={})=>{warning(et.current,navigateEffectWarning),et.current&&(typeof rt=="number"?_e.navigate(rt):await _e.navigate(rt,{fromRouteId:$,...nt}))},[_e,$])}var alreadyWarned={};function warningOnce(_e,$,et){!$&&!alreadyWarned[_e]&&(alreadyWarned[_e]=!0,warning(!1,et))}reactExports.memo(DataRoutes);function DataRoutes({routes:_e,future:$,state:et}){return useRoutesImpl(_e,void 0,et,$)}function Navigate({to:_e,replace:$,state:et,relative:tt}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:rt}=reactExports.useContext(NavigationContext);warning(!rt,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),at=useNavigate(),st=resolveTo(_e,getResolveToMatches(nt),it,tt==="path"),ot=JSON.stringify(st);return reactExports.useEffect(()=>{at(JSON.parse(ot),{replace:$,state:et,relative:tt})},[at,ot,tt,$,et]),null}function Route(_e){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:_e="/",children:$=null,location:et,navigationType:tt="POP",navigator:rt,static:nt=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let it=_e.replace(/^\/*/,"/"),at=reactExports.useMemo(()=>({basename:it,navigator:rt,static:nt,future:{}}),[it,rt,nt]);typeof et=="string"&&(et=parsePath(et));let{pathname:st="/",search:ot="",hash:lt="",state:ct=null,key:ut="default"}=et,dt=reactExports.useMemo(()=>{let ht=stripBasename(st,it);return ht==null?null:{location:{pathname:ht,search:ot,hash:lt,state:ct,key:ut},navigationType:tt}},[it,st,ot,lt,ct,ut,tt]);return warning(dt!=null,`<Router basename="${it}"> is not able to match the URL "${st}${ot}${lt}" because it does not start with the basename, so the <Router> won't render anything.`),dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:at},reactExports.createElement(LocationContext.Provider,{children:$,value:dt}))}function Routes({children:_e,location:$}){return useRoutes(createRoutesFromChildren(_e),$)}function createRoutesFromChildren(_e,$=[]){let et=[];return reactExports.Children.forEach(_e,(tt,rt)=>{if(!reactExports.isValidElement(tt))return;let nt=[...$,rt];if(tt.type===reactExports.Fragment){et.push.apply(et,createRoutesFromChildren(tt.props.children,nt));return}invariant$1(tt.type===Route,`[${typeof tt.type=="string"?tt.type:tt.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!tt.props.index||!tt.props.children,"An index route cannot have child routes.");let it={id:tt.props.id||nt.join("-"),caseSensitive:tt.props.caseSensitive,element:tt.props.element,Component:tt.props.Component,index:tt.props.index,path:tt.props.path,loader:tt.props.loader,action:tt.props.action,hydrateFallbackElement:tt.props.hydrateFallbackElement,HydrateFallback:tt.props.HydrateFallback,errorElement:tt.props.errorElement,ErrorBoundary:tt.props.ErrorBoundary,hasErrorBoundary:tt.props.hasErrorBoundary===!0||tt.props.ErrorBoundary!=null||tt.props.errorElement!=null,shouldRevalidate:tt.props.shouldRevalidate,handle:tt.props.handle,lazy:tt.props.lazy};tt.props.children&&(it.children=createRoutesFromChildren(tt.props.children,nt)),et.push(it)}),et}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(_e){return _e!=null&&typeof _e.tagName=="string"}function isButtonElement(_e){return isHtmlElement(_e)&&_e.tagName.toLowerCase()==="button"}function isFormElement(_e){return isHtmlElement(_e)&&_e.tagName.toLowerCase()==="form"}function isInputElement(_e){return isHtmlElement(_e)&&_e.tagName.toLowerCase()==="input"}function isModifiedEvent(_e){return!!(_e.metaKey||_e.altKey||_e.ctrlKey||_e.shiftKey)}function shouldProcessLinkClick(_e,$){return _e.button===0&&(!$||$==="_self")&&!isModifiedEvent(_e)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(_e){return _e!=null&&!supportedFormEncTypes.has(_e)?(warning(!1,`"${_e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):_e}function getFormSubmissionInfo(_e,$){let et,tt,rt,nt,it;if(isFormElement(_e)){let at=_e.getAttribute("action");tt=at?stripBasename(at,$):null,et=_e.getAttribute("method")||defaultMethod,rt=getFormEncType(_e.getAttribute("enctype"))||defaultEncType,nt=new FormData(_e)}else if(isButtonElement(_e)||isInputElement(_e)&&(_e.type==="submit"||_e.type==="image")){let at=_e.form;if(at==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let st=_e.getAttribute("formaction")||at.getAttribute("action");if(tt=st?stripBasename(st,$):null,et=_e.getAttribute("formmethod")||at.getAttribute("method")||defaultMethod,rt=getFormEncType(_e.getAttribute("formenctype"))||getFormEncType(at.getAttribute("enctype"))||defaultEncType,nt=new FormData(at,_e),!isFormDataSubmitterSupported()){let{name:ot,type:lt,value:ct}=_e;if(lt==="image"){let ut=ot?`${ot}.`:"";nt.append(`${ut}x`,"0"),nt.append(`${ut}y`,"0")}else ot&&nt.append(ot,ct)}}else{if(isHtmlElement(_e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');et=defaultMethod,tt=null,rt=defaultEncType,it=_e}return nt&&rt==="text/plain"&&(it=nt,nt=void 0),{action:tt,method:et.toLowerCase(),encType:rt,formData:nt,body:it}}function invariant2(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}async function loadRouteModule(_e,$){if(_e.id in $)return $[_e.id];try{let et=await import(_e.module);return $[_e.id]=et,et}catch(et){return console.error(`Error loading route module \`${_e.module}\`, reloading page...`),console.error(et),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(_e){return _e==null?!1:_e.href==null?_e.rel==="preload"&&typeof _e.imageSrcSet=="string"&&typeof _e.imageSizes=="string":typeof _e.rel=="string"&&typeof _e.href=="string"}async function getKeyedPrefetchLinks(_e,$,et){let tt=await Promise.all(_e.map(async rt=>{let nt=$.routes[rt.route.id];if(nt){let it=await loadRouteModule(nt,et);return it.links?it.links():[]}return[]}));return dedupeLinkDescriptors(tt.flat(1).filter(isHtmlLinkDescriptor).filter(rt=>rt.rel==="stylesheet"||rt.rel==="preload").map(rt=>rt.rel==="stylesheet"?{...rt,rel:"prefetch",as:"style"}:{...rt,rel:"prefetch"}))}function getNewMatchesForLinks(_e,$,et,tt,rt,nt){let it=(st,ot)=>et[ot]?st.route.id!==et[ot].route.id:!0,at=(st,ot)=>{var lt;return et[ot].pathname!==st.pathname||((lt=et[ot].route.path)==null?void 0:lt.endsWith("*"))&&et[ot].params["*"]!==st.params["*"]};return nt==="assets"?$.filter((st,ot)=>it(st,ot)||at(st,ot)):nt==="data"?$.filter((st,ot)=>{var ct;let lt=tt.routes[st.route.id];if(!lt||!lt.hasLoader)return!1;if(it(st,ot)||at(st,ot))return!0;if(st.route.shouldRevalidate){let ut=st.route.shouldRevalidate({currentUrl:new URL(rt.pathname+rt.search+rt.hash,window.origin),currentParams:((ct=et[0])==null?void 0:ct.params)||{},nextUrl:new URL(_e,window.origin),nextParams:st.params,defaultShouldRevalidate:!0});if(typeof ut=="boolean")return ut}return!0}):[]}function getModuleLinkHrefs(_e,$){return dedupeHrefs(_e.map(et=>{let tt=$.routes[et.route.id];if(!tt)return[];let rt=[tt.module];return tt.imports&&(rt=rt.concat(tt.imports)),rt}).flat(1))}function dedupeHrefs(_e){return[...new Set(_e)]}function sortKeys(_e){let $={},et=Object.keys(_e).sort();for(let tt of et)$[tt]=_e[tt];return $}function dedupeLinkDescriptors(_e,$){let et=new Set;return new Set($),_e.reduce((tt,rt)=>{let nt=JSON.stringify(sortKeys(rt));return et.has(nt)||(et.add(nt),tt.push({key:nt,link:rt})),tt},[])}function singleFetchUrl(_e){let $=typeof _e=="string"?new URL(_e,typeof window>"u"?"server://singlefetch/":window.location.origin):_e;return $.pathname==="/"?$.pathname="_root.data":$.pathname=`${$.pathname.replace(/\/$/,"")}.data`,$}function useDataRouterContext2(){let _e=reactExports.useContext(DataRouterContext);return invariant2(_e,"You must render this element inside a <DataRouterContext.Provider> element"),_e}function useDataRouterStateContext(){let _e=reactExports.useContext(DataRouterStateContext);return invariant2(_e,"You must render this element inside a <DataRouterStateContext.Provider> element"),_e}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let _e=reactExports.useContext(FrameworkContext);return invariant2(_e,"You must render this element inside a <HydratedRouter> element"),_e}function usePrefetchBehavior(_e,$){let et=reactExports.useContext(FrameworkContext),[tt,rt]=reactExports.useState(!1),[nt,it]=reactExports.useState(!1),{onFocus:at,onBlur:st,onMouseEnter:ot,onMouseLeave:lt,onTouchStart:ct}=$,ut=reactExports.useRef(null);reactExports.useEffect(()=>{if(_e==="render"&&it(!0),_e==="viewport"){let mt=ft=>{ft.forEach(gt=>{it(gt.isIntersecting)})},pt=new IntersectionObserver(mt,{threshold:.5});return ut.current&&pt.observe(ut.current),()=>{pt.disconnect()}}},[_e]),reactExports.useEffect(()=>{if(tt){let mt=setTimeout(()=>{it(!0)},100);return()=>{clearTimeout(mt)}}},[tt]);let dt=()=>{rt(!0)},ht=()=>{rt(!1),it(!1)};return et?_e!=="intent"?[nt,ut,{}]:[nt,ut,{onFocus:composeEventHandlers(at,dt),onBlur:composeEventHandlers(st,ht),onMouseEnter:composeEventHandlers(ot,dt),onMouseLeave:composeEventHandlers(lt,ht),onTouchStart:composeEventHandlers(ct,dt)}]:[!1,ut,{}]}function composeEventHandlers(_e,$){return et=>{_e&&_e(et),et.defaultPrevented||$(et)}}function PrefetchPageLinks({page:_e,...$}){let{router:et}=useDataRouterContext2(),tt=reactExports.useMemo(()=>matchRoutes(et.routes,_e,et.basename),[et.routes,_e,et.basename]);return tt?reactExports.createElement(PrefetchPageLinksImpl,{page:_e,matches:tt,...$}):null}function useKeyedPrefetchLinks(_e){let{manifest:$,routeModules:et}=useFrameworkContext(),[tt,rt]=reactExports.useState([]);return reactExports.useEffect(()=>{let nt=!1;return getKeyedPrefetchLinks(_e,$,et).then(it=>{nt||rt(it)}),()=>{nt=!0}},[_e,$,et]),tt}function PrefetchPageLinksImpl({page:_e,matches:$,...et}){let tt=useLocation(),{manifest:rt,routeModules:nt}=useFrameworkContext(),{loaderData:it,matches:at}=useDataRouterStateContext(),st=reactExports.useMemo(()=>getNewMatchesForLinks(_e,$,at,rt,tt,"data"),[_e,$,at,rt,tt]),ot=reactExports.useMemo(()=>getNewMatchesForLinks(_e,$,at,rt,tt,"assets"),[_e,$,at,rt,tt]),lt=reactExports.useMemo(()=>{if(_e===tt.pathname+tt.search+tt.hash)return[];let dt=new Set,ht=!1;if($.forEach(pt=>{var gt;let ft=rt.routes[pt.route.id];!ft||!ft.hasLoader||(!st.some(bt=>bt.route.id===pt.route.id)&&pt.route.id in it&&((gt=nt[pt.route.id])!=null&&gt.shouldRevalidate)||ft.hasClientLoader?ht=!0:dt.add(pt.route.id))}),dt.size===0)return[];let mt=singleFetchUrl(_e);return ht&&dt.size>0&&mt.searchParams.set("_routes",$.filter(pt=>dt.has(pt.route.id)).map(pt=>pt.route.id).join(",")),[mt.pathname+mt.search]},[it,tt,rt,st,$,_e,nt]),ct=reactExports.useMemo(()=>getModuleLinkHrefs(ot,rt),[ot,rt]),ut=useKeyedPrefetchLinks(ot);return reactExports.createElement(reactExports.Fragment,null,lt.map(dt=>reactExports.createElement("link",{key:dt,rel:"prefetch",as:"fetch",href:dt,...et})),ct.map(dt=>reactExports.createElement("link",{key:dt,rel:"modulepreload",href:dt,...et})),ut.map(({key:dt,link:ht})=>reactExports.createElement("link",{key:dt,...ht})))}function mergeRefs(..._e){return $=>{_e.forEach(et=>{typeof et=="function"?et($):et!=null&&(et.current=$)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.1.1")}catch{}function BrowserRouter({basename:_e,children:$,window:et}){let tt=reactExports.useRef();tt.current==null&&(tt.current=createBrowserHistory({window:et,v5Compat:!0}));let rt=tt.current,[nt,it]=reactExports.useState({action:rt.action,location:rt.location}),at=reactExports.useCallback(st=>{reactExports.startTransition(()=>it(st))},[it]);return reactExports.useLayoutEffect(()=>rt.listen(at),[rt,at]),reactExports.createElement(Router,{basename:_e,children:$,location:nt.location,navigationType:nt.action,navigator:rt})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:$,discover:et="render",prefetch:tt="none",relative:rt,reloadDocument:nt,replace:it,state:at,target:st,to:ot,preventScrollReset:lt,viewTransition:ct,...ut},dt){let{basename:ht}=reactExports.useContext(NavigationContext),mt=typeof ot=="string"&&ABSOLUTE_URL_REGEX2.test(ot),pt,ft=!1;if(typeof ot=="string"&&mt&&(pt=ot,isBrowser$1))try{let St=new URL(window.location.href),Ot=ot.startsWith("//")?new URL(St.protocol+ot):new URL(ot),Et=stripBasename(Ot.pathname,ht);Ot.origin===St.origin&&Et!=null?ot=Et+Ot.search+Ot.hash:ft=!0}catch{warning(!1,`<Link to="${ot}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let gt=useHref(ot,{relative:rt}),[bt,_t,yt]=usePrefetchBehavior(tt,ut),vt=useLinkClickHandler(ot,{replace:it,state:at,target:st,preventScrollReset:lt,relative:rt,viewTransition:ct});function xt(St){$&&$(St),St.defaultPrevented||vt(St)}let wt=reactExports.createElement("a",{...ut,...yt,href:pt||gt,onClick:ft||nt?$:xt,ref:mergeRefs(dt,_t),target:st,"data-discover":!mt&&et==="render"?"true":void 0});return bt&&!mt?reactExports.createElement(reactExports.Fragment,null,wt,reactExports.createElement(PrefetchPageLinks,{page:gt})):wt});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":$="page",caseSensitive:et=!1,className:tt="",end:rt=!1,style:nt,to:it,viewTransition:at,children:st,...ot},lt){let ct=useResolvedPath(it,{relative:ot.relative}),ut=useLocation(),dt=reactExports.useContext(DataRouterStateContext),{navigator:ht,basename:mt}=reactExports.useContext(NavigationContext),pt=dt!=null&&useViewTransitionState(ct)&&at===!0,ft=ht.encodeLocation?ht.encodeLocation(ct).pathname:ct.pathname,gt=ut.pathname,bt=dt&&dt.navigation&&dt.navigation.location?dt.navigation.location.pathname:null;et||(gt=gt.toLowerCase(),bt=bt?bt.toLowerCase():null,ft=ft.toLowerCase()),bt&&mt&&(bt=stripBasename(bt,mt)||bt);const _t=ft!=="/"&&ft.endsWith("/")?ft.length-1:ft.length;let yt=gt===ft||!rt&&gt.startsWith(ft)&&gt.charAt(_t)==="/",vt=bt!=null&&(bt===ft||!rt&&bt.startsWith(ft)&&bt.charAt(ft.length)==="/"),xt={isActive:yt,isPending:vt,isTransitioning:pt},wt=yt?$:void 0,St;typeof tt=="function"?St=tt(xt):St=[tt,yt?"active":null,vt?"pending":null,pt?"transitioning":null].filter(Boolean).join(" ");let Ot=typeof nt=="function"?nt(xt):nt;return reactExports.createElement(Link,{...ot,"aria-current":wt,className:St,ref:lt,style:Ot,to:it,viewTransition:at},typeof st=="function"?st(xt):st)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:_e="render",fetcherKey:$,navigate:et,reloadDocument:tt,replace:rt,state:nt,method:it=defaultMethod,action:at,onSubmit:st,relative:ot,preventScrollReset:lt,viewTransition:ct,...ut},dt)=>{let ht=useSubmit(),mt=useFormAction(at,{relative:ot}),pt=it.toLowerCase()==="get"?"get":"post",ft=typeof at=="string"&&ABSOLUTE_URL_REGEX2.test(at),gt=bt=>{if(st&&st(bt),bt.defaultPrevented)return;bt.preventDefault();let _t=bt.nativeEvent.submitter,yt=(_t==null?void 0:_t.getAttribute("formmethod"))||it;ht(_t||bt.currentTarget,{fetcherKey:$,method:yt,navigate:et,replace:rt,state:nt,relative:ot,preventScrollReset:lt,viewTransition:ct})};return reactExports.createElement("form",{ref:dt,method:pt,action:mt,onSubmit:tt?st:gt,...ut,"data-discover":!ft&&_e==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(_e){return`${_e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(_e){let $=reactExports.useContext(DataRouterContext);return invariant$1($,getDataRouterConsoleError2(_e)),$}function useLinkClickHandler(_e,{target:$,replace:et,state:tt,preventScrollReset:rt,relative:nt,viewTransition:it}={}){let at=useNavigate(),st=useLocation(),ot=useResolvedPath(_e,{relative:nt});return reactExports.useCallback(lt=>{if(shouldProcessLinkClick(lt,$)){lt.preventDefault();let ct=et!==void 0?et:createPath(st)===createPath(ot);at(_e,{replace:ct,state:tt,preventScrollReset:rt,relative:nt,viewTransition:it})}},[st,at,ot,et,tt,$,_e,rt,nt,it])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:_e}=useDataRouterContext3("useSubmit"),{basename:$}=reactExports.useContext(NavigationContext),et=useRouteId();return reactExports.useCallback(async(tt,rt={})=>{let{action:nt,method:it,encType:at,formData:st,body:ot}=getFormSubmissionInfo(tt,$);if(rt.navigate===!1){let lt=rt.fetcherKey||getUniqueFetcherId();await _e.fetch(lt,et,rt.action||nt,{preventScrollReset:rt.preventScrollReset,formData:st,body:ot,formMethod:rt.method||it,formEncType:rt.encType||at,flushSync:rt.flushSync})}else await _e.navigate(rt.action||nt,{preventScrollReset:rt.preventScrollReset,formData:st,body:ot,formMethod:rt.method||it,formEncType:rt.encType||at,replace:rt.replace,state:rt.state,fromRouteId:et,flushSync:rt.flushSync,viewTransition:rt.viewTransition})},[_e,$,et])}function useFormAction(_e,{relative:$}={}){let{basename:et}=reactExports.useContext(NavigationContext),tt=reactExports.useContext(RouteContext);invariant$1(tt,"useFormAction must be used inside a RouteContext");let[rt]=tt.matches.slice(-1),nt={...useResolvedPath(_e||".",{relative:$})},it=useLocation();if(_e==null){nt.search=it.search;let at=new URLSearchParams(nt.search),st=at.getAll("index");if(st.some(lt=>lt==="")){at.delete("index"),st.filter(ct=>ct).forEach(ct=>at.append("index",ct));let lt=at.toString();nt.search=lt?`?${lt}`:""}}return(!_e||_e===".")&&rt.route.index&&(nt.search=nt.search?nt.search.replace(/^\?/,"?index&"):"?index"),et!=="/"&&(nt.pathname=nt.pathname==="/"?et:joinPaths([et,nt.pathname])),createPath(nt)}function useViewTransitionState(_e,$={}){let et=reactExports.useContext(ViewTransitionContext);invariant$1(et!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:tt}=useDataRouterContext3("useViewTransitionState"),rt=useResolvedPath(_e,{relative:$.relative});if(!et.isTransitioning)return!1;let nt=stripBasename(et.currentLocation.pathname,tt)||et.currentLocation.pathname,it=stripBasename(et.nextLocation.pathname,tt)||et.nextLocation.pathname;return matchPath(rt.pathname,it)!=null||matchPath(rt.pathname,nt)!=null}new TextEncoder;let e$1={data:""},t$1=_e=>typeof window=="object"?((_e?_e.querySelector("#_goober"):window._goober)||Object.assign((_e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:_e||e$1,l$1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$1=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(_e,$)=>{let et="",tt="",rt="";for(let nt in _e){let it=_e[nt];nt[0]=="@"?nt[1]=="i"?et=nt+" "+it+";":tt+=nt[1]=="f"?o(it,nt):nt+"{"+o(it,nt[1]=="k"?"":$)+"}":typeof it=="object"?tt+=o(it,$?$.replace(/([^,])+/g,at=>nt.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,st=>/&/.test(st)?st.replace(/&/g,at):at?at+" "+st:st)):nt):it!=null&&(nt=/^--/.test(nt)?nt:nt.replace(/[A-Z]/g,"-$&").toLowerCase(),rt+=o.p?o.p(nt,it):nt+":"+it+";")}return et+($&&rt?$+"{"+rt+"}":rt)+tt},c$3={},s$1=_e=>{if(typeof _e=="object"){let $="";for(let et in _e)$+=et+s$1(_e[et]);return $}return _e},i=(_e,$,et,tt,rt)=>{let nt=s$1(_e),it=c$3[nt]||(c$3[nt]=(st=>{let ot=0,lt=11;for(;ot<st.length;)lt=101*lt+st.charCodeAt(ot++)>>>0;return"go"+lt})(nt));if(!c$3[it]){let st=nt!==_e?_e:(ot=>{let lt,ct,ut=[{}];for(;lt=l$1.exec(ot.replace(a$1,""));)lt[4]?ut.shift():lt[3]?(ct=lt[3].replace(n$1," ").trim(),ut.unshift(ut[0][ct]=ut[0][ct]||{})):ut[0][lt[1]]=lt[2].replace(n$1," ").trim();return ut[0]})(_e);c$3[it]=o(rt?{["@keyframes "+it]:st}:st,et?"":"."+it)}let at=et&&c$3.g?c$3.g:null;return et&&(c$3.g=c$3[it]),((st,ot,lt,ct)=>{ct?ot.data=ot.data.replace(ct,st):ot.data.indexOf(st)===-1&&(ot.data=lt?st+ot.data:ot.data+st)})(c$3[it],$,tt,at),it},p$1=(_e,$,et)=>_e.reduce((tt,rt,nt)=>{let it=$[nt];if(it&&it.call){let at=it(et),st=at&&at.props&&at.props.className||/^go/.test(at)&&at;it=st?"."+st:at&&typeof at=="object"?at.props?"":o(at,""):at===!1?"":at}return tt+rt+(it??"")},"");function u$2(_e){let $=this||{},et=_e.call?_e($.p):_e;return i(et.unshift?et.raw?p$1(et,[].slice.call(arguments,1),$.p):et.reduce((tt,rt)=>Object.assign(tt,rt&&rt.call?rt($.p):rt),{}):et,t$1($.target),$.g,$.o,$.k)}let d$1,f$2,g$1;u$2.bind({g:1});let h$2=u$2.bind({k:1});function m$1(_e,$,et,tt){o.p=$,d$1=_e,f$2=et,g$1=tt}function j(_e,$){let et=this||{};return function(){let tt=arguments;function rt(nt,it){let at=Object.assign({},nt),st=at.className||rt.className;et.p=Object.assign({theme:f$2&&f$2()},at),et.o=/ *go\d+/.test(st),at.className=u$2.apply(et,tt)+(st?" "+st:"");let ot=_e;return _e[0]&&(ot=at.as||_e,delete at.as),g$1&&ot[0]&&g$1(at),d$1(ot,at)}return rt}}var W=_e=>typeof _e=="function",f$1=(_e,$)=>W(_e)?_e($):_e,F=(()=>{let _e=0;return()=>(++_e).toString()})(),S=(()=>{let _e;return()=>{if(_e===void 0&&typeof window<"u"){let $=matchMedia("(prefers-reduced-motion: reduce)");_e=!$||$.matches}return _e}})(),J=20,U=(_e,$)=>{switch($.type){case 0:return{..._e,toasts:[$.toast,..._e.toasts].slice(0,J)};case 1:return{..._e,toasts:_e.toasts.map(nt=>nt.id===$.toast.id?{...nt,...$.toast}:nt)};case 2:let{toast:et}=$;return U(_e,{type:_e.toasts.find(nt=>nt.id===et.id)?1:0,toast:et});case 3:let{toastId:tt}=$;return{..._e,toasts:_e.toasts.map(nt=>nt.id===tt||tt===void 0?{...nt,dismissed:!0,visible:!1}:nt)};case 4:return $.toastId===void 0?{..._e,toasts:[]}:{..._e,toasts:_e.toasts.filter(nt=>nt.id!==$.toastId)};case 5:return{..._e,pausedAt:$.time};case 6:let rt=$.time-(_e.pausedAt||0);return{..._e,pausedAt:void 0,toasts:_e.toasts.map(nt=>({...nt,pauseDuration:nt.pauseDuration+rt}))}}},A=[],P$1={toasts:[],pausedAt:void 0},u$1=_e=>{P$1=U(P$1,_e),A.forEach($=>{$(P$1)})},Q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D=(_e={})=>{let[$,et]=reactExports.useState(P$1);reactExports.useEffect(()=>(A.push(et),()=>{let rt=A.indexOf(et);rt>-1&&A.splice(rt,1)}),[$]);let tt=$.toasts.map(rt=>{var nt,it,at;return{..._e,..._e[rt.type],...rt,removeDelay:rt.removeDelay||((nt=_e[rt.type])==null?void 0:nt.removeDelay)||(_e==null?void 0:_e.removeDelay),duration:rt.duration||((it=_e[rt.type])==null?void 0:it.duration)||(_e==null?void 0:_e.duration)||Q[rt.type],style:{..._e.style,...(at=_e[rt.type])==null?void 0:at.style,...rt.style}}});return{...$,toasts:tt}},Y=(_e,$="blank",et)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:$,ariaProps:{role:"status","aria-live":"polite"},message:_e,pauseDuration:0,...et,id:(et==null?void 0:et.id)||F()}),h$1=_e=>($,et)=>{let tt=Y($,_e,et);return u$1({type:2,toast:tt}),tt.id},c$2=(_e,$)=>h$1("blank")(_e,$);c$2.error=h$1("error");c$2.success=h$1("success");c$2.loading=h$1("loading");c$2.custom=h$1("custom");c$2.dismiss=_e=>{u$1({type:3,toastId:_e})};c$2.remove=_e=>u$1({type:4,toastId:_e});c$2.promise=(_e,$,et)=>{let tt=c$2.loading($.loading,{...et,...et==null?void 0:et.loading});return typeof _e=="function"&&(_e=_e()),_e.then(rt=>{let nt=$.success?f$1($.success,rt):void 0;return nt?c$2.success(nt,{id:tt,...et,...et==null?void 0:et.success}):c$2.dismiss(tt),rt}).catch(rt=>{let nt=$.error?f$1($.error,rt):void 0;nt?c$2.error(nt,{id:tt,...et,...et==null?void 0:et.error}):c$2.dismiss(tt)}),_e};var q$1=(_e,$)=>{u$1({type:1,toast:{id:_e,height:$}})},G=()=>{u$1({type:5,time:Date.now()})},x$1=new Map,K=1e3,Z=(_e,$=K)=>{if(x$1.has(_e))return;let et=setTimeout(()=>{x$1.delete(_e),u$1({type:4,toastId:_e})},$);x$1.set(_e,et)},O=_e=>{let{toasts:$,pausedAt:et}=D(_e);reactExports.useEffect(()=>{if(et)return;let nt=Date.now(),it=$.map(at=>{if(at.duration===1/0)return;let st=(at.duration||0)+at.pauseDuration-(nt-at.createdAt);if(st<0){at.visible&&c$2.dismiss(at.id);return}return setTimeout(()=>c$2.dismiss(at.id),st)});return()=>{it.forEach(at=>at&&clearTimeout(at))}},[$,et]);let tt=reactExports.useCallback(()=>{et&&u$1({type:6,time:Date.now()})},[et]),rt=reactExports.useCallback((nt,it)=>{let{reverseOrder:at=!1,gutter:st=8,defaultPosition:ot}=it||{},lt=$.filter(dt=>(dt.position||ot)===(nt.position||ot)&&dt.height),ct=lt.findIndex(dt=>dt.id===nt.id),ut=lt.filter((dt,ht)=>ht<ct&&dt.visible).length;return lt.filter(dt=>dt.visible).slice(...at?[ut+1]:[0,ut]).reduce((dt,ht)=>dt+(ht.height||0)+st,0)},[$]);return reactExports.useEffect(()=>{$.forEach(nt=>{if(nt.dismissed)Z(nt.id,nt.removeDelay);else{let it=x$1.get(nt.id);it&&(clearTimeout(it),x$1.delete(nt.id))}})},[$]),{toasts:$,handlers:{updateHeight:q$1,startPause:G,endPause:tt,calculateOffset:rt}}},te=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oe=h$2`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,re$1=h$2`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k$2=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_e=>_e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${te} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${_e=>_e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${re$1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ie=h$2`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${_e=>_e.secondary||"#e0e0e0"};
  border-right-color: ${_e=>_e.primary||"#616161"};
  animation: ${ie} 1s linear infinite;
`,ce=h$2`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pe=h$2`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${_e=>_e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${_e=>_e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,me=j("div")`
  position: absolute;
`,ue=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,le=h$2`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${le} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:_e})=>{let{icon:$,type:et,iconTheme:tt}=_e;return $!==void 0?typeof $=="string"?reactExports.createElement(fe,null,$):$:et==="blank"?null:reactExports.createElement(ue,null,reactExports.createElement(V,{...tt}),et!=="loading"&&reactExports.createElement(me,null,et==="error"?reactExports.createElement(k$2,{...tt}):reactExports.createElement(_,{...tt})))},Te=_e=>`
0% {transform: translate3d(0,${_e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ye=_e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${_e*-150}%,-1px) scale(.6); opacity:0;}
`,ge="0%{opacity:0;} 100%{opacity:1;}",he="0%{opacity:1;} 100%{opacity:0;}",xe=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,be=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Se=(_e,$)=>{let et=_e.includes("top")?1:-1,[tt,rt]=S()?[ge,he]:[Te(et),ye(et)];return{animation:$?`${h$2(tt)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$2(rt)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C=reactExports.memo(({toast:_e,position:$,style:et,children:tt})=>{let rt=_e.height?Se(_e.position||$||"top-center",_e.visible):{opacity:0},nt=reactExports.createElement(M,{toast:_e}),it=reactExports.createElement(be,{..._e.ariaProps},f$1(_e.message,_e));return reactExports.createElement(xe,{className:_e.className,style:{...rt,...et,..._e.style}},typeof tt=="function"?tt({icon:nt,message:it}):reactExports.createElement(reactExports.Fragment,null,nt,it))});m$1(reactExports.createElement);var ve=({id:_e,className:$,style:et,onHeightUpdate:tt,children:rt})=>{let nt=reactExports.useCallback(it=>{if(it){let at=()=>{let st=it.getBoundingClientRect().height;tt(_e,st)};at(),new MutationObserver(at).observe(it,{subtree:!0,childList:!0,characterData:!0})}},[_e,tt]);return reactExports.createElement("div",{ref:nt,className:$,style:et},rt)},Ee=(_e,$)=>{let et=_e.includes("top"),tt=et?{top:0}:{bottom:0},rt=_e.includes("center")?{justifyContent:"center"}:_e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:S()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${$*(et?1:-1)}px)`,...tt,...rt}},Re=u$2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,v$1=16,De=({reverseOrder:_e,position:$="top-center",toastOptions:et,gutter:tt,children:rt,containerStyle:nt,containerClassName:it})=>{let{toasts:at,handlers:st}=O(et);return reactExports.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:v$1,left:v$1,right:v$1,bottom:v$1,pointerEvents:"none",...nt},className:it,onMouseEnter:st.startPause,onMouseLeave:st.endPause},at.map(ot=>{let lt=ot.position||$,ct=st.calculateOffset(ot,{reverseOrder:_e,gutter:tt,defaultPosition:$}),ut=Ee(lt,ct);return reactExports.createElement(ve,{id:ot.id,key:ot.id,onHeightUpdate:st.updateHeight,className:ot.visible?Re:"",style:ut},ot.type==="custom"?f$1(ot.message,ot):rt?rt(ot):reactExports.createElement(C,{toast:ot,position:lt}))}))},kt=c$2;const scriptRel="modulepreload",assetsURL=function(_e){return"/budget/"+_e},seen={},__vitePreload=function($,et,tt){let rt=Promise.resolve();if(et&&et.length>0){document.getElementsByTagName("link");const it=document.querySelector("meta[property=csp-nonce]"),at=(it==null?void 0:it.nonce)||(it==null?void 0:it.getAttribute("nonce"));rt=Promise.allSettled(et.map(st=>{if(st=assetsURL(st),st in seen)return;seen[st]=!0;const ot=st.endsWith(".css"),lt=ot?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${st}"]${lt}`))return;const ct=document.createElement("link");if(ct.rel=ot?"stylesheet":scriptRel,ot||(ct.as="script"),ct.crossOrigin="",ct.href=st,at&&ct.setAttribute("nonce",at),document.head.appendChild(ct),ot)return new Promise((ut,dt)=>{ct.addEventListener("load",ut),ct.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${st}`)))})}))}function nt(it){const at=new Event("vite:preloadError",{cancelable:!0});if(at.payload=it,window.dispatchEvent(at),!at.defaultPrevented)throw it}return rt.then(it=>{for(const at of it||[])at.status==="rejected"&&nt(at.reason);return $().catch(nt)})},resolveFetch$3=_e=>{let $;return _e?$=_e:typeof fetch>"u"?$=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},[]).then(({default:tt})=>tt(...et)):$=fetch,(...et)=>$(...et)};class FunctionsError extends Error{constructor($,et="FunctionsError",tt){super($),this.name=et,this.context=tt}}class FunctionsFetchError extends FunctionsError{constructor($){super("Failed to send a request to the Edge Function","FunctionsFetchError",$)}}class FunctionsRelayError extends FunctionsError{constructor($){super("Relay Error invoking the Edge Function","FunctionsRelayError",$)}}class FunctionsHttpError extends FunctionsError{constructor($){super("Edge Function returned a non-2xx status code","FunctionsHttpError",$)}}var FunctionRegion;(function(_e){_e.Any="any",_e.ApNortheast1="ap-northeast-1",_e.ApNortheast2="ap-northeast-2",_e.ApSouth1="ap-south-1",_e.ApSoutheast1="ap-southeast-1",_e.ApSoutheast2="ap-southeast-2",_e.CaCentral1="ca-central-1",_e.EuCentral1="eu-central-1",_e.EuWest1="eu-west-1",_e.EuWest2="eu-west-2",_e.EuWest3="eu-west-3",_e.SaEast1="sa-east-1",_e.UsEast1="us-east-1",_e.UsWest1="us-west-1",_e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};class FunctionsClient{constructor($,{headers:et={},customFetch:tt,region:rt=FunctionRegion.Any}={}){this.url=$,this.headers=et,this.region=rt,this.fetch=resolveFetch$3(tt)}setAuth($){this.headers.Authorization=`Bearer ${$}`}invoke($,et={}){var tt;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:rt,method:nt,body:it}=et;let at={},{region:st}=et;st||(st=this.region),st&&st!=="any"&&(at["x-region"]=st);let ot;it&&(rt&&!Object.prototype.hasOwnProperty.call(rt,"Content-Type")||!rt)&&(typeof Blob<"u"&&it instanceof Blob||it instanceof ArrayBuffer?(at["Content-Type"]="application/octet-stream",ot=it):typeof it=="string"?(at["Content-Type"]="text/plain",ot=it):typeof FormData<"u"&&it instanceof FormData?ot=it:(at["Content-Type"]="application/json",ot=JSON.stringify(it)));const lt=yield this.fetch(`${this.url}/${$}`,{method:nt||"POST",headers:Object.assign(Object.assign(Object.assign({},at),this.headers),rt),body:ot}).catch(ht=>{throw new FunctionsFetchError(ht)}),ct=lt.headers.get("x-relay-error");if(ct&&ct==="true")throw new FunctionsRelayError(lt);if(!lt.ok)throw new FunctionsHttpError(lt);let ut=((tt=lt.headers.get("Content-Type"))!==null&&tt!==void 0?tt:"text/plain").split(";")[0].trim(),dt;return ut==="application/json"?dt=yield lt.json():ut==="application/octet-stream"?dt=yield lt.blob():ut==="text/event-stream"?dt=lt:ut==="multipart/form-data"?dt=yield lt.formData():dt=yield lt.text(),{data:dt,error:null}}catch(rt){return{data:null,error:rt}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor($){super($.message),this.name="PostgrestError",this.details=$.details,this.hint=$.hint,this.code=$.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor($){this.shouldThrowOnError=!1,this.method=$.method,this.url=$.url,this.headers=$.headers,this.schema=$.schema,this.body=$.body,this.shouldThrowOnError=$.shouldThrowOnError,this.signal=$.signal,this.isMaybeSingle=$.isMaybeSingle,$.fetch?this.fetch=$.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader($,et){return this.headers=Object.assign({},this.headers),this.headers[$]=et,this}then($,et){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const tt=this.fetch;let rt=tt(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async nt=>{var it,at,st;let ot=null,lt=null,ct=null,ut=nt.status,dt=nt.statusText;if(nt.ok){if(this.method!=="HEAD"){const ft=await nt.text();ft===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?lt=ft:lt=JSON.parse(ft))}const mt=(it=this.headers.Prefer)===null||it===void 0?void 0:it.match(/count=(exact|planned|estimated)/),pt=(at=nt.headers.get("content-range"))===null||at===void 0?void 0:at.split("/");mt&&pt&&pt.length>1&&(ct=parseInt(pt[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(lt)&&(lt.length>1?(ot={code:"PGRST116",details:`Results contain ${lt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},lt=null,ct=null,ut=406,dt="Not Acceptable"):lt.length===1?lt=lt[0]:lt=null)}else{const mt=await nt.text();try{ot=JSON.parse(mt),Array.isArray(ot)&&nt.status===404&&(lt=[],ot=null,ut=200,dt="OK")}catch{nt.status===404&&mt===""?(ut=204,dt="No Content"):ot={message:mt}}if(ot&&this.isMaybeSingle&&(!((st=ot==null?void 0:ot.details)===null||st===void 0)&&st.includes("0 rows"))&&(ot=null,ut=200,dt="OK"),ot&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(ot)}return{error:ot,data:lt,count:ct,status:ut,statusText:dt}});return this.shouldThrowOnError||(rt=rt.catch(nt=>{var it,at,st;return{error:{message:`${(it=nt==null?void 0:nt.name)!==null&&it!==void 0?it:"FetchError"}: ${nt==null?void 0:nt.message}`,details:`${(at=nt==null?void 0:nt.stack)!==null&&at!==void 0?at:""}`,hint:"",code:`${(st=nt==null?void 0:nt.code)!==null&&st!==void 0?st:""}`},data:null,count:null,status:0,statusText:""}})),rt.then($,et)}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select($){let et=!1;const tt=($??"*").split("").map(rt=>/\s/.test(rt)&&!et?"":(rt==='"'&&(et=!et),rt)).join("");return this.url.searchParams.set("select",tt),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order($,{ascending:et=!0,nullsFirst:tt,foreignTable:rt,referencedTable:nt=rt}={}){const it=nt?`${nt}.order`:"order",at=this.url.searchParams.get(it);return this.url.searchParams.set(it,`${at?`${at},`:""}${$}.${et?"asc":"desc"}${tt===void 0?"":tt?".nullsfirst":".nullslast"}`),this}limit($,{foreignTable:et,referencedTable:tt=et}={}){const rt=typeof tt>"u"?"limit":`${tt}.limit`;return this.url.searchParams.set(rt,`${$}`),this}range($,et,{foreignTable:tt,referencedTable:rt=tt}={}){const nt=typeof rt>"u"?"offset":`${rt}.offset`,it=typeof rt>"u"?"limit":`${rt}.limit`;return this.url.searchParams.set(nt,`${$}`),this.url.searchParams.set(it,`${et-$+1}`),this}abortSignal($){return this.signal=$,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:$=!1,verbose:et=!1,settings:tt=!1,buffers:rt=!1,wal:nt=!1,format:it="text"}={}){var at;const st=[$?"analyze":null,et?"verbose":null,tt?"settings":null,rt?"buffers":null,nt?"wal":null].filter(Boolean).join("|"),ot=(at=this.headers.Accept)!==null&&at!==void 0?at:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${it}; for="${ot}"; options=${st};`,it==="json"?this:this}rollback(){var $;return(($=this.headers.Prefer)!==null&&$!==void 0?$:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq($,et){return this.url.searchParams.append($,`eq.${et}`),this}neq($,et){return this.url.searchParams.append($,`neq.${et}`),this}gt($,et){return this.url.searchParams.append($,`gt.${et}`),this}gte($,et){return this.url.searchParams.append($,`gte.${et}`),this}lt($,et){return this.url.searchParams.append($,`lt.${et}`),this}lte($,et){return this.url.searchParams.append($,`lte.${et}`),this}like($,et){return this.url.searchParams.append($,`like.${et}`),this}likeAllOf($,et){return this.url.searchParams.append($,`like(all).{${et.join(",")}}`),this}likeAnyOf($,et){return this.url.searchParams.append($,`like(any).{${et.join(",")}}`),this}ilike($,et){return this.url.searchParams.append($,`ilike.${et}`),this}ilikeAllOf($,et){return this.url.searchParams.append($,`ilike(all).{${et.join(",")}}`),this}ilikeAnyOf($,et){return this.url.searchParams.append($,`ilike(any).{${et.join(",")}}`),this}is($,et){return this.url.searchParams.append($,`is.${et}`),this}in($,et){const tt=Array.from(new Set(et)).map(rt=>typeof rt=="string"&&new RegExp("[,()]").test(rt)?`"${rt}"`:`${rt}`).join(",");return this.url.searchParams.append($,`in.(${tt})`),this}contains($,et){return typeof et=="string"?this.url.searchParams.append($,`cs.${et}`):Array.isArray(et)?this.url.searchParams.append($,`cs.{${et.join(",")}}`):this.url.searchParams.append($,`cs.${JSON.stringify(et)}`),this}containedBy($,et){return typeof et=="string"?this.url.searchParams.append($,`cd.${et}`):Array.isArray(et)?this.url.searchParams.append($,`cd.{${et.join(",")}}`):this.url.searchParams.append($,`cd.${JSON.stringify(et)}`),this}rangeGt($,et){return this.url.searchParams.append($,`sr.${et}`),this}rangeGte($,et){return this.url.searchParams.append($,`nxl.${et}`),this}rangeLt($,et){return this.url.searchParams.append($,`sl.${et}`),this}rangeLte($,et){return this.url.searchParams.append($,`nxr.${et}`),this}rangeAdjacent($,et){return this.url.searchParams.append($,`adj.${et}`),this}overlaps($,et){return typeof et=="string"?this.url.searchParams.append($,`ov.${et}`):this.url.searchParams.append($,`ov.{${et.join(",")}}`),this}textSearch($,et,{config:tt,type:rt}={}){let nt="";rt==="plain"?nt="pl":rt==="phrase"?nt="ph":rt==="websearch"&&(nt="w");const it=tt===void 0?"":`(${tt})`;return this.url.searchParams.append($,`${nt}fts${it}.${et}`),this}match($){return Object.entries($).forEach(([et,tt])=>{this.url.searchParams.append(et,`eq.${tt}`)}),this}not($,et,tt){return this.url.searchParams.append($,`not.${et}.${tt}`),this}or($,{foreignTable:et,referencedTable:tt=et}={}){const rt=tt?`${tt}.or`:"or";return this.url.searchParams.append(rt,`(${$})`),this}filter($,et,tt){return this.url.searchParams.append($,`${et}.${tt}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor($,{headers:et={},schema:tt,fetch:rt}){this.url=$,this.headers=et,this.schema=tt,this.fetch=rt}select($,{head:et=!1,count:tt}={}){const rt=et?"HEAD":"GET";let nt=!1;const it=($??"*").split("").map(at=>/\s/.test(at)&&!nt?"":(at==='"'&&(nt=!nt),at)).join("");return this.url.searchParams.set("select",it),tt&&(this.headers.Prefer=`count=${tt}`),new PostgrestFilterBuilder_1$2.default({method:rt,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert($,{count:et,defaultToNull:tt=!0}={}){const rt="POST",nt=[];if(this.headers.Prefer&&nt.push(this.headers.Prefer),et&&nt.push(`count=${et}`),tt||nt.push("missing=default"),this.headers.Prefer=nt.join(","),Array.isArray($)){const it=$.reduce((at,st)=>at.concat(Object.keys(st)),[]);if(it.length>0){const at=[...new Set(it)].map(st=>`"${st}"`);this.url.searchParams.set("columns",at.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:rt,url:this.url,headers:this.headers,schema:this.schema,body:$,fetch:this.fetch,allowEmpty:!1})}upsert($,{onConflict:et,ignoreDuplicates:tt=!1,count:rt,defaultToNull:nt=!0}={}){const it="POST",at=[`resolution=${tt?"ignore":"merge"}-duplicates`];if(et!==void 0&&this.url.searchParams.set("on_conflict",et),this.headers.Prefer&&at.push(this.headers.Prefer),rt&&at.push(`count=${rt}`),nt||at.push("missing=default"),this.headers.Prefer=at.join(","),Array.isArray($)){const st=$.reduce((ot,lt)=>ot.concat(Object.keys(lt)),[]);if(st.length>0){const ot=[...new Set(st)].map(lt=>`"${lt}"`);this.url.searchParams.set("columns",ot.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:it,url:this.url,headers:this.headers,schema:this.schema,body:$,fetch:this.fetch,allowEmpty:!1})}update($,{count:et}={}){const tt="PATCH",rt=[];return this.headers.Prefer&&rt.push(this.headers.Prefer),et&&rt.push(`count=${et}`),this.headers.Prefer=rt.join(","),new PostgrestFilterBuilder_1$2.default({method:tt,url:this.url,headers:this.headers,schema:this.schema,body:$,fetch:this.fetch,allowEmpty:!1})}delete({count:$}={}){const et="DELETE",tt=[];return $&&tt.push(`count=${$}`),this.headers.Prefer&&tt.unshift(this.headers.Prefer),this.headers.Prefer=tt.join(","),new PostgrestFilterBuilder_1$2.default({method:et,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants$1={},version$5={};Object.defineProperty(version$5,"__esModule",{value:!0});version$5.version=void 0;version$5.version="0.0.0-automated";Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.DEFAULT_HEADERS=void 0;const version_1=version$5;constants$1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2),constants_1=constants$1;let PostgrestClient$1=class ds{constructor($,{headers:et={},schema:tt,fetch:rt}={}){this.url=$,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),et),this.schemaName=tt,this.fetch=rt}from($){const et=new URL(`${this.url}/${$}`);return new PostgrestQueryBuilder_1$1.default(et,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema($){return new ds(this.url,{headers:this.headers,schema:$,fetch:this.fetch})}rpc($,et={},{head:tt=!1,get:rt=!1,count:nt}={}){let it;const at=new URL(`${this.url}/rpc/${$}`);let st;tt||rt?(it=tt?"HEAD":"GET",Object.entries(et).filter(([lt,ct])=>ct!==void 0).map(([lt,ct])=>[lt,Array.isArray(ct)?`{${ct.join(",")}}`:`${ct}`]).forEach(([lt,ct])=>{at.searchParams.append(lt,ct)})):(it="POST",st=et);const ot=Object.assign({},this.headers);return nt&&(ot.Prefer=`count=${nt}`),new PostgrestFilterBuilder_1$1.default({method:it,url:at,headers:ot,schema:this.schemaName,body:st,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default,version$4="2.11.2",DEFAULT_HEADERS$3={"X-Client-Info":`realtime-js/${version$4}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(_e){_e[_e.connecting=0]="connecting",_e[_e.open=1]="open",_e[_e.closing=2]="closing",_e[_e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(_e){_e.closed="closed",_e.errored="errored",_e.joined="joined",_e.joining="joining",_e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(_e){_e.close="phx_close",_e.error="phx_error",_e.join="phx_join",_e.reply="phx_reply",_e.leave="phx_leave",_e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(_e){_e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(_e){_e.Connecting="connecting",_e.Open="open",_e.Closing="closing",_e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode($,et){return $.constructor===ArrayBuffer?et(this._binaryDecode($)):et(typeof $=="string"?JSON.parse($):{})}_binaryDecode($){const et=new DataView($),tt=new TextDecoder;return this._decodeBroadcast($,et,tt)}_decodeBroadcast($,et,tt){const rt=et.getUint8(1),nt=et.getUint8(2);let it=this.HEADER_LENGTH+2;const at=tt.decode($.slice(it,it+rt));it=it+rt;const st=tt.decode($.slice(it,it+nt));it=it+nt;const ot=JSON.parse(tt.decode($.slice(it,$.byteLength)));return{ref:null,topic:at,event:st,payload:ot}}}class Timer{constructor($,et){this.callback=$,this.timerCalc=et,this.timer=void 0,this.tries=0,this.callback=$,this.timerCalc=et}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(_e){_e.abstime="abstime",_e.bool="bool",_e.date="date",_e.daterange="daterange",_e.float4="float4",_e.float8="float8",_e.int2="int2",_e.int4="int4",_e.int4range="int4range",_e.int8="int8",_e.int8range="int8range",_e.json="json",_e.jsonb="jsonb",_e.money="money",_e.numeric="numeric",_e.oid="oid",_e.reltime="reltime",_e.text="text",_e.time="time",_e.timestamp="timestamp",_e.timestamptz="timestamptz",_e.timetz="timetz",_e.tsrange="tsrange",_e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(_e,$,et={})=>{var tt;const rt=(tt=et.skipTypes)!==null&&tt!==void 0?tt:[];return Object.keys($).reduce((nt,it)=>(nt[it]=convertColumn(it,_e,$,rt),nt),{})},convertColumn=(_e,$,et,tt)=>{const rt=$.find(at=>at.name===_e),nt=rt==null?void 0:rt.type,it=et[_e];return nt&&!tt.includes(nt)?convertCell(nt,it):noop$5(it)},convertCell=(_e,$)=>{if(_e.charAt(0)==="_"){const et=_e.slice(1,_e.length);return toArray$1($,et)}switch(_e){case PostgresTypes.bool:return toBoolean($);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$3($);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson($);case PostgresTypes.timestamp:return toTimestampString($);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$5($);default:return noop$5($)}},noop$5=_e=>_e,toBoolean=_e=>{switch(_e){case"t":return!0;case"f":return!1;default:return _e}},toNumber$3=_e=>{if(typeof _e=="string"){const $=parseFloat(_e);if(!Number.isNaN($))return $}return _e},toJson=_e=>{if(typeof _e=="string")try{return JSON.parse(_e)}catch($){return console.log(`JSON parse error: ${$}`),_e}return _e},toArray$1=(_e,$)=>{if(typeof _e!="string")return _e;const et=_e.length-1,tt=_e[et];if(_e[0]==="{"&&tt==="}"){let nt;const it=_e.slice(1,et);try{nt=JSON.parse("["+it+"]")}catch{nt=it?it.split(","):[]}return nt.map(at=>convertCell($,at))}return _e},toTimestampString=_e=>typeof _e=="string"?_e.replace(" ","T"):_e,httpEndpointURL=_e=>{let $=_e;return $=$.replace(/^ws/i,"http"),$=$.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),$.replace(/\/+$/,"")};class Push{constructor($,et,tt={},rt=DEFAULT_TIMEOUT){this.channel=$,this.event=et,this.payload=tt,this.timeout=rt,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend($){this.timeout=$,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload($){this.payload=Object.assign(Object.assign({},this.payload),$)}receive($,et){var tt;return this._hasReceived($)&&et((tt=this.receivedResp)===null||tt===void 0?void 0:tt.response),this.recHooks.push({status:$,callback:et}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const $=et=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=et,this._matchReceive(et)};this.channel._on(this.refEvent,{},$),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger($,et){this.refEvent&&this.channel._trigger(this.refEvent,{status:$,response:et})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:$,response:et}){this.recHooks.filter(tt=>tt.status===$).forEach(tt=>tt.callback(et))}_hasReceived($){return this.receivedResp&&this.receivedResp.status===$}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(_e){_e.SYNC="sync",_e.JOIN="join",_e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor($,et){this.channel=$,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const tt=(et==null?void 0:et.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(tt.state,{},rt=>{const{onJoin:nt,onLeave:it,onSync:at}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,rt,nt,it),this.pendingDiffs.forEach(st=>{this.state=RealtimePresence.syncDiff(this.state,st,nt,it)}),this.pendingDiffs=[],at()}),this.channel._on(tt.diff,{},rt=>{const{onJoin:nt,onLeave:it,onSync:at}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(rt):(this.state=RealtimePresence.syncDiff(this.state,rt,nt,it),at())}),this.onJoin((rt,nt,it)=>{this.channel._trigger("presence",{event:"join",key:rt,currentPresences:nt,newPresences:it})}),this.onLeave((rt,nt,it)=>{this.channel._trigger("presence",{event:"leave",key:rt,currentPresences:nt,leftPresences:it})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState($,et,tt,rt){const nt=this.cloneDeep($),it=this.transformState(et),at={},st={};return this.map(nt,(ot,lt)=>{it[ot]||(st[ot]=lt)}),this.map(it,(ot,lt)=>{const ct=nt[ot];if(ct){const ut=lt.map(pt=>pt.presence_ref),dt=ct.map(pt=>pt.presence_ref),ht=lt.filter(pt=>dt.indexOf(pt.presence_ref)<0),mt=ct.filter(pt=>ut.indexOf(pt.presence_ref)<0);ht.length>0&&(at[ot]=ht),mt.length>0&&(st[ot]=mt)}else at[ot]=lt}),this.syncDiff(nt,{joins:at,leaves:st},tt,rt)}static syncDiff($,et,tt,rt){const{joins:nt,leaves:it}={joins:this.transformState(et.joins),leaves:this.transformState(et.leaves)};return tt||(tt=()=>{}),rt||(rt=()=>{}),this.map(nt,(at,st)=>{var ot;const lt=(ot=$[at])!==null&&ot!==void 0?ot:[];if($[at]=this.cloneDeep(st),lt.length>0){const ct=$[at].map(dt=>dt.presence_ref),ut=lt.filter(dt=>ct.indexOf(dt.presence_ref)<0);$[at].unshift(...ut)}tt(at,lt,st)}),this.map(it,(at,st)=>{let ot=$[at];if(!ot)return;const lt=st.map(ct=>ct.presence_ref);ot=ot.filter(ct=>lt.indexOf(ct.presence_ref)<0),$[at]=ot,rt(at,ot,st),ot.length===0&&delete $[at]}),$}static map($,et){return Object.getOwnPropertyNames($).map(tt=>et(tt,$[tt]))}static transformState($){return $=this.cloneDeep($),Object.getOwnPropertyNames($).reduce((et,tt)=>{const rt=$[tt];return"metas"in rt?et[tt]=rt.metas.map(nt=>(nt.presence_ref=nt.phx_ref,delete nt.phx_ref,delete nt.phx_ref_prev,nt)):et[tt]=rt,et},{})}static cloneDeep($){return JSON.parse(JSON.stringify($))}onJoin($){this.caller.onJoin=$}onLeave($){this.caller.onLeave=$}onSync($){this.caller.onSync=$}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(_e){_e.ALL="*",_e.INSERT="INSERT",_e.UPDATE="UPDATE",_e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(_e){_e.BROADCAST="broadcast",_e.PRESENCE="presence",_e.POSTGRES_CHANGES="postgres_changes",_e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(_e){_e.SUBSCRIBED="SUBSCRIBED",_e.TIMED_OUT="TIMED_OUT",_e.CLOSED="CLOSED",_e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor($,et={config:{}},tt){this.topic=$,this.params=et,this.socket=tt,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=$.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},et.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(rt=>rt.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(rt=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,rt),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(rt,nt)=>{this._trigger(this._replyEventName(nt),rt)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe($,et=this.timeout){var tt,rt;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:nt,presence:it,private:at}}=this.params;this._onError(lt=>$==null?void 0:$(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,lt)),this._onClose(()=>$==null?void 0:$(REALTIME_SUBSCRIBE_STATES.CLOSED));const st={},ot={broadcast:nt,presence:it,postgres_changes:(rt=(tt=this.bindings.postgres_changes)===null||tt===void 0?void 0:tt.map(lt=>lt.filter))!==null&&rt!==void 0?rt:[],private:at};this.socket.accessTokenValue&&(st.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:ot},st)),this.joinedOnce=!0,this._rejoin(et),this.joinPush.receive("ok",async({postgres_changes:lt})=>{var ct;if(this.socket.setAuth(),lt===void 0){$==null||$(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const ut=this.bindings.postgres_changes,dt=(ct=ut==null?void 0:ut.length)!==null&&ct!==void 0?ct:0,ht=[];for(let mt=0;mt<dt;mt++){const pt=ut[mt],{filter:{event:ft,schema:gt,table:bt,filter:_t}}=pt,yt=lt&&lt[mt];if(yt&&yt.event===ft&&yt.schema===gt&&yt.table===bt&&yt.filter===_t)ht.push(Object.assign(Object.assign({},pt),{id:yt.id}));else{this.unsubscribe(),$==null||$(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ht,$&&$(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",lt=>{$==null||$(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(lt).join(", ")||"error")))}).receive("timeout",()=>{$==null||$(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track($,et={}){return await this.send({type:"presence",event:"track",payload:$},et.timeout||this.timeout)}async untrack($={}){return await this.send({type:"presence",event:"untrack"},$)}on($,et,tt){return this._on($,et,tt)}async send($,et={}){var tt,rt;if(!this._canPush()&&$.type==="broadcast"){const{event:nt,payload:it}=$,st={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:nt,payload:it,private:this.private}]})};try{const ot=await this._fetchWithTimeout(this.broadcastEndpointURL,st,(tt=et.timeout)!==null&&tt!==void 0?tt:this.timeout);return await((rt=ot.body)===null||rt===void 0?void 0:rt.cancel()),ot.ok?"ok":"error"}catch(ot){return ot.name==="AbortError"?"timed out":"error"}}else return new Promise(nt=>{var it,at,st;const ot=this._push($.type,$,et.timeout||this.timeout);$.type==="broadcast"&&!(!((st=(at=(it=this.params)===null||it===void 0?void 0:it.config)===null||at===void 0?void 0:at.broadcast)===null||st===void 0)&&st.ack)&&nt("ok"),ot.receive("ok",()=>nt("ok")),ot.receive("error",()=>nt("error")),ot.receive("timeout",()=>nt("timed out"))})}updateJoinPayload($){this.joinPush.updatePayload($)}unsubscribe($=this.timeout){this.state=CHANNEL_STATES.leaving;const et=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(tt=>{const rt=new Push(this,CHANNEL_EVENTS.leave,{},$);rt.receive("ok",()=>{et(),tt("ok")}).receive("timeout",()=>{et(),tt("timed out")}).receive("error",()=>{tt("error")}),rt.send(),this._canPush()||rt.trigger("ok",{})})}async _fetchWithTimeout($,et,tt){const rt=new AbortController,nt=setTimeout(()=>rt.abort(),tt),it=await this.socket.fetch($,Object.assign(Object.assign({},et),{signal:rt.signal}));return clearTimeout(nt),it}_push($,et,tt=this.timeout){if(!this.joinedOnce)throw`tried to push '${$}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let rt=new Push(this,$,et,tt);return this._canPush()?rt.send():(rt.startTimeout(),this.pushBuffer.push(rt)),rt}_onMessage($,et,tt){return et}_isMember($){return this.topic===$}_joinRef(){return this.joinPush.ref}_trigger($,et,tt){var rt,nt;const it=$.toLocaleLowerCase(),{close:at,error:st,leave:ot,join:lt}=CHANNEL_EVENTS;if(tt&&[at,st,ot,lt].indexOf(it)>=0&&tt!==this._joinRef())return;let ut=this._onMessage(it,et,tt);if(et&&!ut)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(it)?(rt=this.bindings.postgres_changes)===null||rt===void 0||rt.filter(dt=>{var ht,mt,pt;return((ht=dt.filter)===null||ht===void 0?void 0:ht.event)==="*"||((pt=(mt=dt.filter)===null||mt===void 0?void 0:mt.event)===null||pt===void 0?void 0:pt.toLocaleLowerCase())===it}).map(dt=>dt.callback(ut,tt)):(nt=this.bindings[it])===null||nt===void 0||nt.filter(dt=>{var ht,mt,pt,ft,gt,bt;if(["broadcast","presence","postgres_changes"].includes(it))if("id"in dt){const _t=dt.id,yt=(ht=dt.filter)===null||ht===void 0?void 0:ht.event;return _t&&((mt=et.ids)===null||mt===void 0?void 0:mt.includes(_t))&&(yt==="*"||(yt==null?void 0:yt.toLocaleLowerCase())===((pt=et.data)===null||pt===void 0?void 0:pt.type.toLocaleLowerCase()))}else{const _t=(gt=(ft=dt==null?void 0:dt.filter)===null||ft===void 0?void 0:ft.event)===null||gt===void 0?void 0:gt.toLocaleLowerCase();return _t==="*"||_t===((bt=et==null?void 0:et.event)===null||bt===void 0?void 0:bt.toLocaleLowerCase())}else return dt.type.toLocaleLowerCase()===it}).map(dt=>{if(typeof ut=="object"&&"ids"in ut){const ht=ut.data,{schema:mt,table:pt,commit_timestamp:ft,type:gt,errors:bt}=ht;ut=Object.assign(Object.assign({},{schema:mt,table:pt,commit_timestamp:ft,eventType:gt,new:{},old:{},errors:bt}),this._getPayloadRecords(ht))}dt.callback(ut,tt)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName($){return`chan_reply_${$}`}_on($,et,tt){const rt=$.toLocaleLowerCase(),nt={type:rt,filter:et,callback:tt};return this.bindings[rt]?this.bindings[rt].push(nt):this.bindings[rt]=[nt],this}_off($,et){const tt=$.toLocaleLowerCase();return this.bindings[tt]=this.bindings[tt].filter(rt=>{var nt;return!(((nt=rt.type)===null||nt===void 0?void 0:nt.toLocaleLowerCase())===tt&&RealtimeChannel.isEqual(rt.filter,et))}),this}static isEqual($,et){if(Object.keys($).length!==Object.keys(et).length)return!1;for(const tt in $)if($[tt]!==et[tt])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose($){this._on(CHANNEL_EVENTS.close,{},$)}_onError($){this._on(CHANNEL_EVENTS.error,{},et=>$(et))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin($=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend($))}_getPayloadRecords($){const et={new:{},old:{}};return($.type==="INSERT"||$.type==="UPDATE")&&(et.new=convertChangeData($.columns,$.record)),($.type==="UPDATE"||$.type==="DELETE")&&(et.old=convertChangeData($.columns,$.old_record)),et}}const noop$4=()=>{},NATIVE_WEBSOCKET_AVAILABLE=typeof WebSocket<"u",WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor($,et){var tt;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=DEFAULT_HEADERS$3,this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop$4,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=nt=>{let it;return nt?it=nt:typeof fetch>"u"?it=(...at)=>__vitePreload(async()=>{const{default:st}=await Promise.resolve().then(()=>browser);return{default:st}},void 0).then(({default:st})=>st(...at)):it=fetch,(...at)=>it(...at)},this.endPoint=`${$}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL($),et!=null&&et.transport?this.transport=et.transport:this.transport=null,et!=null&&et.params&&(this.params=et.params),et!=null&&et.headers&&(this.headers=Object.assign(Object.assign({},this.headers),et.headers)),et!=null&&et.timeout&&(this.timeout=et.timeout),et!=null&&et.logger&&(this.logger=et.logger),et!=null&&et.heartbeatIntervalMs&&(this.heartbeatIntervalMs=et.heartbeatIntervalMs);const rt=(tt=et==null?void 0:et.params)===null||tt===void 0?void 0:tt.apikey;if(rt&&(this.accessTokenValue=rt,this.apiKey=rt),this.reconnectAfterMs=et!=null&&et.reconnectAfterMs?et.reconnectAfterMs:nt=>[1e3,2e3,5e3,1e4][nt-1]||1e4,this.encode=et!=null&&et.encode?et.encode:(nt,it)=>it(JSON.stringify(nt)),this.decode=et!=null&&et.decode?et.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(et==null?void 0:et.fetch),et!=null&&et.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(et==null?void 0:et.worker)||!1,this.workerUrl=et==null?void 0:et.workerUrl}this.accessToken=(et==null?void 0:et.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(NATIVE_WEBSOCKET_AVAILABLE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new WSWebSocketDummy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),__vitePreload(async()=>{const{default:$}=await import("./browser.BHdqeN7-.js").then(et=>et.b);return{default:$}},[]).then(({default:$})=>{this.conn=new $(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect($,et){this.conn&&(this.conn.onclose=function(){},$?this.conn.close($,et??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel($){const et=await $.unsubscribe();return this.channels.length===0&&this.disconnect(),et}async removeAllChannels(){const $=await Promise.all(this.channels.map(et=>et.unsubscribe()));return this.disconnect(),$}log($,et,tt){this.logger($,et,tt)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel($,et={config:{}}){const tt=new RealtimeChannel(`realtime:${$}`,et,this);return this.channels.push(tt),tt}push($){const{topic:et,event:tt,payload:rt,ref:nt}=$,it=()=>{this.encode($,at=>{var st;(st=this.conn)===null||st===void 0||st.send(at)})};this.log("push",`${et} ${tt} (${nt})`,rt),this.isConnected()?it():this.sendBuffer.push(it)}async setAuth($=null){let et=$||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(et){let tt=null;try{tt=JSON.parse(atob(et.split(".")[1]))}catch{}if(tt&&tt.exp&&!(Math.floor(Date.now()/1e3)-tt.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${tt.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${tt.exp}`);this.accessTokenValue=et,this.channels.forEach(rt=>{et&&rt.updateJoinPayload({access_token:et}),rt.joinedOnce&&rt._isJoined()&&rt._push(CHANNEL_EVENTS.access_token,{access_token:et})})}}async sendHeartbeat(){var $;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),($=this.conn)===null||$===void 0||$.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach($=>$()),this.sendBuffer=[])}_makeRef(){let $=this.ref+1;return $===this.ref?this.ref=0:this.ref=$,this.ref.toString()}_leaveOpenTopic($){let et=this.channels.find(tt=>tt.topic===$&&(tt._isJoined()||tt._isJoining()));et&&(this.log("transport",`leaving duplicate topic "${$}"`),et.unsubscribe())}_remove($){this.channels=this.channels.filter(et=>et._joinRef()!==$._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=$=>this._onConnError($),this.conn.onmessage=$=>this._onConnMessage($),this.conn.onclose=$=>this._onConnClose($))}_onConnMessage($){this.decode($.data,et=>{let{topic:tt,event:rt,payload:nt,ref:it}=et;it&&it===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${nt.status||""} ${tt} ${rt} ${it&&"("+it+")"||""}`,nt),this.channels.filter(at=>at._isMember(tt)).forEach(at=>at._trigger(rt,nt,it)),this.stateChangeCallbacks.message.forEach(at=>at(et))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const $=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker($),this.workerRef.onerror=et=>{this.log("worker","worker error",et.message),this.workerRef.terminate()},this.workerRef.onmessage=et=>{et.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach($=>$())}_onConnClose($){this.log("transport","close",$),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(et=>et($))}_onConnError($){this.log("transport",$.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(et=>et($))}_triggerChanError(){this.channels.forEach($=>$._trigger(CHANNEL_EVENTS.error))}_appendParams($,et){if(Object.keys(et).length===0)return $;const tt=$.match(/\?/)?"&":"?",rt=new URLSearchParams(et);return`${$}${tt}${rt}`}_workerObjectUrl($){let et;if($)et=$;else{const tt=new Blob([WORKER_SCRIPT],{type:"application/javascript"});et=URL.createObjectURL(tt)}return et}}class WSWebSocketDummy{constructor($,et,tt){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=SOCKET_STATES.connecting,this.send=()=>{},this.url=null,this.url=$,this.close=tt.close}}class StorageError extends Error{constructor($){super($),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(_e){return typeof _e=="object"&&_e!==null&&"__isStorageError"in _e}class StorageApiError extends StorageError{constructor($,et){super($),this.name="StorageApiError",this.status=et}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class StorageUnknownError extends StorageError{constructor($,et){super($),this.name="StorageUnknownError",this.originalError=et}}var __awaiter$6=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};const resolveFetch$2=_e=>{let $;return _e?$=_e:typeof fetch>"u"?$=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},void 0).then(({default:tt})=>tt(...et)):$=fetch,(...et)=>$(...et)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=_e=>{if(Array.isArray(_e))return _e.map(et=>recursiveToCamel(et));if(typeof _e=="function"||_e!==Object(_e))return _e;const $={};return Object.entries(_e).forEach(([et,tt])=>{const rt=et.replace(/([-_][a-z])/gi,nt=>nt.toUpperCase().replace(/[-_]/g,""));$[rt]=recursiveToCamel(tt)}),$};var __awaiter$5=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};const _getErrorMessage$1=_e=>_e.msg||_e.message||_e.error_description||_e.error||JSON.stringify(_e),handleError$1=(_e,$,et)=>__awaiter$5(void 0,void 0,void 0,function*(){const tt=yield resolveResponse();_e instanceof tt&&!(et!=null&&et.noResolveJson)?_e.json().then(rt=>{$(new StorageApiError(_getErrorMessage$1(rt),_e.status||500))}).catch(rt=>{$(new StorageUnknownError(_getErrorMessage$1(rt),rt))}):$(new StorageUnknownError(_getErrorMessage$1(_e),_e))}),_getRequestParams$1=(_e,$,et,tt)=>{const rt={method:_e,headers:($==null?void 0:$.headers)||{}};return _e==="GET"?rt:(rt.headers=Object.assign({"Content-Type":"application/json"},$==null?void 0:$.headers),tt&&(rt.body=JSON.stringify(tt)),Object.assign(Object.assign({},rt),et))};function _handleRequest$1(_e,$,et,tt,rt,nt){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((it,at)=>{_e(et,_getRequestParams$1($,tt,rt,nt)).then(st=>{if(!st.ok)throw st;return tt!=null&&tt.noResolveJson?st:st.json()}).then(st=>it(st)).catch(st=>handleError$1(st,at,tt))})})}function get$3(_e,$,et,tt){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(_e,"GET",$,et,tt)})}function post(_e,$,et,tt,rt){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(_e,"POST",$,tt,rt,et)})}function put(_e,$,et,tt,rt){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(_e,"PUT",$,tt,rt,et)})}function head(_e,$,et,tt){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(_e,"HEAD",$,Object.assign(Object.assign({},et),{noResolveJson:!0}),tt)})}function remove(_e,$,et,tt,rt){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(_e,"DELETE",$,tt,rt,et)})}var __awaiter$4=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor($,et={},tt,rt){this.url=$,this.headers=et,this.bucketId=tt,this.fetch=resolveFetch$2(rt)}uploadOrUpdate($,et,tt,rt){return __awaiter$4(this,void 0,void 0,function*(){try{let nt;const it=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),rt);let at=Object.assign(Object.assign({},this.headers),$==="POST"&&{"x-upsert":String(it.upsert)});const st=it.metadata;typeof Blob<"u"&&tt instanceof Blob?(nt=new FormData,nt.append("cacheControl",it.cacheControl),st&&nt.append("metadata",this.encodeMetadata(st)),nt.append("",tt)):typeof FormData<"u"&&tt instanceof FormData?(nt=tt,nt.append("cacheControl",it.cacheControl),st&&nt.append("metadata",this.encodeMetadata(st))):(nt=tt,at["cache-control"]=`max-age=${it.cacheControl}`,at["content-type"]=it.contentType,st&&(at["x-metadata"]=this.toBase64(this.encodeMetadata(st)))),rt!=null&&rt.headers&&(at=Object.assign(Object.assign({},at),rt.headers));const ot=this._removeEmptyFolders(et),lt=this._getFinalPath(ot),ct=yield this.fetch(`${this.url}/object/${lt}`,Object.assign({method:$,body:nt,headers:at},it!=null&&it.duplex?{duplex:it.duplex}:{})),ut=yield ct.json();return ct.ok?{data:{path:ot,id:ut.Id,fullPath:ut.Key},error:null}:{data:null,error:ut}}catch(nt){if(isStorageError(nt))return{data:null,error:nt};throw nt}})}upload($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",$,et,tt)})}uploadToSignedUrl($,et,tt,rt){return __awaiter$4(this,void 0,void 0,function*(){const nt=this._removeEmptyFolders($),it=this._getFinalPath(nt),at=new URL(this.url+`/object/upload/sign/${it}`);at.searchParams.set("token",et);try{let st;const ot=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},rt),lt=Object.assign(Object.assign({},this.headers),{"x-upsert":String(ot.upsert)});typeof Blob<"u"&&tt instanceof Blob?(st=new FormData,st.append("cacheControl",ot.cacheControl),st.append("",tt)):typeof FormData<"u"&&tt instanceof FormData?(st=tt,st.append("cacheControl",ot.cacheControl)):(st=tt,lt["cache-control"]=`max-age=${ot.cacheControl}`,lt["content-type"]=ot.contentType);const ct=yield this.fetch(at.toString(),{method:"PUT",body:st,headers:lt}),ut=yield ct.json();return ct.ok?{data:{path:nt,fullPath:ut.Key},error:null}:{data:null,error:ut}}catch(st){if(isStorageError(st))return{data:null,error:st};throw st}})}createSignedUploadUrl($,et){return __awaiter$4(this,void 0,void 0,function*(){try{let tt=this._getFinalPath($);const rt=Object.assign({},this.headers);et!=null&&et.upsert&&(rt["x-upsert"]="true");const nt=yield post(this.fetch,`${this.url}/object/upload/sign/${tt}`,{},{headers:rt}),it=new URL(this.url+nt.url),at=it.searchParams.get("token");if(!at)throw new StorageError("No token returned by API");return{data:{signedUrl:it.toString(),path:$,token:at},error:null}}catch(tt){if(isStorageError(tt))return{data:null,error:tt};throw tt}})}update($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",$,et,tt)})}move($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:$,destinationKey:et,destinationBucket:tt==null?void 0:tt.destinationBucket},{headers:this.headers}),error:null}}catch(rt){if(isStorageError(rt))return{data:null,error:rt};throw rt}})}copy($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:$,destinationKey:et,destinationBucket:tt==null?void 0:tt.destinationBucket},{headers:this.headers})).Key},error:null}}catch(rt){if(isStorageError(rt))return{data:null,error:rt};throw rt}})}createSignedUrl($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){try{let rt=this._getFinalPath($),nt=yield post(this.fetch,`${this.url}/object/sign/${rt}`,Object.assign({expiresIn:et},tt!=null&&tt.transform?{transform:tt.transform}:{}),{headers:this.headers});const it=tt!=null&&tt.download?`&download=${tt.download===!0?"":tt.download}`:"";return nt={signedUrl:encodeURI(`${this.url}${nt.signedURL}${it}`)},{data:nt,error:null}}catch(rt){if(isStorageError(rt))return{data:null,error:rt};throw rt}})}createSignedUrls($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){try{const rt=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:et,paths:$},{headers:this.headers}),nt=tt!=null&&tt.download?`&download=${tt.download===!0?"":tt.download}`:"";return{data:rt.map(it=>Object.assign(Object.assign({},it),{signedUrl:it.signedURL?encodeURI(`${this.url}${it.signedURL}${nt}`):null})),error:null}}catch(rt){if(isStorageError(rt))return{data:null,error:rt};throw rt}})}download($,et){return __awaiter$4(this,void 0,void 0,function*(){const rt=typeof(et==null?void 0:et.transform)<"u"?"render/image/authenticated":"object",nt=this.transformOptsToQueryString((et==null?void 0:et.transform)||{}),it=nt?`?${nt}`:"";try{const at=this._getFinalPath($);return{data:yield(yield get$3(this.fetch,`${this.url}/${rt}/${at}${it}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(at){if(isStorageError(at))return{data:null,error:at};throw at}})}info($){return __awaiter$4(this,void 0,void 0,function*(){const et=this._getFinalPath($);try{const tt=yield get$3(this.fetch,`${this.url}/object/info/${et}`,{headers:this.headers});return{data:recursiveToCamel(tt),error:null}}catch(tt){if(isStorageError(tt))return{data:null,error:tt};throw tt}})}exists($){return __awaiter$4(this,void 0,void 0,function*(){const et=this._getFinalPath($);try{return yield head(this.fetch,`${this.url}/object/${et}`,{headers:this.headers}),{data:!0,error:null}}catch(tt){if(isStorageError(tt)&&tt instanceof StorageUnknownError){const rt=tt.originalError;if([400,404].includes(rt==null?void 0:rt.status))return{data:!1,error:tt}}throw tt}})}getPublicUrl($,et){const tt=this._getFinalPath($),rt=[],nt=et!=null&&et.download?`download=${et.download===!0?"":et.download}`:"";nt!==""&&rt.push(nt);const at=typeof(et==null?void 0:et.transform)<"u"?"render/image":"object",st=this.transformOptsToQueryString((et==null?void 0:et.transform)||{});st!==""&&rt.push(st);let ot=rt.join("&");return ot!==""&&(ot=`?${ot}`),{data:{publicUrl:encodeURI(`${this.url}/${at}/public/${tt}${ot}`)}}}remove($){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:$},{headers:this.headers}),error:null}}catch(et){if(isStorageError(et))return{data:null,error:et};throw et}})}list($,et,tt){return __awaiter$4(this,void 0,void 0,function*(){try{const rt=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),et),{prefix:$||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,rt,{headers:this.headers},tt),error:null}}catch(rt){if(isStorageError(rt))return{data:null,error:rt};throw rt}})}encodeMetadata($){return JSON.stringify($)}toBase64($){return typeof Buffer<"u"?Buffer.from($).toString("base64"):btoa($)}_getFinalPath($){return`${this.bucketId}/${$}`}_removeEmptyFolders($){return $.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString($){const et=[];return $.width&&et.push(`width=${$.width}`),$.height&&et.push(`height=${$.height}`),$.resize&&et.push(`resize=${$.resize}`),$.format&&et.push(`format=${$.format}`),$.quality&&et.push(`quality=${$.quality}`),et.join("&")}}const version$3="2.7.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`};var __awaiter$3=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};class StorageBucketApi{constructor($,et={},tt){this.url=$,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),et),this.fetch=resolveFetch$2(tt)}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch($){if(isStorageError($))return{data:null,error:$};throw $}})}getBucket($){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket/${$}`,{headers:this.headers}),error:null}}catch(et){if(isStorageError(et))return{data:null,error:et};throw et}})}createBucket($,et={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:$,name:$,public:et.public,file_size_limit:et.fileSizeLimit,allowed_mime_types:et.allowedMimeTypes},{headers:this.headers}),error:null}}catch(tt){if(isStorageError(tt))return{data:null,error:tt};throw tt}})}updateBucket($,et){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${$}`,{id:$,name:$,public:et.public,file_size_limit:et.fileSizeLimit,allowed_mime_types:et.allowedMimeTypes},{headers:this.headers}),error:null}}catch(tt){if(isStorageError(tt))return{data:null,error:tt};throw tt}})}emptyBucket($){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${$}/empty`,{},{headers:this.headers}),error:null}}catch(et){if(isStorageError(et))return{data:null,error:et};throw et}})}deleteBucket($){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${$}`,{},{headers:this.headers}),error:null}}catch(et){if(isStorageError(et))return{data:null,error:et};throw et}})}}class StorageClient extends StorageBucketApi{constructor($,et={},tt){super($,et,tt)}from($){return new StorageFileApi(this.url,this.headers,$,this.fetch)}}const version$2="2.47.10";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$2}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};const resolveFetch$1=_e=>{let $;return _e?$=_e:typeof fetch>"u"?$=nodeFetch:$=fetch,(...et)=>$(...et)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(_e,$,et)=>{const tt=resolveFetch$1(et),rt=resolveHeadersConstructor();return(nt,it)=>__awaiter$2(void 0,void 0,void 0,function*(){var at;const st=(at=yield $())!==null&&at!==void 0?at:_e;let ot=new rt(it==null?void 0:it.headers);return ot.has("apikey")||ot.set("apikey",_e),ot.has("Authorization")||ot.set("Authorization",`Bearer ${st}`),tt(nt,Object.assign(Object.assign({},it),{headers:ot}))})};var __awaiter$1=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};function stripTrailingSlash(_e){return _e.replace(/\/$/,"")}function applySettingDefaults(_e,$){const{db:et,auth:tt,realtime:rt,global:nt}=_e,{db:it,auth:at,realtime:st,global:ot}=$,lt={db:Object.assign(Object.assign({},it),et),auth:Object.assign(Object.assign({},at),tt),realtime:Object.assign(Object.assign({},st),rt),global:Object.assign(Object.assign({},ot),nt),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return _e.accessToken?lt.accessToken=_e.accessToken:delete lt.accessToken,lt}const version$1="2.67.3",GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version$1}`},EXPIRY_MARGIN=10,API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function expiresAt(_e){return Math.round(Date.now()/1e3)+_e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_e){const $=Math.random()*16|0;return(_e=="x"?$:$&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const _e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(_e,_e),globalThis.localStorage.removeItem(_e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(_e){const $={},et=new URL(_e);if(et.hash&&et.hash[0]==="#")try{new URLSearchParams(et.hash.substring(1)).forEach((rt,nt)=>{$[nt]=rt})}catch{}return et.searchParams.forEach((tt,rt)=>{$[rt]=tt}),$}const resolveFetch=_e=>{let $;return _e?$=_e:typeof fetch>"u"?$=(...et)=>__vitePreload(async()=>{const{default:tt}=await Promise.resolve().then(()=>browser);return{default:tt}},void 0).then(({default:tt})=>tt(...et)):$=fetch,(...et)=>$(...et)},looksLikeFetchResponse=_e=>typeof _e=="object"&&_e!==null&&"status"in _e&&"ok"in _e&&"json"in _e&&typeof _e.json=="function",setItemAsync=async(_e,$,et)=>{await _e.setItem($,JSON.stringify(et))},getItemAsync=async(_e,$)=>{const et=await _e.getItem($);if(!et)return null;try{return JSON.parse(et)}catch{return et}},removeItemAsync=async(_e,$)=>{await _e.removeItem($)};function decodeBase64URL(_e){const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let et="",tt,rt,nt,it,at,st,ot,lt=0;for(_e=_e.replace("-","+").replace("_","/");lt<_e.length;)it=$.indexOf(_e.charAt(lt++)),at=$.indexOf(_e.charAt(lt++)),st=$.indexOf(_e.charAt(lt++)),ot=$.indexOf(_e.charAt(lt++)),tt=it<<2|at>>4,rt=(at&15)<<4|st>>2,nt=(st&3)<<6|ot,et=et+String.fromCharCode(tt),st!=64&&rt!=0&&(et=et+String.fromCharCode(rt)),ot!=64&&nt!=0&&(et=et+String.fromCharCode(nt));return et}class Deferred{constructor(){this.promise=new Deferred.promiseConstructor(($,et)=>{this.resolve=$,this.reject=et})}}Deferred.promiseConstructor=Promise;function decodeJWTPayload(_e){const $=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,et=_e.split(".");if(et.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!$.test(et[1]))throw new Error("JWT is not valid: payload is not in base64url format");const tt=et[1];return JSON.parse(decodeBase64URL(tt))}async function sleep(_e){return await new Promise($=>{setTimeout(()=>$(null),_e)})}function retryable(_e,$){return new Promise((tt,rt)=>{(async()=>{for(let nt=0;nt<1/0;nt++)try{const it=await _e(nt);if(!$(nt,null,it)){tt(it);return}}catch(it){if(!$(nt,it)){rt(it);return}}})()})}function dec2hex(_e){return("0"+_e.toString(16)).substr(-2)}function generatePKCEVerifier(){const $=new Uint32Array(56);if(typeof crypto>"u"){const et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",tt=et.length;let rt="";for(let nt=0;nt<56;nt++)rt+=et.charAt(Math.floor(Math.random()*tt));return rt}return crypto.getRandomValues($),Array.from($,dec2hex).join("")}async function sha256(_e){const et=new TextEncoder().encode(_e),tt=await crypto.subtle.digest("SHA-256",et),rt=new Uint8Array(tt);return Array.from(rt).map(nt=>String.fromCharCode(nt)).join("")}function base64urlencode(_e){return btoa(_e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function generatePKCEChallenge(_e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),_e;const et=await sha256(_e);return base64urlencode(et)}async function getCodeChallengeAndMethod(_e,$,et=!1){const tt=generatePKCEVerifier();let rt=tt;et&&(rt+="/PASSWORD_RECOVERY"),await setItemAsync(_e,`${$}-code-verifier`,rt);const nt=await generatePKCEChallenge(tt);return[nt,tt===nt?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(_e){const $=_e.headers.get(API_VERSION_HEADER_NAME);if(!$||!$.match(API_VERSION_REGEX))return null;try{return new Date(`${$}T00:00:00.0Z`)}catch{return null}}class AuthError extends Error{constructor($,et,tt){super($),this.__isAuthError=!0,this.name="AuthError",this.status=et,this.code=tt}}function isAuthError(_e){return typeof _e=="object"&&_e!==null&&"__isAuthError"in _e}class AuthApiError extends AuthError{constructor($,et,tt){super($,et,tt),this.name="AuthApiError",this.status=et,this.code=tt}}function isAuthApiError(_e){return isAuthError(_e)&&_e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor($,et){super($),this.name="AuthUnknownError",this.originalError=et}}class CustomAuthError extends AuthError{constructor($,et,tt,rt){super($,tt,rt),this.name=et,this.status=tt}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(_e){return isAuthError(_e)&&_e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor($){super($,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor($,et=null){super($,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=et}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(_e){return isAuthError(_e)&&_e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor($,et=null){super($,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=et}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor($,et){super($,"AuthRetryableFetchError",et,void 0)}}function isAuthRetryableFetchError(_e){return isAuthError(_e)&&_e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor($,et,tt){super($,"AuthWeakPasswordError",et,"weak_password"),this.reasons=tt}}var __rest$1=function(_e,$){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&$.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)$.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const _getErrorMessage=_e=>_e.msg||_e.message||_e.error_description||_e.error||JSON.stringify(_e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(_e){var $;if(!looksLikeFetchResponse(_e))throw new AuthRetryableFetchError(_getErrorMessage(_e),0);if(NETWORK_ERROR_CODES.includes(_e.status))throw new AuthRetryableFetchError(_getErrorMessage(_e),_e.status);let et;try{et=await _e.json()}catch(nt){throw new AuthUnknownError(_getErrorMessage(nt),nt)}let tt;const rt=parseResponseAPIVersion(_e);if(rt&&rt.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof et=="object"&&et&&typeof et.code=="string"?tt=et.code:typeof et=="object"&&et&&typeof et.error_code=="string"&&(tt=et.error_code),tt){if(tt==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(et),_e.status,(($=et.weak_password)===null||$===void 0?void 0:$.reasons)||[]);if(tt==="session_not_found")throw new AuthSessionMissingError}else if(typeof et=="object"&&et&&typeof et.weak_password=="object"&&et.weak_password&&Array.isArray(et.weak_password.reasons)&&et.weak_password.reasons.length&&et.weak_password.reasons.reduce((nt,it)=>nt&&typeof it=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(et),_e.status,et.weak_password.reasons);throw new AuthApiError(_getErrorMessage(et),_e.status||500,tt)}const _getRequestParams=(_e,$,et,tt)=>{const rt={method:_e,headers:($==null?void 0:$.headers)||{}};return _e==="GET"?rt:(rt.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},$==null?void 0:$.headers),rt.body=JSON.stringify(tt),Object.assign(Object.assign({},rt),et))};async function _request(_e,$,et,tt){var rt;const nt=Object.assign({},tt==null?void 0:tt.headers);nt[API_VERSION_HEADER_NAME]||(nt[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),tt!=null&&tt.jwt&&(nt.Authorization=`Bearer ${tt.jwt}`);const it=(rt=tt==null?void 0:tt.query)!==null&&rt!==void 0?rt:{};tt!=null&&tt.redirectTo&&(it.redirect_to=tt.redirectTo);const at=Object.keys(it).length?"?"+new URLSearchParams(it).toString():"",st=await _handleRequest(_e,$,et+at,{headers:nt,noResolveJson:tt==null?void 0:tt.noResolveJson},{},tt==null?void 0:tt.body);return tt!=null&&tt.xform?tt==null?void 0:tt.xform(st):{data:Object.assign({},st),error:null}}async function _handleRequest(_e,$,et,tt,rt,nt){const it=_getRequestParams($,tt,rt,nt);let at;try{at=await _e(et,Object.assign({},it))}catch(st){throw console.error(st),new AuthRetryableFetchError(_getErrorMessage(st),0)}if(at.ok||await handleError(at),tt!=null&&tt.noResolveJson)return at;try{return await at.json()}catch(st){await handleError(st)}}function _sessionResponse(_e){var $;let et=null;hasSession(_e)&&(et=Object.assign({},_e),_e.expires_at||(et.expires_at=expiresAt(_e.expires_in)));const tt=($=_e.user)!==null&&$!==void 0?$:_e;return{data:{session:et,user:tt},error:null}}function _sessionResponsePassword(_e){const $=_sessionResponse(_e);return!$.error&&_e.weak_password&&typeof _e.weak_password=="object"&&Array.isArray(_e.weak_password.reasons)&&_e.weak_password.reasons.length&&_e.weak_password.message&&typeof _e.weak_password.message=="string"&&_e.weak_password.reasons.reduce((et,tt)=>et&&typeof tt=="string",!0)&&($.data.weak_password=_e.weak_password),$}function _userResponse(_e){var $;return{data:{user:($=_e.user)!==null&&$!==void 0?$:_e},error:null}}function _ssoResponse(_e){return{data:_e,error:null}}function _generateLinkResponse(_e){const{action_link:$,email_otp:et,hashed_token:tt,redirect_to:rt,verification_type:nt}=_e,it=__rest$1(_e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),at={action_link:$,email_otp:et,hashed_token:tt,redirect_to:rt,verification_type:nt},st=Object.assign({},it);return{data:{properties:at,user:st},error:null}}function _noResolveJsonResponse(_e){return _e}function hasSession(_e){return _e.access_token&&_e.refresh_token&&_e.expires_in}var __rest=function(_e,$){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&$.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)$.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};class GoTrueAdminApi{constructor({url:$="",headers:et={},fetch:tt}){this.url=$,this.headers=et,this.fetch=resolveFetch(tt),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut($,et="global"){try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${et}`,{headers:this.headers,jwt:$,noResolveJson:!0}),{data:null,error:null}}catch(tt){if(isAuthError(tt))return{data:null,error:tt};throw tt}}async inviteUserByEmail($,et={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:$,data:et.data},headers:this.headers,redirectTo:et.redirectTo,xform:_userResponse})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async generateLink($){try{const{options:et}=$,tt=__rest($,["options"]),rt=Object.assign(Object.assign({},tt),et);return"newEmail"in tt&&(rt.new_email=tt==null?void 0:tt.newEmail,delete rt.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:rt,headers:this.headers,xform:_generateLinkResponse,redirectTo:et==null?void 0:et.redirectTo})}catch(et){if(isAuthError(et))return{data:{properties:null,user:null},error:et};throw et}}async createUser($){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:$,headers:this.headers,xform:_userResponse})}catch(et){if(isAuthError(et))return{data:{user:null},error:et};throw et}}async listUsers($){var et,tt,rt,nt,it,at,st;try{const ot={nextPage:null,lastPage:0,total:0},lt=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(tt=(et=$==null?void 0:$.page)===null||et===void 0?void 0:et.toString())!==null&&tt!==void 0?tt:"",per_page:(nt=(rt=$==null?void 0:$.perPage)===null||rt===void 0?void 0:rt.toString())!==null&&nt!==void 0?nt:""},xform:_noResolveJsonResponse});if(lt.error)throw lt.error;const ct=await lt.json(),ut=(it=lt.headers.get("x-total-count"))!==null&&it!==void 0?it:0,dt=(st=(at=lt.headers.get("link"))===null||at===void 0?void 0:at.split(","))!==null&&st!==void 0?st:[];return dt.length>0&&(dt.forEach(ht=>{const mt=parseInt(ht.split(";")[0].split("=")[1].substring(0,1)),pt=JSON.parse(ht.split(";")[1].split("=")[1]);ot[`${pt}Page`]=mt}),ot.total=parseInt(ut)),{data:Object.assign(Object.assign({},ct),ot),error:null}}catch(ot){if(isAuthError(ot))return{data:{users:[]},error:ot};throw ot}}async getUserById($){try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${$}`,{headers:this.headers,xform:_userResponse})}catch(et){if(isAuthError(et))return{data:{user:null},error:et};throw et}}async updateUserById($,et){try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${$}`,{body:et,headers:this.headers,xform:_userResponse})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async deleteUser($,et=!1){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${$}`,{headers:this.headers,body:{should_soft_delete:et},xform:_userResponse})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}async _listFactors($){try{const{data:et,error:tt}=await _request(this.fetch,"GET",`${this.url}/admin/users/${$.userId}/factors`,{headers:this.headers,xform:rt=>({data:{factors:rt},error:null})});return{data:et,error:tt}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _deleteFactor($){try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${$.userId}/factors/${$.id}`,{headers:this.headers}),error:null}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}}const localStorageAdapter={getItem:_e=>supportsLocalStorage()?globalThis.localStorage.getItem(_e):null,setItem:(_e,$)=>{supportsLocalStorage()&&globalThis.localStorage.setItem(_e,$)},removeItem:_e=>{supportsLocalStorage()&&globalThis.localStorage.removeItem(_e)}};function memoryLocalStorageAdapter(_e={}){return{getItem:$=>_e[$]||null,setItem:($,et)=>{_e[$]=et},removeItem:$=>{delete _e[$]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor($){super($),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(_e,$,et){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",_e,$);const tt=new globalThis.AbortController;return $>0&&setTimeout(()=>{tt.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",_e)},$),await Promise.resolve().then(()=>globalThis.navigator.locks.request(_e,$===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:tt.signal},async rt=>{if(rt){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",_e,rt.name);try{return await et()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",_e,rt.name)}}else{if($===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",_e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${_e}" immediately failed`);if(internals.debug)try{const nt=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(nt,null,"  "))}catch(nt){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",nt)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await et()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},AUTO_REFRESH_TICK_DURATION=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3;async function lockNoOp(_e,$,et){return await et()}class GoTrueClient{constructor($){var et,tt;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const rt=Object.assign(Object.assign({},DEFAULT_OPTIONS),$);if(this.logDebugMessages=!!rt.debug,typeof rt.debug=="function"&&(this.logger=rt.debug),this.persistSession=rt.persistSession,this.storageKey=rt.storageKey,this.autoRefreshToken=rt.autoRefreshToken,this.admin=new GoTrueAdminApi({url:rt.url,headers:rt.headers,fetch:rt.fetch}),this.url=rt.url,this.headers=rt.headers,this.fetch=resolveFetch(rt.fetch),this.lock=rt.lock||lockNoOp,this.detectSessionInUrl=rt.detectSessionInUrl,this.flowType=rt.flowType,this.hasCustomAuthorizationHeader=rt.hasCustomAuthorizationHeader,rt.lock?this.lock=rt.lock:isBrowser()&&(!((et=globalThis==null?void 0:globalThis.navigator)===null||et===void 0)&&et.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?rt.storage?this.storage=rt.storage:supportsLocalStorage()?this.storage=localStorageAdapter:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(nt){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",nt)}(tt=this.broadcastChannel)===null||tt===void 0||tt.addEventListener("message",async nt=>{this._debug("received broadcast notification from other tab or client",nt),await this._notifyAllSubscribers(nt.data.event,nt.data.session,!1)})}this.initialize()}_debug(...$){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version$1}) ${new Date().toISOString()}`,...$),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var $;try{const et=parseParametersFromURL(window.location.href);let tt="none";if(this._isImplicitGrantCallback(et)?tt="implicit":await this._isPKCECallback(et)&&(tt="pkce"),isBrowser()&&this.detectSessionInUrl&&tt!=="none"){const{data:rt,error:nt}=await this._getSessionFromURL(et,tt);if(nt){if(this._debug("#_initialize()","error detecting session from URL",nt),isAuthImplicitGrantRedirectError(nt)){const st=($=nt.details)===null||$===void 0?void 0:$.code;if(st==="identity_already_exists"||st==="identity_not_found"||st==="single_identity_not_deletable")return{error:nt}}return await this._removeSession(),{error:nt}}const{session:it,redirectType:at}=rt;return this._debug("#_initialize()","detected session in URL",it,"redirect type",at),await this._saveSession(it),setTimeout(async()=>{at==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",it):await this._notifyAllSubscribers("SIGNED_IN",it)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(et){return isAuthError(et)?{error:et}:{error:new AuthUnknownError("Unexpected error during initialization",et)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously($){var et,tt,rt;try{const nt=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(tt=(et=$==null?void 0:$.options)===null||et===void 0?void 0:et.data)!==null&&tt!==void 0?tt:{},gotrue_meta_security:{captcha_token:(rt=$==null?void 0:$.options)===null||rt===void 0?void 0:rt.captchaToken}},xform:_sessionResponse}),{data:it,error:at}=nt;if(at||!it)return{data:{user:null,session:null},error:at};const st=it.session,ot=it.user;return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",st)),{data:{user:ot,session:st},error:null}}catch(nt){if(isAuthError(nt))return{data:{user:null,session:null},error:nt};throw nt}}async signUp($){var et,tt,rt;try{let nt;if("email"in $){const{email:lt,password:ct,options:ut}=$;let dt=null,ht=null;this.flowType==="pkce"&&([dt,ht]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),nt=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:ut==null?void 0:ut.emailRedirectTo,body:{email:lt,password:ct,data:(et=ut==null?void 0:ut.data)!==null&&et!==void 0?et:{},gotrue_meta_security:{captcha_token:ut==null?void 0:ut.captchaToken},code_challenge:dt,code_challenge_method:ht},xform:_sessionResponse})}else if("phone"in $){const{phone:lt,password:ct,options:ut}=$;nt=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:lt,password:ct,data:(tt=ut==null?void 0:ut.data)!==null&&tt!==void 0?tt:{},channel:(rt=ut==null?void 0:ut.channel)!==null&&rt!==void 0?rt:"sms",gotrue_meta_security:{captcha_token:ut==null?void 0:ut.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:it,error:at}=nt;if(at||!it)return{data:{user:null,session:null},error:at};const st=it.session,ot=it.user;return it.session&&(await this._saveSession(it.session),await this._notifyAllSubscribers("SIGNED_IN",st)),{data:{user:ot,session:st},error:null}}catch(nt){if(isAuthError(nt))return{data:{user:null,session:null},error:nt};throw nt}}async signInWithPassword($){try{let et;if("email"in $){const{email:nt,password:it,options:at}=$;et=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:nt,password:it,gotrue_meta_security:{captcha_token:at==null?void 0:at.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in $){const{phone:nt,password:it,options:at}=$;et=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:nt,password:it,gotrue_meta_security:{captcha_token:at==null?void 0:at.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:tt,error:rt}=et;return rt?{data:{user:null,session:null},error:rt}:!tt||!tt.session||!tt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(tt.session&&(await this._saveSession(tt.session),await this._notifyAllSubscribers("SIGNED_IN",tt.session)),{data:Object.assign({user:tt.user,session:tt.session},tt.weak_password?{weakPassword:tt.weak_password}:null),error:rt})}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async signInWithOAuth($){var et,tt,rt,nt;return await this._handleProviderSignIn($.provider,{redirectTo:(et=$.options)===null||et===void 0?void 0:et.redirectTo,scopes:(tt=$.options)===null||tt===void 0?void 0:tt.scopes,queryParams:(rt=$.options)===null||rt===void 0?void 0:rt.queryParams,skipBrowserRedirect:(nt=$.options)===null||nt===void 0?void 0:nt.skipBrowserRedirect})}async exchangeCodeForSession($){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession($))}async _exchangeCodeForSession($){const et=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[tt,rt]=(et??"").split("/");try{const{data:nt,error:it}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:$,code_verifier:tt},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),it)throw it;return!nt||!nt.session||!nt.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(nt.session&&(await this._saveSession(nt.session),await this._notifyAllSubscribers("SIGNED_IN",nt.session)),{data:Object.assign(Object.assign({},nt),{redirectType:rt??null}),error:it})}catch(nt){if(isAuthError(nt))return{data:{user:null,session:null,redirectType:null},error:nt};throw nt}}async signInWithIdToken($){try{const{options:et,provider:tt,token:rt,access_token:nt,nonce:it}=$,at=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:tt,id_token:rt,access_token:nt,nonce:it,gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken}},xform:_sessionResponse}),{data:st,error:ot}=at;return ot?{data:{user:null,session:null},error:ot}:!st||!st.session||!st.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(st.session&&(await this._saveSession(st.session),await this._notifyAllSubscribers("SIGNED_IN",st.session)),{data:st,error:ot})}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async signInWithOtp($){var et,tt,rt,nt,it;try{if("email"in $){const{email:at,options:st}=$;let ot=null,lt=null;this.flowType==="pkce"&&([ot,lt]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:ct}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:at,data:(et=st==null?void 0:st.data)!==null&&et!==void 0?et:{},create_user:(tt=st==null?void 0:st.shouldCreateUser)!==null&&tt!==void 0?tt:!0,gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken},code_challenge:ot,code_challenge_method:lt},redirectTo:st==null?void 0:st.emailRedirectTo});return{data:{user:null,session:null},error:ct}}if("phone"in $){const{phone:at,options:st}=$,{data:ot,error:lt}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:at,data:(rt=st==null?void 0:st.data)!==null&&rt!==void 0?rt:{},create_user:(nt=st==null?void 0:st.shouldCreateUser)!==null&&nt!==void 0?nt:!0,gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken},channel:(it=st==null?void 0:st.channel)!==null&&it!==void 0?it:"sms"}});return{data:{user:null,session:null,messageId:ot==null?void 0:ot.message_id},error:lt}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(at){if(isAuthError(at))return{data:{user:null,session:null},error:at};throw at}}async verifyOtp($){var et,tt;try{let rt,nt;"options"in $&&(rt=(et=$.options)===null||et===void 0?void 0:et.redirectTo,nt=(tt=$.options)===null||tt===void 0?void 0:tt.captchaToken);const{data:it,error:at}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},$),{gotrue_meta_security:{captcha_token:nt}}),redirectTo:rt,xform:_sessionResponse});if(at)throw at;if(!it)throw new Error("An error occurred on token verification.");const st=it.session,ot=it.user;return st!=null&&st.access_token&&(await this._saveSession(st),await this._notifyAllSubscribers($.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",st)),{data:{user:ot,session:st},error:null}}catch(rt){if(isAuthError(rt))return{data:{user:null,session:null},error:rt};throw rt}}async signInWithSSO($){var et,tt,rt;try{let nt=null,it=null;return this.flowType==="pkce"&&([nt,it]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in $?{provider_id:$.providerId}:null),"domain"in $?{domain:$.domain}:null),{redirect_to:(tt=(et=$.options)===null||et===void 0?void 0:et.redirectTo)!==null&&tt!==void 0?tt:void 0}),!((rt=$==null?void 0:$.options)===null||rt===void 0)&&rt.captchaToken?{gotrue_meta_security:{captcha_token:$.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:nt,code_challenge_method:it}),headers:this.headers,xform:_ssoResponse})}catch(nt){if(isAuthError(nt))return{data:null,error:nt};throw nt}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async $=>{const{data:{session:et},error:tt}=$;if(tt)throw tt;if(!et)throw new AuthSessionMissingError;const{error:rt}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:et.access_token});return{data:{user:null,session:null},error:rt}})}catch($){if(isAuthError($))return{data:{user:null,session:null},error:$};throw $}}async resend($){try{const et=`${this.url}/resend`;if("email"in $){const{email:tt,type:rt,options:nt}=$,{error:it}=await _request(this.fetch,"POST",et,{headers:this.headers,body:{email:tt,type:rt,gotrue_meta_security:{captcha_token:nt==null?void 0:nt.captchaToken}},redirectTo:nt==null?void 0:nt.emailRedirectTo});return{data:{user:null,session:null},error:it}}else if("phone"in $){const{phone:tt,type:rt,options:nt}=$,{data:it,error:at}=await _request(this.fetch,"POST",et,{headers:this.headers,body:{phone:tt,type:rt,gotrue_meta_security:{captcha_token:nt==null?void 0:nt.captchaToken}}});return{data:{user:null,session:null,messageId:it==null?void 0:it.message_id},error:at}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async et=>et))}async _acquireLock($,et){this._debug("#_acquireLock","begin",$);try{if(this.lockAcquired){const tt=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),rt=(async()=>(await tt,await et()))();return this.pendingInLock.push((async()=>{try{await rt}catch{}})()),rt}return await this.lock(`lock:${this.storageKey}`,$,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const tt=et();for(this.pendingInLock.push((async()=>{try{await tt}catch{}})()),await tt;this.pendingInLock.length;){const rt=[...this.pendingInLock];await Promise.all(rt),this.pendingInLock.splice(0,rt.length)}return await tt}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession($){this._debug("#_useSession","begin");try{const et=await this.__loadSession();return await $(et)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let $=null;const et=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",et),et!==null&&(this._isValidSession(et)?$=et:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!$)return{data:{session:null},error:null};const tt=$.expires_at?$.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${tt?"":" not"} expired`,"expires_at",$.expires_at),!tt){if(this.storage.isServer){let it=this.suppressGetSessionWarning;$=new Proxy($,{get:(st,ot,lt)=>(!it&&ot==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),it=!0,this.suppressGetSessionWarning=!0),Reflect.get(st,ot,lt))})}return{data:{session:$},error:null}}const{session:rt,error:nt}=await this._callRefreshToken($.refresh_token);return nt?{data:{session:null},error:nt}:{data:{session:rt},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser($){return $?await this._getUser($):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser($){try{return $?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:$,xform:_userResponse}):await this._useSession(async et=>{var tt,rt,nt;const{data:it,error:at}=et;if(at)throw at;return!(!((tt=it.session)===null||tt===void 0)&&tt.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(nt=(rt=it.session)===null||rt===void 0?void 0:rt.access_token)!==null&&nt!==void 0?nt:void 0,xform:_userResponse})})}catch(et){if(isAuthError(et))return isAuthSessionMissingError(et)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:et};throw et}}async updateUser($,et={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser($,et))}async _updateUser($,et={}){try{return await this._useSession(async tt=>{const{data:rt,error:nt}=tt;if(nt)throw nt;if(!rt.session)throw new AuthSessionMissingError;const it=rt.session;let at=null,st=null;this.flowType==="pkce"&&$.email!=null&&([at,st]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:ot,error:lt}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:et==null?void 0:et.emailRedirectTo,body:Object.assign(Object.assign({},$),{code_challenge:at,code_challenge_method:st}),jwt:it.access_token,xform:_userResponse});if(lt)throw lt;return it.user=ot.user,await this._saveSession(it),await this._notifyAllSubscribers("USER_UPDATED",it),{data:{user:it.user},error:null}})}catch(tt){if(isAuthError(tt))return{data:{user:null},error:tt};throw tt}}_decodeJWT($){return decodeJWTPayload($)}async setSession($){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession($))}async _setSession($){try{if(!$.access_token||!$.refresh_token)throw new AuthSessionMissingError;const et=Date.now()/1e3;let tt=et,rt=!0,nt=null;const it=decodeJWTPayload($.access_token);if(it.exp&&(tt=it.exp,rt=tt<=et),rt){const{session:at,error:st}=await this._callRefreshToken($.refresh_token);if(st)return{data:{user:null,session:null},error:st};if(!at)return{data:{user:null,session:null},error:null};nt=at}else{const{data:at,error:st}=await this._getUser($.access_token);if(st)throw st;nt={access_token:$.access_token,refresh_token:$.refresh_token,user:at.user,token_type:"bearer",expires_in:tt-et,expires_at:tt},await this._saveSession(nt),await this._notifyAllSubscribers("SIGNED_IN",nt)}return{data:{user:nt.user,session:nt},error:null}}catch(et){if(isAuthError(et))return{data:{session:null,user:null},error:et};throw et}}async refreshSession($){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession($))}async _refreshSession($){try{return await this._useSession(async et=>{var tt;if(!$){const{data:it,error:at}=et;if(at)throw at;$=(tt=it.session)!==null&&tt!==void 0?tt:void 0}if(!($!=null&&$.refresh_token))throw new AuthSessionMissingError;const{session:rt,error:nt}=await this._callRefreshToken($.refresh_token);return nt?{data:{user:null,session:null},error:nt}:rt?{data:{user:rt.user,session:rt},error:null}:{data:{user:null,session:null},error:null}})}catch(et){if(isAuthError(et))return{data:{user:null,session:null},error:et};throw et}}async _getSessionFromURL($,et){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if($.error||$.error_description||$.error_code)throw new AuthImplicitGrantRedirectError($.error_description||"Error in URL with unspecified error_description",{error:$.error||"unspecified_error",code:$.error_code||"unspecified_code"});switch(et){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(et==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!$.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:gt,error:bt}=await this._exchangeCodeForSession($.code);if(bt)throw bt;const _t=new URL(window.location.href);return _t.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_t.toString()),{data:{session:gt.session,redirectType:null},error:null}}const{provider_token:tt,provider_refresh_token:rt,access_token:nt,refresh_token:it,expires_in:at,expires_at:st,token_type:ot}=$;if(!nt||!at||!it||!ot)throw new AuthImplicitGrantRedirectError("No session defined in URL");const lt=Math.round(Date.now()/1e3),ct=parseInt(at);let ut=lt+ct;st&&(ut=parseInt(st));const dt=ut-lt;dt*1e3<=AUTO_REFRESH_TICK_DURATION&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${dt}s, should have been closer to ${ct}s`);const ht=ut-ct;lt-ht>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ht,ut,lt):lt-ht<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",ht,ut,lt);const{data:mt,error:pt}=await this._getUser(nt);if(pt)throw pt;const ft={provider_token:tt,provider_refresh_token:rt,access_token:nt,expires_in:ct,expires_at:ut,refresh_token:it,token_type:ot,user:mt.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ft,redirectType:$.type},error:null}}catch(tt){if(isAuthError(tt))return{data:{session:null,redirectType:null},error:tt};throw tt}}_isImplicitGrantCallback($){return!!($.access_token||$.error_description)}async _isPKCECallback($){const et=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!($.code&&et)}async signOut($={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut($))}async _signOut({scope:$}={scope:"global"}){return await this._useSession(async et=>{var tt;const{data:rt,error:nt}=et;if(nt)return{error:nt};const it=(tt=rt.session)===null||tt===void 0?void 0:tt.access_token;if(it){const{error:at}=await this.admin.signOut(it,$);if(at&&!(isAuthApiError(at)&&(at.status===404||at.status===401||at.status===403)))return{error:at}}return $!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange($){const et=uuid(),tt={id:et,callback:$,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",et),this.stateChangeEmitters.delete(et)}};return this._debug("#onAuthStateChange()","registered callback with id",et),this.stateChangeEmitters.set(et,tt),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(et)})))(),{data:{subscription:tt}}}async _emitInitialSession($){return await this._useSession(async et=>{var tt,rt;try{const{data:{session:nt},error:it}=et;if(it)throw it;await((tt=this.stateChangeEmitters.get($))===null||tt===void 0?void 0:tt.callback("INITIAL_SESSION",nt)),this._debug("INITIAL_SESSION","callback id",$,"session",nt)}catch(nt){await((rt=this.stateChangeEmitters.get($))===null||rt===void 0?void 0:rt.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",$,"error",nt),console.error(nt)}})}async resetPasswordForEmail($,et={}){let tt=null,rt=null;this.flowType==="pkce"&&([tt,rt]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:$,code_challenge:tt,code_challenge_method:rt,gotrue_meta_security:{captcha_token:et.captchaToken}},headers:this.headers,redirectTo:et.redirectTo})}catch(nt){if(isAuthError(nt))return{data:null,error:nt};throw nt}}async getUserIdentities(){var $;try{const{data:et,error:tt}=await this.getUser();if(tt)throw tt;return{data:{identities:($=et.user.identities)!==null&&$!==void 0?$:[]},error:null}}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async linkIdentity($){var et;try{const{data:tt,error:rt}=await this._useSession(async nt=>{var it,at,st,ot,lt;const{data:ct,error:ut}=nt;if(ut)throw ut;const dt=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,$.provider,{redirectTo:(it=$.options)===null||it===void 0?void 0:it.redirectTo,scopes:(at=$.options)===null||at===void 0?void 0:at.scopes,queryParams:(st=$.options)===null||st===void 0?void 0:st.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",dt,{headers:this.headers,jwt:(lt=(ot=ct.session)===null||ot===void 0?void 0:ot.access_token)!==null&&lt!==void 0?lt:void 0})});if(rt)throw rt;return isBrowser()&&!(!((et=$.options)===null||et===void 0)&&et.skipBrowserRedirect)&&window.location.assign(tt==null?void 0:tt.url),{data:{provider:$.provider,url:tt==null?void 0:tt.url},error:null}}catch(tt){if(isAuthError(tt))return{data:{provider:$.provider,url:null},error:tt};throw tt}}async unlinkIdentity($){try{return await this._useSession(async et=>{var tt,rt;const{data:nt,error:it}=et;if(it)throw it;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${$.identity_id}`,{headers:this.headers,jwt:(rt=(tt=nt.session)===null||tt===void 0?void 0:tt.access_token)!==null&&rt!==void 0?rt:void 0})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _refreshAccessToken($){const et=`#_refreshAccessToken(${$.substring(0,5)}...)`;this._debug(et,"begin");try{const tt=Date.now();return await retryable(async rt=>(rt>0&&await sleep(200*Math.pow(2,rt-1)),this._debug(et,"refreshing attempt",rt),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:$},headers:this.headers,xform:_sessionResponse})),(rt,nt)=>{const it=200*Math.pow(2,rt);return nt&&isAuthRetryableFetchError(nt)&&Date.now()+it-tt<AUTO_REFRESH_TICK_DURATION})}catch(tt){if(this._debug(et,"error",tt),isAuthError(tt))return{data:{session:null,user:null},error:tt};throw tt}finally{this._debug(et,"end")}}_isValidSession($){return typeof $=="object"&&$!==null&&"access_token"in $&&"refresh_token"in $&&"expires_at"in $}async _handleProviderSignIn($,et){const tt=await this._getUrlForProvider(`${this.url}/authorize`,$,{redirectTo:et.redirectTo,scopes:et.scopes,queryParams:et.queryParams});return this._debug("#_handleProviderSignIn()","provider",$,"options",et,"url",tt),isBrowser()&&!et.skipBrowserRedirect&&window.location.assign(tt),{data:{provider:$,url:tt},error:null}}async _recoverAndRefresh(){var $;const et="#_recoverAndRefresh()";this._debug(et,"begin");try{const tt=await getItemAsync(this.storage,this.storageKey);if(this._debug(et,"session from storage",tt),!this._isValidSession(tt)){this._debug(et,"session is not valid"),tt!==null&&await this._removeSession();return}const rt=Math.round(Date.now()/1e3),nt=(($=tt.expires_at)!==null&&$!==void 0?$:1/0)<rt+EXPIRY_MARGIN;if(this._debug(et,`session has${nt?"":" not"} expired with margin of ${EXPIRY_MARGIN}s`),nt){if(this.autoRefreshToken&&tt.refresh_token){const{error:it}=await this._callRefreshToken(tt.refresh_token);it&&(console.error(it),isAuthRetryableFetchError(it)||(this._debug(et,"refresh failed with a non-retryable error, removing the session",it),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",tt)}catch(tt){this._debug(et,"error",tt),console.error(tt);return}finally{this._debug(et,"end")}}async _callRefreshToken($){var et,tt;if(!$)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const rt=`#_callRefreshToken(${$.substring(0,5)}...)`;this._debug(rt,"begin");try{this.refreshingDeferred=new Deferred;const{data:nt,error:it}=await this._refreshAccessToken($);if(it)throw it;if(!nt.session)throw new AuthSessionMissingError;await this._saveSession(nt.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",nt.session);const at={session:nt.session,error:null};return this.refreshingDeferred.resolve(at),at}catch(nt){if(this._debug(rt,"error",nt),isAuthError(nt)){const it={session:null,error:nt};return isAuthRetryableFetchError(nt)||await this._removeSession(),(et=this.refreshingDeferred)===null||et===void 0||et.resolve(it),it}throw(tt=this.refreshingDeferred)===null||tt===void 0||tt.reject(nt),nt}finally{this.refreshingDeferred=null,this._debug(rt,"end")}}async _notifyAllSubscribers($,et,tt=!0){const rt=`#_notifyAllSubscribers(${$})`;this._debug(rt,"begin",et,`broadcast = ${tt}`);try{this.broadcastChannel&&tt&&this.broadcastChannel.postMessage({event:$,session:et});const nt=[],it=Array.from(this.stateChangeEmitters.values()).map(async at=>{try{await at.callback($,et)}catch(st){nt.push(st)}});if(await Promise.all(it),nt.length>0){for(let at=0;at<nt.length;at+=1)console.error(nt[at]);throw nt[0]}}finally{this._debug(rt,"end")}}async _saveSession($){this._debug("#_saveSession()",$),this.suppressGetSessionWarning=!0,await setItemAsync(this.storage,this.storageKey,$)}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const $=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{$&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",$)}catch(et){console.error("removing visibilitychange callback failed",et)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const $=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION);this.autoRefreshTicker=$,$&&typeof $=="object"&&typeof $.unref=="function"?$.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer($),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const $=this.autoRefreshTicker;this.autoRefreshTicker=null,$&&clearInterval($)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const $=Date.now();try{return await this._useSession(async et=>{const{data:{session:tt}}=et;if(!tt||!tt.refresh_token||!tt.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const rt=Math.floor((tt.expires_at*1e3-$)/AUTO_REFRESH_TICK_DURATION);this._debug("#_autoRefreshTokenTick()",`access token expires in ${rt} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),rt<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(tt.refresh_token)})}catch(et){console.error("Auto refresh tick failed with error. This is likely a transient error.",et)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch($){if($.isAcquireTimeout||$ instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw $}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch($){console.error("_handleVisibilityChange",$)}}async _onVisibilityChanged($){const et=`#_onVisibilityChanged(${$})`;this._debug(et,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),$||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(et,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider($,et,tt){const rt=[`provider=${encodeURIComponent(et)}`];if(tt!=null&&tt.redirectTo&&rt.push(`redirect_to=${encodeURIComponent(tt.redirectTo)}`),tt!=null&&tt.scopes&&rt.push(`scopes=${encodeURIComponent(tt.scopes)}`),this.flowType==="pkce"){const[nt,it]=await getCodeChallengeAndMethod(this.storage,this.storageKey),at=new URLSearchParams({code_challenge:`${encodeURIComponent(nt)}`,code_challenge_method:`${encodeURIComponent(it)}`});rt.push(at.toString())}if(tt!=null&&tt.queryParams){const nt=new URLSearchParams(tt.queryParams);rt.push(nt.toString())}return tt!=null&&tt.skipBrowserRedirect&&rt.push(`skip_http_redirect=${tt.skipBrowserRedirect}`),`${$}?${rt.join("&")}`}async _unenroll($){try{return await this._useSession(async et=>{var tt;const{data:rt,error:nt}=et;return nt?{data:null,error:nt}:await _request(this.fetch,"DELETE",`${this.url}/factors/${$.factorId}`,{headers:this.headers,jwt:(tt=rt==null?void 0:rt.session)===null||tt===void 0?void 0:tt.access_token})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _enroll($){try{return await this._useSession(async et=>{var tt,rt;const{data:nt,error:it}=et;if(it)return{data:null,error:it};const at=Object.assign({friendly_name:$.friendlyName,factor_type:$.factorType},$.factorType==="phone"?{phone:$.phone}:{issuer:$.issuer}),{data:st,error:ot}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:at,headers:this.headers,jwt:(tt=nt==null?void 0:nt.session)===null||tt===void 0?void 0:tt.access_token});return ot?{data:null,error:ot}:($.factorType==="totp"&&(!((rt=st==null?void 0:st.totp)===null||rt===void 0)&&rt.qr_code)&&(st.totp.qr_code=`data:image/svg+xml;utf-8,${st.totp.qr_code}`),{data:st,error:null})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}}async _verify($){return this._acquireLock(-1,async()=>{try{return await this._useSession(async et=>{var tt;const{data:rt,error:nt}=et;if(nt)return{data:null,error:nt};const{data:it,error:at}=await _request(this.fetch,"POST",`${this.url}/factors/${$.factorId}/verify`,{body:{code:$.code,challenge_id:$.challengeId},headers:this.headers,jwt:(tt=rt==null?void 0:rt.session)===null||tt===void 0?void 0:tt.access_token});return at?{data:null,error:at}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+it.expires_in},it)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",it),{data:it,error:at})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}})}async _challenge($){return this._acquireLock(-1,async()=>{try{return await this._useSession(async et=>{var tt;const{data:rt,error:nt}=et;return nt?{data:null,error:nt}:await _request(this.fetch,"POST",`${this.url}/factors/${$.factorId}/challenge`,{body:{channel:$.channel},headers:this.headers,jwt:(tt=rt==null?void 0:rt.session)===null||tt===void 0?void 0:tt.access_token})})}catch(et){if(isAuthError(et))return{data:null,error:et};throw et}})}async _challengeAndVerify($){const{data:et,error:tt}=await this._challenge({factorId:$.factorId});return tt?{data:null,error:tt}:await this._verify({factorId:$.factorId,challengeId:et.id,code:$.code})}async _listFactors(){const{data:{user:$},error:et}=await this.getUser();if(et)return{data:null,error:et};const tt=($==null?void 0:$.factors)||[],rt=tt.filter(it=>it.factor_type==="totp"&&it.status==="verified"),nt=tt.filter(it=>it.factor_type==="phone"&&it.status==="verified");return{data:{all:tt,totp:rt,phone:nt},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async $=>{var et,tt;const{data:{session:rt},error:nt}=$;if(nt)return{data:null,error:nt};if(!rt)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const it=this._decodeJWT(rt.access_token);let at=null;it.aal&&(at=it.aal);let st=at;((tt=(et=rt.user.factors)===null||et===void 0?void 0:et.filter(ct=>ct.status==="verified"))!==null&&tt!==void 0?tt:[]).length>0&&(st="aal2");const lt=it.amr||[];return{data:{currentLevel:at,nextLevel:st,currentAuthenticationMethods:lt},error:null}}))}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor($){super($)}}var __awaiter=function(_e,$,et,tt){function rt(nt){return nt instanceof et?nt:new et(function(it){it(nt)})}return new(et||(et=Promise))(function(nt,it){function at(lt){try{ot(tt.next(lt))}catch(ct){it(ct)}}function st(lt){try{ot(tt.throw(lt))}catch(ct){it(ct)}}function ot(lt){lt.done?nt(lt.value):rt(lt.value).then(at,st)}ot((tt=tt.apply(_e,$||[])).next())})};class SupabaseClient{constructor($,et,tt){var rt,nt,it;if(this.supabaseUrl=$,this.supabaseKey=et,!$)throw new Error("supabaseUrl is required.");if(!et)throw new Error("supabaseKey is required.");const at=stripTrailingSlash($);this.realtimeUrl=`${at}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${at}/auth/v1`,this.storageUrl=`${at}/storage/v1`,this.functionsUrl=`${at}/functions/v1`;const st=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,ot={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:st}),global:DEFAULT_GLOBAL_OPTIONS},lt=applySettingDefaults(tt??{},ot);this.storageKey=(rt=lt.auth.storageKey)!==null&&rt!==void 0?rt:"",this.headers=(nt=lt.global.headers)!==null&&nt!==void 0?nt:{},lt.accessToken?(this.accessToken=lt.accessToken,this.auth=new Proxy({},{get:(ct,ut)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ut)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((it=lt.auth)!==null&&it!==void 0?it:{},this.headers,lt.global.fetch),this.fetch=fetchWithAuth(et,this._getAccessToken.bind(this),lt.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},lt.realtime)),this.rest=new PostgrestClient(`${at}/rest/v1`,{headers:this.headers,schema:lt.db.schema,fetch:this.fetch}),lt.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new StorageClient(this.storageUrl,this.headers,this.fetch)}from($){return this.rest.from($)}schema($){return this.rest.schema($)}rpc($,et={},tt={}){return this.rest.rpc($,et,tt)}channel($,et={config:{}}){return this.realtime.channel($,et)}getChannels(){return this.realtime.getChannels()}removeChannel($){return this.realtime.removeChannel($)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var $,et;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:tt}=yield this.auth.getSession();return(et=($=tt.session)===null||$===void 0?void 0:$.access_token)!==null&&et!==void 0?et:null})}_initSupabaseAuthClient({autoRefreshToken:$,persistSession:et,detectSessionInUrl:tt,storage:rt,storageKey:nt,flowType:it,lock:at,debug:st},ot,lt){var ct;const ut={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},ut),ot),storageKey:nt,autoRefreshToken:$,persistSession:et,detectSessionInUrl:tt,storage:rt,flowType:it,lock:at,debug:st,fetch:lt,hasCustomAuthorizationHeader:(ct="Authorization"in this.headers)!==null&&ct!==void 0?ct:!1})}_initRealtimeClient($){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},$),{params:Object.assign({apikey:this.supabaseKey},$==null?void 0:$.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((et,tt)=>{this._handleTokenChanged(et,"CLIENT",tt==null?void 0:tt.access_token)})}_handleTokenChanged($,et,tt){($==="TOKEN_REFRESHED"||$==="SIGNED_IN")&&this.changedAccessToken!==tt?this.changedAccessToken=tt:$==="SIGNED_OUT"&&(this.realtime.setAuth(),et=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(_e,$,et)=>new SupabaseClient(_e,$,et),supabaseUrl="",supabaseAnonKey="";throw new Error("Missing Supabase environment variables");const supabase=createClient(supabaseUrl,supabaseAnonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage}}),AuthContext=reactExports.createContext(void 0);function AuthProvider({children:_e}){const[$,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(!0);reactExports.useEffect(()=>{supabase.auth.getSession().then(({data:{session:lt}})=>{et((lt==null?void 0:lt.user)??null),rt(!1)});const{data:{subscription:ot}}=supabase.auth.onAuthStateChange((lt,ct)=>{et((ct==null?void 0:ct.user)??null),rt(!1)});return()=>ot.unsubscribe()},[]);const st={user:$,loading:tt,signIn:async(ot,lt)=>{const{error:ct}=await supabase.auth.signInWithPassword({email:ot,password:lt});if(ct)throw ct},signUp:async(ot,lt)=>{const{error:ct}=await supabase.auth.signUp({email:ot,password:lt});if(ct)throw ct},signOut:async()=>{const{error:ot}=await supabase.auth.signOut();if(ot)throw ot}};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:st,children:!tt&&_e})}function useAuthContext(){const _e=reactExports.useContext(AuthContext);if(_e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return _e}function useUsersData(){const[_e,$]=reactExports.useState([]),[et,tt]=reactExports.useState(!0),[rt,nt]=reactExports.useState(null);return reactExports.useEffect(()=>{const at=async()=>{try{console.log("Fetching users...");const{data:ot,error:lt}=await supabase.from("users").select("*").order("name");if(lt)throw lt;console.log("Fetched users:",ot),$(ot||[])}catch(ot){console.error("Error fetching users:",ot),nt(ot),kt.error("Failed to load users")}finally{tt(!1)}};at();const st=supabase.channel("users_changes").on("postgres_changes",{event:"*",schema:"public",table:"users"},ot=>{at()}).subscribe();return()=>{st.unsubscribe()}},[]),{users:_e,loading:et,error:rt,refreshUsers:async()=>{tt(!0);const{data:at,error:st}=await supabase.from("users").select("*").order("name");if(st){console.error("Error refreshing users:",st),kt.error("Failed to refresh users");return}$(at||[]),tt(!1)}}}const UserContext=reactExports.createContext(void 0),UserProvider=({children:_e})=>{const{users:$,loading:et,error:tt,refreshUsers:rt}=useUsersData(),nt=at=>$.find(st=>st.id===at),it=at=>$.filter(st=>at.includes(st.id));return jsxRuntimeExports.jsx(UserContext.Provider,{value:{users:$,loading:et,error:tt,refreshUsers:rt,getUserById:nt,getUsersByIds:it},children:_e})},useUsers=()=>{const _e=reactExports.useContext(UserContext);if(_e===void 0)throw new Error("useUsers must be used within a UserProvider");return _e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(_e,$)=>{const et=reactExports.forwardRef(({color:tt="currentColor",size:rt=24,strokeWidth:nt=2,absoluteStrokeWidth:it,className:at="",children:st,...ot},lt)=>reactExports.createElement("svg",{ref:lt,...defaultAttributes,width:rt,height:rt,stroke:tt,strokeWidth:it?Number(nt)*24/Number(rt):nt,className:["lucide",`lucide-${toKebabCase(_e)}`,at].join(" "),...ot},[...$.map(([ct,ut])=>reactExports.createElement(ct,ut)),...Array.isArray(st)?st:[st]]));return et.displayName=`${_e}`,et};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coins=createLucideIcon("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Euro=createLucideIcon("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pencil=createLucideIcon("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PiggyBank=createLucideIcon("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PlusCircle=createLucideIcon("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings$1=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Split=createLucideIcon("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wallet=createLucideIcon("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Sidebar(){const _e=useLocation(),{signOut:$}=useAuthContext(),et=rt=>_e.pathname===rt,tt=[{path:"/",icon:LayoutDashboard,label:"Dashboard"},{path:"/income",icon:Wallet,label:"Income"},{path:"/budget",icon:PiggyBank,label:"Budget"},{path:"/savings",icon:Coins,label:"Savings"},{path:"/analytics",icon:BarChart2,label:"Analytics"},{path:"/statements",icon:FileText,label:"Statements"},{path:"/settings",icon:Settings$1,label:"Settings"}];return jsxRuntimeExports.jsxs("div",{className:"w-64 bg-gray-900 text-white min-h-screen p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center mb-8",children:jsxRuntimeExports.jsx("span",{className:"text-xl font-bold",children:"Finance App"})}),jsxRuntimeExports.jsxs("nav",{className:"space-y-2",children:[tt.map(({path:rt,icon:nt,label:it})=>jsxRuntimeExports.jsxs(Link,{to:rt,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${et(rt)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800"}`,children:[jsxRuntimeExports.jsx(nt,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:it})]},rt)),jsxRuntimeExports.jsxs("button",{onClick:$,className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-gray-800 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]})}function Layout({children:_e}){return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 p-8",children:_e})]})}function _typeof$M(_e){"@babel/helpers - typeof";return _typeof$M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$M(_e)}function toInteger$2(_e){if(_e===null||_e===!0||_e===!1)return NaN;var $=Number(_e);return isNaN($)?$:$<0?Math.ceil($):Math.floor($)}function requiredArgs(_e,$){if($.length<_e)throw new TypeError(_e+" argument"+(_e>1?"s":"")+" required, but only "+$.length+" present")}function toDate(_e){requiredArgs(1,arguments);var $=Object.prototype.toString.call(_e);return _e instanceof Date||_typeof$M(_e)==="object"&&$==="[object Date]"?new Date(_e.getTime()):typeof _e=="number"||$==="[object Number]"?new Date(_e):((typeof _e=="string"||$==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addMonths(_e,$){requiredArgs(2,arguments);var et=toDate(_e),tt=toInteger$2($);if(isNaN(tt))return new Date(NaN);if(!tt)return et;var rt=et.getDate(),nt=new Date(et.getTime());nt.setMonth(et.getMonth()+tt+1,0);var it=nt.getDate();return rt>=it?nt:(et.setFullYear(nt.getFullYear(),nt.getMonth(),rt),et)}function addMilliseconds(_e,$){requiredArgs(2,arguments);var et=toDate(_e).getTime(),tt=toInteger$2($);return new Date(et+tt)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function getTimezoneOffsetInMilliseconds(_e){var $=new Date(Date.UTC(_e.getFullYear(),_e.getMonth(),_e.getDate(),_e.getHours(),_e.getMinutes(),_e.getSeconds(),_e.getMilliseconds()));return $.setUTCFullYear(_e.getFullYear()),_e.getTime()-$.getTime()}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(_e){return requiredArgs(1,arguments),_e instanceof Date||_typeof$M(_e)==="object"&&Object.prototype.toString.call(_e)==="[object Date]"}function isValid(_e){if(requiredArgs(1,arguments),!isDate(_e)&&typeof _e!="number")return!1;var $=toDate(_e);return!isNaN(Number($))}function endOfMonth(_e){requiredArgs(1,arguments);var $=toDate(_e),et=$.getMonth();return $.setFullYear($.getFullYear(),et+1,0),$.setHours(23,59,59,999),$}function startOfMonth(_e){requiredArgs(1,arguments);var $=toDate(_e);return $.setDate(1),$.setHours(0,0,0,0),$}function subMilliseconds(_e,$){requiredArgs(2,arguments);var et=toInteger$2($);return addMilliseconds(_e,-et)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(_e){requiredArgs(1,arguments);var $=toDate(_e),et=$.getTime();$.setUTCMonth(0,1),$.setUTCHours(0,0,0,0);var tt=$.getTime(),rt=et-tt;return Math.floor(rt/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(_e){requiredArgs(1,arguments);var $=1,et=toDate(_e),tt=et.getUTCDay(),rt=(tt<$?7:0)+tt-$;return et.setUTCDate(et.getUTCDate()-rt),et.setUTCHours(0,0,0,0),et}function getUTCISOWeekYear(_e){requiredArgs(1,arguments);var $=toDate(_e),et=$.getUTCFullYear(),tt=new Date(0);tt.setUTCFullYear(et+1,0,4),tt.setUTCHours(0,0,0,0);var rt=startOfUTCISOWeek(tt),nt=new Date(0);nt.setUTCFullYear(et,0,4),nt.setUTCHours(0,0,0,0);var it=startOfUTCISOWeek(nt);return $.getTime()>=rt.getTime()?et+1:$.getTime()>=it.getTime()?et:et-1}function startOfUTCISOWeekYear(_e){requiredArgs(1,arguments);var $=getUTCISOWeekYear(_e),et=new Date(0);et.setUTCFullYear($,0,4),et.setUTCHours(0,0,0,0);var tt=startOfUTCISOWeek(et);return tt}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(_e){requiredArgs(1,arguments);var $=toDate(_e),et=startOfUTCISOWeek($).getTime()-startOfUTCISOWeekYear($).getTime();return Math.round(et/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(_e,$){var et,tt,rt,nt,it,at,st,ot;requiredArgs(1,arguments);var lt=getDefaultOptions(),ct=toInteger$2((et=(tt=(rt=(nt=$==null?void 0:$.weekStartsOn)!==null&&nt!==void 0?nt:$==null||(it=$.locale)===null||it===void 0||(at=it.options)===null||at===void 0?void 0:at.weekStartsOn)!==null&&rt!==void 0?rt:lt.weekStartsOn)!==null&&tt!==void 0?tt:(st=lt.locale)===null||st===void 0||(ot=st.options)===null||ot===void 0?void 0:ot.weekStartsOn)!==null&&et!==void 0?et:0);if(!(ct>=0&&ct<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ut=toDate(_e),dt=ut.getUTCDay(),ht=(dt<ct?7:0)+dt-ct;return ut.setUTCDate(ut.getUTCDate()-ht),ut.setUTCHours(0,0,0,0),ut}function getUTCWeekYear(_e,$){var et,tt,rt,nt,it,at,st,ot;requiredArgs(1,arguments);var lt=toDate(_e),ct=lt.getUTCFullYear(),ut=getDefaultOptions(),dt=toInteger$2((et=(tt=(rt=(nt=$==null?void 0:$.firstWeekContainsDate)!==null&&nt!==void 0?nt:$==null||(it=$.locale)===null||it===void 0||(at=it.options)===null||at===void 0?void 0:at.firstWeekContainsDate)!==null&&rt!==void 0?rt:ut.firstWeekContainsDate)!==null&&tt!==void 0?tt:(st=ut.locale)===null||st===void 0||(ot=st.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&et!==void 0?et:1);if(!(dt>=1&&dt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ht=new Date(0);ht.setUTCFullYear(ct+1,0,dt),ht.setUTCHours(0,0,0,0);var mt=startOfUTCWeek(ht,$),pt=new Date(0);pt.setUTCFullYear(ct,0,dt),pt.setUTCHours(0,0,0,0);var ft=startOfUTCWeek(pt,$);return lt.getTime()>=mt.getTime()?ct+1:lt.getTime()>=ft.getTime()?ct:ct-1}function startOfUTCWeekYear(_e,$){var et,tt,rt,nt,it,at,st,ot;requiredArgs(1,arguments);var lt=getDefaultOptions(),ct=toInteger$2((et=(tt=(rt=(nt=$==null?void 0:$.firstWeekContainsDate)!==null&&nt!==void 0?nt:$==null||(it=$.locale)===null||it===void 0||(at=it.options)===null||at===void 0?void 0:at.firstWeekContainsDate)!==null&&rt!==void 0?rt:lt.firstWeekContainsDate)!==null&&tt!==void 0?tt:(st=lt.locale)===null||st===void 0||(ot=st.options)===null||ot===void 0?void 0:ot.firstWeekContainsDate)!==null&&et!==void 0?et:1),ut=getUTCWeekYear(_e,$),dt=new Date(0);dt.setUTCFullYear(ut,0,ct),dt.setUTCHours(0,0,0,0);var ht=startOfUTCWeek(dt,$);return ht}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(_e,$){requiredArgs(1,arguments);var et=toDate(_e),tt=startOfUTCWeek(et,$).getTime()-startOfUTCWeekYear(et,$).getTime();return Math.round(tt/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(_e,$){for(var et=_e<0?"-":"",tt=Math.abs(_e).toString();tt.length<$;)tt="0"+tt;return et+tt}var formatters$2={y:function($,et){var tt=$.getUTCFullYear(),rt=tt>0?tt:1-tt;return addLeadingZeros(et==="yy"?rt%100:rt,et.length)},M:function($,et){var tt=$.getUTCMonth();return et==="M"?String(tt+1):addLeadingZeros(tt+1,2)},d:function($,et){return addLeadingZeros($.getUTCDate(),et.length)},a:function($,et){var tt=$.getUTCHours()/12>=1?"pm":"am";switch(et){case"a":case"aa":return tt.toUpperCase();case"aaa":return tt;case"aaaaa":return tt[0];case"aaaa":default:return tt==="am"?"a.m.":"p.m."}},h:function($,et){return addLeadingZeros($.getUTCHours()%12||12,et.length)},H:function($,et){return addLeadingZeros($.getUTCHours(),et.length)},m:function($,et){return addLeadingZeros($.getUTCMinutes(),et.length)},s:function($,et){return addLeadingZeros($.getUTCSeconds(),et.length)},S:function($,et){var tt=et.length,rt=$.getUTCMilliseconds(),nt=Math.floor(rt*Math.pow(10,tt-3));return addLeadingZeros(nt,et.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters$1={G:function($,et,tt){var rt=$.getUTCFullYear()>0?1:0;switch(et){case"G":case"GG":case"GGG":return tt.era(rt,{width:"abbreviated"});case"GGGGG":return tt.era(rt,{width:"narrow"});case"GGGG":default:return tt.era(rt,{width:"wide"})}},y:function($,et,tt){if(et==="yo"){var rt=$.getUTCFullYear(),nt=rt>0?rt:1-rt;return tt.ordinalNumber(nt,{unit:"year"})}return formatters$2.y($,et)},Y:function($,et,tt,rt){var nt=getUTCWeekYear($,rt),it=nt>0?nt:1-nt;if(et==="YY"){var at=it%100;return addLeadingZeros(at,2)}return et==="Yo"?tt.ordinalNumber(it,{unit:"year"}):addLeadingZeros(it,et.length)},R:function($,et){var tt=getUTCISOWeekYear($);return addLeadingZeros(tt,et.length)},u:function($,et){var tt=$.getUTCFullYear();return addLeadingZeros(tt,et.length)},Q:function($,et,tt){var rt=Math.ceil(($.getUTCMonth()+1)/3);switch(et){case"Q":return String(rt);case"QQ":return addLeadingZeros(rt,2);case"Qo":return tt.ordinalNumber(rt,{unit:"quarter"});case"QQQ":return tt.quarter(rt,{width:"abbreviated",context:"formatting"});case"QQQQQ":return tt.quarter(rt,{width:"narrow",context:"formatting"});case"QQQQ":default:return tt.quarter(rt,{width:"wide",context:"formatting"})}},q:function($,et,tt){var rt=Math.ceil(($.getUTCMonth()+1)/3);switch(et){case"q":return String(rt);case"qq":return addLeadingZeros(rt,2);case"qo":return tt.ordinalNumber(rt,{unit:"quarter"});case"qqq":return tt.quarter(rt,{width:"abbreviated",context:"standalone"});case"qqqqq":return tt.quarter(rt,{width:"narrow",context:"standalone"});case"qqqq":default:return tt.quarter(rt,{width:"wide",context:"standalone"})}},M:function($,et,tt){var rt=$.getUTCMonth();switch(et){case"M":case"MM":return formatters$2.M($,et);case"Mo":return tt.ordinalNumber(rt+1,{unit:"month"});case"MMM":return tt.month(rt,{width:"abbreviated",context:"formatting"});case"MMMMM":return tt.month(rt,{width:"narrow",context:"formatting"});case"MMMM":default:return tt.month(rt,{width:"wide",context:"formatting"})}},L:function($,et,tt){var rt=$.getUTCMonth();switch(et){case"L":return String(rt+1);case"LL":return addLeadingZeros(rt+1,2);case"Lo":return tt.ordinalNumber(rt+1,{unit:"month"});case"LLL":return tt.month(rt,{width:"abbreviated",context:"standalone"});case"LLLLL":return tt.month(rt,{width:"narrow",context:"standalone"});case"LLLL":default:return tt.month(rt,{width:"wide",context:"standalone"})}},w:function($,et,tt,rt){var nt=getUTCWeek($,rt);return et==="wo"?tt.ordinalNumber(nt,{unit:"week"}):addLeadingZeros(nt,et.length)},I:function($,et,tt){var rt=getUTCISOWeek($);return et==="Io"?tt.ordinalNumber(rt,{unit:"week"}):addLeadingZeros(rt,et.length)},d:function($,et,tt){return et==="do"?tt.ordinalNumber($.getUTCDate(),{unit:"date"}):formatters$2.d($,et)},D:function($,et,tt){var rt=getUTCDayOfYear($);return et==="Do"?tt.ordinalNumber(rt,{unit:"dayOfYear"}):addLeadingZeros(rt,et.length)},E:function($,et,tt){var rt=$.getUTCDay();switch(et){case"E":case"EE":case"EEE":return tt.day(rt,{width:"abbreviated",context:"formatting"});case"EEEEE":return tt.day(rt,{width:"narrow",context:"formatting"});case"EEEEEE":return tt.day(rt,{width:"short",context:"formatting"});case"EEEE":default:return tt.day(rt,{width:"wide",context:"formatting"})}},e:function($,et,tt,rt){var nt=$.getUTCDay(),it=(nt-rt.weekStartsOn+8)%7||7;switch(et){case"e":return String(it);case"ee":return addLeadingZeros(it,2);case"eo":return tt.ordinalNumber(it,{unit:"day"});case"eee":return tt.day(nt,{width:"abbreviated",context:"formatting"});case"eeeee":return tt.day(nt,{width:"narrow",context:"formatting"});case"eeeeee":return tt.day(nt,{width:"short",context:"formatting"});case"eeee":default:return tt.day(nt,{width:"wide",context:"formatting"})}},c:function($,et,tt,rt){var nt=$.getUTCDay(),it=(nt-rt.weekStartsOn+8)%7||7;switch(et){case"c":return String(it);case"cc":return addLeadingZeros(it,et.length);case"co":return tt.ordinalNumber(it,{unit:"day"});case"ccc":return tt.day(nt,{width:"abbreviated",context:"standalone"});case"ccccc":return tt.day(nt,{width:"narrow",context:"standalone"});case"cccccc":return tt.day(nt,{width:"short",context:"standalone"});case"cccc":default:return tt.day(nt,{width:"wide",context:"standalone"})}},i:function($,et,tt){var rt=$.getUTCDay(),nt=rt===0?7:rt;switch(et){case"i":return String(nt);case"ii":return addLeadingZeros(nt,et.length);case"io":return tt.ordinalNumber(nt,{unit:"day"});case"iii":return tt.day(rt,{width:"abbreviated",context:"formatting"});case"iiiii":return tt.day(rt,{width:"narrow",context:"formatting"});case"iiiiii":return tt.day(rt,{width:"short",context:"formatting"});case"iiii":default:return tt.day(rt,{width:"wide",context:"formatting"})}},a:function($,et,tt){var rt=$.getUTCHours(),nt=rt/12>=1?"pm":"am";switch(et){case"a":case"aa":return tt.dayPeriod(nt,{width:"abbreviated",context:"formatting"});case"aaa":return tt.dayPeriod(nt,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return tt.dayPeriod(nt,{width:"narrow",context:"formatting"});case"aaaa":default:return tt.dayPeriod(nt,{width:"wide",context:"formatting"})}},b:function($,et,tt){var rt=$.getUTCHours(),nt;switch(rt===12?nt=dayPeriodEnum.noon:rt===0?nt=dayPeriodEnum.midnight:nt=rt/12>=1?"pm":"am",et){case"b":case"bb":return tt.dayPeriod(nt,{width:"abbreviated",context:"formatting"});case"bbb":return tt.dayPeriod(nt,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return tt.dayPeriod(nt,{width:"narrow",context:"formatting"});case"bbbb":default:return tt.dayPeriod(nt,{width:"wide",context:"formatting"})}},B:function($,et,tt){var rt=$.getUTCHours(),nt;switch(rt>=17?nt=dayPeriodEnum.evening:rt>=12?nt=dayPeriodEnum.afternoon:rt>=4?nt=dayPeriodEnum.morning:nt=dayPeriodEnum.night,et){case"B":case"BB":case"BBB":return tt.dayPeriod(nt,{width:"abbreviated",context:"formatting"});case"BBBBB":return tt.dayPeriod(nt,{width:"narrow",context:"formatting"});case"BBBB":default:return tt.dayPeriod(nt,{width:"wide",context:"formatting"})}},h:function($,et,tt){if(et==="ho"){var rt=$.getUTCHours()%12;return rt===0&&(rt=12),tt.ordinalNumber(rt,{unit:"hour"})}return formatters$2.h($,et)},H:function($,et,tt){return et==="Ho"?tt.ordinalNumber($.getUTCHours(),{unit:"hour"}):formatters$2.H($,et)},K:function($,et,tt){var rt=$.getUTCHours()%12;return et==="Ko"?tt.ordinalNumber(rt,{unit:"hour"}):addLeadingZeros(rt,et.length)},k:function($,et,tt){var rt=$.getUTCHours();return rt===0&&(rt=24),et==="ko"?tt.ordinalNumber(rt,{unit:"hour"}):addLeadingZeros(rt,et.length)},m:function($,et,tt){return et==="mo"?tt.ordinalNumber($.getUTCMinutes(),{unit:"minute"}):formatters$2.m($,et)},s:function($,et,tt){return et==="so"?tt.ordinalNumber($.getUTCSeconds(),{unit:"second"}):formatters$2.s($,et)},S:function($,et){return formatters$2.S($,et)},X:function($,et,tt,rt){var nt=rt._originalDate||$,it=nt.getTimezoneOffset();if(it===0)return"Z";switch(et){case"X":return formatTimezoneWithOptionalMinutes(it);case"XXXX":case"XX":return formatTimezone(it);case"XXXXX":case"XXX":default:return formatTimezone(it,":")}},x:function($,et,tt,rt){var nt=rt._originalDate||$,it=nt.getTimezoneOffset();switch(et){case"x":return formatTimezoneWithOptionalMinutes(it);case"xxxx":case"xx":return formatTimezone(it);case"xxxxx":case"xxx":default:return formatTimezone(it,":")}},O:function($,et,tt,rt){var nt=rt._originalDate||$,it=nt.getTimezoneOffset();switch(et){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(it,":");case"OOOO":default:return"GMT"+formatTimezone(it,":")}},z:function($,et,tt,rt){var nt=rt._originalDate||$,it=nt.getTimezoneOffset();switch(et){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(it,":");case"zzzz":default:return"GMT"+formatTimezone(it,":")}},t:function($,et,tt,rt){var nt=rt._originalDate||$,it=Math.floor(nt.getTime()/1e3);return addLeadingZeros(it,et.length)},T:function($,et,tt,rt){var nt=rt._originalDate||$,it=nt.getTime();return addLeadingZeros(it,et.length)}};function formatTimezoneShort(_e,$){var et=_e>0?"-":"+",tt=Math.abs(_e),rt=Math.floor(tt/60),nt=tt%60;if(nt===0)return et+String(rt);var it=$;return et+String(rt)+it+addLeadingZeros(nt,2)}function formatTimezoneWithOptionalMinutes(_e,$){if(_e%60===0){var et=_e>0?"-":"+";return et+addLeadingZeros(Math.abs(_e)/60,2)}return formatTimezone(_e,$)}function formatTimezone(_e,$){var et=$||"",tt=_e>0?"-":"+",rt=Math.abs(_e),nt=addLeadingZeros(Math.floor(rt/60),2),it=addLeadingZeros(rt%60,2);return tt+nt+et+it}var dateLongFormatter=function($,et){switch($){case"P":return et.date({width:"short"});case"PP":return et.date({width:"medium"});case"PPP":return et.date({width:"long"});case"PPPP":default:return et.date({width:"full"})}},timeLongFormatter=function($,et){switch($){case"p":return et.time({width:"short"});case"pp":return et.time({width:"medium"});case"ppp":return et.time({width:"long"});case"pppp":default:return et.time({width:"full"})}},dateTimeLongFormatter=function($,et){var tt=$.match(/(P+)(p+)?/)||[],rt=tt[1],nt=tt[2];if(!nt)return dateLongFormatter($,et);var it;switch(rt){case"P":it=et.dateTime({width:"short"});break;case"PP":it=et.dateTime({width:"medium"});break;case"PPP":it=et.dateTime({width:"long"});break;case"PPPP":default:it=et.dateTime({width:"full"});break}return it.replace("{{date}}",dateLongFormatter(rt,et)).replace("{{time}}",timeLongFormatter(nt,et))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(_e){return protectedDayOfYearTokens.indexOf(_e)!==-1}function isProtectedWeekYearToken(_e){return protectedWeekYearTokens.indexOf(_e)!==-1}function throwProtectedError(_e,$,et){if(_e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat($,"`) for formatting years to the input `").concat(et,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(_e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat($,"`) for formatting years to the input `").concat(et,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(_e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat($,"`) for formatting days of the month to the input `").concat(et,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(_e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat($,"`) for formatting days of the month to the input `").concat(et,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function($,et,tt){var rt,nt=formatDistanceLocale[$];return typeof nt=="string"?rt=nt:et===1?rt=nt.one:rt=nt.other.replace("{{count}}",et.toString()),tt!=null&&tt.addSuffix?tt.comparison&&tt.comparison>0?"in "+rt:rt+" ago":rt};function buildFormatLongFn(_e){return function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=$.width?String($.width):_e.defaultWidth,tt=_e.formats[et]||_e.formats[_e.defaultWidth];return tt}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function($,et,tt,rt){return formatRelativeLocale[$]};function buildLocalizeFn(_e){return function($,et){var tt=et!=null&&et.context?String(et.context):"standalone",rt;if(tt==="formatting"&&_e.formattingValues){var nt=_e.defaultFormattingWidth||_e.defaultWidth,it=et!=null&&et.width?String(et.width):nt;rt=_e.formattingValues[it]||_e.formattingValues[nt]}else{var at=_e.defaultWidth,st=et!=null&&et.width?String(et.width):_e.defaultWidth;rt=_e.values[st]||_e.values[at]}var ot=_e.argumentCallback?_e.argumentCallback($):$;return rt[ot]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function($,et){var tt=Number($),rt=tt%100;if(rt>20||rt<10)switch(rt%10){case 1:return tt+"st";case 2:return tt+"nd";case 3:return tt+"rd"}return tt+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function($){return $-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(_e){return function($){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.width,rt=tt&&_e.matchPatterns[tt]||_e.matchPatterns[_e.defaultMatchWidth],nt=$.match(rt);if(!nt)return null;var it=nt[0],at=tt&&_e.parsePatterns[tt]||_e.parsePatterns[_e.defaultParseWidth],st=Array.isArray(at)?findIndex$2(at,function(ct){return ct.test(it)}):findKey(at,function(ct){return ct.test(it)}),ot;ot=_e.valueCallback?_e.valueCallback(st):st,ot=et.valueCallback?et.valueCallback(ot):ot;var lt=$.slice(it.length);return{value:ot,rest:lt}}}function findKey(_e,$){for(var et in _e)if(_e.hasOwnProperty(et)&&$(_e[et]))return et}function findIndex$2(_e,$){for(var et=0;et<_e.length;et++)if($(_e[et]))return et}function buildMatchPatternFn(_e){return function($){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=$.match(_e.matchPattern);if(!tt)return null;var rt=tt[0],nt=$.match(_e.parsePattern);if(!nt)return null;var it=_e.valueCallback?_e.valueCallback(nt[0]):nt[0];it=et.valueCallback?et.valueCallback(it):it;var at=$.slice(rt.length);return{value:it,rest:at}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function($){return parseInt($,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function($){return $+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},locale$2={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format$1(_e,$,et){var tt,rt,nt,it,at,st,ot,lt,ct,ut,dt,ht,mt,pt;requiredArgs(2,arguments);var ft=String($),gt=getDefaultOptions(),bt=(tt=(rt=void 0)!==null&&rt!==void 0?rt:gt.locale)!==null&&tt!==void 0?tt:locale$2,_t=toInteger$2((nt=(it=(at=(st=void 0)!==null&&st!==void 0?st:void 0)!==null&&at!==void 0?at:gt.firstWeekContainsDate)!==null&&it!==void 0?it:(ot=gt.locale)===null||ot===void 0||(lt=ot.options)===null||lt===void 0?void 0:lt.firstWeekContainsDate)!==null&&nt!==void 0?nt:1);if(!(_t>=1&&_t<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var yt=toInteger$2((ct=(ut=(dt=(ht=void 0)!==null&&ht!==void 0?ht:void 0)!==null&&dt!==void 0?dt:gt.weekStartsOn)!==null&&ut!==void 0?ut:(mt=gt.locale)===null||mt===void 0||(pt=mt.options)===null||pt===void 0?void 0:pt.weekStartsOn)!==null&&ct!==void 0?ct:0);if(!(yt>=0&&yt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!bt.localize)throw new RangeError("locale must contain localize property");if(!bt.formatLong)throw new RangeError("locale must contain formatLong property");var vt=toDate(_e);if(!isValid(vt))throw new RangeError("Invalid time value");var xt=getTimezoneOffsetInMilliseconds(vt),wt=subMilliseconds(vt,xt),St={firstWeekContainsDate:_t,weekStartsOn:yt,locale:bt,_originalDate:vt},Ot=ft.match(longFormattingTokensRegExp).map(function(Et){var Tt=Et[0];if(Tt==="p"||Tt==="P"){var It=longFormatters[Tt];return It(Et,bt.formatLong)}return Et}).join("").match(formattingTokensRegExp).map(function(Et){if(Et==="''")return"'";var Tt=Et[0];if(Tt==="'")return cleanEscapedString(Et);var It=formatters$1[Tt];if(It)return isProtectedWeekYearToken(Et)&&throwProtectedError(Et,$,String(_e)),isProtectedDayOfYearToken(Et)&&throwProtectedError(Et,$,String(_e)),It(wt,Et,bt.localize,St);if(Tt.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Tt+"`");return Et}).join("");return Ot}function cleanEscapedString(_e){var $=_e.match(escapedStringRegExp);return $?$[1].replace(doubleQuoteRegExp,"'"):_e}function parseISO(_e,$){var et;requiredArgs(1,arguments);var tt=toInteger$2((et=void 0)!==null&&et!==void 0?et:2);if(tt!==2&&tt!==1&&tt!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof _e=="string"||Object.prototype.toString.call(_e)==="[object String]"))return new Date(NaN);var rt=splitDateString(_e),nt;if(rt.date){var it=parseYear$1(rt.date,tt);nt=parseDate(it.restDateString,it.year)}if(!nt||isNaN(nt.getTime()))return new Date(NaN);var at=nt.getTime(),st=0,ot;if(rt.time&&(st=parseTime(rt.time),isNaN(st)))return new Date(NaN);if(rt.timezone){if(ot=parseTimezone(rt.timezone),isNaN(ot))return new Date(NaN)}else{var lt=new Date(at+st),ct=new Date(0);return ct.setFullYear(lt.getUTCFullYear(),lt.getUTCMonth(),lt.getUTCDate()),ct.setHours(lt.getUTCHours(),lt.getUTCMinutes(),lt.getUTCSeconds(),lt.getUTCMilliseconds()),ct}return new Date(at+st+ot)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(_e){var $={},et=_e.split(patterns.dateTimeDelimiter),tt;if(et.length>2)return $;if(/:/.test(et[0])?tt=et[0]:($.date=et[0],tt=et[1],patterns.timeZoneDelimiter.test($.date)&&($.date=_e.split(patterns.timeZoneDelimiter)[0],tt=_e.substr($.date.length,_e.length))),tt){var rt=patterns.timezone.exec(tt);rt?($.time=tt.replace(rt[1],""),$.timezone=rt[1]):$.time=tt}return $}function parseYear$1(_e,$){var et=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+$)+"})|(\\d{2}|[+-]\\d{"+(2+$)+"})$)"),tt=_e.match(et);if(!tt)return{year:NaN,restDateString:""};var rt=tt[1]?parseInt(tt[1]):null,nt=tt[2]?parseInt(tt[2]):null;return{year:nt===null?rt:nt*100,restDateString:_e.slice((tt[1]||tt[2]).length)}}function parseDate(_e,$){if($===null)return new Date(NaN);var et=_e.match(dateRegex);if(!et)return new Date(NaN);var tt=!!et[4],rt=parseDateUnit(et[1]),nt=parseDateUnit(et[2])-1,it=parseDateUnit(et[3]),at=parseDateUnit(et[4]),st=parseDateUnit(et[5])-1;if(tt)return validateWeekDate($,at,st)?dayOfISOWeekYear($,at,st):new Date(NaN);var ot=new Date(0);return!validateDate($,nt,it)||!validateDayOfYearDate($,rt)?new Date(NaN):(ot.setUTCFullYear($,nt,Math.max(rt,it)),ot)}function parseDateUnit(_e){return _e?parseInt(_e):1}function parseTime(_e){var $=_e.match(timeRegex);if(!$)return NaN;var et=parseTimeUnit($[1]),tt=parseTimeUnit($[2]),rt=parseTimeUnit($[3]);return validateTime(et,tt,rt)?et*millisecondsInHour+tt*millisecondsInMinute+rt*1e3:NaN}function parseTimeUnit(_e){return _e&&parseFloat(_e.replace(",","."))||0}function parseTimezone(_e){if(_e==="Z")return 0;var $=_e.match(timezoneRegex);if(!$)return 0;var et=$[1]==="+"?-1:1,tt=parseInt($[2]),rt=$[3]&&parseInt($[3])||0;return validateTimezone(tt,rt)?et*(tt*millisecondsInHour+rt*millisecondsInMinute):NaN}function dayOfISOWeekYear(_e,$,et){var tt=new Date(0);tt.setUTCFullYear(_e,0,4);var rt=tt.getUTCDay()||7,nt=($-1)*7+et+1-rt;return tt.setUTCDate(tt.getUTCDate()+nt),tt}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(_e){return _e%400===0||_e%4===0&&_e%100!==0}function validateDate(_e,$,et){return $>=0&&$<=11&&et>=1&&et<=(daysInMonths[$]||(isLeapYearIndex(_e)?29:28))}function validateDayOfYearDate(_e,$){return $>=1&&$<=(isLeapYearIndex(_e)?366:365)}function validateWeekDate(_e,$,et){return $>=1&&$<=53&&et>=0&&et<=6}function validateTime(_e,$,et){return _e===24?$===0&&et===0:et>=0&&et<60&&$>=0&&$<60&&_e>=0&&_e<25}function validateTimezone(_e,$){return $>=0&&$<=59}function subMonths(_e,$){requiredArgs(2,arguments);var et=toInteger$2($);return addMonths(_e,-et)}const PurchasesList=({filters:_e})=>{const[$,et]=reactExports.useState([]),[tt,rt]=reactExports.useState(!0),{users:nt}=useUsers();reactExports.useEffect(()=>{console.log("Filter date changed:",_e==null?void 0:_e.date),it()},[_e==null?void 0:_e.date]);const it=async()=>{try{let ht=supabase.from("purchases").select("*");if(_e!=null&&_e.date){const ft=new Date(_e.date.getFullYear(),_e.date.getMonth(),1),gt=startOfMonth(ft),bt=endOfMonth(ft),_t=format$1(gt,"yyyy-MM-dd"),yt=format$1(bt,"yyyy-MM-dd");console.log("Fetching purchases for date range:",{originalDate:_e.date,filterDate:ft,startStr:_t,endStr:yt,filterMonth:ft.getMonth()+1,filterYear:ft.getFullYear()});const{data:vt}=await ht.gte("date",_t).lte("date",yt);console.log("Debug - Raw query results:",vt),ht=ht.gte("date",_t).lte("date",yt)}const{data:mt,error:pt}=await ht.order("date",{ascending:!1});if(pt)throw pt;console.log("Fetched purchases:",mt==null?void 0:mt.map(ft=>({id:ft.id,date:ft.date,amount:ft.amount,description:ft.description}))),et(mt||[])}catch(ht){console.error("Error fetching purchases:",ht),kt.error("Failed to load purchases")}finally{rt(!1)}},at=async ht=>{try{const{error:mt}=await supabase.from("purchases").delete().eq("id",ht);if(mt)throw mt;et($.filter(pt=>pt.id!==ht)),kt.success("Purchase deleted successfully")}catch(mt){console.error("Error deleting purchase:",mt),kt.error("Failed to delete purchase")}},st=ht=>{try{return ht?format$1(parseISO(ht),"dd.MM.yyyy"):"N/A"}catch{return"Invalid Date"}},ot=ht=>{const mt=nt.find(pt=>pt.id===ht);return(mt==null?void 0:mt.name)||"Unknown User"},ct=$.filter(ht=>{var mt,pt;if(_e!=null&&_e.date){const ft=new Date(ht.date),gt=_e.date;if(ft.getMonth()!==gt.getMonth()||ft.getFullYear()!==gt.getFullYear())return!1}return!((mt=_e==null?void 0:_e.categories)!=null&&mt.length&&!_e.categories.includes(ht.category)||(pt=_e==null?void 0:_e.users)!=null&&pt.length&&!_e.users.includes(ht.user_id))}).reduce((ht,mt)=>{const pt=`${mt.date}-${mt.category}-${mt.amount}-${mt.description||""}`;return ht[pt]?ht[pt].users.push(ot(mt.user_id)):ht[pt]={...mt,users:[ot(mt.user_id)]},ht},{}),ut=Object.values(ct).reduce((ht,mt)=>{const pt=parseFloat(mt.amount.toString());return pt>=0?ht.received+=pt:ht.sent+=Math.abs(pt),ht},{received:0,sent:0}),dt=ut.received-ut.sent;return tt?jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading..."}):Object.keys(ct).length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No purchases found"}):jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Recent Purchases"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 mr-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Total Received"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["+",ut.received.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Total Sent"}),jsxRuntimeExports.jsxs("span",{className:"text-lg font-semibold text-red-600",children:["-",Math.abs(ut.sent).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"Net Amount"}),jsxRuntimeExports.jsxs("span",{className:`text-lg font-semibold ${dt>=0?"text-green-600":"text-red-600"}`,children:[dt>=0?"+":"",dt.toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(ct).sort((ht,mt)=>new Date(mt.date).getTime()-new Date(ht.date).getTime()).map(ht=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:st(ht.date)}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:ht.users.length>1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Split,{className:"h-4 w-4 text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:["Split ",ht.users.length," ways"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:ht.users[0]})]})}),ht.users.length>1&&jsxRuntimeExports.jsx("div",{className:"mt-1 text-xs text-gray-400",children:ht.users.join(", ")})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ht.category}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ht.description||"-"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end",children:[jsxRuntimeExports.jsxs("span",{className:`text-sm font-semibold ${ht.amount>=0?"text-green-600":"text-red-600"}`,children:[ht.amount>=0?"+":"-","",Math.abs(ht.amount).toFixed(2)]}),ht.users.length>1&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["",Math.abs(ht.amount).toFixed(2)," per person"]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:jsxRuntimeExports.jsx("button",{onClick:()=>at(ht.id),className:"text-red-600 hover:text-red-900",children:jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"})})})]},ht.id))})]})]})};function useCategories(){const[_e,$]=reactExports.useState([]),[et,tt]=reactExports.useState(!0),[rt,nt]=reactExports.useState(null),it=reactExports.useCallback(async()=>{try{tt(!0);const{data:at,error:st}=await supabase.from("categories").select("*").order("name").abortSignal(new AbortController().signal);if(st)throw st;$(at||[])}catch(at){console.error("Error fetching categories:",at),nt(at),kt.error("Failed to load categories")}finally{tt(!1)}},[]);return reactExports.useEffect(()=>{it()},[it]),{categories:_e,loading:et,error:rt,fetchCategories:it}}const AddPurchasePopup=({onClose:_e,onPurchaseAdded:$})=>{const{users:et}=useUsers(),{categories:tt,loading:rt}=useCategories(),[nt,it]=reactExports.useState(""),[at,st]=reactExports.useState(!1),[ot,lt]=reactExports.useState({amount:"",category:"",description:"",date:new Date().toISOString().split("T")[0],userIds:[]}),ct=async ft=>{if(ft.preventDefault(),!ot.category){kt.error("Please select a category");return}if(ot.userIds.length===0){kt.error("Please select at least one user");return}try{const gt=-Math.abs(parseFloat(ot.amount)),bt=gt/ot.userIds.length,{error:_t}=await supabase.from("purchases").insert(ot.userIds.map(yt=>({user_id:yt,amount:bt,category:ot.category,description:ot.description,date:ot.date,total_amount:Math.abs(gt),split_between:ot.userIds.length})));if(_t)throw _t;kt.success("Purchase added successfully"),$()}catch(gt){console.error("Error adding purchase:",gt),kt.error("Failed to add purchase")}},ut=et.filter(ft=>ft.name.toLowerCase().includes(nt.toLowerCase())&&!ot.userIds.includes(ft.id)),dt=ft=>{lt(gt=>({...gt,userIds:[...gt.userIds,ft]})),it(""),st(!1)},ht=ft=>{lt(gt=>({...gt,userIds:gt.userIds.filter(bt=>bt!==ft)}))},mt=tt.reduce((ft,gt)=>(ft[gt.type]||(ft[gt.type]=[]),ft[gt.type].push(gt),ft),{}),pt=ot.userIds.map(ft=>et.find(gt=>gt.id===ft)).filter(ft=>ft!==void 0);return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx("button",{onClick:_e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(X,{className:"h-6 w-6"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Purchase"}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:ot.amount,onChange:ft=>lt({...ot,amount:ft.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:ot.category,onChange:ft=>lt({...ot,category:ft.target.value}),className:"w-full p-2 border rounded-md",required:!0,disabled:rt,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a category"}),mt.fixed&&jsxRuntimeExports.jsx("optgroup",{label:"Fixed Expenses",children:mt.fixed.map(ft=>jsxRuntimeExports.jsx("option",{value:ft.name,children:ft.name},ft.id))}),mt.flexible&&jsxRuntimeExports.jsx("optgroup",{label:"Flexible Expenses",children:mt.flexible.map(ft=>jsxRuntimeExports.jsx("option",{value:ft.name,children:ft.name},ft.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Split Between Users"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:pt.map(ft=>ft&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[jsxRuntimeExports.jsx("span",{children:ft.name}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ht(ft.id),className:"text-blue-600 hover:text-blue-800",children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]},ft.id))}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"text",value:nt,onChange:ft=>{it(ft.target.value),st(!0)},onFocus:()=>st(!0),placeholder:"Type to search users...",className:"w-full p-2 border rounded-md"}),jsxRuntimeExports.jsx(Users,{className:"absolute right-3 h-5 w-5 text-gray-400"})]}),at&&jsxRuntimeExports.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-48 overflow-auto",children:ut.length>0?ut.map(ft=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>dt(ft.id),className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),ft.name]},ft.id)):jsxRuntimeExports.jsx("div",{className:"px-4 py-2 text-gray-500",children:nt?"No matching users found":"Type to search users"})})]}),ot.userIds.length>0&&ot.amount&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Split amount: ",(parseFloat(ot.amount)/ot.userIds.length).toFixed(2)," per person"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:ot.description,onChange:ft=>lt({...ot,description:ft.target.value}),className:"w-full p-2 border rounded-md"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:ot.date,onChange:ft=>lt({...ot,date:ft.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Add Purchase"})]})]})})};function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,et){module.exports=$.pdfjsLib=et()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$)=>{var Yr;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=jt,$.bytesToString=ar,$.createValidAbsoluteUrl=Dt,$.getModificationDate=Sr,$.getUuid=Dr,$.getVerbosityLevel=Lt,$.info=zt,$.isArrayBuffer=nr,$.isArrayEqual=$r,$.isNodeJS=void 0,$.normalizeUnicode=Cr,$.objectFromMap=gr,$.objectSize=hr,$.setVerbosityLevel=Wt,$.shadow=Mt,$.string32=fr,$.stringToBytes=Qt,$.stringToPDFString=pr,$.stringToUTF8String=xr,$.unreachable=Rt,$.utf8StringToString=br,$.warn=Ft;const et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=et;const tt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=tt;const rt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=rt;const nt=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=nt;const it=1.35;$.LINE_FACTOR=it;const at=.35;$.LINE_DESCENT_FACTOR=at;const st=at/it;$.BASELINE_FACTOR=st;const ot={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=ot;const lt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=lt;const ct="pdfjs_internal_editor_";$.AnnotationEditorPrefix=ct;const ut={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=ut;const dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=dt;const ht={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=ht;const mt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=mt;const pt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=pt;const ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ft;const gt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=gt;const bt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=bt;const _t={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=_t;const yt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=yt;const vt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=vt;const xt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=xt;const wt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=wt;const St={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=St;const Ot={NONE:0,BINARY:1};$.CMapCompressionType=Ot;const Et={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Et;const Tt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Tt;let It=St.WARNINGS;function Wt(_r){Number.isInteger(_r)&&(It=_r)}function Lt(){return It}function zt(_r){It>=St.INFOS&&console.log(`Info: ${_r}`)}function Ft(_r){It>=St.WARNINGS&&console.log(`Warning: ${_r}`)}function Rt(_r){throw new Error(_r)}function jt(_r,lr){_r||Rt(lr)}function Ct(_r){switch(_r==null?void 0:_r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Dt(_r,lr=null,ur=null){if(!_r)return null;try{if(ur&&typeof _r=="string"){if(ur.addDefaultProtocol&&_r.startsWith("www.")){const Vr=_r.match(/\./g);(Vr==null?void 0:Vr.length)>=2&&(_r=`http://${_r}`)}if(ur.tryConvertEncoding)try{_r=xr(_r)}catch{}}const Tr=lr?new URL(_r,lr):new URL(_r);if(Ct(Tr))return Tr}catch{}return null}function Mt(_r,lr,ur,Tr=!1){return Object.defineProperty(_r,lr,{value:ur,enumerable:!Tr,configurable:!0,writable:!1}),ur}const At=function(){function lr(ur,Tr){this.constructor===lr&&Rt("Cannot initialize BaseException."),this.message=ur,this.name=Tr}return lr.prototype=new Error,lr.constructor=lr,lr}();$.BaseException=At;class Pt extends At{constructor(lr,ur){super(lr,"PasswordException"),this.code=ur}}$.PasswordException=Pt;class Nt extends At{constructor(lr,ur){super(lr,"UnknownErrorException"),this.details=ur}}$.UnknownErrorException=Nt;class Bt extends At{constructor(lr){super(lr,"InvalidPDFException")}}$.InvalidPDFException=Bt;class Vt extends At{constructor(lr){super(lr,"MissingPDFException")}}$.MissingPDFException=Vt;class qt extends At{constructor(lr,ur){super(lr,"UnexpectedResponseException"),this.status=ur}}$.UnexpectedResponseException=qt;class Gt extends At{constructor(lr){super(lr,"FormatError")}}$.FormatError=Gt;class Jt extends At{constructor(lr){super(lr,"AbortException")}}$.AbortException=Jt;function ar(_r){(typeof _r!="object"||(_r==null?void 0:_r.length)===void 0)&&Rt("Invalid argument for bytesToString");const lr=_r.length,ur=8192;if(lr<ur)return String.fromCharCode.apply(null,_r);const Tr=[];for(let Vr=0;Vr<lr;Vr+=ur){const Hr=Math.min(Vr+ur,lr),Xt=_r.subarray(Vr,Hr);Tr.push(String.fromCharCode.apply(null,Xt))}return Tr.join("")}function Qt(_r){typeof _r!="string"&&Rt("Invalid argument for stringToBytes");const lr=_r.length,ur=new Uint8Array(lr);for(let Tr=0;Tr<lr;++Tr)ur[Tr]=_r.charCodeAt(Tr)&255;return ur}function fr(_r){return String.fromCharCode(_r>>24&255,_r>>16&255,_r>>8&255,_r&255)}function hr(_r){return Object.keys(_r).length}function gr(_r){const lr=Object.create(null);for(const[ur,Tr]of _r)lr[ur]=Tr;return lr}function rr(){const _r=new Uint8Array(4);return _r[0]=1,new Uint32Array(_r.buffer,0,1)[0]===1}function ir(){try{return new Function(""),!0}catch{return!1}}class Ut{static get isLittleEndian(){return Mt(this,"isLittleEndian",rr())}static get isEvalSupported(){return Mt(this,"isEvalSupported",ir())}static get isOffscreenCanvasSupported(){return Mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Mt(this,"platform",{isWin:!1,isMac:!1}):Mt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var lr,ur;return Mt(this,"isCSSRoundSupported",(ur=(lr=globalThis.CSS)==null?void 0:lr.supports)==null?void 0:ur.call(lr,"width: round(1.5px, 1px)"))}}$.FeatureTest=Ut;const Yt=[...Array(256).keys()].map(_r=>_r.toString(16).padStart(2,"0"));class tr{static makeHexColor(lr,ur,Tr){return`#${Yt[lr]}${Yt[ur]}${Yt[Tr]}`}static scaleMinMax(lr,ur){let Tr;lr[0]?(lr[0]<0&&(Tr=ur[0],ur[0]=ur[1],ur[1]=Tr),ur[0]*=lr[0],ur[1]*=lr[0],lr[3]<0&&(Tr=ur[2],ur[2]=ur[3],ur[3]=Tr),ur[2]*=lr[3],ur[3]*=lr[3]):(Tr=ur[0],ur[0]=ur[2],ur[2]=Tr,Tr=ur[1],ur[1]=ur[3],ur[3]=Tr,lr[1]<0&&(Tr=ur[2],ur[2]=ur[3],ur[3]=Tr),ur[2]*=lr[1],ur[3]*=lr[1],lr[2]<0&&(Tr=ur[0],ur[0]=ur[1],ur[1]=Tr),ur[0]*=lr[2],ur[1]*=lr[2]),ur[0]+=lr[4],ur[1]+=lr[4],ur[2]+=lr[5],ur[3]+=lr[5]}static transform(lr,ur){return[lr[0]*ur[0]+lr[2]*ur[1],lr[1]*ur[0]+lr[3]*ur[1],lr[0]*ur[2]+lr[2]*ur[3],lr[1]*ur[2]+lr[3]*ur[3],lr[0]*ur[4]+lr[2]*ur[5]+lr[4],lr[1]*ur[4]+lr[3]*ur[5]+lr[5]]}static applyTransform(lr,ur){const Tr=lr[0]*ur[0]+lr[1]*ur[2]+ur[4],Vr=lr[0]*ur[1]+lr[1]*ur[3]+ur[5];return[Tr,Vr]}static applyInverseTransform(lr,ur){const Tr=ur[0]*ur[3]-ur[1]*ur[2],Vr=(lr[0]*ur[3]-lr[1]*ur[2]+ur[2]*ur[5]-ur[4]*ur[3])/Tr,Hr=(-lr[0]*ur[1]+lr[1]*ur[0]+ur[4]*ur[1]-ur[5]*ur[0])/Tr;return[Vr,Hr]}static getAxialAlignedBoundingBox(lr,ur){const Tr=this.applyTransform(lr,ur),Vr=this.applyTransform(lr.slice(2,4),ur),Hr=this.applyTransform([lr[0],lr[3]],ur),Xt=this.applyTransform([lr[2],lr[1]],ur);return[Math.min(Tr[0],Vr[0],Hr[0],Xt[0]),Math.min(Tr[1],Vr[1],Hr[1],Xt[1]),Math.max(Tr[0],Vr[0],Hr[0],Xt[0]),Math.max(Tr[1],Vr[1],Hr[1],Xt[1])]}static inverseTransform(lr){const ur=lr[0]*lr[3]-lr[1]*lr[2];return[lr[3]/ur,-lr[1]/ur,-lr[2]/ur,lr[0]/ur,(lr[2]*lr[5]-lr[4]*lr[3])/ur,(lr[4]*lr[1]-lr[5]*lr[0])/ur]}static singularValueDecompose2dScale(lr){const ur=[lr[0],lr[2],lr[1],lr[3]],Tr=lr[0]*ur[0]+lr[1]*ur[2],Vr=lr[0]*ur[1]+lr[1]*ur[3],Hr=lr[2]*ur[0]+lr[3]*ur[2],Xt=lr[2]*ur[1]+lr[3]*ur[3],yr=(Tr+Xt)/2,Er=Math.sqrt((Tr+Xt)**2-4*(Tr*Xt-Hr*Vr))/2,Rr=yr+Er||1,Nr=yr-Er||1;return[Math.sqrt(Rr),Math.sqrt(Nr)]}static normalizeRect(lr){const ur=lr.slice(0);return lr[0]>lr[2]&&(ur[0]=lr[2],ur[2]=lr[0]),lr[1]>lr[3]&&(ur[1]=lr[3],ur[3]=lr[1]),ur}static intersect(lr,ur){const Tr=Math.max(Math.min(lr[0],lr[2]),Math.min(ur[0],ur[2])),Vr=Math.min(Math.max(lr[0],lr[2]),Math.max(ur[0],ur[2]));if(Tr>Vr)return null;const Hr=Math.max(Math.min(lr[1],lr[3]),Math.min(ur[1],ur[3])),Xt=Math.min(Math.max(lr[1],lr[3]),Math.max(ur[1],ur[3]));return Hr>Xt?null:[Tr,Hr,Vr,Xt]}static bezierBoundingBox(lr,ur,Tr,Vr,Hr,Xt,yr,Er){const Rr=[],Nr=[[],[]];let Pr,Kt,Ht,Zt,dr,mr,vr,wr;for(let zr=0;zr<2;++zr){if(zr===0?(Kt=6*lr-12*Tr+6*Hr,Pr=-3*lr+9*Tr-9*Hr+3*yr,Ht=3*Tr-3*lr):(Kt=6*ur-12*Vr+6*Xt,Pr=-3*ur+9*Vr-9*Xt+3*Er,Ht=3*Vr-3*ur),Math.abs(Pr)<1e-12){if(Math.abs(Kt)<1e-12)continue;Zt=-Ht/Kt,0<Zt&&Zt<1&&Rr.push(Zt);continue}vr=Kt*Kt-4*Ht*Pr,wr=Math.sqrt(vr),!(vr<0)&&(dr=(-Kt+wr)/(2*Pr),0<dr&&dr<1&&Rr.push(dr),mr=(-Kt-wr)/(2*Pr),0<mr&&mr<1&&Rr.push(mr))}let Mr=Rr.length,Or;const Ar=Mr;for(;Mr--;)Zt=Rr[Mr],Or=1-Zt,Nr[0][Mr]=Or*Or*Or*lr+3*Or*Or*Zt*Tr+3*Or*Zt*Zt*Hr+Zt*Zt*Zt*yr,Nr[1][Mr]=Or*Or*Or*ur+3*Or*Or*Zt*Vr+3*Or*Zt*Zt*Xt+Zt*Zt*Zt*Er;return Nr[0][Ar]=lr,Nr[1][Ar]=ur,Nr[0][Ar+1]=yr,Nr[1][Ar+1]=Er,Nr[0].length=Nr[1].length=Ar+2,[Math.min(...Nr[0]),Math.min(...Nr[1]),Math.max(...Nr[0]),Math.max(...Nr[1])]}}$.Util=tr;const sr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pr(_r){if(_r[0]>=""){let ur;if(_r[0]===""&&_r[1]===""?ur="utf-16be":_r[0]===""&&_r[1]===""?ur="utf-16le":_r[0]===""&&_r[1]===""&&_r[2]===""&&(ur="utf-8"),ur)try{const Tr=new TextDecoder(ur,{fatal:!0}),Vr=Qt(_r);return Tr.decode(Vr)}catch(Tr){Ft(`stringToPDFString: "${Tr}".`)}}const lr=[];for(let ur=0,Tr=_r.length;ur<Tr;ur++){const Vr=sr[_r.charCodeAt(ur)];lr.push(Vr?String.fromCharCode(Vr):_r.charAt(ur))}return lr.join("")}function xr(_r){return decodeURIComponent(escape(_r))}function br(_r){return unescape(encodeURIComponent(_r))}function nr(_r){return typeof _r=="object"&&(_r==null?void 0:_r.byteLength)!==void 0}function $r(_r,lr){if(_r.length!==lr.length)return!1;for(let ur=0,Tr=_r.length;ur<Tr;ur++)if(_r[ur]!==lr[ur])return!1;return!0}function Sr(_r=new Date){return[_r.getUTCFullYear().toString(),(_r.getUTCMonth()+1).toString().padStart(2,"0"),_r.getUTCDate().toString().padStart(2,"0"),_r.getUTCHours().toString().padStart(2,"0"),_r.getUTCMinutes().toString().padStart(2,"0"),_r.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ur{constructor(){or(this,Yr,!1);this.promise=new Promise((lr,ur)=>{this.resolve=Tr=>{cr(this,Yr,!0),lr(Tr)},this.reject=Tr=>{cr(this,Yr,!0),ur(Tr)}})}get settled(){return $t(this,Yr)}}Yr=new WeakMap,$.PromiseCapability=Ur;let Fr=null,qr=null;function Cr(_r){return Fr||(Fr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,qr=new Map([["","t"]])),_r.replaceAll(Fr,(lr,ur,Tr)=>ur?ur.normalize("NFKC"):qr.get(Tr))}function Dr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_r);else for(let lr=0;lr<32;lr++)_r[lr]=Math.floor(Math.random()*255);return ar(_r)}const Gr="pdfjs_internal_id_";$.AnnotationPrefix=Gr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,et,tt,rt,on,_n,at,st,ot,lt,ct,ut,dt,ht,mt,wn,ft,gt,Nn,_t,yt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(xt){if(typeof xt=="string"||xt instanceof URL?xt={url:xt}:(0,_util.isArrayBuffer)(xt)&&(xt={data:xt}),typeof xt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!xt.url&&!xt.data&&!xt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const wt=new PDFDocumentLoadingTask,{docId:St}=wt,Ot=xt.url?getUrlProp(xt.url):null,Et=xt.data?getDataProp(xt.data):null,Tt=xt.httpHeaders||null,It=xt.withCredentials===!0,Wt=xt.password??null,Lt=xt.range instanceof PDFDataRangeTransport?xt.range:null,zt=Number.isInteger(xt.rangeChunkSize)&&xt.rangeChunkSize>0?xt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ft=xt.worker instanceof PDFWorker?xt.worker:null;const Rt=xt.verbosity,jt=typeof xt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(xt.docBaseUrl)?xt.docBaseUrl:null,Ct=typeof xt.cMapUrl=="string"?xt.cMapUrl:null,Dt=xt.cMapPacked!==!1,Mt=xt.CMapReaderFactory||DefaultCMapReaderFactory,At=typeof xt.standardFontDataUrl=="string"?xt.standardFontDataUrl:null,Pt=xt.StandardFontDataFactory||DefaultStandardFontDataFactory,Nt=xt.stopAtErrors!==!0,Bt=Number.isInteger(xt.maxImageSize)&&xt.maxImageSize>-1?xt.maxImageSize:-1,Vt=xt.isEvalSupported!==!1,qt=typeof xt.isOffscreenCanvasSupported=="boolean"?xt.isOffscreenCanvasSupported:!_util.isNodeJS,Gt=Number.isInteger(xt.canvasMaxAreaInBytes)?xt.canvasMaxAreaInBytes:-1,Jt=typeof xt.disableFontFace=="boolean"?xt.disableFontFace:_util.isNodeJS,ar=xt.fontExtraProperties===!0,Qt=xt.enableXfa===!0,fr=xt.ownerDocument||globalThis.document,hr=xt.disableRange===!0,gr=xt.disableStream===!0,rr=xt.disableAutoFetch===!0,ir=xt.pdfBug===!0,Ut=Lt?Lt.length:xt.length??NaN,Yt=typeof xt.useSystemFonts=="boolean"?xt.useSystemFonts:!_util.isNodeJS&&!Jt,tr=typeof xt.useWorkerFetch=="boolean"?xt.useWorkerFetch:Mt===_display_utils.DOMCMapReaderFactory&&Pt===_display_utils.DOMStandardFontDataFactory&&Ct&&At&&(0,_display_utils.isValidFetchUrl)(Ct,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(At,document.baseURI),sr=xt.canvasFactory||new DefaultCanvasFactory({ownerDocument:fr}),pr=xt.filterFactory||new DefaultFilterFactory({docId:St,ownerDocument:fr}),xr=null;(0,_util.setVerbosityLevel)(Rt);const br={canvasFactory:sr,filterFactory:pr};if(tr||(br.cMapReaderFactory=new Mt({baseUrl:Ct,isCompressed:Dt}),br.standardFontDataFactory=new Pt({baseUrl:At})),!Ft){const Sr={verbosity:Rt,port:_worker_options.GlobalWorkerOptions.workerPort};Ft=Sr.port?PDFWorker.fromPort(Sr):new PDFWorker(Sr),wt._worker=Ft}const nr={docId:St,apiVersion:"3.11.174",data:Et,password:Wt,disableAutoFetch:rr,rangeChunkSize:zt,length:Ut,docBaseUrl:jt,enableXfa:Qt,evaluatorOptions:{maxImageSize:Bt,disableFontFace:Jt,ignoreErrors:Nt,isEvalSupported:Vt,isOffscreenCanvasSupported:qt,canvasMaxAreaInBytes:Gt,fontExtraProperties:ar,useSystemFonts:Yt,cMapUrl:tr?Ct:null,standardFontDataUrl:tr?At:null}},$r={ignoreErrors:Nt,isEvalSupported:Vt,disableFontFace:Jt,fontExtraProperties:ar,enableXfa:Qt,ownerDocument:fr,disableAutoFetch:rr,pdfBug:ir,styleElement:xr};return Ft.promise.then(function(){if(wt.destroyed)throw new Error("Loading aborted");const Sr=_fetchDocument(Ft,nr),Ur=new Promise(function(Fr){let qr;Lt?qr=new _transport_stream.PDFDataTransportStream({length:Ut,initialData:Lt.initialData,progressiveDone:Lt.progressiveDone,contentDispositionFilename:Lt.contentDispositionFilename,disableRange:hr,disableStream:gr},Lt):Et||(qr=(Dr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Dr):(0,_display_utils.isValidFetchUrl)(Dr.url)?new _displayFetch_stream.PDFFetchStream(Dr):new _displayNetwork.PDFNetworkStream(Dr))({url:Ot,length:Ut,httpHeaders:Tt,withCredentials:It,rangeChunkSize:zt,disableRange:hr,disableStream:gr})),Fr(qr)});return Promise.all([Sr,Ur]).then(function([Fr,qr]){if(wt.destroyed)throw new Error("Loading aborted");const Cr=new _message_handler.MessageHandler(St,Fr,Ft.port),Dr=new WorkerTransport(Cr,wt,qr,$r,br);wt._transport=Dr,Cr.send("Ready",null)})}).catch(wt._capability.reject),wt}async function _fetchDocument(xt,wt){if(xt.destroyed)throw new Error("Worker was destroyed");const St=await xt.messageHandler.sendWithPromise("GetDocRequest",wt,wt.data?[wt.data.buffer]:null);if(xt.destroyed)throw new Error("Worker was destroyed");return St}function getUrlProp(xt){if(xt instanceof URL)return xt.href;try{return new URL(xt,window.location).href}catch{if(_util.isNodeJS&&typeof xt=="string")return xt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(xt){if(_util.isNodeJS&&typeof Buffer<"u"&&xt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength)return xt;if(typeof xt=="string")return(0,_util.stringToBytes)(xt);if(typeof xt=="object"&&!isNaN(xt==null?void 0:xt.length)||(0,_util.isArrayBuffer)(xt))return new Uint8Array(xt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${fn($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var wt,St,Ot;this.destroyed=!0;try{(wt=this._worker)!=null&&wt.port&&(this._worker._pendingDestroy=!0),await((St=this._transport)==null?void 0:St.destroy())}catch(Et){throw(Ot=this._worker)!=null&&Ot.port&&delete this._worker._pendingDestroy,Et}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,or($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(wt,St,Ot=!1,Et=null){this.length=wt,this.initialData=St,this.progressiveDone=Ot,this.contentDispositionFilename=Et,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(wt){this._rangeListeners.push(wt)}addProgressListener(wt){this._progressListeners.push(wt)}addProgressiveReadListener(wt){this._progressiveReadListeners.push(wt)}addProgressiveDoneListener(wt){this._progressiveDoneListeners.push(wt)}onDataRange(wt,St){for(const Ot of this._rangeListeners)Ot(wt,St)}onDataProgress(wt,St){this._readyCapability.promise.then(()=>{for(const Ot of this._progressListeners)Ot(wt,St)})}onDataProgressiveRead(wt){this._readyCapability.promise.then(()=>{for(const St of this._progressiveReadListeners)St(wt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const wt of this._progressiveDoneListeners)wt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(wt,St){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(wt,St){this._pdfInfo=wt,this._transport=St,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ot=>{if(!Ot)return Ot;const Et=[];for(const Tt in Ot)Et.push(...Ot[Tt]);return Et}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(wt){return this._transport.getPage(wt)}getPageIndex(wt){return this._transport.getPageIndex(wt)}getDestinations(){return this._transport.getDestinations()}getDestination(wt){return this._transport.getDestination(wt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(wt=!1){return this._transport.startCleanup(wt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(wt,St,Ot,Et=!1){or(this,rt);or(this,et,null);or(this,tt,!1);this._pageIndex=wt,this._pageInfo=St,this._transport=Ot,this._stats=Et?new _display_utils.StatTimer:null,this._pdfBug=Et,this.commonObjs=Ot.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:wt,rotation:St=this.rotate,offsetX:Ot=0,offsetY:Et=0,dontFlip:Tt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:wt,rotation:St,offsetX:Ot,offsetY:Et,dontFlip:Tt})}getAnnotations({intent:wt="display"}={}){const St=this._transport.getRenderingIntent(wt);return this._transport.getAnnotations(this._pageIndex,St.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var wt;return((wt=this._transport._htmlForXfa)==null?void 0:wt.children[this._pageIndex])||null}render({canvasContext:wt,viewport:St,intent:Ot="display",annotationMode:Et=_util.AnnotationMode.ENABLE,transform:Tt=null,background:It=null,optionalContentConfigPromise:Wt=null,annotationCanvasMap:Lt=null,pageColors:zt=null,printAnnotationStorage:Ft=null}){var Pt,Nt;(Pt=this._stats)==null||Pt.time("Overall");const Rt=this._transport.getRenderingIntent(Ot,Et,Ft);cr(this,tt,!1),er(this,rt,_n).call(this),Wt||(Wt=this._transport.getOptionalContentConfig());let jt=this._intentStates.get(Rt.cacheKey);jt||(jt=Object.create(null),this._intentStates.set(Rt.cacheKey,jt)),jt.streamReaderCancelTimeout&&(clearTimeout(jt.streamReaderCancelTimeout),jt.streamReaderCancelTimeout=null);const Ct=!!(Rt.renderingIntent&_util.RenderingIntentFlag.PRINT);jt.displayReadyCapability||(jt.displayReadyCapability=new _util.PromiseCapability,jt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Nt=this._stats)==null||Nt.time("Page Request"),this._pumpOperatorList(Rt));const Dt=Bt=>{var Vt,qt;jt.renderTasks.delete(Mt),(this._maybeCleanupAfterRender||Ct)&&cr(this,tt,!0),er(this,rt,on).call(this,!Ct),Bt?(Mt.capability.reject(Bt),this._abortOperatorList({intentState:jt,reason:Bt instanceof Error?Bt:new Error(Bt)})):Mt.capability.resolve(),(Vt=this._stats)==null||Vt.timeEnd("Rendering"),(qt=this._stats)==null||qt.timeEnd("Overall")},Mt=new InternalRenderTask({callback:Dt,params:{canvasContext:wt,viewport:St,transform:Tt,background:It},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Lt,operatorList:jt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ct,pdfBug:this._pdfBug,pageColors:zt});(jt.renderTasks||(jt.renderTasks=new Set)).add(Mt);const At=Mt.task;return Promise.all([jt.displayReadyCapability.promise,Wt]).then(([Bt,Vt])=>{var qt;if(this.destroyed){Dt();return}(qt=this._stats)==null||qt.time("Rendering"),Mt.initializeGraphics({transparency:Bt,optionalContentConfig:Vt}),Mt.operatorListChanged()}).catch(Dt),At}getOperatorList({intent:wt="display",annotationMode:St=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ot=null}={}){var Lt;function Et(){It.operatorList.lastChunk&&(It.opListReadCapability.resolve(It.operatorList),It.renderTasks.delete(Wt))}const Tt=this._transport.getRenderingIntent(wt,St,Ot,!0);let It=this._intentStates.get(Tt.cacheKey);It||(It=Object.create(null),this._intentStates.set(Tt.cacheKey,It));let Wt;return It.opListReadCapability||(Wt=Object.create(null),Wt.operatorListChanged=Et,It.opListReadCapability=new _util.PromiseCapability,(It.renderTasks||(It.renderTasks=new Set)).add(Wt),It.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Lt=this._stats)==null||Lt.time("Page Request"),this._pumpOperatorList(Tt)),It.opListReadCapability.promise}streamTextContent({includeMarkedContent:wt=!1,disableNormalization:St=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:wt===!0,disableNormalization:St===!0},{highWaterMark:100,size(Et){return Et.items.length}})}getTextContent(wt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ot=>_xfa_text.XfaText.textContent(Ot));const St=this.streamTextContent(wt);return new Promise(function(Ot,Et){function Tt(){It.read().then(function({value:Lt,done:zt}){if(zt){Ot(Wt);return}Object.assign(Wt.styles,Lt.styles),Wt.items.push(...Lt.items),Tt()},Et)}const It=St.getReader(),Wt={items:[],styles:Object.create(null)};Tt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const wt=[];for(const St of this._intentStates.values())if(this._abortOperatorList({intentState:St,reason:new Error("Page was destroyed."),force:!0}),!St.opListReadCapability)for(const Ot of St.renderTasks)wt.push(Ot.completed),Ot.cancel();return this.objs.clear(),cr(this,tt,!1),er(this,rt,_n).call(this),Promise.all(wt)}cleanup(wt=!1){cr(this,tt,!0);const St=er(this,rt,on).call(this,!1);return wt&&St&&this._stats&&(this._stats=new _display_utils.StatTimer),St}_startRenderPage(wt,St){var Et,Tt;const Ot=this._intentStates.get(St);Ot&&((Et=this._stats)==null||Et.timeEnd("Page Request"),(Tt=Ot.displayReadyCapability)==null||Tt.resolve(wt))}_renderPageChunk(wt,St){for(let Ot=0,Et=wt.length;Ot<Et;Ot++)St.operatorList.fnArray.push(wt.fnArray[Ot]),St.operatorList.argsArray.push(wt.argsArray[Ot]);St.operatorList.lastChunk=wt.lastChunk,St.operatorList.separateAnnots=wt.separateAnnots;for(const Ot of St.renderTasks)Ot.operatorListChanged();wt.lastChunk&&er(this,rt,on).call(this,!0)}_pumpOperatorList({renderingIntent:wt,cacheKey:St,annotationStorageSerializable:Ot}){const{map:Et,transfers:Tt}=Ot,Wt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:wt,cacheKey:St,annotationStorage:Et},Tt).getReader(),Lt=this._intentStates.get(St);Lt.streamReader=Wt;const zt=()=>{Wt.read().then(({value:Ft,done:Rt})=>{if(Rt){Lt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ft,Lt),zt())},Ft=>{if(Lt.streamReader=null,!this._transport.destroyed){if(Lt.operatorList){Lt.operatorList.lastChunk=!0;for(const Rt of Lt.renderTasks)Rt.operatorListChanged();er(this,rt,on).call(this,!0)}if(Lt.displayReadyCapability)Lt.displayReadyCapability.reject(Ft);else if(Lt.opListReadCapability)Lt.opListReadCapability.reject(Ft);else throw Ft}})};zt()}_abortOperatorList({intentState:wt,reason:St,force:Ot=!1}){if(wt.streamReader){if(wt.streamReaderCancelTimeout&&(clearTimeout(wt.streamReaderCancelTimeout),wt.streamReaderCancelTimeout=null),!Ot){if(wt.renderTasks.size>0)return;if(St instanceof _display_utils.RenderingCancelledException){let Et=RENDERING_CANCELLED_TIMEOUT;St.extraDelay>0&&St.extraDelay<1e3&&(Et+=St.extraDelay),wt.streamReaderCancelTimeout=setTimeout(()=>{wt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:wt,reason:St,force:!0})},Et);return}}if(wt.streamReader.cancel(new _util.AbortException(St.message)).catch(()=>{}),wt.streamReader=null,!this._transport.destroyed){for(const[Et,Tt]of this._intentStates)if(Tt===wt){this._intentStates.delete(Et);break}this.cleanup()}}}get stats(){return this._stats}}et=new WeakMap,tt=new WeakMap,rt=new WeakSet,on=function(wt=!1){if(er(this,rt,_n).call(this),!$t(this,tt)||this.destroyed)return!1;if(wt)return cr(this,et,setTimeout(()=>{cr(this,et,null),er(this,rt,on).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:St,operatorList:Ot}of this._intentStates.values())if(St.size>0||!Ot.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),cr(this,tt,!1),!0},_n=function(){$t(this,et)&&(clearTimeout($t(this,et)),cr(this,et,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){or(this,at,new Set);or(this,st,Promise.resolve())}postMessage(wt,St){const Ot={data:structuredClone(wt,St?{transfer:St}:null)};$t(this,st).then(()=>{for(const Et of $t(this,at))Et.call(this,Ot)})}addEventListener(wt,St){$t(this,at).add(St)}removeEventListener(wt,St){$t(this,at).delete(St)}terminate(){$t(this,at).clear()}}at=new WeakMap,st=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const xt=(ot=document==null?void 0:document.currentScript)==null?void 0:ot.src;xt&&(PDFWorkerUtil.fallbackWorkerSrc=xt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(xt,wt){let St;try{if(St=new URL(xt),!St.origin||St.origin==="null")return!1}catch{return!1}const Ot=new URL(wt,St);return St.origin===Ot.origin},PDFWorkerUtil.createCDNWrapper=function(xt){const wt=`importScripts("${xt}");`;return URL.createObjectURL(new Blob([wt]))}}const _PDFWorker=class _PDFWorker{constructor({name:xt=null,port:wt=null,verbosity:St=(0,_util.getVerbosityLevel)()}={}){var Ot;if(this.name=xt,this.destroyed=!1,this.verbosity=St,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,wt){if((Ot=$t(_PDFWorker,lt))!=null&&Ot.has(wt))throw new Error("Cannot use more than one PDFWorker per port.");($t(_PDFWorker,lt)||cr(_PDFWorker,lt,new WeakMap)).set(wt,this),this._initializeFromPort(wt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(xt){this._port=xt,this._messageHandler=new _message_handler.MessageHandler("main","worker",xt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:xt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,xt)||(xt=PDFWorkerUtil.createCDNWrapper(new URL(xt,window.location).href));const wt=new Worker(xt),St=new _message_handler.MessageHandler("main","worker",wt),Ot=()=>{wt.removeEventListener("error",Et),St.destroy(),wt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Et=()=>{this._webWorker||Ot()};wt.addEventListener("error",Et),St.on("test",It=>{if(wt.removeEventListener("error",Et),this.destroyed){Ot();return}It?(this._messageHandler=St,this._port=wt,this._webWorker=wt,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),St.destroy(),wt.terminate())}),St.on("ready",It=>{if(wt.removeEventListener("error",Et),this.destroyed){Ot();return}try{Tt()}catch{this._setupFakeWorker()}});const Tt=()=>{const It=new Uint8Array;St.send("test",It,[It.buffer])};Tt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(xt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const wt=new LoopbackPort;this._port=wt;const St=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ot=new _message_handler.MessageHandler(St+"_worker",St,wt);xt.setup(Ot,wt);const Et=new _message_handler.MessageHandler(St,St+"_worker",wt);this._messageHandler=Et,this._readyCapability.resolve(),Et.send("configure",{verbosity:this.verbosity})}).catch(xt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${xt.message}".`))})}destroy(){var xt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(xt=$t(_PDFWorker,lt))==null||xt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(xt){var St;if(!(xt!=null&&xt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const wt=(St=$t(this,lt))==null?void 0:St.get(xt.port);if(wt){if(wt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return wt}return new _PDFWorker(xt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var xt;try{return((xt=globalThis.pdfjsWorker)==null?void 0:xt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};lt=new WeakMap,or(_PDFWorker,lt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(wt,St,Ot,Et,Tt){or(this,mt);or(this,ct,new Map);or(this,ut,new Map);or(this,dt,new Map);or(this,ht,null);this.messageHandler=wt,this.loadingTask=St,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Et.ownerDocument,styleElement:Et.styleElement}),this._params=Et,this.canvasFactory=Tt.canvasFactory,this.filterFactory=Tt.filterFactory,this.cMapReaderFactory=Tt.cMapReaderFactory,this.standardFontDataFactory=Tt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ot,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(wt,St=_util.AnnotationMode.ENABLE,Ot=null,Et=!1){let Tt=_util.RenderingIntentFlag.DISPLAY,It=_annotation_storage.SerializableEmpty;switch(wt){case"any":Tt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Tt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${wt}`)}switch(St){case _util.AnnotationMode.DISABLE:Tt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Tt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Tt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,It=(Tt&_util.RenderingIntentFlag.PRINT&&Ot instanceof _annotation_storage.PrintAnnotationStorage?Ot:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${St}`)}return Et&&(Tt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Tt,cacheKey:`${Tt}_${It.hash}`,annotationStorageSerializable:It}}destroy(){var Ot;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ot=$t(this,ht))==null||Ot.reject(new Error("Worker was destroyed during onPassword callback"));const wt=[];for(const Et of $t(this,ut).values())wt.push(Et._destroy());$t(this,ut).clear(),$t(this,dt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const St=this.messageHandler.sendWithPromise("Terminate",null);return wt.push(St),Promise.all(wt).then(()=>{var Et;this.commonObjs.clear(),this.fontLoader.clear(),$t(this,ct).clear(),this.filterFactory.destroy(),(Et=this._networkStream)==null||Et.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:wt,loadingTask:St}=this;wt.on("GetReader",(Ot,Et)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Tt=>{this._lastProgress={loaded:Tt.loaded,total:Tt.total}},Et.onPull=()=>{this._fullReader.read().then(function({value:Tt,done:It}){if(It){Et.close();return}(0,_util.assert)(Tt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Et.enqueue(new Uint8Array(Tt),1,[Tt])}).catch(Tt=>{Et.error(Tt)})},Et.onCancel=Tt=>{this._fullReader.cancel(Tt),Et.ready.catch(It=>{if(!this.destroyed)throw It})}}),wt.on("ReaderHeadersReady",Ot=>{const Et=new _util.PromiseCapability,Tt=this._fullReader;return Tt.headersReady.then(()=>{var It;(!Tt.isStreamingSupported||!Tt.isRangeSupported)&&(this._lastProgress&&((It=St.onProgress)==null||It.call(St,this._lastProgress)),Tt.onProgress=Wt=>{var Lt;(Lt=St.onProgress)==null||Lt.call(St,{loaded:Wt.loaded,total:Wt.total})}),Et.resolve({isStreamingSupported:Tt.isStreamingSupported,isRangeSupported:Tt.isRangeSupported,contentLength:Tt.contentLength})},Et.reject),Et.promise}),wt.on("GetRangeReader",(Ot,Et)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Tt=this._networkStream.getRangeReader(Ot.begin,Ot.end);if(!Tt){Et.close();return}Et.onPull=()=>{Tt.read().then(function({value:It,done:Wt}){if(Wt){Et.close();return}(0,_util.assert)(It instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Et.enqueue(new Uint8Array(It),1,[It])}).catch(It=>{Et.error(It)})},Et.onCancel=It=>{Tt.cancel(It),Et.ready.catch(Wt=>{if(!this.destroyed)throw Wt})}}),wt.on("GetDoc",({pdfInfo:Ot})=>{this._numPages=Ot.numPages,this._htmlForXfa=Ot.htmlForXfa,delete Ot.htmlForXfa,St._capability.resolve(new PDFDocumentProxy(Ot,this))}),wt.on("DocException",function(Ot){let Et;switch(Ot.name){case"PasswordException":Et=new _util.PasswordException(Ot.message,Ot.code);break;case"InvalidPDFException":Et=new _util.InvalidPDFException(Ot.message);break;case"MissingPDFException":Et=new _util.MissingPDFException(Ot.message);break;case"UnexpectedResponseException":Et=new _util.UnexpectedResponseException(Ot.message,Ot.status);break;case"UnknownErrorException":Et=new _util.UnknownErrorException(Ot.message,Ot.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}St._capability.reject(Et)}),wt.on("PasswordRequest",Ot=>{if(cr(this,ht,new _util.PromiseCapability),St.onPassword){const Et=Tt=>{Tt instanceof Error?$t(this,ht).reject(Tt):$t(this,ht).resolve({password:Tt})};try{St.onPassword(Et,Ot.code)}catch(Tt){$t(this,ht).reject(Tt)}}else $t(this,ht).reject(new _util.PasswordException(Ot.message,Ot.code));return $t(this,ht).promise}),wt.on("DataLoaded",Ot=>{var Et;(Et=St.onProgress)==null||Et.call(St,{loaded:Ot.length,total:Ot.length}),this.downloadInfoCapability.resolve(Ot)}),wt.on("StartRenderPage",Ot=>{if(this.destroyed)return;$t(this,ut).get(Ot.pageIndex)._startRenderPage(Ot.transparency,Ot.cacheKey)}),wt.on("commonobj",([Ot,Et,Tt])=>{var It;if(!this.destroyed&&!this.commonObjs.has(Ot))switch(Et){case"Font":const Wt=this._params;if("error"in Tt){const Ft=Tt.error;(0,_util.warn)(`Error during font loading: ${Ft}`),this.commonObjs.resolve(Ot,Ft);break}const Lt=Wt.pdfBug&&((It=globalThis.FontInspector)!=null&&It.enabled)?(Ft,Rt)=>globalThis.FontInspector.fontAdded(Ft,Rt):null,zt=new _font_loader.FontFaceObject(Tt,{isEvalSupported:Wt.isEvalSupported,disableFontFace:Wt.disableFontFace,ignoreErrors:Wt.ignoreErrors,inspectFont:Lt});this.fontLoader.bind(zt).catch(Ft=>wt.sendWithPromise("FontFallback",{id:Ot})).finally(()=>{!Wt.fontExtraProperties&&zt.data&&(zt.data=null),this.commonObjs.resolve(Ot,zt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ot,Tt);break;default:throw new Error(`Got unknown common object type ${Et}`)}}),wt.on("obj",([Ot,Et,Tt,It])=>{var Lt;if(this.destroyed)return;const Wt=$t(this,ut).get(Et);if(!Wt.objs.has(Ot))switch(Tt){case"Image":if(Wt.objs.resolve(Ot,It),It){let zt;if(It.bitmap){const{width:Ft,height:Rt}=It;zt=Ft*Rt*4}else zt=((Lt=It.data)==null?void 0:Lt.length)||0;zt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Wt._maybeCleanupAfterRender=!0)}break;case"Pattern":Wt.objs.resolve(Ot,It);break;default:throw new Error(`Got unknown object type ${Tt}`)}}),wt.on("DocProgress",Ot=>{var Et;this.destroyed||(Et=St.onProgress)==null||Et.call(St,{loaded:Ot.loaded,total:Ot.total})}),wt.on("FetchBuiltInCMap",Ot=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ot):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),wt.on("FetchStandardFontData",Ot=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ot):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ot;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:wt,transfers:St}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:wt,filename:((Ot=this._fullReader)==null?void 0:Ot.filename)??null},St).finally(()=>{this.annotationStorage.resetModified()})}getPage(wt){if(!Number.isInteger(wt)||wt<=0||wt>this._numPages)return Promise.reject(new Error("Invalid page request."));const St=wt-1,Ot=$t(this,dt).get(St);if(Ot)return Ot;const Et=this.messageHandler.sendWithPromise("GetPage",{pageIndex:St}).then(Tt=>{if(this.destroyed)throw new Error("Transport destroyed");const It=new PDFPageProxy(St,Tt,this,this._params.pdfBug);return $t(this,ut).set(St,It),It});return $t(this,dt).set(St,Et),Et}getPageIndex(wt){return typeof wt!="object"||wt===null||!Number.isInteger(wt.num)||wt.num<0||!Number.isInteger(wt.gen)||wt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:wt.num,gen:wt.gen})}getAnnotations(wt,St){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:wt,intent:St})}getFieldObjects(){return er(this,mt,wn).call(this,"GetFieldObjects")}hasJSActions(){return er(this,mt,wn).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(wt){return typeof wt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:wt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return er(this,mt,wn).call(this,"GetDocJSActions")}getPageJSActions(wt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:wt})}getStructTree(wt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:wt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(wt=>new _optional_content_config.OptionalContentConfig(wt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const wt="GetMetadata",St=$t(this,ct).get(wt);if(St)return St;const Ot=this.messageHandler.sendWithPromise(wt,null).then(Et=>{var Tt,It;return{info:Et[0],metadata:Et[1]?new _metadata.Metadata(Et[1]):null,contentDispositionFilename:((Tt=this._fullReader)==null?void 0:Tt.filename)??null,contentLength:((It=this._fullReader)==null?void 0:It.contentLength)??null}});return $t(this,ct).set(wt,Ot),Ot}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(wt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const St of $t(this,ut).values())if(!St.cleanup())throw new Error(`startCleanup: Page ${St.pageNumber} is currently rendering.`);this.commonObjs.clear(),wt||this.fontLoader.clear(),$t(this,ct).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:wt,enableXfa:St}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:wt,enableXfa:St})}}ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,mt=new WeakSet,wn=function(wt,St=null){const Ot=$t(this,ct).get(wt);if(Ot)return Ot;const Et=this.messageHandler.sendWithPromise(wt,St);return $t(this,ct).set(wt,Et),Et};class PDFObjects{constructor(){or(this,gt);or(this,ft,Object.create(null))}get(wt,St=null){if(St){const Et=er(this,gt,Nn).call(this,wt);return Et.capability.promise.then(()=>St(Et.data)),null}const Ot=$t(this,ft)[wt];if(!(Ot!=null&&Ot.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${wt}.`);return Ot.data}has(wt){const St=$t(this,ft)[wt];return(St==null?void 0:St.capability.settled)||!1}resolve(wt,St=null){const Ot=er(this,gt,Nn).call(this,wt);Ot.data=St,Ot.capability.resolve()}clear(){var wt;for(const St in $t(this,ft)){const{data:Ot}=$t(this,ft)[St];(wt=Ot==null?void 0:Ot.bitmap)==null||wt.close()}cr(this,ft,Object.create(null))}}ft=new WeakMap,gt=new WeakSet,Nn=function(wt){var St;return(St=$t(this,ft))[wt]||(St[wt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(wt){or(this,_t,null);cr(this,_t,wt),this.onContinue=null}get promise(){return $t(this,_t).capability.promise}cancel(wt=0){$t(this,_t).cancel(null,wt)}get separateAnnots(){const{separateAnnots:wt}=$t(this,_t).operatorList;if(!wt)return!1;const{annotationCanvasMap:St}=$t(this,_t);return wt.form||wt.canvas&&(St==null?void 0:St.size)>0}}_t=new WeakMap,exports.RenderTask=RenderTask;const vt=class vt{constructor({callback:wt,params:St,objs:Ot,commonObjs:Et,annotationCanvasMap:Tt,operatorList:It,pageIndex:Wt,canvasFactory:Lt,filterFactory:zt,useRequestAnimationFrame:Ft=!1,pdfBug:Rt=!1,pageColors:jt=null}){this.callback=wt,this.params=St,this.objs=Ot,this.commonObjs=Et,this.annotationCanvasMap=Tt,this.operatorListIdx=null,this.operatorList=It,this._pageIndex=Wt,this.canvasFactory=Lt,this.filterFactory=zt,this._pdfBug=Rt,this.pageColors=jt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ft===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=St.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:wt=!1,optionalContentConfig:St}){var Wt,Lt;if(this.cancelled)return;if(this._canvas){if($t(vt,yt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");$t(vt,yt).add(this._canvas)}this._pdfBug&&((Wt=globalThis.StepperManager)!=null&&Wt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ot,viewport:Et,transform:Tt,background:It}=this.params;this.gfx=new _canvas.CanvasGraphics(Ot,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:St},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Tt,viewport:Et,transparency:wt,background:It}),this.operatorListIdx=0,this.graphicsReady=!0,(Lt=this.graphicsReadyCallback)==null||Lt.call(this)}cancel(wt=null,St=0){var Ot;this.running=!1,this.cancelled=!0,(Ot=this.gfx)==null||Ot.endDrawing(),$t(vt,yt).delete(this._canvas),this.callback(wt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,St))}operatorListChanged(){var wt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(wt=this.stepper)==null||wt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),$t(vt,yt).delete(this._canvas),this.callback())))}};yt=new WeakMap,or(vt,yt,new WeakSet);let InternalRenderTask=vt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_e,$,et)=>{var ot,lt,ct,hs,dt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var tt=et(1),rt=et(4),nt=et(8);const it=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=it;class at{constructor(){or(this,ct);or(this,ot,!1);or(this,lt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(mt,pt){const ft=$t(this,lt).get(mt);return ft===void 0?pt:Object.assign(pt,ft)}getRawValue(mt){return $t(this,lt).get(mt)}remove(mt){if($t(this,lt).delete(mt),$t(this,lt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const pt of $t(this,lt).values())if(pt instanceof rt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(mt,pt){const ft=$t(this,lt).get(mt);let gt=!1;if(ft!==void 0)for(const[bt,_t]of Object.entries(pt))ft[bt]!==_t&&(gt=!0,ft[bt]=_t);else gt=!0,$t(this,lt).set(mt,pt);gt&&er(this,ct,hs).call(this),pt instanceof rt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(pt.constructor._type)}has(mt){return $t(this,lt).has(mt)}getAll(){return $t(this,lt).size>0?(0,tt.objectFromMap)($t(this,lt)):null}setAll(mt){for(const[pt,ft]of Object.entries(mt))this.setValue(pt,ft)}get size(){return $t(this,lt).size}resetModified(){$t(this,ot)&&(cr(this,ot,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new st(this)}get serializable(){if($t(this,lt).size===0)return it;const mt=new Map,pt=new nt.MurmurHash3_64,ft=[],gt=Object.create(null);let bt=!1;for(const[_t,yt]of $t(this,lt)){const vt=yt instanceof rt.AnnotationEditor?yt.serialize(!1,gt):yt;vt&&(mt.set(_t,vt),pt.update(`${_t}:${JSON.stringify(vt)}`),bt||(bt=!!vt.bitmap))}if(bt)for(const _t of mt.values())_t.bitmap&&ft.push(_t.bitmap);return mt.size>0?{map:mt,hash:pt.hexdigest(),transfers:ft}:it}}ot=new WeakMap,lt=new WeakMap,ct=new WeakSet,hs=function(){$t(this,ot)||(cr(this,ot,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=at;class st extends at{constructor(pt){super();or(this,dt);const{map:ft,hash:gt,transfers:bt}=pt.serializable,_t=structuredClone(ft,bt?{transfer:bt}:null);cr(this,dt,{map:_t,hash:gt,transfers:bt})}get print(){(0,tt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return $t(this,dt)}}dt=new WeakMap,$.PrintAnnotationStorage=st},(_e,$,et)=>{var st,ot,lt,ct,ut,dt,ht,mt,pt,ft,gt,bt,_t,yt,vt,Dn,Ln,St,Fn,Bn,fs,ps,ms,Un,gs;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var tt=et(5),rt=et(1),nt=et(6);const Ft=class Ft{constructor(jt){or(this,vt);or(this,st,"");or(this,ot,!1);or(this,lt,null);or(this,ct,null);or(this,ut,null);or(this,dt,!1);or(this,ht,null);or(this,mt,this.focusin.bind(this));or(this,pt,this.focusout.bind(this));or(this,ft,!1);or(this,gt,!1);or(this,bt,!1);Lr(this,"_initialOptions",Object.create(null));Lr(this,"_uiManager",null);Lr(this,"_focusEventsAllowed",!0);Lr(this,"_l10nPromise",null);or(this,_t,!1);or(this,yt,Ft._zIndex++);this.constructor===Ft&&(0,rt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=jt.parent,this.id=jt.id,this.width=this.height=null,this.pageIndex=jt.parent.pageIndex,this.name=jt.name,this.div=null,this._uiManager=jt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=jt.isCentered,this._structTreeParentId=null;const{rotation:Ct,rawDims:{pageWidth:Dt,pageHeight:Mt,pageX:At,pageY:Pt}}=this.parent.viewport;this.rotation=Ct,this.pageRotation=(360+Ct-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Dt,Mt],this.pageTranslation=[At,Pt];const[Nt,Bt]=this.parentDimensions;this.x=jt.x/Nt,this.y=jt.y/Bt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,rt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(jt){const Ct=new at({id:jt.parent.getNextId(),parent:jt.parent,uiManager:jt._uiManager});Ct.annotationElementId=jt.annotationElementId,Ct.deleted=!0,Ct._uiManager.addToAnnotationStorage(Ct)}static initialize(jt,Ct=null){if(Ft._l10nPromise||(Ft._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Mt=>[Mt,jt.get(Mt)]))),Ct!=null&&Ct.strings)for(const Mt of Ct.strings)Ft._l10nPromise.set(Mt,jt.get(Mt));if(Ft._borderLineWidth!==-1)return;const Dt=getComputedStyle(document.documentElement);Ft._borderLineWidth=parseFloat(Dt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(jt,Ct){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(jt){return!1}static paste(jt,Ct){(0,rt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return $t(this,_t)}set _isDraggable(jt){var Ct;cr(this,_t,jt),(Ct=this.div)==null||Ct.classList.toggle("draggable",jt)}center(){const[jt,Ct]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ct/(jt*2),this.y+=this.width*jt/(Ct*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ct/(jt*2),this.y-=this.width*jt/(Ct*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(jt){this._uiManager.addCommands(jt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=$t(this,yt)}setParent(jt){jt!==null&&(this.pageIndex=jt.pageIndex,this.pageDimensions=jt.pageDimensions),this.parent=jt}focusin(jt){this._focusEventsAllowed&&($t(this,ft)?cr(this,ft,!1):this.parent.setSelected(this))}focusout(jt){var Dt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ct=jt.relatedTarget;Ct!=null&&Ct.closest(`#${this.id}`)||(jt.preventDefault(),(Dt=this.parent)!=null&&Dt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(jt,Ct,Dt,Mt){const[At,Pt]=this.parentDimensions;[Dt,Mt]=this.screenToPageTranslation(Dt,Mt),this.x=(jt+Dt)/At,this.y=(Ct+Mt)/Pt,this.fixAndSetPosition()}translate(jt,Ct){er(this,vt,Dn).call(this,this.parentDimensions,jt,Ct)}translateInPage(jt,Ct){er(this,vt,Dn).call(this,this.pageDimensions,jt,Ct),this.div.scrollIntoView({block:"nearest"})}drag(jt,Ct){const[Dt,Mt]=this.parentDimensions;if(this.x+=jt/Dt,this.y+=Ct/Mt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Vt,y:qt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Vt,qt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:At,y:Pt}=this;const[Nt,Bt]=er(this,vt,Ln).call(this);At+=Nt,Pt+=Bt,this.div.style.left=`${(100*At).toFixed(2)}%`,this.div.style.top=`${(100*Pt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[jt,Ct]=this.pageDimensions;let{x:Dt,y:Mt,width:At,height:Pt}=this;switch(At*=jt,Pt*=Ct,Dt*=jt,Mt*=Ct,this.rotation){case 0:Dt=Math.max(0,Math.min(jt-At,Dt)),Mt=Math.max(0,Math.min(Ct-Pt,Mt));break;case 90:Dt=Math.max(0,Math.min(jt-Pt,Dt)),Mt=Math.min(Ct,Math.max(At,Mt));break;case 180:Dt=Math.min(jt,Math.max(At,Dt)),Mt=Math.min(Ct,Math.max(Pt,Mt));break;case 270:Dt=Math.min(jt,Math.max(Pt,Dt)),Mt=Math.max(0,Math.min(Ct-At,Mt));break}this.x=Dt/=jt,this.y=Mt/=Ct;const[Nt,Bt]=er(this,vt,Ln).call(this);Dt+=Nt,Mt+=Bt;const{style:Vt}=this.div;Vt.left=`${(100*Dt).toFixed(2)}%`,Vt.top=`${(100*Mt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(jt,Ct){var Dt;return er(Dt=Ft,St,Fn).call(Dt,jt,Ct,this.parentRotation)}pageTranslationToScreen(jt,Ct){var Dt;return er(Dt=Ft,St,Fn).call(Dt,jt,Ct,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:jt,pageDimensions:[Ct,Dt]}=this,Mt=Ct*jt,At=Dt*jt;return rt.FeatureTest.isCSSRoundSupported?[Math.round(Mt),Math.round(At)]:[Mt,At]}setDims(jt,Ct){var At;const[Dt,Mt]=this.parentDimensions;this.div.style.width=`${(100*jt/Dt).toFixed(2)}%`,$t(this,dt)||(this.div.style.height=`${(100*Ct/Mt).toFixed(2)}%`),(At=$t(this,lt))==null||At.classList.toggle("small",jt<Ft.SMALL_EDITOR_SIZE||Ct<Ft.SMALL_EDITOR_SIZE)}fixDims(){const{style:jt}=this.div,{height:Ct,width:Dt}=jt,Mt=Dt.endsWith("%"),At=!$t(this,dt)&&Ct.endsWith("%");if(Mt&&At)return;const[Pt,Nt]=this.parentDimensions;Mt||(jt.width=`${(100*parseFloat(Dt)/Pt).toFixed(2)}%`),!$t(this,dt)&&!At&&(jt.height=`${(100*parseFloat(Ct)/Nt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if($t(this,lt))return;const jt=cr(this,lt,document.createElement("button"));jt.className="altText";const Ct=await Ft._l10nPromise.get("editor_alt_text_button_label");jt.textContent=Ct,jt.setAttribute("aria-label",Ct),jt.tabIndex="0",jt.addEventListener("contextmenu",nt.noContextMenu),jt.addEventListener("pointerdown",Dt=>Dt.stopPropagation()),jt.addEventListener("click",Dt=>{Dt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),jt.addEventListener("keydown",Dt=>{Dt.target===jt&&Dt.key==="Enter"&&(Dt.preventDefault(),this._uiManager.editAltText(this))}),er(this,vt,Un).call(this),this.div.append(jt),Ft.SMALL_EDITOR_SIZE||(Ft.SMALL_EDITOR_SIZE=Math.min(128,Math.round(jt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:$t(this,st),decorative:$t(this,ot)}}set altTextData({altText:jt,decorative:Ct}){$t(this,st)===jt&&$t(this,ot)===Ct||(cr(this,st,jt),cr(this,ot,Ct),er(this,vt,Un).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",$t(this,mt)),this.div.addEventListener("focusout",$t(this,pt));const[jt,Ct]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ct/jt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*jt/Ct).toFixed(2)}%`);const[Dt,Mt]=this.getInitialTranslation();return this.translate(Dt,Mt),(0,tt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(jt){const{isMac:Ct}=rt.FeatureTest.platform;if(jt.button!==0||jt.ctrlKey&&Ct){jt.preventDefault();return}cr(this,ft,!0),er(this,vt,gs).call(this,jt)}moveInDOM(){var jt;(jt=this.parent)==null||jt.moveEditorInDOM(this)}_setParentAndPosition(jt,Ct,Dt){jt.changeParent(this),this.x=Ct,this.y=Dt,this.fixAndSetPosition()}getRect(jt,Ct){const Dt=this.parentScale,[Mt,At]=this.pageDimensions,[Pt,Nt]=this.pageTranslation,Bt=jt/Dt,Vt=Ct/Dt,qt=this.x*Mt,Gt=this.y*At,Jt=this.width*Mt,ar=this.height*At;switch(this.rotation){case 0:return[qt+Bt+Pt,At-Gt-Vt-ar+Nt,qt+Bt+Jt+Pt,At-Gt-Vt+Nt];case 90:return[qt+Vt+Pt,At-Gt+Bt+Nt,qt+Vt+ar+Pt,At-Gt+Bt+Jt+Nt];case 180:return[qt-Bt-Jt+Pt,At-Gt+Vt+Nt,qt-Bt+Pt,At-Gt+Vt+ar+Nt];case 270:return[qt-Vt-ar+Pt,At-Gt-Bt-Jt+Nt,qt-Vt+Pt,At-Gt-Bt+Nt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(jt,Ct){const[Dt,Mt,At,Pt]=jt,Nt=At-Dt,Bt=Pt-Mt;switch(this.rotation){case 0:return[Dt,Ct-Pt,Nt,Bt];case 90:return[Dt,Ct-Mt,Bt,Nt];case 180:return[At,Ct-Mt,Nt,Bt];case 270:return[At,Ct-Pt,Bt,Nt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){cr(this,bt,!0)}disableEditMode(){cr(this,bt,!1)}isInEditMode(){return $t(this,bt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var jt,Ct;(jt=this.div)==null||jt.addEventListener("focusin",$t(this,mt)),(Ct=this.div)==null||Ct.addEventListener("focusout",$t(this,pt))}serialize(jt=!1,Ct=null){(0,rt.unreachable)("An editor must be serializable")}static deserialize(jt,Ct,Dt){const Mt=new this.prototype.constructor({parent:Ct,id:Ct.getNextId(),uiManager:Dt});Mt.rotation=jt.rotation;const[At,Pt]=Mt.pageDimensions,[Nt,Bt,Vt,qt]=Mt.getRectInCurrentCoords(jt.rect,Pt);return Mt.x=Nt/At,Mt.y=Bt/Pt,Mt.width=Vt/At,Mt.height=qt/Pt,Mt}remove(){var jt;this.div.removeEventListener("focusin",$t(this,mt)),this.div.removeEventListener("focusout",$t(this,pt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(jt=$t(this,lt))==null||jt.remove(),cr(this,lt,null),cr(this,ct,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(er(this,vt,fs).call(this),$t(this,ht).classList.remove("hidden"))}select(){var jt;this.makeResizable(),(jt=this.div)==null||jt.classList.add("selectedEditor")}unselect(){var jt,Ct,Dt;(jt=$t(this,ht))==null||jt.classList.add("hidden"),(Ct=this.div)==null||Ct.classList.remove("selectedEditor"),(Dt=this.div)!=null&&Dt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(jt,Ct){}disableEditing(){$t(this,lt)&&($t(this,lt).hidden=!0)}enableEditing(){$t(this,lt)&&($t(this,lt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return $t(this,gt)}set isEditing(jt){cr(this,gt,jt),this.parent&&(jt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(jt,Ct){cr(this,dt,!0);const Dt=jt/Ct,{style:Mt}=this.div;Mt.aspectRatio=Dt,Mt.height="auto"}static get MIN_SIZE(){return 16}};st=new WeakMap,ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,mt=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakMap,bt=new WeakMap,_t=new WeakMap,yt=new WeakMap,vt=new WeakSet,Dn=function([jt,Ct],Dt,Mt){[Dt,Mt]=this.screenToPageTranslation(Dt,Mt),this.x+=Dt/jt,this.y+=Mt/Ct,this.fixAndSetPosition()},Ln=function(){const[jt,Ct]=this.parentDimensions,{_borderLineWidth:Dt}=Ft,Mt=Dt/jt,At=Dt/Ct;switch(this.rotation){case 90:return[-Mt,At];case 180:return[Mt,At];case 270:return[Mt,-At];default:return[-Mt,-At]}},St=new WeakSet,Fn=function(jt,Ct,Dt){switch(Dt){case 90:return[Ct,-jt];case 180:return[-jt,-Ct];case 270:return[-Ct,jt];default:return[jt,Ct]}},Bn=function(jt){switch(jt){case 90:{const[Ct,Dt]=this.pageDimensions;return[0,-Ct/Dt,Dt/Ct,0]}case 180:return[-1,0,0,-1];case 270:{const[Ct,Dt]=this.pageDimensions;return[0,Ct/Dt,-Dt/Ct,0]}default:return[1,0,0,1]}},fs=function(){if($t(this,ht))return;cr(this,ht,document.createElement("div")),$t(this,ht).classList.add("resizers");const jt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||jt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ct of jt){const Dt=document.createElement("div");$t(this,ht).append(Dt),Dt.classList.add("resizer",Ct),Dt.addEventListener("pointerdown",er(this,vt,ps).bind(this,Ct)),Dt.addEventListener("contextmenu",nt.noContextMenu)}this.div.prepend($t(this,ht))},ps=function(jt,Ct){Ct.preventDefault();const{isMac:Dt}=rt.FeatureTest.platform;if(Ct.button!==0||Ct.ctrlKey&&Dt)return;const Mt=er(this,vt,ms).bind(this,jt),At=this._isDraggable;this._isDraggable=!1;const Pt={passive:!0,capture:!0};window.addEventListener("pointermove",Mt,Pt);const Nt=this.x,Bt=this.y,Vt=this.width,qt=this.height,Gt=this.parent.div.style.cursor,Jt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ct.target).cursor;const ar=()=>{this._isDraggable=At,window.removeEventListener("pointerup",ar),window.removeEventListener("blur",ar),window.removeEventListener("pointermove",Mt,Pt),this.parent.div.style.cursor=Gt,this.div.style.cursor=Jt;const Qt=this.x,fr=this.y,hr=this.width,gr=this.height;Qt===Nt&&fr===Bt&&hr===Vt&&gr===qt||this.addCommands({cmd:()=>{this.width=hr,this.height=gr,this.x=Qt,this.y=fr;const[rr,ir]=this.parentDimensions;this.setDims(rr*hr,ir*gr),this.fixAndSetPosition()},undo:()=>{this.width=Vt,this.height=qt,this.x=Nt,this.y=Bt;const[rr,ir]=this.parentDimensions;this.setDims(rr*Vt,ir*qt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ar),window.addEventListener("blur",ar)},ms=function(jt,Ct){const[Dt,Mt]=this.parentDimensions,At=this.x,Pt=this.y,Nt=this.width,Bt=this.height,Vt=Ft.MIN_SIZE/Dt,qt=Ft.MIN_SIZE/Mt,Gt=Cr=>Math.round(Cr*1e4)/1e4,Jt=er(this,vt,Bn).call(this,this.rotation),ar=(Cr,Dr)=>[Jt[0]*Cr+Jt[2]*Dr,Jt[1]*Cr+Jt[3]*Dr],Qt=er(this,vt,Bn).call(this,360-this.rotation),fr=(Cr,Dr)=>[Qt[0]*Cr+Qt[2]*Dr,Qt[1]*Cr+Qt[3]*Dr];let hr,gr,rr=!1,ir=!1;switch(jt){case"topLeft":rr=!0,hr=(Cr,Dr)=>[0,0],gr=(Cr,Dr)=>[Cr,Dr];break;case"topMiddle":hr=(Cr,Dr)=>[Cr/2,0],gr=(Cr,Dr)=>[Cr/2,Dr];break;case"topRight":rr=!0,hr=(Cr,Dr)=>[Cr,0],gr=(Cr,Dr)=>[0,Dr];break;case"middleRight":ir=!0,hr=(Cr,Dr)=>[Cr,Dr/2],gr=(Cr,Dr)=>[0,Dr/2];break;case"bottomRight":rr=!0,hr=(Cr,Dr)=>[Cr,Dr],gr=(Cr,Dr)=>[0,0];break;case"bottomMiddle":hr=(Cr,Dr)=>[Cr/2,Dr],gr=(Cr,Dr)=>[Cr/2,0];break;case"bottomLeft":rr=!0,hr=(Cr,Dr)=>[0,Dr],gr=(Cr,Dr)=>[Cr,0];break;case"middleLeft":ir=!0,hr=(Cr,Dr)=>[0,Dr/2],gr=(Cr,Dr)=>[Cr,Dr/2];break}const Ut=hr(Nt,Bt),Yt=gr(Nt,Bt);let tr=ar(...Yt);const sr=Gt(At+tr[0]),pr=Gt(Pt+tr[1]);let xr=1,br=1,[nr,$r]=this.screenToPageTranslation(Ct.movementX,Ct.movementY);if([nr,$r]=fr(nr/Dt,$r/Mt),rr){const Cr=Math.hypot(Nt,Bt);xr=br=Math.max(Math.min(Math.hypot(Yt[0]-Ut[0]-nr,Yt[1]-Ut[1]-$r)/Cr,1/Nt,1/Bt),Vt/Nt,qt/Bt)}else ir?xr=Math.max(Vt,Math.min(1,Math.abs(Yt[0]-Ut[0]-nr)))/Nt:br=Math.max(qt,Math.min(1,Math.abs(Yt[1]-Ut[1]-$r)))/Bt;const Sr=Gt(Nt*xr),Ur=Gt(Bt*br);tr=ar(...gr(Sr,Ur));const Fr=sr-tr[0],qr=pr-tr[1];this.width=Sr,this.height=Ur,this.x=Fr,this.y=qr,this.setDims(Dt*Sr,Mt*Ur),this.fixAndSetPosition()},Un=async function(){var Dt;const jt=$t(this,lt);if(!jt)return;if(!$t(this,st)&&!$t(this,ot)){jt.classList.remove("done"),(Dt=$t(this,ct))==null||Dt.remove();return}Ft._l10nPromise.get("editor_alt_text_edit_button_label").then(Mt=>{jt.setAttribute("aria-label",Mt)});let Ct=$t(this,ct);if(!Ct){cr(this,ct,Ct=document.createElement("span")),Ct.className="tooltip",Ct.setAttribute("role","tooltip");const Mt=Ct.id=`alt-text-tooltip-${this.id}`;jt.setAttribute("aria-describedby",Mt);const At=100;jt.addEventListener("mouseenter",()=>{cr(this,ut,setTimeout(()=>{cr(this,ut,null),$t(this,ct).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},At))}),jt.addEventListener("mouseleave",()=>{var Pt;clearTimeout($t(this,ut)),cr(this,ut,null),(Pt=$t(this,ct))==null||Pt.classList.remove("show")})}jt.classList.add("done"),Ct.innerText=$t(this,ot)?await Ft._l10nPromise.get("editor_alt_text_decorative_tooltip"):$t(this,st),Ct.parentNode||jt.append(Ct)},gs=function(jt){if(!this._isDraggable)return;const Ct=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Dt,Mt;Ct&&(Dt={passive:!0,capture:!0},Mt=Pt=>{const[Nt,Bt]=this.screenToPageTranslation(Pt.movementX,Pt.movementY);this._uiManager.dragSelectedEditors(Nt,Bt)},window.addEventListener("pointermove",Mt,Dt));const At=()=>{if(window.removeEventListener("pointerup",At),window.removeEventListener("blur",At),Ct&&window.removeEventListener("pointermove",Mt,Dt),cr(this,ft,!1),!this._uiManager.endDragSession()){const{isMac:Pt}=rt.FeatureTest.platform;jt.ctrlKey&&!Pt||jt.shiftKey||jt.metaKey&&Pt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",At),window.addEventListener("blur",At)},or(Ft,St),Lr(Ft,"_borderLineWidth",-1),Lr(Ft,"_colorManager",new tt.ColorManager),Lr(Ft,"_zIndex",1),Lr(Ft,"SMALL_EDITOR_SIZE",0);let it=Ft;$.AnnotationEditor=it;class at extends it{constructor(jt){super(jt),this.annotationElementId=jt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_e,$,et)=>{var dt,ht,mt,pt,ft,zn,_t,yt,vt,xt,wt,ys,Et,Tt,It,Wt,Lt,zt,Ft,Rt,jt,Ct,Dt,Mt,At,Pt,Nt,Bt,Vt,qt,Gt,Jt,ar,Qt,fr,hr,gr,rr,ir,Ut,Yt,tr,sr,pr,xr,br,nr,vs,Wn,Hn,Sn,Vn,qn,Jr,pn,bs,xs,Gn,mn,Kn;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=nt,$.opacityToHex=it;var tt=et(1),rt=et(6);function nt(Hr,Xt,yr){for(const Er of yr)Xt.addEventListener(Er,Hr[Er].bind(Hr))}function it(Hr){return Math.round(Math.min(255,Math.max(1,255*Hr))).toString(16).padStart(2,"0")}class at{constructor(){or(this,dt,0)}getId(){return`${tt.AnnotationEditorPrefix}${fn(this,dt)._++}`}}dt=new WeakMap;const bt=class bt{constructor(){or(this,ft);or(this,ht,(0,tt.getUuid)());or(this,mt,0);or(this,pt,null)}static get _isSVGFittingCanvas(){const Xt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Er=new OffscreenCanvas(1,3).getContext("2d"),Rr=new Image;Rr.src=Xt;const Nr=Rr.decode().then(()=>(Er.drawImage(Rr,0,0,1,1,0,0,1,3),new Uint32Array(Er.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,tt.shadow)(this,"_isSVGFittingCanvas",Nr)}async getFromFile(Xt){const{lastModified:yr,name:Er,size:Rr,type:Nr}=Xt;return er(this,ft,zn).call(this,`${yr}_${Er}_${Rr}_${Nr}`,Xt)}async getFromUrl(Xt){return er(this,ft,zn).call(this,Xt,Xt)}async getFromId(Xt){$t(this,pt)||cr(this,pt,new Map);const yr=$t(this,pt).get(Xt);return yr?yr.bitmap?(yr.refCounter+=1,yr):yr.file?this.getFromFile(yr.file):this.getFromUrl(yr.url):null}getSvgUrl(Xt){const yr=$t(this,pt).get(Xt);return yr!=null&&yr.isSvg?yr.svgUrl:null}deleteId(Xt){$t(this,pt)||cr(this,pt,new Map);const yr=$t(this,pt).get(Xt);yr&&(yr.refCounter-=1,yr.refCounter===0&&(yr.bitmap=null))}isValidId(Xt){return Xt.startsWith(`image_${$t(this,ht)}_`)}};ht=new WeakMap,mt=new WeakMap,pt=new WeakMap,ft=new WeakSet,zn=async function(Xt,yr){$t(this,pt)||cr(this,pt,new Map);let Er=$t(this,pt).get(Xt);if(Er===null)return null;if(Er!=null&&Er.bitmap)return Er.refCounter+=1,Er;try{Er||(Er={bitmap:null,id:`image_${$t(this,ht)}_${fn(this,mt)._++}`,refCounter:0,isSvg:!1});let Rr;if(typeof yr=="string"){Er.url=yr;const Nr=await fetch(yr);if(!Nr.ok)throw new Error(Nr.statusText);Rr=await Nr.blob()}else Rr=Er.file=yr;if(Rr.type==="image/svg+xml"){const Nr=bt._isSVGFittingCanvas,Pr=new FileReader,Kt=new Image,Ht=new Promise((Zt,dr)=>{Kt.onload=()=>{Er.bitmap=Kt,Er.isSvg=!0,Zt()},Pr.onload=async()=>{const mr=Er.svgUrl=Pr.result;Kt.src=await Nr?`${mr}#svgView(preserveAspectRatio(none))`:mr},Kt.onerror=Pr.onerror=dr});Pr.readAsDataURL(Rr),await Ht}else Er.bitmap=await createImageBitmap(Rr);Er.refCounter=1}catch(Rr){console.error(Rr),Er=null}return $t(this,pt).set(Xt,Er),Er&&$t(this,pt).set(Er.id,Er),Er};let st=bt;class ot{constructor(Xt=128){or(this,_t,[]);or(this,yt,!1);or(this,vt);or(this,xt,-1);cr(this,vt,Xt)}add({cmd:Xt,undo:yr,mustExec:Er,type:Rr=NaN,overwriteIfSameType:Nr=!1,keepUndo:Pr=!1}){if(Er&&Xt(),$t(this,yt))return;const Kt={cmd:Xt,undo:yr,type:Rr};if($t(this,xt)===-1){$t(this,_t).length>0&&($t(this,_t).length=0),cr(this,xt,0),$t(this,_t).push(Kt);return}if(Nr&&$t(this,_t)[$t(this,xt)].type===Rr){Pr&&(Kt.undo=$t(this,_t)[$t(this,xt)].undo),$t(this,_t)[$t(this,xt)]=Kt;return}const Ht=$t(this,xt)+1;Ht===$t(this,vt)?$t(this,_t).splice(0,1):(cr(this,xt,Ht),Ht<$t(this,_t).length&&$t(this,_t).splice(Ht)),$t(this,_t).push(Kt)}undo(){$t(this,xt)!==-1&&(cr(this,yt,!0),$t(this,_t)[$t(this,xt)].undo(),cr(this,yt,!1),cr(this,xt,$t(this,xt)-1))}redo(){$t(this,xt)<$t(this,_t).length-1&&(cr(this,xt,$t(this,xt)+1),cr(this,yt,!0),$t(this,_t)[$t(this,xt)].cmd(),cr(this,yt,!1))}hasSomethingToUndo(){return $t(this,xt)!==-1}hasSomethingToRedo(){return $t(this,xt)<$t(this,_t).length-1}destroy(){cr(this,_t,null)}}_t=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakMap,$.CommandManager=ot;class lt{constructor(Xt){or(this,wt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:yr}=tt.FeatureTest.platform;for(const[Er,Rr,Nr={}]of Xt)for(const Pr of Er){const Kt=Pr.startsWith("mac+");yr&&Kt?(this.callbacks.set(Pr.slice(4),{callback:Rr,options:Nr}),this.allKeys.add(Pr.split("+").at(-1))):!yr&&!Kt&&(this.callbacks.set(Pr,{callback:Rr,options:Nr}),this.allKeys.add(Pr.split("+").at(-1)))}}exec(Xt,yr){if(!this.allKeys.has(yr.key))return;const Er=this.callbacks.get(er(this,wt,ys).call(this,yr));if(!Er)return;const{callback:Rr,options:{bubbles:Nr=!1,args:Pr=[],checker:Kt=null}}=Er;Kt&&!Kt(Xt,yr)||(Rr.bind(Xt,...Pr)(),Nr||(yr.stopPropagation(),yr.preventDefault()))}}wt=new WeakSet,ys=function(Xt){Xt.altKey&&this.buffer.push("alt"),Xt.ctrlKey&&this.buffer.push("ctrl"),Xt.metaKey&&this.buffer.push("meta"),Xt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Xt.key);const yr=this.buffer.join("+");return this.buffer.length=0,yr},$.KeyboardManager=lt;const Ot=class Ot{get _colors(){const Xt=new Map([["CanvasText",null],["Canvas",null]]);return(0,rt.getColorValues)(Xt),(0,tt.shadow)(this,"_colors",Xt)}convert(Xt){const yr=(0,rt.getRGB)(Xt);if(!window.matchMedia("(forced-colors: active)").matches)return yr;for(const[Er,Rr]of this._colors)if(Rr.every((Nr,Pr)=>Nr===yr[Pr]))return Ot._colorsMapping.get(Er);return yr}getHexCode(Xt){const yr=this._colors.get(Xt);return yr?tt.Util.makeHexColor(...yr):Xt}};Lr(Ot,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ct=Ot;$.ColorManager=ct;const Vr=class Vr{constructor(Xt,yr,Er,Rr,Nr,Pr){or(this,nr);or(this,Et,null);or(this,Tt,new Map);or(this,It,new Map);or(this,Wt,null);or(this,Lt,null);or(this,zt,new ot);or(this,Ft,0);or(this,Rt,new Set);or(this,jt,null);or(this,Ct,null);or(this,Dt,new Set);or(this,Mt,null);or(this,At,new at);or(this,Pt,!1);or(this,Nt,!1);or(this,Bt,null);or(this,Vt,tt.AnnotationEditorType.NONE);or(this,qt,new Set);or(this,Gt,null);or(this,Jt,this.blur.bind(this));or(this,ar,this.focus.bind(this));or(this,Qt,this.copy.bind(this));or(this,fr,this.cut.bind(this));or(this,hr,this.paste.bind(this));or(this,gr,this.keydown.bind(this));or(this,rr,this.onEditingAction.bind(this));or(this,ir,this.onPageChanging.bind(this));or(this,Ut,this.onScaleChanging.bind(this));or(this,Yt,this.onRotationChanging.bind(this));or(this,tr,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});or(this,sr,[0,0]);or(this,pr,null);or(this,xr,null);or(this,br,null);cr(this,xr,Xt),cr(this,br,yr),cr(this,Wt,Er),this._eventBus=Rr,this._eventBus._on("editingaction",$t(this,rr)),this._eventBus._on("pagechanging",$t(this,ir)),this._eventBus._on("scalechanging",$t(this,Ut)),this._eventBus._on("rotationchanging",$t(this,Yt)),cr(this,Lt,Nr.annotationStorage),cr(this,Mt,Nr.filterFactory),cr(this,Gt,Pr),this.viewParameters={realScale:rt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Xt=Vr.prototype,yr=Nr=>{const{activeElement:Pr}=document;return Pr&&$t(Nr,xr).contains(Pr)&&Nr.hasSomethingToControl()},Er=this.TRANSLATE_SMALL,Rr=this.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new lt([[["ctrl+a","mac+meta+a"],Xt.selectAll],[["ctrl+z","mac+meta+z"],Xt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Xt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Xt.delete],[["Escape","mac+Escape"],Xt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Xt.translateSelectedEditors,{args:[-Er,0],checker:yr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Xt.translateSelectedEditors,{args:[-Rr,0],checker:yr}],[["ArrowRight","mac+ArrowRight"],Xt.translateSelectedEditors,{args:[Er,0],checker:yr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Xt.translateSelectedEditors,{args:[Rr,0],checker:yr}],[["ArrowUp","mac+ArrowUp"],Xt.translateSelectedEditors,{args:[0,-Er],checker:yr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Xt.translateSelectedEditors,{args:[0,-Rr],checker:yr}],[["ArrowDown","mac+ArrowDown"],Xt.translateSelectedEditors,{args:[0,Er],checker:yr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Xt.translateSelectedEditors,{args:[0,Rr],checker:yr}]]))}destroy(){er(this,nr,Sn).call(this),er(this,nr,Wn).call(this),this._eventBus._off("editingaction",$t(this,rr)),this._eventBus._off("pagechanging",$t(this,ir)),this._eventBus._off("scalechanging",$t(this,Ut)),this._eventBus._off("rotationchanging",$t(this,Yt));for(const Xt of $t(this,It).values())Xt.destroy();$t(this,It).clear(),$t(this,Tt).clear(),$t(this,Dt).clear(),cr(this,Et,null),$t(this,qt).clear(),$t(this,zt).destroy(),$t(this,Wt).destroy()}get hcmFilter(){return(0,tt.shadow)(this,"hcmFilter",$t(this,Gt)?$t(this,Mt).addHCMFilter($t(this,Gt).foreground,$t(this,Gt).background):"none")}get direction(){return(0,tt.shadow)(this,"direction",getComputedStyle($t(this,xr)).direction)}editAltText(Xt){var yr;(yr=$t(this,Wt))==null||yr.editAltText(this,Xt)}onPageChanging({pageNumber:Xt}){cr(this,Ft,Xt-1)}focusMainContainer(){$t(this,xr).focus()}findParent(Xt,yr){for(const Er of $t(this,It).values()){const{x:Rr,y:Nr,width:Pr,height:Kt}=Er.div.getBoundingClientRect();if(Xt>=Rr&&Xt<=Rr+Pr&&yr>=Nr&&yr<=Nr+Kt)return Er}return null}disableUserSelect(Xt=!1){$t(this,br).classList.toggle("noUserSelect",Xt)}addShouldRescale(Xt){$t(this,Dt).add(Xt)}removeShouldRescale(Xt){$t(this,Dt).delete(Xt)}onScaleChanging({scale:Xt}){this.commitOrRemove(),this.viewParameters.realScale=Xt*rt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const yr of $t(this,Dt))yr.onScaleChanging()}onRotationChanging({pagesRotation:Xt}){this.commitOrRemove(),this.viewParameters.rotation=Xt}addToAnnotationStorage(Xt){!Xt.isEmpty()&&$t(this,Lt)&&!$t(this,Lt).has(Xt.id)&&$t(this,Lt).setValue(Xt.id,Xt)}blur(){if(!this.hasSelection)return;const{activeElement:Xt}=document;for(const yr of $t(this,qt))if(yr.div.contains(Xt)){cr(this,Bt,[yr,Xt]),yr._focusEventsAllowed=!1;break}}focus(){if(!$t(this,Bt))return;const[Xt,yr]=$t(this,Bt);cr(this,Bt,null),yr.addEventListener("focusin",()=>{Xt._focusEventsAllowed=!0},{once:!0}),yr.focus()}addEditListeners(){er(this,nr,Hn).call(this),er(this,nr,Vn).call(this)}removeEditListeners(){er(this,nr,Sn).call(this),er(this,nr,qn).call(this)}copy(Xt){var Er;if(Xt.preventDefault(),(Er=$t(this,Et))==null||Er.commitOrRemove(),!this.hasSelection)return;const yr=[];for(const Rr of $t(this,qt)){const Nr=Rr.serialize(!0);Nr&&yr.push(Nr)}yr.length!==0&&Xt.clipboardData.setData("application/pdfjs",JSON.stringify(yr))}cut(Xt){this.copy(Xt),this.delete()}paste(Xt){Xt.preventDefault();const{clipboardData:yr}=Xt;for(const Nr of yr.items)for(const Pr of $t(this,Ct))if(Pr.isHandlingMimeForPasting(Nr.type)){Pr.paste(Nr,this.currentLayer);return}let Er=yr.getData("application/pdfjs");if(!Er)return;try{Er=JSON.parse(Er)}catch(Nr){(0,tt.warn)(`paste: "${Nr.message}".`);return}if(!Array.isArray(Er))return;this.unselectAll();const Rr=this.currentLayer;try{const Nr=[];for(const Ht of Er){const Zt=Rr.deserialize(Ht);if(!Zt)return;Nr.push(Zt)}const Pr=()=>{for(const Ht of Nr)er(this,nr,Gn).call(this,Ht);er(this,nr,Kn).call(this,Nr)},Kt=()=>{for(const Ht of Nr)Ht.remove()};this.addCommands({cmd:Pr,undo:Kt,mustExec:!0})}catch(Nr){(0,tt.warn)(`paste: "${Nr.message}".`)}}keydown(Xt){var yr;(yr=this.getActive())!=null&&yr.shouldGetKeyboardEvents()||Vr._keyboardManager.exec(this,Xt)}onEditingAction(Xt){["undo","redo","delete","selectAll"].includes(Xt.name)&&this[Xt.name]()}setEditingState(Xt){Xt?(er(this,nr,vs).call(this),er(this,nr,Hn).call(this),er(this,nr,Vn).call(this),er(this,nr,Jr).call(this,{isEditing:$t(this,Vt)!==tt.AnnotationEditorType.NONE,isEmpty:er(this,nr,mn).call(this),hasSomethingToUndo:$t(this,zt).hasSomethingToUndo(),hasSomethingToRedo:$t(this,zt).hasSomethingToRedo(),hasSelectedEditor:!1})):(er(this,nr,Wn).call(this),er(this,nr,Sn).call(this),er(this,nr,qn).call(this),er(this,nr,Jr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Xt){if(!$t(this,Ct)){cr(this,Ct,Xt);for(const yr of $t(this,Ct))er(this,nr,pn).call(this,yr.defaultPropertiesToUpdate)}}getId(){return $t(this,At).getId()}get currentLayer(){return $t(this,It).get($t(this,Ft))}getLayer(Xt){return $t(this,It).get(Xt)}get currentPageIndex(){return $t(this,Ft)}addLayer(Xt){$t(this,It).set(Xt.pageIndex,Xt),$t(this,Pt)?Xt.enable():Xt.disable()}removeLayer(Xt){$t(this,It).delete(Xt.pageIndex)}updateMode(Xt,yr=null){if($t(this,Vt)!==Xt){if(cr(this,Vt,Xt),Xt===tt.AnnotationEditorType.NONE){this.setEditingState(!1),er(this,nr,xs).call(this);return}this.setEditingState(!0),er(this,nr,bs).call(this),this.unselectAll();for(const Er of $t(this,It).values())Er.updateMode(Xt);if(yr){for(const Er of $t(this,Tt).values())if(Er.annotationElementId===yr){this.setSelected(Er),Er.enterInEditMode();break}}}}updateToolbar(Xt){Xt!==$t(this,Vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Xt})}updateParams(Xt,yr){if($t(this,Ct)){if(Xt===tt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Xt);return}for(const Er of $t(this,qt))Er.updateParams(Xt,yr);for(const Er of $t(this,Ct))Er.updateDefaultParams(Xt,yr)}}enableWaiting(Xt=!1){if($t(this,Nt)!==Xt){cr(this,Nt,Xt);for(const yr of $t(this,It).values())Xt?yr.disableClick():yr.enableClick(),yr.div.classList.toggle("waiting",Xt)}}getEditors(Xt){const yr=[];for(const Er of $t(this,Tt).values())Er.pageIndex===Xt&&yr.push(Er);return yr}getEditor(Xt){return $t(this,Tt).get(Xt)}addEditor(Xt){$t(this,Tt).set(Xt.id,Xt)}removeEditor(Xt){var yr;$t(this,Tt).delete(Xt.id),this.unselect(Xt),(!Xt.annotationElementId||!$t(this,Rt).has(Xt.annotationElementId))&&((yr=$t(this,Lt))==null||yr.remove(Xt.id))}addDeletedAnnotationElement(Xt){$t(this,Rt).add(Xt.annotationElementId),Xt.deleted=!0}isDeletedAnnotationElement(Xt){return $t(this,Rt).has(Xt)}removeDeletedAnnotationElement(Xt){$t(this,Rt).delete(Xt.annotationElementId),Xt.deleted=!1}setActiveEditor(Xt){$t(this,Et)!==Xt&&(cr(this,Et,Xt),Xt&&er(this,nr,pn).call(this,Xt.propertiesToUpdate))}toggleSelected(Xt){if($t(this,qt).has(Xt)){$t(this,qt).delete(Xt),Xt.unselect(),er(this,nr,Jr).call(this,{hasSelectedEditor:this.hasSelection});return}$t(this,qt).add(Xt),Xt.select(),er(this,nr,pn).call(this,Xt.propertiesToUpdate),er(this,nr,Jr).call(this,{hasSelectedEditor:!0})}setSelected(Xt){for(const yr of $t(this,qt))yr!==Xt&&yr.unselect();$t(this,qt).clear(),$t(this,qt).add(Xt),Xt.select(),er(this,nr,pn).call(this,Xt.propertiesToUpdate),er(this,nr,Jr).call(this,{hasSelectedEditor:!0})}isSelected(Xt){return $t(this,qt).has(Xt)}unselect(Xt){Xt.unselect(),$t(this,qt).delete(Xt),er(this,nr,Jr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return $t(this,qt).size!==0}undo(){$t(this,zt).undo(),er(this,nr,Jr).call(this,{hasSomethingToUndo:$t(this,zt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:er(this,nr,mn).call(this)})}redo(){$t(this,zt).redo(),er(this,nr,Jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:$t(this,zt).hasSomethingToRedo(),isEmpty:er(this,nr,mn).call(this)})}addCommands(Xt){$t(this,zt).add(Xt),er(this,nr,Jr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:er(this,nr,mn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Xt=[...$t(this,qt)],yr=()=>{for(const Rr of Xt)Rr.remove()},Er=()=>{for(const Rr of Xt)er(this,nr,Gn).call(this,Rr)};this.addCommands({cmd:yr,undo:Er,mustExec:!0})}commitOrRemove(){var Xt;(Xt=$t(this,Et))==null||Xt.commitOrRemove()}hasSomethingToControl(){return $t(this,Et)||this.hasSelection}selectAll(){for(const Xt of $t(this,qt))Xt.commit();er(this,nr,Kn).call(this,$t(this,Tt).values())}unselectAll(){if($t(this,Et)){$t(this,Et).commitOrRemove();return}if(this.hasSelection){for(const Xt of $t(this,qt))Xt.unselect();$t(this,qt).clear(),er(this,nr,Jr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Xt,yr,Er=!1){if(Er||this.commitOrRemove(),!this.hasSelection)return;$t(this,sr)[0]+=Xt,$t(this,sr)[1]+=yr;const[Rr,Nr]=$t(this,sr),Pr=[...$t(this,qt)],Kt=1e3;$t(this,pr)&&clearTimeout($t(this,pr)),cr(this,pr,setTimeout(()=>{cr(this,pr,null),$t(this,sr)[0]=$t(this,sr)[1]=0,this.addCommands({cmd:()=>{for(const Ht of Pr)$t(this,Tt).has(Ht.id)&&Ht.translateInPage(Rr,Nr)},undo:()=>{for(const Ht of Pr)$t(this,Tt).has(Ht.id)&&Ht.translateInPage(-Rr,-Nr)},mustExec:!1})},Kt));for(const Ht of Pr)Ht.translateInPage(Xt,yr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),cr(this,jt,new Map);for(const Xt of $t(this,qt))$t(this,jt).set(Xt,{savedX:Xt.x,savedY:Xt.y,savedPageIndex:Xt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!$t(this,jt))return!1;this.disableUserSelect(!1);const Xt=$t(this,jt);cr(this,jt,null);let yr=!1;for(const[{x:Rr,y:Nr,pageIndex:Pr},Kt]of Xt)Kt.newX=Rr,Kt.newY=Nr,Kt.newPageIndex=Pr,yr||(yr=Rr!==Kt.savedX||Nr!==Kt.savedY||Pr!==Kt.savedPageIndex);if(!yr)return!1;const Er=(Rr,Nr,Pr,Kt)=>{if($t(this,Tt).has(Rr.id)){const Ht=$t(this,It).get(Kt);Ht?Rr._setParentAndPosition(Ht,Nr,Pr):(Rr.pageIndex=Kt,Rr.x=Nr,Rr.y=Pr)}};return this.addCommands({cmd:()=>{for(const[Rr,{newX:Nr,newY:Pr,newPageIndex:Kt}]of Xt)Er(Rr,Nr,Pr,Kt)},undo:()=>{for(const[Rr,{savedX:Nr,savedY:Pr,savedPageIndex:Kt}]of Xt)Er(Rr,Nr,Pr,Kt)},mustExec:!0}),!0}dragSelectedEditors(Xt,yr){if($t(this,jt))for(const Er of $t(this,jt).keys())Er.drag(Xt,yr)}rebuild(Xt){if(Xt.parent===null){const yr=this.getLayer(Xt.pageIndex);yr?(yr.changeParent(Xt),yr.addOrRebuild(Xt)):(this.addEditor(Xt),this.addToAnnotationStorage(Xt),Xt.rebuild())}else Xt.parent.addOrRebuild(Xt)}isActive(Xt){return $t(this,Et)===Xt}getActive(){return $t(this,Et)}getMode(){return $t(this,Vt)}get imageManager(){return(0,tt.shadow)(this,"imageManager",new st)}};Et=new WeakMap,Tt=new WeakMap,It=new WeakMap,Wt=new WeakMap,Lt=new WeakMap,zt=new WeakMap,Ft=new WeakMap,Rt=new WeakMap,jt=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,At=new WeakMap,Pt=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,ar=new WeakMap,Qt=new WeakMap,fr=new WeakMap,hr=new WeakMap,gr=new WeakMap,rr=new WeakMap,ir=new WeakMap,Ut=new WeakMap,Yt=new WeakMap,tr=new WeakMap,sr=new WeakMap,pr=new WeakMap,xr=new WeakMap,br=new WeakMap,nr=new WeakSet,vs=function(){window.addEventListener("focus",$t(this,ar)),window.addEventListener("blur",$t(this,Jt))},Wn=function(){window.removeEventListener("focus",$t(this,ar)),window.removeEventListener("blur",$t(this,Jt))},Hn=function(){window.addEventListener("keydown",$t(this,gr),{capture:!0})},Sn=function(){window.removeEventListener("keydown",$t(this,gr),{capture:!0})},Vn=function(){document.addEventListener("copy",$t(this,Qt)),document.addEventListener("cut",$t(this,fr)),document.addEventListener("paste",$t(this,hr))},qn=function(){document.removeEventListener("copy",$t(this,Qt)),document.removeEventListener("cut",$t(this,fr)),document.removeEventListener("paste",$t(this,hr))},Jr=function(Xt){Object.entries(Xt).some(([Er,Rr])=>$t(this,tr)[Er]!==Rr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign($t(this,tr),Xt)})},pn=function(Xt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Xt})},bs=function(){if(!$t(this,Pt)){cr(this,Pt,!0);for(const Xt of $t(this,It).values())Xt.enable()}},xs=function(){if(this.unselectAll(),$t(this,Pt)){cr(this,Pt,!1);for(const Xt of $t(this,It).values())Xt.disable()}},Gn=function(Xt){const yr=$t(this,It).get(Xt.pageIndex);yr?yr.addOrRebuild(Xt):this.addEditor(Xt)},mn=function(){if($t(this,Tt).size===0)return!0;if($t(this,Tt).size===1)for(const Xt of $t(this,Tt).values())return Xt.isEmpty();return!1},Kn=function(Xt){$t(this,qt).clear();for(const yr of Xt)yr.isEmpty()||($t(this,qt).add(yr),yr.select());er(this,nr,Jr).call(this,{hasSelectedEditor:!0})},Lr(Vr,"TRANSLATE_SMALL",1),Lr(Vr,"TRANSLATE_BIG",10);let ut=Vr;$.AnnotationEditorUIManager=ut},(_e,$,et)=>{var Ft,Rt,jt,Ct,Dt,Mt,At,Pt,Nt,Bt,Vt,qt,cn,un,Yn,En,$n,gn,yn;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=xt,$.getColorValues=Tt,$.getCurrentTransform=It,$.getCurrentTransformInverse=Wt,$.getFilenameFromUrl=ft,$.getPdfFilenameFromUrl=gt,$.getRGB=Et,$.getXfaPageViewport=Ot,$.isDataScheme=mt,$.isPdfFile=pt,$.isValidFetchUrl=_t,$.loadScript=vt,$.noContextMenu=yt,$.setLayerDimensions=Lt;var tt=et(7),rt=et(1);const nt="http://www.w3.org/2000/svg",zt=class zt{};Lr(zt,"CSS",96),Lr(zt,"PDF",72),Lr(zt,"PDF_TO_CSS_UNITS",zt.CSS/zt.PDF);let it=zt;$.PixelsPerInch=it;class at extends tt.BaseFilterFactory{constructor({docId:Ut,ownerDocument:Yt=globalThis.document}={}){super();or(this,qt);or(this,Ft);or(this,Rt);or(this,jt);or(this,Ct);or(this,Dt);or(this,Mt);or(this,At);or(this,Pt);or(this,Nt);or(this,Bt);or(this,Vt,0);cr(this,jt,Ut),cr(this,Ct,Yt)}addFilter(Ut){if(!Ut)return"none";let Yt=$t(this,qt,cn).get(Ut);if(Yt)return Yt;let tr,sr,pr,xr;if(Ut.length===1){const Sr=Ut[0],Ur=new Array(256);for(let Fr=0;Fr<256;Fr++)Ur[Fr]=Sr[Fr]/255;xr=tr=sr=pr=Ur.join(",")}else{const[Sr,Ur,Fr]=Ut,qr=new Array(256),Cr=new Array(256),Dr=new Array(256);for(let Gr=0;Gr<256;Gr++)qr[Gr]=Sr[Gr]/255,Cr[Gr]=Ur[Gr]/255,Dr[Gr]=Fr[Gr]/255;tr=qr.join(","),sr=Cr.join(","),pr=Dr.join(","),xr=`${tr}${sr}${pr}`}if(Yt=$t(this,qt,cn).get(xr),Yt)return $t(this,qt,cn).set(Ut,Yt),Yt;const br=`g_${$t(this,jt)}_transfer_map_${fn(this,Vt)._++}`,nr=`url(#${br})`;$t(this,qt,cn).set(Ut,nr),$t(this,qt,cn).set(xr,nr);const $r=er(this,qt,En).call(this,br);return er(this,qt,gn).call(this,tr,sr,pr,$r),nr}addHCMFilter(Ut,Yt){var Ur;const tr=`${Ut}-${Yt}`;if($t(this,Mt)===tr)return $t(this,At);if(cr(this,Mt,tr),cr(this,At,"none"),(Ur=$t(this,Dt))==null||Ur.remove(),!Ut||!Yt)return $t(this,At);const sr=er(this,qt,yn).call(this,Ut);Ut=rt.Util.makeHexColor(...sr);const pr=er(this,qt,yn).call(this,Yt);if(Yt=rt.Util.makeHexColor(...pr),$t(this,qt,un).style.color="",Ut==="#000000"&&Yt==="#ffffff"||Ut===Yt)return $t(this,At);const xr=new Array(256);for(let Fr=0;Fr<=255;Fr++){const qr=Fr/255;xr[Fr]=qr<=.03928?qr/12.92:((qr+.055)/1.055)**2.4}const br=xr.join(","),nr=`g_${$t(this,jt)}_hcm_filter`,$r=cr(this,Pt,er(this,qt,En).call(this,nr));er(this,qt,gn).call(this,br,br,br,$r),er(this,qt,Yn).call(this,$r);const Sr=(Fr,qr)=>{const Cr=sr[Fr]/255,Dr=pr[Fr]/255,Gr=new Array(qr+1);for(let Yr=0;Yr<=qr;Yr++)Gr[Yr]=Cr+Yr/qr*(Dr-Cr);return Gr.join(",")};return er(this,qt,gn).call(this,Sr(0,5),Sr(1,5),Sr(2,5),$r),cr(this,At,`url(#${nr})`),$t(this,At)}addHighlightHCMFilter(Ut,Yt,tr,sr){var Dr;const pr=`${Ut}-${Yt}-${tr}-${sr}`;if($t(this,Nt)===pr)return $t(this,Bt);if(cr(this,Nt,pr),cr(this,Bt,"none"),(Dr=$t(this,Pt))==null||Dr.remove(),!Ut||!Yt)return $t(this,Bt);const[xr,br]=[Ut,Yt].map(er(this,qt,yn).bind(this));let nr=Math.round(.2126*xr[0]+.7152*xr[1]+.0722*xr[2]),$r=Math.round(.2126*br[0]+.7152*br[1]+.0722*br[2]),[Sr,Ur]=[tr,sr].map(er(this,qt,yn).bind(this));$r<nr&&([nr,$r,Sr,Ur]=[$r,nr,Ur,Sr]),$t(this,qt,un).style.color="";const Fr=(Gr,Yr,_r)=>{const lr=new Array(256),ur=($r-nr)/_r,Tr=Gr/255,Vr=(Yr-Gr)/(255*_r);let Hr=0;for(let Xt=0;Xt<=_r;Xt++){const yr=Math.round(nr+Xt*ur),Er=Tr+Xt*Vr;for(let Rr=Hr;Rr<=yr;Rr++)lr[Rr]=Er;Hr=yr+1}for(let Xt=Hr;Xt<256;Xt++)lr[Xt]=lr[Hr-1];return lr.join(",")},qr=`g_${$t(this,jt)}_hcm_highlight_filter`,Cr=cr(this,Pt,er(this,qt,En).call(this,qr));return er(this,qt,Yn).call(this,Cr),er(this,qt,gn).call(this,Fr(Sr[0],Ur[0],5),Fr(Sr[1],Ur[1],5),Fr(Sr[2],Ur[2],5),Cr),cr(this,Bt,`url(#${qr})`),$t(this,Bt)}destroy(Ut=!1){Ut&&($t(this,At)||$t(this,Bt))||($t(this,Rt)&&($t(this,Rt).parentNode.parentNode.remove(),cr(this,Rt,null)),$t(this,Ft)&&($t(this,Ft).clear(),cr(this,Ft,null)),cr(this,Vt,0))}}Ft=new WeakMap,Rt=new WeakMap,jt=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,At=new WeakMap,Pt=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,qt=new WeakSet,cn=function(){return $t(this,Ft)||cr(this,Ft,new Map)},un=function(){if(!$t(this,Rt)){const Ut=$t(this,Ct).createElement("div"),{style:Yt}=Ut;Yt.visibility="hidden",Yt.contain="strict",Yt.width=Yt.height=0,Yt.position="absolute",Yt.top=Yt.left=0,Yt.zIndex=-1;const tr=$t(this,Ct).createElementNS(nt,"svg");tr.setAttribute("width",0),tr.setAttribute("height",0),cr(this,Rt,$t(this,Ct).createElementNS(nt,"defs")),Ut.append(tr),tr.append($t(this,Rt)),$t(this,Ct).body.append(Ut)}return $t(this,Rt)},Yn=function(Ut){const Yt=$t(this,Ct).createElementNS(nt,"feColorMatrix");Yt.setAttribute("type","matrix"),Yt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Ut.append(Yt)},En=function(Ut){const Yt=$t(this,Ct).createElementNS(nt,"filter");return Yt.setAttribute("color-interpolation-filters","sRGB"),Yt.setAttribute("id",Ut),$t(this,qt,un).append(Yt),Yt},$n=function(Ut,Yt,tr){const sr=$t(this,Ct).createElementNS(nt,Yt);sr.setAttribute("type","discrete"),sr.setAttribute("tableValues",tr),Ut.append(sr)},gn=function(Ut,Yt,tr,sr){const pr=$t(this,Ct).createElementNS(nt,"feComponentTransfer");sr.append(pr),er(this,qt,$n).call(this,pr,"feFuncR",Ut),er(this,qt,$n).call(this,pr,"feFuncG",Yt),er(this,qt,$n).call(this,pr,"feFuncB",tr)},yn=function(Ut){return $t(this,qt,un).style.color=Ut,Et(getComputedStyle($t(this,qt,un)).getPropertyValue("color"))},$.DOMFilterFactory=at;class st extends tt.BaseCanvasFactory{constructor({ownerDocument:ir=globalThis.document}={}){super(),this._document=ir}_createCanvas(ir,Ut){const Yt=this._document.createElement("canvas");return Yt.width=ir,Yt.height=Ut,Yt}}$.DOMCanvasFactory=st;async function ot(rr,ir=!1){if(_t(rr,document.baseURI)){const Ut=await fetch(rr);if(!Ut.ok)throw new Error(Ut.statusText);return ir?new Uint8Array(await Ut.arrayBuffer()):(0,rt.stringToBytes)(await Ut.text())}return new Promise((Ut,Yt)=>{const tr=new XMLHttpRequest;tr.open("GET",rr,!0),ir&&(tr.responseType="arraybuffer"),tr.onreadystatechange=()=>{if(tr.readyState===XMLHttpRequest.DONE){if(tr.status===200||tr.status===0){let sr;if(ir&&tr.response?sr=new Uint8Array(tr.response):!ir&&tr.responseText&&(sr=(0,rt.stringToBytes)(tr.responseText)),sr){Ut(sr);return}}Yt(new Error(tr.statusText))}},tr.send(null)})}class lt extends tt.BaseCMapReaderFactory{_fetchData(ir,Ut){return ot(ir,this.isCompressed).then(Yt=>({cMapData:Yt,compressionType:Ut}))}}$.DOMCMapReaderFactory=lt;class ct extends tt.BaseStandardFontDataFactory{_fetchData(ir){return ot(ir,!0)}}$.DOMStandardFontDataFactory=ct;class ut extends tt.BaseSVGFactory{_createSVG(ir){return document.createElementNS(nt,ir)}}$.DOMSVGFactory=ut;class dt{constructor({viewBox:ir,scale:Ut,rotation:Yt,offsetX:tr=0,offsetY:sr=0,dontFlip:pr=!1}){this.viewBox=ir,this.scale=Ut,this.rotation=Yt,this.offsetX=tr,this.offsetY=sr;const xr=(ir[2]+ir[0])/2,br=(ir[3]+ir[1])/2;let nr,$r,Sr,Ur;switch(Yt%=360,Yt<0&&(Yt+=360),Yt){case 180:nr=-1,$r=0,Sr=0,Ur=1;break;case 90:nr=0,$r=1,Sr=1,Ur=0;break;case 270:nr=0,$r=-1,Sr=-1,Ur=0;break;case 0:nr=1,$r=0,Sr=0,Ur=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}pr&&(Sr=-Sr,Ur=-Ur);let Fr,qr,Cr,Dr;nr===0?(Fr=Math.abs(br-ir[1])*Ut+tr,qr=Math.abs(xr-ir[0])*Ut+sr,Cr=(ir[3]-ir[1])*Ut,Dr=(ir[2]-ir[0])*Ut):(Fr=Math.abs(xr-ir[0])*Ut+tr,qr=Math.abs(br-ir[1])*Ut+sr,Cr=(ir[2]-ir[0])*Ut,Dr=(ir[3]-ir[1])*Ut),this.transform=[nr*Ut,$r*Ut,Sr*Ut,Ur*Ut,Fr-nr*Ut*xr-Sr*Ut*br,qr-$r*Ut*xr-Ur*Ut*br],this.width=Cr,this.height=Dr}get rawDims(){const{viewBox:ir}=this;return(0,rt.shadow)(this,"rawDims",{pageWidth:ir[2]-ir[0],pageHeight:ir[3]-ir[1],pageX:ir[0],pageY:ir[1]})}clone({scale:ir=this.scale,rotation:Ut=this.rotation,offsetX:Yt=this.offsetX,offsetY:tr=this.offsetY,dontFlip:sr=!1}={}){return new dt({viewBox:this.viewBox.slice(),scale:ir,rotation:Ut,offsetX:Yt,offsetY:tr,dontFlip:sr})}convertToViewportPoint(ir,Ut){return rt.Util.applyTransform([ir,Ut],this.transform)}convertToViewportRectangle(ir){const Ut=rt.Util.applyTransform([ir[0],ir[1]],this.transform),Yt=rt.Util.applyTransform([ir[2],ir[3]],this.transform);return[Ut[0],Ut[1],Yt[0],Yt[1]]}convertToPdfPoint(ir,Ut){return rt.Util.applyInverseTransform([ir,Ut],this.transform)}}$.PageViewport=dt;class ht extends rt.BaseException{constructor(ir,Ut=0){super(ir,"RenderingCancelledException"),this.extraDelay=Ut}}$.RenderingCancelledException=ht;function mt(rr){const ir=rr.length;let Ut=0;for(;Ut<ir&&rr[Ut].trim()==="";)Ut++;return rr.substring(Ut,Ut+5).toLowerCase()==="data:"}function pt(rr){return typeof rr=="string"&&/\.pdf$/i.test(rr)}function ft(rr,ir=!1){return ir||([rr]=rr.split(/[#?]/,1)),rr.substring(rr.lastIndexOf("/")+1)}function gt(rr,ir="document.pdf"){if(typeof rr!="string")return ir;if(mt(rr))return(0,rt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ir;const Ut=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Yt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tr=Ut.exec(rr);let sr=Yt.exec(tr[1])||Yt.exec(tr[2])||Yt.exec(tr[3]);if(sr&&(sr=sr[0],sr.includes("%")))try{sr=Yt.exec(decodeURIComponent(sr))[0]}catch{}return sr||ir}class bt{constructor(){Lr(this,"started",Object.create(null));Lr(this,"times",[])}time(ir){ir in this.started&&(0,rt.warn)(`Timer is already running for ${ir}`),this.started[ir]=Date.now()}timeEnd(ir){ir in this.started||(0,rt.warn)(`Timer has not been started for ${ir}`),this.times.push({name:ir,start:this.started[ir],end:Date.now()}),delete this.started[ir]}toString(){const ir=[];let Ut=0;for(const{name:Yt}of this.times)Ut=Math.max(Yt.length,Ut);for(const{name:Yt,start:tr,end:sr}of this.times)ir.push(`${Yt.padEnd(Ut)} ${sr-tr}ms
`);return ir.join("")}}$.StatTimer=bt;function _t(rr,ir){try{const{protocol:Ut}=ir?new URL(rr,ir):new URL(rr);return Ut==="http:"||Ut==="https:"}catch{return!1}}function yt(rr){rr.preventDefault()}function vt(rr,ir=!1){return new Promise((Ut,Yt)=>{const tr=document.createElement("script");tr.src=rr,tr.onload=function(sr){ir&&tr.remove(),Ut(sr)},tr.onerror=function(){Yt(new Error(`Cannot load script at: ${tr.src}`))},(document.head||document.documentElement).append(tr)})}function xt(rr){console.log("Deprecated API usage: "+rr)}let wt;class St{static toDateObject(ir){if(!ir||typeof ir!="string")return null;wt||(wt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ut=wt.exec(ir);if(!Ut)return null;const Yt=parseInt(Ut[1],10);let tr=parseInt(Ut[2],10);tr=tr>=1&&tr<=12?tr-1:0;let sr=parseInt(Ut[3],10);sr=sr>=1&&sr<=31?sr:1;let pr=parseInt(Ut[4],10);pr=pr>=0&&pr<=23?pr:0;let xr=parseInt(Ut[5],10);xr=xr>=0&&xr<=59?xr:0;let br=parseInt(Ut[6],10);br=br>=0&&br<=59?br:0;const nr=Ut[7]||"Z";let $r=parseInt(Ut[8],10);$r=$r>=0&&$r<=23?$r:0;let Sr=parseInt(Ut[9],10)||0;return Sr=Sr>=0&&Sr<=59?Sr:0,nr==="-"?(pr+=$r,xr+=Sr):nr==="+"&&(pr-=$r,xr-=Sr),new Date(Date.UTC(Yt,tr,sr,pr,xr,br))}}$.PDFDateString=St;function Ot(rr,{scale:ir=1,rotation:Ut=0}){const{width:Yt,height:tr}=rr.attributes.style,sr=[0,0,parseInt(Yt),parseInt(tr)];return new dt({viewBox:sr,scale:ir,rotation:Ut})}function Et(rr){if(rr.startsWith("#")){const ir=parseInt(rr.slice(1),16);return[(ir&16711680)>>16,(ir&65280)>>8,ir&255]}return rr.startsWith("rgb(")?rr.slice(4,-1).split(",").map(ir=>parseInt(ir)):rr.startsWith("rgba(")?rr.slice(5,-1).split(",").map(ir=>parseInt(ir)).slice(0,3):((0,rt.warn)(`Not a valid color format: "${rr}"`),[0,0,0])}function Tt(rr){const ir=document.createElement("span");ir.style.visibility="hidden",document.body.append(ir);for(const Ut of rr.keys()){ir.style.color=Ut;const Yt=window.getComputedStyle(ir).color;rr.set(Ut,Et(Yt))}ir.remove()}function It(rr){const{a:ir,b:Ut,c:Yt,d:tr,e:sr,f:pr}=rr.getTransform();return[ir,Ut,Yt,tr,sr,pr]}function Wt(rr){const{a:ir,b:Ut,c:Yt,d:tr,e:sr,f:pr}=rr.getTransform().invertSelf();return[ir,Ut,Yt,tr,sr,pr]}function Lt(rr,ir,Ut=!1,Yt=!0){if(ir instanceof dt){const{pageWidth:tr,pageHeight:sr}=ir.rawDims,{style:pr}=rr,xr=rt.FeatureTest.isCSSRoundSupported,br=`var(--scale-factor) * ${tr}px`,nr=`var(--scale-factor) * ${sr}px`,$r=xr?`round(${br}, 1px)`:`calc(${br})`,Sr=xr?`round(${nr}, 1px)`:`calc(${nr})`;!Ut||ir.rotation%180===0?(pr.width=$r,pr.height=Sr):(pr.width=Sr,pr.height=$r)}Yt&&rr.setAttribute("data-main-rotation",ir.rotation)}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var tt=et(1);class rt{constructor(){this.constructor===rt&&(0,tt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(lt){return"none"}addHCMFilter(lt,ct){return"none"}addHighlightHCMFilter(lt,ct,ut,dt){return"none"}destroy(lt=!1){}}$.BaseFilterFactory=rt;class nt{constructor(){this.constructor===nt&&(0,tt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(lt,ct){if(lt<=0||ct<=0)throw new Error("Invalid canvas size");const ut=this._createCanvas(lt,ct);return{canvas:ut,context:ut.getContext("2d")}}reset(lt,ct,ut){if(!lt.canvas)throw new Error("Canvas is not specified");if(ct<=0||ut<=0)throw new Error("Invalid canvas size");lt.canvas.width=ct,lt.canvas.height=ut}destroy(lt){if(!lt.canvas)throw new Error("Canvas is not specified");lt.canvas.width=0,lt.canvas.height=0,lt.canvas=null,lt.context=null}_createCanvas(lt,ct){(0,tt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=nt;class it{constructor({baseUrl:lt=null,isCompressed:ct=!0}){this.constructor===it&&(0,tt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=lt,this.isCompressed=ct}async fetch({name:lt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!lt)throw new Error("CMap name must be specified.");const ct=this.baseUrl+lt+(this.isCompressed?".bcmap":""),ut=this.isCompressed?tt.CMapCompressionType.BINARY:tt.CMapCompressionType.NONE;return this._fetchData(ct,ut).catch(dt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ct}`)})}_fetchData(lt,ct){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=it;class at{constructor({baseUrl:lt=null}){this.constructor===at&&(0,tt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=lt}async fetch({filename:lt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!lt)throw new Error("Font filename must be specified.");const ct=`${this.baseUrl}${lt}`;return this._fetchData(ct).catch(ut=>{throw new Error(`Unable to load font data at: ${ct}`)})}_fetchData(lt){(0,tt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=at;class st{constructor(){this.constructor===st&&(0,tt.unreachable)("Cannot initialize BaseSVGFactory.")}create(lt,ct,ut=!1){if(lt<=0||ct<=0)throw new Error("Invalid SVG dimensions");const dt=this._createSVG("svg:svg");return dt.setAttribute("version","1.1"),ut||(dt.setAttribute("width",`${lt}px`),dt.setAttribute("height",`${ct}px`)),dt.setAttribute("preserveAspectRatio","none"),dt.setAttribute("viewBox",`0 0 ${lt} ${ct}`),dt}createElement(lt){if(typeof lt!="string")throw new Error("Invalid SVG element type");return this._createSVG(lt)}_createSVG(lt){(0,tt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=st},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var tt=et(1);const rt=3285377520,nt=4294901760,it=65535;class at{constructor(ot){this.h1=ot?ot&4294967295:rt,this.h2=ot?ot&4294967295:rt}update(ot){let lt,ct;if(typeof ot=="string"){lt=new Uint8Array(ot.length*2),ct=0;for(let xt=0,wt=ot.length;xt<wt;xt++){const St=ot.charCodeAt(xt);St<=255?lt[ct++]=St:(lt[ct++]=St>>>8,lt[ct++]=St&255)}}else if((0,tt.isArrayBuffer)(ot))lt=ot.slice(),ct=lt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ut=ct>>2,dt=ct-ut*4,ht=new Uint32Array(lt.buffer,0,ut);let mt=0,pt=0,ft=this.h1,gt=this.h2;const bt=3432918353,_t=461845907,yt=bt&it,vt=_t&it;for(let xt=0;xt<ut;xt++)xt&1?(mt=ht[xt],mt=mt*bt&nt|mt*yt&it,mt=mt<<15|mt>>>17,mt=mt*_t&nt|mt*vt&it,ft^=mt,ft=ft<<13|ft>>>19,ft=ft*5+3864292196):(pt=ht[xt],pt=pt*bt&nt|pt*yt&it,pt=pt<<15|pt>>>17,pt=pt*_t&nt|pt*vt&it,gt^=pt,gt=gt<<13|gt>>>19,gt=gt*5+3864292196);switch(mt=0,dt){case 3:mt^=lt[ut*4+2]<<16;case 2:mt^=lt[ut*4+1]<<8;case 1:mt^=lt[ut*4],mt=mt*bt&nt|mt*yt&it,mt=mt<<15|mt>>>17,mt=mt*_t&nt|mt*vt&it,ut&1?ft^=mt:gt^=mt}this.h1=ft,this.h2=gt}hexdigest(){let ot=this.h1,lt=this.h2;return ot^=lt>>>1,ot=ot*3981806797&nt|ot*36045&it,lt=lt*4283543511&nt|((lt<<16|ot>>>16)*2950163797&nt)>>>16,ot^=lt>>>1,ot=ot*444984403&nt|ot*60499&it,lt=lt*3301882366&nt|((lt<<16|ot>>>16)*3120437893&nt)>>>16,ot^=lt>>>1,(ot>>>0).toString(16).padStart(8,"0")+(lt>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=at},(_e,$,et)=>{var it;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var tt=et(1);class rt{constructor({ownerDocument:st=globalThis.document,styleElement:ot=null}){or(this,it,new Set);this._document=st,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(st){this.nativeFontFaces.add(st),this._document.fonts.add(st)}removeNativeFontFace(st){this.nativeFontFaces.delete(st),this._document.fonts.delete(st)}insertRule(st){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ot=this.styleElement.sheet;ot.insertRule(st,ot.cssRules.length)}clear(){for(const st of this.nativeFontFaces)this._document.fonts.delete(st);this.nativeFontFaces.clear(),$t(this,it).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(st){if(!(!st||$t(this,it).has(st.loadedName))){if((0,tt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ot,src:lt,style:ct}=st,ut=new FontFace(ot,lt,ct);this.addNativeFontFace(ut);try{await ut.load(),$t(this,it).add(ot)}catch{(0,tt.warn)(`Cannot load system font: ${st.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ut)}return}(0,tt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(st){if(st.attached||st.missingFile&&!st.systemFontInfo)return;if(st.attached=!0,st.systemFontInfo){await this.loadSystemFont(st.systemFontInfo);return}if(this.isFontLoadingAPISupported){const lt=st.createNativeFontFace();if(lt){this.addNativeFontFace(lt);try{await lt.loaded}catch(ct){throw(0,tt.warn)(`Failed to load font '${lt.family}': '${ct}'.`),st.disableFontFace=!0,ct}}return}const ot=st.createFontFaceRule();if(ot){if(this.insertRule(ot),this.isSyncFontLoadingSupported)return;await new Promise(lt=>{const ct=this._queueLoadingCallback(lt);this._prepareFontLoadEvent(st,ct)})}}get isFontLoadingAPISupported(){var ot;const st=!!((ot=this._document)!=null&&ot.fonts);return(0,tt.shadow)(this,"isFontLoadingAPISupported",st)}get isSyncFontLoadingSupported(){let st=!1;return(tt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(st=!0),(0,tt.shadow)(this,"isSyncFontLoadingSupported",st)}_queueLoadingCallback(st){function ot(){for((0,tt.assert)(!ct.done,"completeRequest() cannot be called twice."),ct.done=!0;lt.length>0&&lt[0].done;){const ut=lt.shift();setTimeout(ut.callback,0)}}const{loadingRequests:lt}=this,ct={done:!1,complete:ot,callback:st};return lt.push(ct),ct}get _loadTestFont(){const st=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,tt.shadow)(this,"_loadTestFont",st)}_prepareFontLoadEvent(st,ot){function lt(Et,Tt){return Et.charCodeAt(Tt)<<24|Et.charCodeAt(Tt+1)<<16|Et.charCodeAt(Tt+2)<<8|Et.charCodeAt(Tt+3)&255}function ct(Et,Tt,It,Wt){const Lt=Et.substring(0,Tt),zt=Et.substring(Tt+It);return Lt+Wt+zt}let ut,dt;const ht=this._document.createElement("canvas");ht.width=1,ht.height=1;const mt=ht.getContext("2d");let pt=0;function ft(Et,Tt){if(++pt>30){(0,tt.warn)("Load test font never loaded."),Tt();return}if(mt.font="30px "+Et,mt.fillText(".",0,20),mt.getImageData(0,0,1,1).data[3]>0){Tt();return}setTimeout(ft.bind(null,Et,Tt))}const gt=`lt${Date.now()}${this.loadTestFontId++}`;let bt=this._loadTestFont;bt=ct(bt,976,gt.length,gt);const yt=16,vt=1482184792;let xt=lt(bt,yt);for(ut=0,dt=gt.length-3;ut<dt;ut+=4)xt=xt-vt+lt(gt,ut)|0;ut<gt.length&&(xt=xt-vt+lt(gt+"XXX",ut)|0),bt=ct(bt,yt,4,(0,tt.string32)(xt));const wt=`url(data:font/opentype;base64,${btoa(bt)});`,St=`@font-face {font-family:"${gt}";src:${wt}}`;this.insertRule(St);const Ot=this._document.createElement("div");Ot.style.visibility="hidden",Ot.style.width=Ot.style.height="10px",Ot.style.position="absolute",Ot.style.top=Ot.style.left="0px";for(const Et of[st.loadedName,gt]){const Tt=this._document.createElement("span");Tt.textContent="Hi",Tt.style.fontFamily=Et,Ot.append(Tt)}this._document.body.append(Ot),ft(gt,()=>{Ot.remove(),ot.complete()})}}it=new WeakMap,$.FontLoader=rt;class nt{constructor(st,{isEvalSupported:ot=!0,disableFontFace:lt=!1,ignoreErrors:ct=!1,inspectFont:ut=null}){this.compiledGlyphs=Object.create(null);for(const dt in st)this[dt]=st[dt];this.isEvalSupported=ot!==!1,this.disableFontFace=lt===!0,this.ignoreErrors=ct===!0,this._inspectFont=ut}createNativeFontFace(){var ot;if(!this.data||this.disableFontFace)return null;let st;if(!this.cssFontInfo)st=new FontFace(this.loadedName,this.data,{});else{const lt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(lt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),st=new FontFace(this.cssFontInfo.fontFamily,this.data,lt)}return(ot=this._inspectFont)==null||ot.call(this,this),st}createFontFaceRule(){var ct;if(!this.data||this.disableFontFace)return null;const st=(0,tt.bytesToString)(this.data),ot=`url(data:${this.mimetype};base64,${btoa(st)});`;let lt;if(!this.cssFontInfo)lt=`@font-face {font-family:"${this.loadedName}";src:${ot}}`;else{let ut=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ut+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),lt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ut}src:${ot}}`}return(ct=this._inspectFont)==null||ct.call(this,this,ot),lt}getPathGenerator(st,ot){if(this.compiledGlyphs[ot]!==void 0)return this.compiledGlyphs[ot];let lt;try{lt=st.get(this.loadedName+"_path_"+ot)}catch(ct){if(!this.ignoreErrors)throw ct;return(0,tt.warn)(`getPathGenerator - ignoring character: "${ct}".`),this.compiledGlyphs[ot]=function(ut,dt){}}if(this.isEvalSupported&&tt.FeatureTest.isEvalSupported){const ct=[];for(const ut of lt){const dt=ut.args!==void 0?ut.args.join(","):"";ct.push("c.",ut.cmd,"(",dt,`);
`)}return this.compiledGlyphs[ot]=new Function("c","size",ct.join(""))}return this.compiledGlyphs[ot]=function(ct,ut){for(const dt of lt)dt.cmd==="scale"&&(dt.args=[ut,-ut]),ct[dt.cmd].apply(ct,dt.args)}}}$.FontFaceObject=nt},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var tt=et(7);et(1);const rt=function(ot){return new Promise((lt,ct)=>{require$$5.readFile(ot,(dt,ht)=>{if(dt||!ht){ct(new Error(dt));return}lt(new Uint8Array(ht))})})};class nt extends tt.BaseFilterFactory{}$.NodeFilterFactory=nt;class it extends tt.BaseCanvasFactory{_createCanvas(lt,ct){return require$$5.createCanvas(lt,ct)}}$.NodeCanvasFactory=it;class at extends tt.BaseCMapReaderFactory{_fetchData(lt,ct){return rt(lt).then(ut=>({cMapData:ut,compressionType:ct}))}}$.NodeCMapReaderFactory=at;class st extends tt.BaseStandardFontDataFactory{_fetchData(lt){return rt(lt)}}$.NodeStandardFontDataFactory=st},(_e,$,et)=>{var Rt,Xn,Qn;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var tt=et(1),rt=et(6),nt=et(12),it=et(13);const at=16,st=100,ot=4096,lt=15,ct=10,ut=1e3,dt=16;function ht(Mt,At){if(Mt._removeMirroring)throw new Error("Context is already forwarding operations.");Mt.__originalSave=Mt.save,Mt.__originalRestore=Mt.restore,Mt.__originalRotate=Mt.rotate,Mt.__originalScale=Mt.scale,Mt.__originalTranslate=Mt.translate,Mt.__originalTransform=Mt.transform,Mt.__originalSetTransform=Mt.setTransform,Mt.__originalResetTransform=Mt.resetTransform,Mt.__originalClip=Mt.clip,Mt.__originalMoveTo=Mt.moveTo,Mt.__originalLineTo=Mt.lineTo,Mt.__originalBezierCurveTo=Mt.bezierCurveTo,Mt.__originalRect=Mt.rect,Mt.__originalClosePath=Mt.closePath,Mt.__originalBeginPath=Mt.beginPath,Mt._removeMirroring=()=>{Mt.save=Mt.__originalSave,Mt.restore=Mt.__originalRestore,Mt.rotate=Mt.__originalRotate,Mt.scale=Mt.__originalScale,Mt.translate=Mt.__originalTranslate,Mt.transform=Mt.__originalTransform,Mt.setTransform=Mt.__originalSetTransform,Mt.resetTransform=Mt.__originalResetTransform,Mt.clip=Mt.__originalClip,Mt.moveTo=Mt.__originalMoveTo,Mt.lineTo=Mt.__originalLineTo,Mt.bezierCurveTo=Mt.__originalBezierCurveTo,Mt.rect=Mt.__originalRect,Mt.closePath=Mt.__originalClosePath,Mt.beginPath=Mt.__originalBeginPath,delete Mt._removeMirroring},Mt.save=function(){At.save(),this.__originalSave()},Mt.restore=function(){At.restore(),this.__originalRestore()},Mt.translate=function(Nt,Bt){At.translate(Nt,Bt),this.__originalTranslate(Nt,Bt)},Mt.scale=function(Nt,Bt){At.scale(Nt,Bt),this.__originalScale(Nt,Bt)},Mt.transform=function(Nt,Bt,Vt,qt,Gt,Jt){At.transform(Nt,Bt,Vt,qt,Gt,Jt),this.__originalTransform(Nt,Bt,Vt,qt,Gt,Jt)},Mt.setTransform=function(Nt,Bt,Vt,qt,Gt,Jt){At.setTransform(Nt,Bt,Vt,qt,Gt,Jt),this.__originalSetTransform(Nt,Bt,Vt,qt,Gt,Jt)},Mt.resetTransform=function(){At.resetTransform(),this.__originalResetTransform()},Mt.rotate=function(Nt){At.rotate(Nt),this.__originalRotate(Nt)},Mt.clip=function(Nt){At.clip(Nt),this.__originalClip(Nt)},Mt.moveTo=function(Pt,Nt){At.moveTo(Pt,Nt),this.__originalMoveTo(Pt,Nt)},Mt.lineTo=function(Pt,Nt){At.lineTo(Pt,Nt),this.__originalLineTo(Pt,Nt)},Mt.bezierCurveTo=function(Pt,Nt,Bt,Vt,qt,Gt){At.bezierCurveTo(Pt,Nt,Bt,Vt,qt,Gt),this.__originalBezierCurveTo(Pt,Nt,Bt,Vt,qt,Gt)},Mt.rect=function(Pt,Nt,Bt,Vt){At.rect(Pt,Nt,Bt,Vt),this.__originalRect(Pt,Nt,Bt,Vt)},Mt.closePath=function(){At.closePath(),this.__originalClosePath()},Mt.beginPath=function(){At.beginPath(),this.__originalBeginPath()}}class mt{constructor(At){this.canvasFactory=At,this.cache=Object.create(null)}getCanvas(At,Pt,Nt){let Bt;return this.cache[At]!==void 0?(Bt=this.cache[At],this.canvasFactory.reset(Bt,Pt,Nt)):(Bt=this.canvasFactory.create(Pt,Nt),this.cache[At]=Bt),Bt}delete(At){delete this.cache[At]}clear(){for(const At in this.cache){const Pt=this.cache[At];this.canvasFactory.destroy(Pt),delete this.cache[At]}}}function pt(Mt,At,Pt,Nt,Bt,Vt,qt,Gt,Jt,ar){const[Qt,fr,hr,gr,rr,ir]=(0,rt.getCurrentTransform)(Mt);if(fr===0&&hr===0){const tr=qt*Qt+rr,sr=Math.round(tr),pr=Gt*gr+ir,xr=Math.round(pr),br=(qt+Jt)*Qt+rr,nr=Math.abs(Math.round(br)-sr)||1,$r=(Gt+ar)*gr+ir,Sr=Math.abs(Math.round($r)-xr)||1;return Mt.setTransform(Math.sign(Qt),0,0,Math.sign(gr),sr,xr),Mt.drawImage(At,Pt,Nt,Bt,Vt,0,0,nr,Sr),Mt.setTransform(Qt,fr,hr,gr,rr,ir),[nr,Sr]}if(Qt===0&&gr===0){const tr=Gt*hr+rr,sr=Math.round(tr),pr=qt*fr+ir,xr=Math.round(pr),br=(Gt+ar)*hr+rr,nr=Math.abs(Math.round(br)-sr)||1,$r=(qt+Jt)*fr+ir,Sr=Math.abs(Math.round($r)-xr)||1;return Mt.setTransform(0,Math.sign(fr),Math.sign(hr),0,sr,xr),Mt.drawImage(At,Pt,Nt,Bt,Vt,0,0,Sr,nr),Mt.setTransform(Qt,fr,hr,gr,rr,ir),[Sr,nr]}Mt.drawImage(At,Pt,Nt,Bt,Vt,qt,Gt,Jt,ar);const Ut=Math.hypot(Qt,fr),Yt=Math.hypot(hr,gr);return[Ut*Jt,Yt*ar]}function ft(Mt){const{width:At,height:Pt}=Mt;if(At>ut||Pt>ut)return null;const Nt=1e3,Bt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Vt=At+1;let qt=new Uint8Array(Vt*(Pt+1)),Gt,Jt,ar;const Qt=At+7&-8;let fr=new Uint8Array(Qt*Pt),hr=0;for(const Yt of Mt.data){let tr=128;for(;tr>0;)fr[hr++]=Yt&tr?0:255,tr>>=1}let gr=0;for(hr=0,fr[hr]!==0&&(qt[0]=1,++gr),Jt=1;Jt<At;Jt++)fr[hr]!==fr[hr+1]&&(qt[Jt]=fr[hr]?2:1,++gr),hr++;for(fr[hr]!==0&&(qt[Jt]=2,++gr),Gt=1;Gt<Pt;Gt++){hr=Gt*Qt,ar=Gt*Vt,fr[hr-Qt]!==fr[hr]&&(qt[ar]=fr[hr]?1:8,++gr);let Yt=(fr[hr]?4:0)+(fr[hr-Qt]?8:0);for(Jt=1;Jt<At;Jt++)Yt=(Yt>>2)+(fr[hr+1]?4:0)+(fr[hr-Qt+1]?8:0),Bt[Yt]&&(qt[ar+Jt]=Bt[Yt],++gr),hr++;if(fr[hr-Qt]!==fr[hr]&&(qt[ar+Jt]=fr[hr]?2:4,++gr),gr>Nt)return null}for(hr=Qt*(Pt-1),ar=Gt*Vt,fr[hr]!==0&&(qt[ar]=8,++gr),Jt=1;Jt<At;Jt++)fr[hr]!==fr[hr+1]&&(qt[ar+Jt]=fr[hr]?4:8,++gr),hr++;if(fr[hr]!==0&&(qt[ar+Jt]=4,++gr),gr>Nt)return null;const rr=new Int32Array([0,Vt,-1,0,-Vt,0,0,0,1]),ir=new Path2D;for(Gt=0;gr&&Gt<=Pt;Gt++){let Yt=Gt*Vt;const tr=Yt+At;for(;Yt<tr&&!qt[Yt];)Yt++;if(Yt===tr)continue;ir.moveTo(Yt%Vt,Gt);const sr=Yt;let pr=qt[Yt];do{const xr=rr[pr];do Yt+=xr;while(!qt[Yt]);const br=qt[Yt];br!==5&&br!==10?(pr=br,qt[Yt]=0):(pr=br&51*pr>>4,qt[Yt]&=pr>>2|pr<<2),ir.lineTo(Yt%Vt,Yt/Vt|0),qt[Yt]||--gr}while(sr!==Yt);--Gt}return fr=null,qt=null,function(Yt){Yt.save(),Yt.scale(1/At,-1/Pt),Yt.translate(0,-Pt),Yt.fill(ir),Yt.beginPath(),Yt.restore()}}class gt{constructor(At,Pt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,At,Pt])}clone(){const At=Object.create(this);return At.clipBox=this.clipBox.slice(),At}setCurrentPoint(At,Pt){this.x=At,this.y=Pt}updatePathMinMax(At,Pt,Nt){[Pt,Nt]=tt.Util.applyTransform([Pt,Nt],At),this.minX=Math.min(this.minX,Pt),this.minY=Math.min(this.minY,Nt),this.maxX=Math.max(this.maxX,Pt),this.maxY=Math.max(this.maxY,Nt)}updateRectMinMax(At,Pt){const Nt=tt.Util.applyTransform(Pt,At),Bt=tt.Util.applyTransform(Pt.slice(2),At);this.minX=Math.min(this.minX,Nt[0],Bt[0]),this.minY=Math.min(this.minY,Nt[1],Bt[1]),this.maxX=Math.max(this.maxX,Nt[0],Bt[0]),this.maxY=Math.max(this.maxY,Nt[1],Bt[1])}updateScalingPathMinMax(At,Pt){tt.Util.scaleMinMax(At,Pt),this.minX=Math.min(this.minX,Pt[0]),this.maxX=Math.max(this.maxX,Pt[1]),this.minY=Math.min(this.minY,Pt[2]),this.maxY=Math.max(this.maxY,Pt[3])}updateCurvePathMinMax(At,Pt,Nt,Bt,Vt,qt,Gt,Jt,ar,Qt){const fr=tt.Util.bezierBoundingBox(Pt,Nt,Bt,Vt,qt,Gt,Jt,ar);if(Qt){Qt[0]=Math.min(Qt[0],fr[0],fr[2]),Qt[1]=Math.max(Qt[1],fr[0],fr[2]),Qt[2]=Math.min(Qt[2],fr[1],fr[3]),Qt[3]=Math.max(Qt[3],fr[1],fr[3]);return}this.updateRectMinMax(At,fr)}getPathBoundingBox(At=nt.PathType.FILL,Pt=null){const Nt=[this.minX,this.minY,this.maxX,this.maxY];if(At===nt.PathType.STROKE){Pt||(0,tt.unreachable)("Stroke bounding box must include transform.");const Bt=tt.Util.singularValueDecompose2dScale(Pt),Vt=Bt[0]*this.lineWidth/2,qt=Bt[1]*this.lineWidth/2;Nt[0]-=Vt,Nt[1]-=qt,Nt[2]+=Vt,Nt[3]+=qt}return Nt}updateClipFromPath(){const At=tt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(At||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(At){this.clipBox=At,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(At=nt.PathType.FILL,Pt=null){return tt.Util.intersect(this.clipBox,this.getPathBoundingBox(At,Pt))}}function bt(Mt,At){if(typeof ImageData<"u"&&At instanceof ImageData){Mt.putImageData(At,0,0);return}const Pt=At.height,Nt=At.width,Bt=Pt%dt,Vt=(Pt-Bt)/dt,qt=Bt===0?Vt:Vt+1,Gt=Mt.createImageData(Nt,dt);let Jt=0,ar;const Qt=At.data,fr=Gt.data;let hr,gr,rr,ir;if(At.kind===tt.ImageKind.GRAYSCALE_1BPP){const Ut=Qt.byteLength,Yt=new Uint32Array(fr.buffer,0,fr.byteLength>>2),tr=Yt.length,sr=Nt+7>>3,pr=4294967295,xr=tt.FeatureTest.isLittleEndian?4278190080:255;for(hr=0;hr<qt;hr++){for(rr=hr<Vt?dt:Bt,ar=0,gr=0;gr<rr;gr++){const br=Ut-Jt;let nr=0;const $r=br>sr?Nt:br*8-7,Sr=$r&-8;let Ur=0,Fr=0;for(;nr<Sr;nr+=8)Fr=Qt[Jt++],Yt[ar++]=Fr&128?pr:xr,Yt[ar++]=Fr&64?pr:xr,Yt[ar++]=Fr&32?pr:xr,Yt[ar++]=Fr&16?pr:xr,Yt[ar++]=Fr&8?pr:xr,Yt[ar++]=Fr&4?pr:xr,Yt[ar++]=Fr&2?pr:xr,Yt[ar++]=Fr&1?pr:xr;for(;nr<$r;nr++)Ur===0&&(Fr=Qt[Jt++],Ur=128),Yt[ar++]=Fr&Ur?pr:xr,Ur>>=1}for(;ar<tr;)Yt[ar++]=0;Mt.putImageData(Gt,0,hr*dt)}}else if(At.kind===tt.ImageKind.RGBA_32BPP){for(gr=0,ir=Nt*dt*4,hr=0;hr<Vt;hr++)fr.set(Qt.subarray(Jt,Jt+ir)),Jt+=ir,Mt.putImageData(Gt,0,gr),gr+=dt;hr<qt&&(ir=Nt*Bt*4,fr.set(Qt.subarray(Jt,Jt+ir)),Mt.putImageData(Gt,0,gr))}else if(At.kind===tt.ImageKind.RGB_24BPP)for(rr=dt,ir=Nt*rr,hr=0;hr<qt;hr++){for(hr>=Vt&&(rr=Bt,ir=Nt*rr),ar=0,gr=ir;gr--;)fr[ar++]=Qt[Jt++],fr[ar++]=Qt[Jt++],fr[ar++]=Qt[Jt++],fr[ar++]=255;Mt.putImageData(Gt,0,hr*dt)}else throw new Error(`bad image kind: ${At.kind}`)}function _t(Mt,At){if(At.bitmap){Mt.drawImage(At.bitmap,0,0);return}const Pt=At.height,Nt=At.width,Bt=Pt%dt,Vt=(Pt-Bt)/dt,qt=Bt===0?Vt:Vt+1,Gt=Mt.createImageData(Nt,dt);let Jt=0;const ar=At.data,Qt=Gt.data;for(let fr=0;fr<qt;fr++){const hr=fr<Vt?dt:Bt;({srcPos:Jt}=(0,it.convertBlackAndWhiteToRGBA)({src:ar,srcPos:Jt,dest:Qt,width:Nt,height:hr,nonBlackColor:0})),Mt.putImageData(Gt,0,fr*dt)}}function yt(Mt,At){const Pt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Nt of Pt)Mt[Nt]!==void 0&&(At[Nt]=Mt[Nt]);Mt.setLineDash!==void 0&&(At.setLineDash(Mt.getLineDash()),At.lineDashOffset=Mt.lineDashOffset)}function vt(Mt){if(Mt.strokeStyle=Mt.fillStyle="#000000",Mt.fillRule="nonzero",Mt.globalAlpha=1,Mt.lineWidth=1,Mt.lineCap="butt",Mt.lineJoin="miter",Mt.miterLimit=10,Mt.globalCompositeOperation="source-over",Mt.font="10px sans-serif",Mt.setLineDash!==void 0&&(Mt.setLineDash([]),Mt.lineDashOffset=0),!tt.isNodeJS){const{filter:At}=Mt;At!=="none"&&At!==""&&(Mt.filter="none")}}function xt(Mt,At,Pt,Nt){const Bt=Mt.length;for(let Vt=3;Vt<Bt;Vt+=4){const qt=Mt[Vt];if(qt===0)Mt[Vt-3]=At,Mt[Vt-2]=Pt,Mt[Vt-1]=Nt;else if(qt<255){const Gt=255-qt;Mt[Vt-3]=Mt[Vt-3]*qt+At*Gt>>8,Mt[Vt-2]=Mt[Vt-2]*qt+Pt*Gt>>8,Mt[Vt-1]=Mt[Vt-1]*qt+Nt*Gt>>8}}}function wt(Mt,At,Pt){const Nt=Mt.length,Bt=1/255;for(let Vt=3;Vt<Nt;Vt+=4){const qt=Pt?Pt[Mt[Vt]]:Mt[Vt];At[Vt]=At[Vt]*qt*Bt|0}}function St(Mt,At,Pt){const Nt=Mt.length;for(let Bt=3;Bt<Nt;Bt+=4){const Vt=Mt[Bt-3]*77+Mt[Bt-2]*152+Mt[Bt-1]*28;At[Bt]=Pt?At[Bt]*Pt[Vt>>8]>>8:At[Bt]*Vt>>16}}function Ot(Mt,At,Pt,Nt,Bt,Vt,qt,Gt,Jt,ar,Qt){const fr=!!Vt,hr=fr?Vt[0]:0,gr=fr?Vt[1]:0,rr=fr?Vt[2]:0,ir=Bt==="Luminosity"?St:wt,Yt=Math.min(Nt,Math.ceil(1048576/Pt));for(let tr=0;tr<Nt;tr+=Yt){const sr=Math.min(Yt,Nt-tr),pr=Mt.getImageData(Gt-ar,tr+(Jt-Qt),Pt,sr),xr=At.getImageData(Gt,tr+Jt,Pt,sr);fr&&xt(pr.data,hr,gr,rr),ir(pr.data,xr.data,qt),At.putImageData(xr,Gt,tr+Jt)}}function Et(Mt,At,Pt,Nt){const Bt=Nt[0],Vt=Nt[1],qt=Nt[2]-Bt,Gt=Nt[3]-Vt;qt===0||Gt===0||(Ot(At.context,Pt,qt,Gt,At.subtype,At.backdrop,At.transferMap,Bt,Vt,At.offsetX,At.offsetY),Mt.save(),Mt.globalAlpha=1,Mt.globalCompositeOperation="source-over",Mt.setTransform(1,0,0,1,0,0),Mt.drawImage(Pt.canvas,0,0),Mt.restore())}function Tt(Mt,At){const Pt=tt.Util.singularValueDecompose2dScale(Mt);Pt[0]=Math.fround(Pt[0]),Pt[1]=Math.fround(Pt[1]);const Nt=Math.fround((globalThis.devicePixelRatio||1)*rt.PixelsPerInch.PDF_TO_CSS_UNITS);return At!==void 0?At:Pt[0]<=Nt||Pt[1]<=Nt}const It=["butt","round","square"],Wt=["miter","round","bevel"],Lt={},zt={},Dt=class Dt{constructor(At,Pt,Nt,Bt,Vt,{optionalContentConfig:qt,markedContentStack:Gt=null},Jt,ar){or(this,Rt);this.ctx=At,this.current=new gt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Pt,this.objs=Nt,this.canvasFactory=Bt,this.filterFactory=Vt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Gt||[],this.optionalContentConfig=qt,this.cachedCanvases=new mt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Jt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ar,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(At,Pt=null){return typeof At=="string"?At.startsWith("g_")?this.commonObjs.get(At):this.objs.get(At):Pt}beginDrawing({transform:At,viewport:Pt,transparency:Nt=!1,background:Bt=null}){const Vt=this.ctx.canvas.width,qt=this.ctx.canvas.height,Gt=this.ctx.fillStyle;if(this.ctx.fillStyle=Bt||"#ffffff",this.ctx.fillRect(0,0,Vt,qt),this.ctx.fillStyle=Gt,Nt){const Jt=this.cachedCanvases.getCanvas("transparent",Vt,qt);this.compositeCtx=this.ctx,this.transparentCanvas=Jt.canvas,this.ctx=Jt.context,this.ctx.save(),this.ctx.transform(...(0,rt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),vt(this.ctx),At&&(this.ctx.transform(...At),this.outputScaleX=At[0],this.outputScaleY=At[0]),this.ctx.transform(...Pt.transform),this.viewportScale=Pt.scale,this.baseTransform=(0,rt.getCurrentTransform)(this.ctx)}executeOperatorList(At,Pt,Nt,Bt){const Vt=At.argsArray,qt=At.fnArray;let Gt=Pt||0;const Jt=Vt.length;if(Jt===Gt)return Gt;const ar=Jt-Gt>ct&&typeof Nt=="function",Qt=ar?Date.now()+lt:0;let fr=0;const hr=this.commonObjs,gr=this.objs;let rr;for(;;){if(Bt!==void 0&&Gt===Bt.nextBreakPoint)return Bt.breakIt(Gt,Nt),Gt;if(rr=qt[Gt],rr!==tt.OPS.dependency)this[rr].apply(this,Vt[Gt]);else for(const ir of Vt[Gt]){const Ut=ir.startsWith("g_")?hr:gr;if(!Ut.has(ir))return Ut.get(ir,Nt),Gt}if(Gt++,Gt===Jt)return Gt;if(ar&&++fr>ct){if(Date.now()>Qt)return Nt(),Gt;fr=0}}}endDrawing(){er(this,Rt,Xn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const At of this._cachedBitmapsMap.values()){for(const Pt of At.values())typeof HTMLCanvasElement<"u"&&Pt instanceof HTMLCanvasElement&&(Pt.width=Pt.height=0);At.clear()}this._cachedBitmapsMap.clear(),er(this,Rt,Qn).call(this)}_scaleImage(At,Pt){const Nt=At.width,Bt=At.height;let Vt=Math.max(Math.hypot(Pt[0],Pt[1]),1),qt=Math.max(Math.hypot(Pt[2],Pt[3]),1),Gt=Nt,Jt=Bt,ar="prescale1",Qt,fr;for(;Vt>2&&Gt>1||qt>2&&Jt>1;){let hr=Gt,gr=Jt;Vt>2&&Gt>1&&(hr=Gt>=16384?Math.floor(Gt/2)-1||1:Math.ceil(Gt/2),Vt/=Gt/hr),qt>2&&Jt>1&&(gr=Jt>=16384?Math.floor(Jt/2)-1||1:Math.ceil(Jt)/2,qt/=Jt/gr),Qt=this.cachedCanvases.getCanvas(ar,hr,gr),fr=Qt.context,fr.clearRect(0,0,hr,gr),fr.drawImage(At,0,0,Gt,Jt,0,0,hr,gr),At=Qt.canvas,Gt=hr,Jt=gr,ar=ar==="prescale1"?"prescale2":"prescale1"}return{img:At,paintWidth:Gt,paintHeight:Jt}}_createMaskCanvas(At){const Pt=this.ctx,{width:Nt,height:Bt}=At,Vt=this.current.fillColor,qt=this.current.patternFill,Gt=(0,rt.getCurrentTransform)(Pt);let Jt,ar,Qt,fr;if((At.bitmap||At.data)&&At.count>1){const nr=At.bitmap||At.data.buffer;ar=JSON.stringify(qt?Gt:[Gt.slice(0,4),Vt]),Jt=this._cachedBitmapsMap.get(nr),Jt||(Jt=new Map,this._cachedBitmapsMap.set(nr,Jt));const $r=Jt.get(ar);if($r&&!qt){const Sr=Math.round(Math.min(Gt[0],Gt[2])+Gt[4]),Ur=Math.round(Math.min(Gt[1],Gt[3])+Gt[5]);return{canvas:$r,offsetX:Sr,offsetY:Ur}}Qt=$r}Qt||(fr=this.cachedCanvases.getCanvas("maskCanvas",Nt,Bt),_t(fr.context,At));let hr=tt.Util.transform(Gt,[1/Nt,0,0,-1/Bt,0,0]);hr=tt.Util.transform(hr,[1,0,0,1,0,-Bt]);const gr=tt.Util.applyTransform([0,0],hr),rr=tt.Util.applyTransform([Nt,Bt],hr),ir=tt.Util.normalizeRect([gr[0],gr[1],rr[0],rr[1]]),Ut=Math.round(ir[2]-ir[0])||1,Yt=Math.round(ir[3]-ir[1])||1,tr=this.cachedCanvases.getCanvas("fillCanvas",Ut,Yt),sr=tr.context,pr=Math.min(gr[0],rr[0]),xr=Math.min(gr[1],rr[1]);sr.translate(-pr,-xr),sr.transform(...hr),Qt||(Qt=this._scaleImage(fr.canvas,(0,rt.getCurrentTransformInverse)(sr)),Qt=Qt.img,Jt&&qt&&Jt.set(ar,Qt)),sr.imageSmoothingEnabled=Tt((0,rt.getCurrentTransform)(sr),At.interpolate),pt(sr,Qt,0,0,Qt.width,Qt.height,0,0,Nt,Bt),sr.globalCompositeOperation="source-in";const br=tt.Util.transform((0,rt.getCurrentTransformInverse)(sr),[1,0,0,1,-pr,-xr]);return sr.fillStyle=qt?Vt.getPattern(Pt,this,br,nt.PathType.FILL):Vt,sr.fillRect(0,0,Nt,Bt),Jt&&!qt&&(this.cachedCanvases.delete("fillCanvas"),Jt.set(ar,tr.canvas)),{canvas:tr.canvas,offsetX:Math.round(pr),offsetY:Math.round(xr)}}setLineWidth(At){At!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=At,this.ctx.lineWidth=At}setLineCap(At){this.ctx.lineCap=It[At]}setLineJoin(At){this.ctx.lineJoin=Wt[At]}setMiterLimit(At){this.ctx.miterLimit=At}setDash(At,Pt){const Nt=this.ctx;Nt.setLineDash!==void 0&&(Nt.setLineDash(At),Nt.lineDashOffset=Pt)}setRenderingIntent(At){}setFlatness(At){}setGState(At){for(const[Pt,Nt]of At)switch(Pt){case"LW":this.setLineWidth(Nt);break;case"LC":this.setLineCap(Nt);break;case"LJ":this.setLineJoin(Nt);break;case"ML":this.setMiterLimit(Nt);break;case"D":this.setDash(Nt[0],Nt[1]);break;case"RI":this.setRenderingIntent(Nt);break;case"FL":this.setFlatness(Nt);break;case"Font":this.setFont(Nt[0],Nt[1]);break;case"CA":this.current.strokeAlpha=Nt;break;case"ca":this.current.fillAlpha=Nt,this.ctx.globalAlpha=Nt;break;case"BM":this.ctx.globalCompositeOperation=Nt;break;case"SMask":this.current.activeSMask=Nt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Nt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const At=this.inSMaskMode;this.current.activeSMask&&!At?this.beginSMaskMode():!this.current.activeSMask&&At&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const At=this.ctx.canvas.width,Pt=this.ctx.canvas.height,Nt="smaskGroupAt"+this.groupLevel,Bt=this.cachedCanvases.getCanvas(Nt,At,Pt);this.suspendedCtx=this.ctx,this.ctx=Bt.context;const Vt=this.ctx;Vt.setTransform(...(0,rt.getCurrentTransform)(this.suspendedCtx)),yt(this.suspendedCtx,Vt),ht(Vt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(At){if(!this.current.activeSMask)return;At?(At[0]=Math.floor(At[0]),At[1]=Math.floor(At[1]),At[2]=Math.ceil(At[2]),At[3]=Math.ceil(At[3])):At=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Pt=this.current.activeSMask,Nt=this.suspendedCtx;Et(Nt,Pt,this.ctx,At),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(yt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const At=this.current;this.stateStack.push(At),this.current=At.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(At,Pt,Nt,Bt,Vt,qt){this.ctx.transform(At,Pt,Nt,Bt,Vt,qt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(At,Pt,Nt){const Bt=this.ctx,Vt=this.current;let qt=Vt.x,Gt=Vt.y,Jt,ar;const Qt=(0,rt.getCurrentTransform)(Bt),fr=Qt[0]===0&&Qt[3]===0||Qt[1]===0&&Qt[2]===0,hr=fr?Nt.slice(0):null;for(let gr=0,rr=0,ir=At.length;gr<ir;gr++)switch(At[gr]|0){case tt.OPS.rectangle:qt=Pt[rr++],Gt=Pt[rr++];const Ut=Pt[rr++],Yt=Pt[rr++],tr=qt+Ut,sr=Gt+Yt;Bt.moveTo(qt,Gt),Ut===0||Yt===0?Bt.lineTo(tr,sr):(Bt.lineTo(tr,Gt),Bt.lineTo(tr,sr),Bt.lineTo(qt,sr)),fr||Vt.updateRectMinMax(Qt,[qt,Gt,tr,sr]),Bt.closePath();break;case tt.OPS.moveTo:qt=Pt[rr++],Gt=Pt[rr++],Bt.moveTo(qt,Gt),fr||Vt.updatePathMinMax(Qt,qt,Gt);break;case tt.OPS.lineTo:qt=Pt[rr++],Gt=Pt[rr++],Bt.lineTo(qt,Gt),fr||Vt.updatePathMinMax(Qt,qt,Gt);break;case tt.OPS.curveTo:Jt=qt,ar=Gt,qt=Pt[rr+4],Gt=Pt[rr+5],Bt.bezierCurveTo(Pt[rr],Pt[rr+1],Pt[rr+2],Pt[rr+3],qt,Gt),Vt.updateCurvePathMinMax(Qt,Jt,ar,Pt[rr],Pt[rr+1],Pt[rr+2],Pt[rr+3],qt,Gt,hr),rr+=6;break;case tt.OPS.curveTo2:Jt=qt,ar=Gt,Bt.bezierCurveTo(qt,Gt,Pt[rr],Pt[rr+1],Pt[rr+2],Pt[rr+3]),Vt.updateCurvePathMinMax(Qt,Jt,ar,qt,Gt,Pt[rr],Pt[rr+1],Pt[rr+2],Pt[rr+3],hr),qt=Pt[rr+2],Gt=Pt[rr+3],rr+=4;break;case tt.OPS.curveTo3:Jt=qt,ar=Gt,qt=Pt[rr+2],Gt=Pt[rr+3],Bt.bezierCurveTo(Pt[rr],Pt[rr+1],qt,Gt,qt,Gt),Vt.updateCurvePathMinMax(Qt,Jt,ar,Pt[rr],Pt[rr+1],qt,Gt,qt,Gt,hr),rr+=4;break;case tt.OPS.closePath:Bt.closePath();break}fr&&Vt.updateScalingPathMinMax(Qt,hr),Vt.setCurrentPoint(qt,Gt)}closePath(){this.ctx.closePath()}stroke(At=!0){const Pt=this.ctx,Nt=this.current.strokeColor;Pt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Nt=="object"&&(Nt!=null&&Nt.getPattern)?(Pt.save(),Pt.strokeStyle=Nt.getPattern(Pt,this,(0,rt.getCurrentTransformInverse)(Pt),nt.PathType.STROKE),this.rescaleAndStroke(!1),Pt.restore()):this.rescaleAndStroke(!0)),At&&this.consumePath(this.current.getClippedPathBoundingBox()),Pt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(At=!0){const Pt=this.ctx,Nt=this.current.fillColor,Bt=this.current.patternFill;let Vt=!1;Bt&&(Pt.save(),Pt.fillStyle=Nt.getPattern(Pt,this,(0,rt.getCurrentTransformInverse)(Pt),nt.PathType.FILL),Vt=!0);const qt=this.current.getClippedPathBoundingBox();this.contentVisible&&qt!==null&&(this.pendingEOFill?(Pt.fill("evenodd"),this.pendingEOFill=!1):Pt.fill()),Vt&&Pt.restore(),At&&this.consumePath(qt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Lt}eoClip(){this.pendingClip=zt}beginText(){this.current.textMatrix=tt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const At=this.pendingTextPaths,Pt=this.ctx;if(At===void 0){Pt.beginPath();return}Pt.save(),Pt.beginPath();for(const Nt of At)Pt.setTransform(...Nt.transform),Pt.translate(Nt.x,Nt.y),Nt.addToPath(Pt,Nt.fontSize);Pt.restore(),Pt.clip(),Pt.beginPath(),delete this.pendingTextPaths}setCharSpacing(At){this.current.charSpacing=At}setWordSpacing(At){this.current.wordSpacing=At}setHScale(At){this.current.textHScale=At/100}setLeading(At){this.current.leading=-At}setFont(At,Pt){var Qt;const Nt=this.commonObjs.get(At),Bt=this.current;if(!Nt)throw new Error(`Can't find font for ${At}`);if(Bt.fontMatrix=Nt.fontMatrix||tt.FONT_IDENTITY_MATRIX,(Bt.fontMatrix[0]===0||Bt.fontMatrix[3]===0)&&(0,tt.warn)("Invalid font matrix for font "+At),Pt<0?(Pt=-Pt,Bt.fontDirection=-1):Bt.fontDirection=1,this.current.font=Nt,this.current.fontSize=Pt,Nt.isType3Font)return;const Vt=Nt.loadedName||"sans-serif",qt=((Qt=Nt.systemFontInfo)==null?void 0:Qt.css)||`"${Vt}", ${Nt.fallbackName}`;let Gt="normal";Nt.black?Gt="900":Nt.bold&&(Gt="bold");const Jt=Nt.italic?"italic":"normal";let ar=Pt;Pt<at?ar=at:Pt>st&&(ar=st),this.current.fontSizeScale=Pt/ar,this.ctx.font=`${Jt} ${Gt} ${ar}px ${qt}`}setTextRenderingMode(At){this.current.textRenderingMode=At}setTextRise(At){this.current.textRise=At}moveText(At,Pt){this.current.x=this.current.lineX+=At,this.current.y=this.current.lineY+=Pt}setLeadingMoveText(At,Pt){this.setLeading(-Pt),this.moveText(At,Pt)}setTextMatrix(At,Pt,Nt,Bt,Vt,qt){this.current.textMatrix=[At,Pt,Nt,Bt,Vt,qt],this.current.textMatrixScale=Math.hypot(At,Pt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(At,Pt,Nt,Bt){const Vt=this.ctx,qt=this.current,Gt=qt.font,Jt=qt.textRenderingMode,ar=qt.fontSize/qt.fontSizeScale,Qt=Jt&tt.TextRenderingMode.FILL_STROKE_MASK,fr=!!(Jt&tt.TextRenderingMode.ADD_TO_PATH_FLAG),hr=qt.patternFill&&!Gt.missingFile;let gr;(Gt.disableFontFace||fr||hr)&&(gr=Gt.getPathGenerator(this.commonObjs,At)),Gt.disableFontFace||hr?(Vt.save(),Vt.translate(Pt,Nt),Vt.beginPath(),gr(Vt,ar),Bt&&Vt.setTransform(...Bt),(Qt===tt.TextRenderingMode.FILL||Qt===tt.TextRenderingMode.FILL_STROKE)&&Vt.fill(),(Qt===tt.TextRenderingMode.STROKE||Qt===tt.TextRenderingMode.FILL_STROKE)&&Vt.stroke(),Vt.restore()):((Qt===tt.TextRenderingMode.FILL||Qt===tt.TextRenderingMode.FILL_STROKE)&&Vt.fillText(At,Pt,Nt),(Qt===tt.TextRenderingMode.STROKE||Qt===tt.TextRenderingMode.FILL_STROKE)&&Vt.strokeText(At,Pt,Nt)),fr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,rt.getCurrentTransform)(Vt),x:Pt,y:Nt,fontSize:ar,addToPath:gr})}get isFontSubpixelAAEnabled(){const{context:At}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);At.scale(1.5,1),At.fillText("I",0,10);const Pt=At.getImageData(0,0,10,10).data;let Nt=!1;for(let Bt=3;Bt<Pt.length;Bt+=4)if(Pt[Bt]>0&&Pt[Bt]<255){Nt=!0;break}return(0,tt.shadow)(this,"isFontSubpixelAAEnabled",Nt)}showText(At){const Pt=this.current,Nt=Pt.font;if(Nt.isType3Font)return this.showType3Text(At);const Bt=Pt.fontSize;if(Bt===0)return;const Vt=this.ctx,qt=Pt.fontSizeScale,Gt=Pt.charSpacing,Jt=Pt.wordSpacing,ar=Pt.fontDirection,Qt=Pt.textHScale*ar,fr=At.length,hr=Nt.vertical,gr=hr?1:-1,rr=Nt.defaultVMetrics,ir=Bt*Pt.fontMatrix[0],Ut=Pt.textRenderingMode===tt.TextRenderingMode.FILL&&!Nt.disableFontFace&&!Pt.patternFill;Vt.save(),Vt.transform(...Pt.textMatrix),Vt.translate(Pt.x,Pt.y+Pt.textRise),ar>0?Vt.scale(Qt,-1):Vt.scale(Qt,1);let Yt;if(Pt.patternFill){Vt.save();const br=Pt.fillColor.getPattern(Vt,this,(0,rt.getCurrentTransformInverse)(Vt),nt.PathType.FILL);Yt=(0,rt.getCurrentTransform)(Vt),Vt.restore(),Vt.fillStyle=br}let tr=Pt.lineWidth;const sr=Pt.textMatrixScale;if(sr===0||tr===0){const br=Pt.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;(br===tt.TextRenderingMode.STROKE||br===tt.TextRenderingMode.FILL_STROKE)&&(tr=this.getSinglePixelWidth())}else tr/=sr;if(qt!==1&&(Vt.scale(qt,qt),tr/=qt),Vt.lineWidth=tr,Nt.isInvalidPDFjsFont){const br=[];let nr=0;for(const $r of At)br.push($r.unicode),nr+=$r.width;Vt.fillText(br.join(""),0,0),Pt.x+=nr*ir*Qt,Vt.restore(),this.compose();return}let pr=0,xr;for(xr=0;xr<fr;++xr){const br=At[xr];if(typeof br=="number"){pr+=gr*br*Bt/1e3;continue}let nr=!1;const $r=(br.isSpace?Jt:0)+Gt,Sr=br.fontChar,Ur=br.accent;let Fr,qr,Cr=br.width;if(hr){const Gr=br.vmetric||rr,Yr=-(br.vmetric?Gr[1]:Cr*.5)*ir,_r=Gr[2]*ir;Cr=Gr?-Gr[0]:Cr,Fr=Yr/qt,qr=(pr+_r)/qt}else Fr=pr/qt,qr=0;if(Nt.remeasure&&Cr>0){const Gr=Vt.measureText(Sr).width*1e3/Bt*qt;if(Cr<Gr&&this.isFontSubpixelAAEnabled){const Yr=Cr/Gr;nr=!0,Vt.save(),Vt.scale(Yr,1),Fr/=Yr}else Cr!==Gr&&(Fr+=(Cr-Gr)/2e3*Bt/qt)}if(this.contentVisible&&(br.isInFont||Nt.missingFile)){if(Ut&&!Ur)Vt.fillText(Sr,Fr,qr);else if(this.paintChar(Sr,Fr,qr,Yt),Ur){const Gr=Fr+Bt*Ur.offset.x/qt,Yr=qr-Bt*Ur.offset.y/qt;this.paintChar(Ur.fontChar,Gr,Yr,Yt)}}const Dr=hr?Cr*ir-$r*ar:Cr*ir+$r*ar;pr+=Dr,nr&&Vt.restore()}hr?Pt.y-=pr:Pt.x+=pr*Qt,Vt.restore(),this.compose()}showType3Text(At){const Pt=this.ctx,Nt=this.current,Bt=Nt.font,Vt=Nt.fontSize,qt=Nt.fontDirection,Gt=Bt.vertical?1:-1,Jt=Nt.charSpacing,ar=Nt.wordSpacing,Qt=Nt.textHScale*qt,fr=Nt.fontMatrix||tt.FONT_IDENTITY_MATRIX,hr=At.length,gr=Nt.textRenderingMode===tt.TextRenderingMode.INVISIBLE;let rr,ir,Ut,Yt;if(!(gr||Vt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Pt.save(),Pt.transform(...Nt.textMatrix),Pt.translate(Nt.x,Nt.y),Pt.scale(Qt,qt),rr=0;rr<hr;++rr){if(ir=At[rr],typeof ir=="number"){Yt=Gt*ir*Vt/1e3,this.ctx.translate(Yt,0),Nt.x+=Yt*Qt;continue}const tr=(ir.isSpace?ar:0)+Jt,sr=Bt.charProcOperatorList[ir.operatorListId];if(!sr){(0,tt.warn)(`Type3 character "${ir.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ir,this.save(),Pt.scale(Vt,Vt),Pt.transform(...fr),this.executeOperatorList(sr),this.restore()),Ut=tt.Util.applyTransform([ir.width,0],fr)[0]*Vt+tr,Pt.translate(Ut,0),Nt.x+=Ut*Qt}Pt.restore(),this.processingType3=null}}setCharWidth(At,Pt){}setCharWidthAndBounds(At,Pt,Nt,Bt,Vt,qt){this.ctx.rect(Nt,Bt,Vt-Nt,qt-Bt),this.ctx.clip(),this.endPath()}getColorN_Pattern(At){let Pt;if(At[0]==="TilingPattern"){const Nt=At[1],Bt=this.baseTransform||(0,rt.getCurrentTransform)(this.ctx),Vt={createCanvasGraphics:qt=>new Dt(qt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Pt=new nt.TilingPattern(At,Nt,this.ctx,Vt,Bt)}else Pt=this._getPattern(At[1],At[2]);return Pt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(At,Pt,Nt){const Bt=tt.Util.makeHexColor(At,Pt,Nt);this.ctx.strokeStyle=Bt,this.current.strokeColor=Bt}setFillRGBColor(At,Pt,Nt){const Bt=tt.Util.makeHexColor(At,Pt,Nt);this.ctx.fillStyle=Bt,this.current.fillColor=Bt,this.current.patternFill=!1}_getPattern(At,Pt=null){let Nt;return this.cachedPatterns.has(At)?Nt=this.cachedPatterns.get(At):(Nt=(0,nt.getShadingPattern)(this.getObject(At)),this.cachedPatterns.set(At,Nt)),Pt&&(Nt.matrix=Pt),Nt}shadingFill(At){if(!this.contentVisible)return;const Pt=this.ctx;this.save();const Nt=this._getPattern(At);Pt.fillStyle=Nt.getPattern(Pt,this,(0,rt.getCurrentTransformInverse)(Pt),nt.PathType.SHADING);const Bt=(0,rt.getCurrentTransformInverse)(Pt);if(Bt){const{width:Vt,height:qt}=Pt.canvas,[Gt,Jt,ar,Qt]=tt.Util.getAxialAlignedBoundingBox([0,0,Vt,qt],Bt);this.ctx.fillRect(Gt,Jt,ar-Gt,Qt-Jt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,tt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,tt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(At,Pt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(At)&&At.length===6&&this.transform(...At),this.baseTransform=(0,rt.getCurrentTransform)(this.ctx),Pt)){const Nt=Pt[2]-Pt[0],Bt=Pt[3]-Pt[1];this.ctx.rect(Pt[0],Pt[1],Nt,Bt),this.current.updateRectMinMax((0,rt.getCurrentTransform)(this.ctx),Pt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(At){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Pt=this.ctx;At.isolated||(0,tt.info)("TODO: Support non-isolated groups."),At.knockout&&(0,tt.warn)("Knockout groups not supported.");const Nt=(0,rt.getCurrentTransform)(Pt);if(At.matrix&&Pt.transform(...At.matrix),!At.bbox)throw new Error("Bounding box is required.");let Bt=tt.Util.getAxialAlignedBoundingBox(At.bbox,(0,rt.getCurrentTransform)(Pt));const Vt=[0,0,Pt.canvas.width,Pt.canvas.height];Bt=tt.Util.intersect(Bt,Vt)||[0,0,0,0];const qt=Math.floor(Bt[0]),Gt=Math.floor(Bt[1]);let Jt=Math.max(Math.ceil(Bt[2])-qt,1),ar=Math.max(Math.ceil(Bt[3])-Gt,1),Qt=1,fr=1;Jt>ot&&(Qt=Jt/ot,Jt=ot),ar>ot&&(fr=ar/ot,ar=ot),this.current.startNewPathAndClipBox([0,0,Jt,ar]);let hr="groupAt"+this.groupLevel;At.smask&&(hr+="_smask_"+this.smaskCounter++%2);const gr=this.cachedCanvases.getCanvas(hr,Jt,ar),rr=gr.context;rr.scale(1/Qt,1/fr),rr.translate(-qt,-Gt),rr.transform(...Nt),At.smask?this.smaskStack.push({canvas:gr.canvas,context:rr,offsetX:qt,offsetY:Gt,scaleX:Qt,scaleY:fr,subtype:At.smask.subtype,backdrop:At.smask.backdrop,transferMap:At.smask.transferMap||null,startTransformInverse:null}):(Pt.setTransform(1,0,0,1,0,0),Pt.translate(qt,Gt),Pt.scale(Qt,fr),Pt.save()),yt(Pt,rr),this.ctx=rr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Pt),this.groupLevel++}endGroup(At){if(!this.contentVisible)return;this.groupLevel--;const Pt=this.ctx,Nt=this.groupStack.pop();if(this.ctx=Nt,this.ctx.imageSmoothingEnabled=!1,At.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Bt=(0,rt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Bt);const Vt=tt.Util.getAxialAlignedBoundingBox([0,0,Pt.canvas.width,Pt.canvas.height],Bt);this.ctx.drawImage(Pt.canvas,0,0),this.ctx.restore(),this.compose(Vt)}}beginAnnotation(At,Pt,Nt,Bt,Vt){if(er(this,Rt,Xn).call(this),vt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Pt)&&Pt.length===4){const qt=Pt[2]-Pt[0],Gt=Pt[3]-Pt[1];if(Vt&&this.annotationCanvasMap){Nt=Nt.slice(),Nt[4]-=Pt[0],Nt[5]-=Pt[1],Pt=Pt.slice(),Pt[0]=Pt[1]=0,Pt[2]=qt,Pt[3]=Gt;const[Jt,ar]=tt.Util.singularValueDecompose2dScale((0,rt.getCurrentTransform)(this.ctx)),{viewportScale:Qt}=this,fr=Math.ceil(qt*this.outputScaleX*Qt),hr=Math.ceil(Gt*this.outputScaleY*Qt);this.annotationCanvas=this.canvasFactory.create(fr,hr);const{canvas:gr,context:rr}=this.annotationCanvas;this.annotationCanvasMap.set(At,gr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rr,this.ctx.save(),this.ctx.setTransform(Jt,0,0,-ar,0,Gt*ar),vt(this.ctx)}else vt(this.ctx),this.ctx.rect(Pt[0],Pt[1],qt,Gt),this.ctx.clip(),this.endPath()}this.current=new gt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Nt),this.transform(...Bt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),er(this,Rt,Qn).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(At){if(!this.contentVisible)return;const Pt=At.count;At=this.getObject(At.data,At),At.count=Pt;const Nt=this.ctx,Bt=this.processingType3;if(Bt&&(Bt.compiled===void 0&&(Bt.compiled=ft(At)),Bt.compiled)){Bt.compiled(Nt);return}const Vt=this._createMaskCanvas(At),qt=Vt.canvas;Nt.save(),Nt.setTransform(1,0,0,1,0,0),Nt.drawImage(qt,Vt.offsetX,Vt.offsetY),Nt.restore(),this.compose()}paintImageMaskXObjectRepeat(At,Pt,Nt=0,Bt=0,Vt,qt){if(!this.contentVisible)return;At=this.getObject(At.data,At);const Gt=this.ctx;Gt.save();const Jt=(0,rt.getCurrentTransform)(Gt);Gt.transform(Pt,Nt,Bt,Vt,0,0);const ar=this._createMaskCanvas(At);Gt.setTransform(1,0,0,1,ar.offsetX-Jt[4],ar.offsetY-Jt[5]);for(let Qt=0,fr=qt.length;Qt<fr;Qt+=2){const hr=tt.Util.transform(Jt,[Pt,Nt,Bt,Vt,qt[Qt],qt[Qt+1]]),[gr,rr]=tt.Util.applyTransform([0,0],hr);Gt.drawImage(ar.canvas,gr,rr)}Gt.restore(),this.compose()}paintImageMaskXObjectGroup(At){if(!this.contentVisible)return;const Pt=this.ctx,Nt=this.current.fillColor,Bt=this.current.patternFill;for(const Vt of At){const{data:qt,width:Gt,height:Jt,transform:ar}=Vt,Qt=this.cachedCanvases.getCanvas("maskCanvas",Gt,Jt),fr=Qt.context;fr.save();const hr=this.getObject(qt,Vt);_t(fr,hr),fr.globalCompositeOperation="source-in",fr.fillStyle=Bt?Nt.getPattern(fr,this,(0,rt.getCurrentTransformInverse)(Pt),nt.PathType.FILL):Nt,fr.fillRect(0,0,Gt,Jt),fr.restore(),Pt.save(),Pt.transform(...ar),Pt.scale(1,-1),pt(Pt,Qt.canvas,0,0,Gt,Jt,0,-1,1,1),Pt.restore()}this.compose()}paintImageXObject(At){if(!this.contentVisible)return;const Pt=this.getObject(At);if(!Pt){(0,tt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Pt)}paintImageXObjectRepeat(At,Pt,Nt,Bt){if(!this.contentVisible)return;const Vt=this.getObject(At);if(!Vt){(0,tt.warn)("Dependent image isn't ready yet");return}const qt=Vt.width,Gt=Vt.height,Jt=[];for(let ar=0,Qt=Bt.length;ar<Qt;ar+=2)Jt.push({transform:[Pt,0,0,Nt,Bt[ar],Bt[ar+1]],x:0,y:0,w:qt,h:Gt});this.paintInlineImageXObjectGroup(Vt,Jt)}applyTransferMapsToCanvas(At){return this.current.transferMaps!=="none"&&(At.filter=this.current.transferMaps,At.drawImage(At.canvas,0,0),At.filter="none"),At.canvas}applyTransferMapsToBitmap(At){if(this.current.transferMaps==="none")return At.bitmap;const{bitmap:Pt,width:Nt,height:Bt}=At,Vt=this.cachedCanvases.getCanvas("inlineImage",Nt,Bt),qt=Vt.context;return qt.filter=this.current.transferMaps,qt.drawImage(Pt,0,0),qt.filter="none",Vt.canvas}paintInlineImageXObject(At){if(!this.contentVisible)return;const Pt=At.width,Nt=At.height,Bt=this.ctx;if(this.save(),!tt.isNodeJS){const{filter:Gt}=Bt;Gt!=="none"&&Gt!==""&&(Bt.filter="none")}Bt.scale(1/Pt,-1/Nt);let Vt;if(At.bitmap)Vt=this.applyTransferMapsToBitmap(At);else if(typeof HTMLElement=="function"&&At instanceof HTMLElement||!At.data)Vt=At;else{const Jt=this.cachedCanvases.getCanvas("inlineImage",Pt,Nt).context;bt(Jt,At),Vt=this.applyTransferMapsToCanvas(Jt)}const qt=this._scaleImage(Vt,(0,rt.getCurrentTransformInverse)(Bt));Bt.imageSmoothingEnabled=Tt((0,rt.getCurrentTransform)(Bt),At.interpolate),pt(Bt,qt.img,0,0,qt.paintWidth,qt.paintHeight,0,-Nt,Pt,Nt),this.compose(),this.restore()}paintInlineImageXObjectGroup(At,Pt){if(!this.contentVisible)return;const Nt=this.ctx;let Bt;if(At.bitmap)Bt=At.bitmap;else{const Vt=At.width,qt=At.height,Jt=this.cachedCanvases.getCanvas("inlineImage",Vt,qt).context;bt(Jt,At),Bt=this.applyTransferMapsToCanvas(Jt)}for(const Vt of Pt)Nt.save(),Nt.transform(...Vt.transform),Nt.scale(1,-1),pt(Nt,Bt,Vt.x,Vt.y,Vt.w,Vt.h,0,-1,1,1),Nt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(At){}markPointProps(At,Pt){}beginMarkedContent(At){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(At,Pt){At==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Pt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(At){const Pt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(At);const Nt=this.ctx;this.pendingClip&&(Pt||(this.pendingClip===zt?Nt.clip("evenodd"):Nt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Nt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const At=(0,rt.getCurrentTransform)(this.ctx);if(At[1]===0&&At[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(At[0]),Math.abs(At[3]));else{const Pt=Math.abs(At[0]*At[3]-At[2]*At[1]),Nt=Math.hypot(At[0],At[2]),Bt=Math.hypot(At[1],At[3]);this._cachedGetSinglePixelWidth=Math.max(Nt,Bt)/Pt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:At}=this.current,{a:Pt,b:Nt,c:Bt,d:Vt}=this.ctx.getTransform();let qt,Gt;if(Nt===0&&Bt===0){const Jt=Math.abs(Pt),ar=Math.abs(Vt);if(Jt===ar)if(At===0)qt=Gt=1/Jt;else{const Qt=Jt*At;qt=Gt=Qt<1?1/Qt:1}else if(At===0)qt=1/Jt,Gt=1/ar;else{const Qt=Jt*At,fr=ar*At;qt=Qt<1?1/Qt:1,Gt=fr<1?1/fr:1}}else{const Jt=Math.abs(Pt*Vt-Nt*Bt),ar=Math.hypot(Pt,Nt),Qt=Math.hypot(Bt,Vt);if(At===0)qt=Qt/Jt,Gt=ar/Jt;else{const fr=At*Jt;qt=Qt>fr?Qt/fr:1,Gt=ar>fr?ar/fr:1}}this._cachedScaleForStroking[0]=qt,this._cachedScaleForStroking[1]=Gt}return this._cachedScaleForStroking}rescaleAndStroke(At){const{ctx:Pt}=this,{lineWidth:Nt}=this.current,[Bt,Vt]=this.getScaleForStroking();if(Pt.lineWidth=Nt||1,Bt===1&&Vt===1){Pt.stroke();return}const qt=Pt.getLineDash();if(At&&Pt.save(),Pt.scale(Bt,Vt),qt.length>0){const Gt=Math.max(Bt,Vt);Pt.setLineDash(qt.map(Jt=>Jt/Gt)),Pt.lineDashOffset/=Gt}Pt.stroke(),At&&Pt.restore()}isContentVisible(){for(let At=this.markedContentStack.length-1;At>=0;At--)if(!this.markedContentStack[At].visible)return!1;return!0}};Rt=new WeakSet,Xn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qn=function(){if(this.pageColors){const At=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(At!=="none"){const Pt=this.ctx.filter;this.ctx.filter=At,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Pt}}};let Ft=Dt;$.CanvasGraphics=Ft;for(const Mt in tt.OPS)Ft.prototype[Mt]!==void 0&&(Ft.prototype[tt.OPS[Mt]]=Ft.prototype[Mt])},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=dt;var tt=et(1),rt=et(6);const nt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=nt;function it(ft,gt){if(!gt)return;const bt=gt[2]-gt[0],_t=gt[3]-gt[1],yt=new Path2D;yt.rect(gt[0],gt[1],bt,_t),ft.clip(yt)}class at{constructor(){this.constructor===at&&(0,tt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,tt.unreachable)("Abstract method `getPattern` called.")}}class st extends at{constructor(gt){super(),this._type=gt[1],this._bbox=gt[2],this._colorStops=gt[3],this._p0=gt[4],this._p1=gt[5],this._r0=gt[6],this._r1=gt[7],this.matrix=null}_createGradient(gt){let bt;this._type==="axial"?bt=gt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(bt=gt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _t of this._colorStops)bt.addColorStop(_t[0],_t[1]);return bt}getPattern(gt,bt,_t,yt){let vt;if(yt===nt.STROKE||yt===nt.FILL){const xt=bt.current.getClippedPathBoundingBox(yt,(0,rt.getCurrentTransform)(gt))||[0,0,0,0],wt=Math.ceil(xt[2]-xt[0])||1,St=Math.ceil(xt[3]-xt[1])||1,Ot=bt.cachedCanvases.getCanvas("pattern",wt,St,!0),Et=Ot.context;Et.clearRect(0,0,Et.canvas.width,Et.canvas.height),Et.beginPath(),Et.rect(0,0,Et.canvas.width,Et.canvas.height),Et.translate(-xt[0],-xt[1]),_t=tt.Util.transform(_t,[1,0,0,1,xt[0],xt[1]]),Et.transform(...bt.baseTransform),this.matrix&&Et.transform(...this.matrix),it(Et,this._bbox),Et.fillStyle=this._createGradient(Et),Et.fill(),vt=gt.createPattern(Ot.canvas,"no-repeat");const Tt=new DOMMatrix(_t);vt.setTransform(Tt)}else it(gt,this._bbox),vt=this._createGradient(gt);return vt}}function ot(ft,gt,bt,_t,yt,vt,xt,wt){const St=gt.coords,Ot=gt.colors,Et=ft.data,Tt=ft.width*4;let It;St[bt+1]>St[_t+1]&&(It=bt,bt=_t,_t=It,It=vt,vt=xt,xt=It),St[_t+1]>St[yt+1]&&(It=_t,_t=yt,yt=It,It=xt,xt=wt,wt=It),St[bt+1]>St[_t+1]&&(It=bt,bt=_t,_t=It,It=vt,vt=xt,xt=It);const Wt=(St[bt]+gt.offsetX)*gt.scaleX,Lt=(St[bt+1]+gt.offsetY)*gt.scaleY,zt=(St[_t]+gt.offsetX)*gt.scaleX,Ft=(St[_t+1]+gt.offsetY)*gt.scaleY,Rt=(St[yt]+gt.offsetX)*gt.scaleX,jt=(St[yt+1]+gt.offsetY)*gt.scaleY;if(Lt>=jt)return;const Ct=Ot[vt],Dt=Ot[vt+1],Mt=Ot[vt+2],At=Ot[xt],Pt=Ot[xt+1],Nt=Ot[xt+2],Bt=Ot[wt],Vt=Ot[wt+1],qt=Ot[wt+2],Gt=Math.round(Lt),Jt=Math.round(jt);let ar,Qt,fr,hr,gr,rr,ir,Ut;for(let Yt=Gt;Yt<=Jt;Yt++){if(Yt<Ft){const br=Yt<Lt?0:(Lt-Yt)/(Lt-Ft);ar=Wt-(Wt-zt)*br,Qt=Ct-(Ct-At)*br,fr=Dt-(Dt-Pt)*br,hr=Mt-(Mt-Nt)*br}else{let br;Yt>jt?br=1:Ft===jt?br=0:br=(Ft-Yt)/(Ft-jt),ar=zt-(zt-Rt)*br,Qt=At-(At-Bt)*br,fr=Pt-(Pt-Vt)*br,hr=Nt-(Nt-qt)*br}let tr;Yt<Lt?tr=0:Yt>jt?tr=1:tr=(Lt-Yt)/(Lt-jt),gr=Wt-(Wt-Rt)*tr,rr=Ct-(Ct-Bt)*tr,ir=Dt-(Dt-Vt)*tr,Ut=Mt-(Mt-qt)*tr;const sr=Math.round(Math.min(ar,gr)),pr=Math.round(Math.max(ar,gr));let xr=Tt*Yt+sr*4;for(let br=sr;br<=pr;br++)tr=(ar-br)/(ar-gr),tr<0?tr=0:tr>1&&(tr=1),Et[xr++]=Qt-(Qt-rr)*tr|0,Et[xr++]=fr-(fr-ir)*tr|0,Et[xr++]=hr-(hr-Ut)*tr|0,Et[xr++]=255}}function lt(ft,gt,bt){const _t=gt.coords,yt=gt.colors;let vt,xt;switch(gt.type){case"lattice":const wt=gt.verticesPerRow,St=Math.floor(_t.length/wt)-1,Ot=wt-1;for(vt=0;vt<St;vt++){let Et=vt*wt;for(let Tt=0;Tt<Ot;Tt++,Et++)ot(ft,bt,_t[Et],_t[Et+1],_t[Et+wt],yt[Et],yt[Et+1],yt[Et+wt]),ot(ft,bt,_t[Et+wt+1],_t[Et+1],_t[Et+wt],yt[Et+wt+1],yt[Et+1],yt[Et+wt])}break;case"triangles":for(vt=0,xt=_t.length;vt<xt;vt+=3)ot(ft,bt,_t[vt],_t[vt+1],_t[vt+2],yt[vt],yt[vt+1],yt[vt+2]);break;default:throw new Error("illegal figure")}}class ct extends at{constructor(gt){super(),this._coords=gt[2],this._colors=gt[3],this._figures=gt[4],this._bounds=gt[5],this._bbox=gt[7],this._background=gt[8],this.matrix=null}_createMeshCanvas(gt,bt,_t){const wt=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),Ot=Math.ceil(this._bounds[2])-wt,Et=Math.ceil(this._bounds[3])-St,Tt=Math.min(Math.ceil(Math.abs(Ot*gt[0]*1.1)),3e3),It=Math.min(Math.ceil(Math.abs(Et*gt[1]*1.1)),3e3),Wt=Ot/Tt,Lt=Et/It,zt={coords:this._coords,colors:this._colors,offsetX:-wt,offsetY:-St,scaleX:1/Wt,scaleY:1/Lt},Ft=Tt+2*2,Rt=It+2*2,jt=_t.getCanvas("mesh",Ft,Rt,!1),Ct=jt.context,Dt=Ct.createImageData(Tt,It);if(bt){const At=Dt.data;for(let Pt=0,Nt=At.length;Pt<Nt;Pt+=4)At[Pt]=bt[0],At[Pt+1]=bt[1],At[Pt+2]=bt[2],At[Pt+3]=255}for(const At of this._figures)lt(Dt,At,zt);return Ct.putImageData(Dt,2,2),{canvas:jt.canvas,offsetX:wt-2*Wt,offsetY:St-2*Lt,scaleX:Wt,scaleY:Lt}}getPattern(gt,bt,_t,yt){it(gt,this._bbox);let vt;if(yt===nt.SHADING)vt=tt.Util.singularValueDecompose2dScale((0,rt.getCurrentTransform)(gt));else if(vt=tt.Util.singularValueDecompose2dScale(bt.baseTransform),this.matrix){const wt=tt.Util.singularValueDecompose2dScale(this.matrix);vt=[vt[0]*wt[0],vt[1]*wt[1]]}const xt=this._createMeshCanvas(vt,yt===nt.SHADING?null:this._background,bt.cachedCanvases);return yt!==nt.SHADING&&(gt.setTransform(...bt.baseTransform),this.matrix&&gt.transform(...this.matrix)),gt.translate(xt.offsetX,xt.offsetY),gt.scale(xt.scaleX,xt.scaleY),gt.createPattern(xt.canvas,"no-repeat")}}class ut extends at{getPattern(){return"hotpink"}}function dt(ft){switch(ft[0]){case"RadialAxial":return new st(ft);case"Mesh":return new ct(ft);case"Dummy":return new ut}throw new Error(`Unknown IR type: ${ft[0]}`)}const ht={COLORED:1,UNCOLORED:2},pt=class pt{constructor(gt,bt,_t,yt,vt){this.operatorList=gt[2],this.matrix=gt[3]||[1,0,0,1,0,0],this.bbox=gt[4],this.xstep=gt[5],this.ystep=gt[6],this.paintType=gt[7],this.tilingType=gt[8],this.color=bt,this.ctx=_t,this.canvasGraphicsFactory=yt,this.baseTransform=vt}createPatternCanvas(gt){const bt=this.operatorList,_t=this.bbox,yt=this.xstep,vt=this.ystep,xt=this.paintType,wt=this.tilingType,St=this.color,Ot=this.canvasGraphicsFactory;(0,tt.info)("TilingType: "+wt);const Et=_t[0],Tt=_t[1],It=_t[2],Wt=_t[3],Lt=tt.Util.singularValueDecompose2dScale(this.matrix),zt=tt.Util.singularValueDecompose2dScale(this.baseTransform),Ft=[Lt[0]*zt[0],Lt[1]*zt[1]],Rt=this.getSizeAndScale(yt,this.ctx.canvas.width,Ft[0]),jt=this.getSizeAndScale(vt,this.ctx.canvas.height,Ft[1]),Ct=gt.cachedCanvases.getCanvas("pattern",Rt.size,jt.size,!0),Dt=Ct.context,Mt=Ot.createCanvasGraphics(Dt);Mt.groupLevel=gt.groupLevel,this.setFillAndStrokeStyleToContext(Mt,xt,St);let At=Et,Pt=Tt,Nt=It,Bt=Wt;return Et<0&&(At=0,Nt+=Math.abs(Et)),Tt<0&&(Pt=0,Bt+=Math.abs(Tt)),Dt.translate(-(Rt.scale*At),-(jt.scale*Pt)),Mt.transform(Rt.scale,0,0,jt.scale,0,0),Dt.save(),this.clipBbox(Mt,At,Pt,Nt,Bt),Mt.baseTransform=(0,rt.getCurrentTransform)(Mt.ctx),Mt.executeOperatorList(bt),Mt.endDrawing(),{canvas:Ct.canvas,scaleX:Rt.scale,scaleY:jt.scale,offsetX:At,offsetY:Pt}}getSizeAndScale(gt,bt,_t){gt=Math.abs(gt);const yt=Math.max(pt.MAX_PATTERN_SIZE,bt);let vt=Math.ceil(gt*_t);return vt>=yt?vt=yt:_t=vt/gt,{scale:_t,size:vt}}clipBbox(gt,bt,_t,yt,vt){const xt=yt-bt,wt=vt-_t;gt.ctx.rect(bt,_t,xt,wt),gt.current.updateRectMinMax((0,rt.getCurrentTransform)(gt.ctx),[bt,_t,yt,vt]),gt.clip(),gt.endPath()}setFillAndStrokeStyleToContext(gt,bt,_t){const yt=gt.ctx,vt=gt.current;switch(bt){case ht.COLORED:const xt=this.ctx;yt.fillStyle=xt.fillStyle,yt.strokeStyle=xt.strokeStyle,vt.fillColor=xt.fillStyle,vt.strokeColor=xt.strokeStyle;break;case ht.UNCOLORED:const wt=tt.Util.makeHexColor(_t[0],_t[1],_t[2]);yt.fillStyle=wt,yt.strokeStyle=wt,vt.fillColor=wt,vt.strokeColor=wt;break;default:throw new tt.FormatError(`Unsupported paint type: ${bt}`)}}getPattern(gt,bt,_t,yt){let vt=_t;yt!==nt.SHADING&&(vt=tt.Util.transform(vt,bt.baseTransform),this.matrix&&(vt=tt.Util.transform(vt,this.matrix)));const xt=this.createPatternCanvas(bt);let wt=new DOMMatrix(vt);wt=wt.translate(xt.offsetX,xt.offsetY),wt=wt.scale(1/xt.scaleX,1/xt.scaleY);const St=gt.createPattern(xt.canvas,"repeat");return St.setTransform(wt),St}};Lr(pt,"MAX_PATTERN_SIZE",3e3);let mt=pt;$.TilingPattern=mt},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=nt,$.convertToRGBA=rt,$.grayToRGBA=at;var tt=et(1);function rt(st){switch(st.kind){case tt.ImageKind.GRAYSCALE_1BPP:return nt(st);case tt.ImageKind.RGB_24BPP:return it(st)}return null}function nt({src:st,srcPos:ot=0,dest:lt,width:ct,height:ut,nonBlackColor:dt=4294967295,inverseDecode:ht=!1}){const mt=tt.FeatureTest.isLittleEndian?4278190080:255,[pt,ft]=ht?[dt,mt]:[mt,dt],gt=ct>>3,bt=ct&7,_t=st.length;lt=new Uint32Array(lt.buffer);let yt=0;for(let vt=0;vt<ut;vt++){for(const wt=ot+gt;ot<wt;ot++){const St=ot<_t?st[ot]:255;lt[yt++]=St&128?ft:pt,lt[yt++]=St&64?ft:pt,lt[yt++]=St&32?ft:pt,lt[yt++]=St&16?ft:pt,lt[yt++]=St&8?ft:pt,lt[yt++]=St&4?ft:pt,lt[yt++]=St&2?ft:pt,lt[yt++]=St&1?ft:pt}if(bt===0)continue;const xt=ot<_t?st[ot++]:255;for(let wt=0;wt<bt;wt++)lt[yt++]=xt&1<<7-wt?ft:pt}return{srcPos:ot,destPos:yt}}function it({src:st,srcPos:ot=0,dest:lt,destPos:ct=0,width:ut,height:dt}){let ht=0;const mt=st.length>>2,pt=new Uint32Array(st.buffer,ot,mt);if(tt.FeatureTest.isLittleEndian){for(;ht<mt-2;ht+=3,ct+=4){const ft=pt[ht],gt=pt[ht+1],bt=pt[ht+2];lt[ct]=ft|4278190080,lt[ct+1]=ft>>>24|gt<<8|4278190080,lt[ct+2]=gt>>>16|bt<<16|4278190080,lt[ct+3]=bt>>>8|4278190080}for(let ft=ht*4,gt=st.length;ft<gt;ft+=3)lt[ct++]=st[ft]|st[ft+1]<<8|st[ft+2]<<16|4278190080}else{for(;ht<mt-2;ht+=3,ct+=4){const ft=pt[ht],gt=pt[ht+1],bt=pt[ht+2];lt[ct]=ft|255,lt[ct+1]=ft<<24|gt>>>8|255,lt[ct+2]=gt<<16|bt>>>16|255,lt[ct+3]=bt<<8|255}for(let ft=ht*4,gt=st.length;ft<gt;ft+=3)lt[ct++]=st[ft]<<24|st[ft+1]<<16|st[ft+2]<<8|255}return{srcPos:ot,destPos:ct}}function at(st,ot){if(tt.FeatureTest.isLittleEndian)for(let lt=0,ct=st.length;lt<ct;lt++)ot[lt]=st[lt]*65793|4278190080;else for(let lt=0,ct=st.length;lt<ct;lt++)ot[lt]=st[lt]*16843008|255}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const et=Object.create(null);$.GlobalWorkerOptions=et,et.workerPort=null,et.workerSrc=""},(_e,$,et)=>{var st,_s,ws,An;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var tt=et(1);const rt={UNKNOWN:0,DATA:1,ERROR:2},nt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function it(ut){switch(ut instanceof Error||typeof ut=="object"&&ut!==null||(0,tt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ut.name){case"AbortException":return new tt.AbortException(ut.message);case"MissingPDFException":return new tt.MissingPDFException(ut.message);case"PasswordException":return new tt.PasswordException(ut.message,ut.code);case"UnexpectedResponseException":return new tt.UnexpectedResponseException(ut.message,ut.status);case"UnknownErrorException":return new tt.UnknownErrorException(ut.message,ut.details);default:return new tt.UnknownErrorException(ut.message,ut.toString())}}class at{constructor(dt,ht,mt){or(this,st);this.sourceName=dt,this.targetName=ht,this.comObj=mt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=pt=>{const ft=pt.data;if(ft.targetName!==this.sourceName)return;if(ft.stream){er(this,st,ws).call(this,ft);return}if(ft.callback){const bt=ft.callbackId,_t=this.callbackCapabilities[bt];if(!_t)throw new Error(`Cannot resolve callback ${bt}`);if(delete this.callbackCapabilities[bt],ft.callback===rt.DATA)_t.resolve(ft.data);else if(ft.callback===rt.ERROR)_t.reject(it(ft.reason));else throw new Error("Unexpected callback case");return}const gt=this.actionHandler[ft.action];if(!gt)throw new Error(`Unknown action from worker: ${ft.action}`);if(ft.callbackId){const bt=this.sourceName,_t=ft.sourceName;new Promise(function(yt){yt(gt(ft.data))}).then(function(yt){mt.postMessage({sourceName:bt,targetName:_t,callback:rt.DATA,callbackId:ft.callbackId,data:yt})},function(yt){mt.postMessage({sourceName:bt,targetName:_t,callback:rt.ERROR,callbackId:ft.callbackId,reason:it(yt)})});return}if(ft.streamId){er(this,st,_s).call(this,ft);return}gt(ft.data)},mt.addEventListener("message",this._onComObjOnMessage)}on(dt,ht){const mt=this.actionHandler;if(mt[dt])throw new Error(`There is already an actionName called "${dt}"`);mt[dt]=ht}send(dt,ht,mt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,data:ht},mt)}sendWithPromise(dt,ht,mt){const pt=this.callbackId++,ft=new tt.PromiseCapability;this.callbackCapabilities[pt]=ft;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:dt,callbackId:pt,data:ht},mt)}catch(gt){ft.reject(gt)}return ft.promise}sendWithStream(dt,ht,mt,pt){const ft=this.streamId++,gt=this.sourceName,bt=this.targetName,_t=this.comObj;return new ReadableStream({start:yt=>{const vt=new tt.PromiseCapability;return this.streamControllers[ft]={controller:yt,startCall:vt,pullCall:null,cancelCall:null,isClosed:!1},_t.postMessage({sourceName:gt,targetName:bt,action:dt,streamId:ft,data:ht,desiredSize:yt.desiredSize},pt),vt.promise},pull:yt=>{const vt=new tt.PromiseCapability;return this.streamControllers[ft].pullCall=vt,_t.postMessage({sourceName:gt,targetName:bt,stream:nt.PULL,streamId:ft,desiredSize:yt.desiredSize}),vt.promise},cancel:yt=>{(0,tt.assert)(yt instanceof Error,"cancel must have a valid reason");const vt=new tt.PromiseCapability;return this.streamControllers[ft].cancelCall=vt,this.streamControllers[ft].isClosed=!0,_t.postMessage({sourceName:gt,targetName:bt,stream:nt.CANCEL,streamId:ft,reason:it(yt)}),vt.promise}},mt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}st=new WeakSet,_s=function(dt){const ht=dt.streamId,mt=this.sourceName,pt=dt.sourceName,ft=this.comObj,gt=this,bt=this.actionHandler[dt.action],_t={enqueue(yt,vt=1,xt){if(this.isCancelled)return;const wt=this.desiredSize;this.desiredSize-=vt,wt>0&&this.desiredSize<=0&&(this.sinkCapability=new tt.PromiseCapability,this.ready=this.sinkCapability.promise),ft.postMessage({sourceName:mt,targetName:pt,stream:nt.ENQUEUE,streamId:ht,chunk:yt},xt)},close(){this.isCancelled||(this.isCancelled=!0,ft.postMessage({sourceName:mt,targetName:pt,stream:nt.CLOSE,streamId:ht}),delete gt.streamSinks[ht])},error(yt){(0,tt.assert)(yt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ft.postMessage({sourceName:mt,targetName:pt,stream:nt.ERROR,streamId:ht,reason:it(yt)}))},sinkCapability:new tt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:dt.desiredSize,ready:null};_t.sinkCapability.resolve(),_t.ready=_t.sinkCapability.promise,this.streamSinks[ht]=_t,new Promise(function(yt){yt(bt(dt.data,_t))}).then(function(){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.START_COMPLETE,streamId:ht,success:!0})},function(yt){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.START_COMPLETE,streamId:ht,reason:it(yt)})})},ws=function(dt){const ht=dt.streamId,mt=this.sourceName,pt=dt.sourceName,ft=this.comObj,gt=this.streamControllers[ht],bt=this.streamSinks[ht];switch(dt.stream){case nt.START_COMPLETE:dt.success?gt.startCall.resolve():gt.startCall.reject(it(dt.reason));break;case nt.PULL_COMPLETE:dt.success?gt.pullCall.resolve():gt.pullCall.reject(it(dt.reason));break;case nt.PULL:if(!bt){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.PULL_COMPLETE,streamId:ht,success:!0});break}bt.desiredSize<=0&&dt.desiredSize>0&&bt.sinkCapability.resolve(),bt.desiredSize=dt.desiredSize,new Promise(function(_t){var yt;_t((yt=bt.onPull)==null?void 0:yt.call(bt))}).then(function(){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.PULL_COMPLETE,streamId:ht,success:!0})},function(_t){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.PULL_COMPLETE,streamId:ht,reason:it(_t)})});break;case nt.ENQUEUE:if((0,tt.assert)(gt,"enqueue should have stream controller"),gt.isClosed)break;gt.controller.enqueue(dt.chunk);break;case nt.CLOSE:if((0,tt.assert)(gt,"close should have stream controller"),gt.isClosed)break;gt.isClosed=!0,gt.controller.close(),er(this,st,An).call(this,gt,ht);break;case nt.ERROR:(0,tt.assert)(gt,"error should have stream controller"),gt.controller.error(it(dt.reason)),er(this,st,An).call(this,gt,ht);break;case nt.CANCEL_COMPLETE:dt.success?gt.cancelCall.resolve():gt.cancelCall.reject(it(dt.reason)),er(this,st,An).call(this,gt,ht);break;case nt.CANCEL:if(!bt)break;new Promise(function(_t){var yt;_t((yt=bt.onCancel)==null?void 0:yt.call(bt,it(dt.reason)))}).then(function(){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.CANCEL_COMPLETE,streamId:ht,success:!0})},function(_t){ft.postMessage({sourceName:mt,targetName:pt,stream:nt.CANCEL_COMPLETE,streamId:ht,reason:it(_t)})}),bt.sinkCapability.reject(it(dt.reason)),bt.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},An=async function(dt,ht){var mt,pt,ft;await Promise.allSettled([(mt=dt.startCall)==null?void 0:mt.promise,(pt=dt.pullCall)==null?void 0:pt.promise,(ft=dt.cancelCall)==null?void 0:ft.promise]),delete this.streamControllers[ht]},$.MessageHandler=at},(_e,$,et)=>{var nt,it;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var tt=et(1);class rt{constructor({parsedData:st,rawData:ot}){or(this,nt);or(this,it);cr(this,nt,st),cr(this,it,ot)}getRaw(){return $t(this,it)}get(st){return $t(this,nt).get(st)??null}getAll(){return(0,tt.objectFromMap)($t(this,nt))}has(st){return $t(this,nt).has(st)}}nt=new WeakMap,it=new WeakMap,$.Metadata=rt},(_e,$,et)=>{var st,ot,lt,ct,ut,dt,Zn;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var tt=et(1),rt=et(8);const nt=Symbol("INTERNAL");class it{constructor(pt,ft){or(this,st,!0);this.name=pt,this.intent=ft}get visible(){return $t(this,st)}_setVisible(pt,ft){pt!==nt&&(0,tt.unreachable)("Internal method `_setVisible` called."),cr(this,st,ft)}}st=new WeakMap;class at{constructor(pt){or(this,dt);or(this,ot,null);or(this,lt,new Map);or(this,ct,null);or(this,ut,null);if(this.name=null,this.creator=null,pt!==null){this.name=pt.name,this.creator=pt.creator,cr(this,ut,pt.order);for(const ft of pt.groups)$t(this,lt).set(ft.id,new it(ft.name,ft.intent));if(pt.baseState==="OFF")for(const ft of $t(this,lt).values())ft._setVisible(nt,!1);for(const ft of pt.on)$t(this,lt).get(ft)._setVisible(nt,!0);for(const ft of pt.off)$t(this,lt).get(ft)._setVisible(nt,!1);cr(this,ct,this.getHash())}}isVisible(pt){if($t(this,lt).size===0)return!0;if(!pt)return(0,tt.warn)("Optional content group not defined."),!0;if(pt.type==="OCG")return $t(this,lt).has(pt.id)?$t(this,lt).get(pt.id).visible:((0,tt.warn)(`Optional content group not found: ${pt.id}`),!0);if(pt.type==="OCMD"){if(pt.expression)return er(this,dt,Zn).call(this,pt.expression);if(!pt.policy||pt.policy==="AnyOn"){for(const ft of pt.ids){if(!$t(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if($t(this,lt).get(ft).visible)return!0}return!1}else if(pt.policy==="AllOn"){for(const ft of pt.ids){if(!$t(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if(!$t(this,lt).get(ft).visible)return!1}return!0}else if(pt.policy==="AnyOff"){for(const ft of pt.ids){if(!$t(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if(!$t(this,lt).get(ft).visible)return!0}return!1}else if(pt.policy==="AllOff"){for(const ft of pt.ids){if(!$t(this,lt).has(ft))return(0,tt.warn)(`Optional content group not found: ${ft}`),!0;if($t(this,lt).get(ft).visible)return!1}return!0}return(0,tt.warn)(`Unknown optional content policy ${pt.policy}.`),!0}return(0,tt.warn)(`Unknown group type ${pt.type}.`),!0}setVisibility(pt,ft=!0){if(!$t(this,lt).has(pt)){(0,tt.warn)(`Optional content group not found: ${pt}`);return}$t(this,lt).get(pt)._setVisible(nt,!!ft),cr(this,ot,null)}get hasInitialVisibility(){return $t(this,ct)===null||this.getHash()===$t(this,ct)}getOrder(){return $t(this,lt).size?$t(this,ut)?$t(this,ut).slice():[...$t(this,lt).keys()]:null}getGroups(){return $t(this,lt).size>0?(0,tt.objectFromMap)($t(this,lt)):null}getGroup(pt){return $t(this,lt).get(pt)||null}getHash(){if($t(this,ot)!==null)return $t(this,ot);const pt=new rt.MurmurHash3_64;for(const[ft,gt]of $t(this,lt))pt.update(`${ft}:${gt.visible}`);return cr(this,ot,pt.hexdigest())}}ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakSet,Zn=function(pt){const ft=pt.length;if(ft<2)return!0;const gt=pt[0];for(let bt=1;bt<ft;bt++){const _t=pt[bt];let yt;if(Array.isArray(_t))yt=er(this,dt,Zn).call(this,_t);else if($t(this,lt).has(_t))yt=$t(this,lt).get(_t).visible;else return(0,tt.warn)(`Optional content group not found: ${_t}`),!0;switch(gt){case"And":if(!yt)return!1;break;case"Or":if(yt)return!0;break;case"Not":return!yt;default:return!0}}return gt==="And"},$.OptionalContentConfig=at},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var tt=et(1),rt=et(6);class nt{constructor({length:ot,initialData:lt,progressiveDone:ct=!1,contentDispositionFilename:ut=null,disableRange:dt=!1,disableStream:ht=!1},mt){if((0,tt.assert)(mt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct,this._contentDispositionFilename=ut,(lt==null?void 0:lt.length)>0){const pt=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;this._queuedChunks.push(pt)}this._pdfDataRangeTransport=mt,this._isStreamingSupported=!ht,this._isRangeSupported=!dt,this._contentLength=ot,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pt,ft)=>{this._onReceiveData({begin:pt,chunk:ft})}),this._pdfDataRangeTransport.addProgressListener((pt,ft)=>{this._onProgress({loaded:pt,total:ft})}),this._pdfDataRangeTransport.addProgressiveReadListener(pt=>{this._onReceiveData({chunk:pt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ot,chunk:lt}){const ct=lt instanceof Uint8Array&&lt.byteLength===lt.buffer.byteLength?lt.buffer:new Uint8Array(lt).buffer;if(ot===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ct):this._queuedChunks.push(ct);else{const ut=this._rangeReaders.some(function(dt){return dt._begin!==ot?!1:(dt._enqueue(ct),!0)});(0,tt.assert)(ut,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ot;return((ot=this._fullRequestReader)==null?void 0:ot._loaded)??0}_onProgress(ot){var lt,ct,ut,dt;ot.total===void 0?(ct=(lt=this._rangeReaders[0])==null?void 0:lt.onProgress)==null||ct.call(lt,{loaded:ot.loaded}):(dt=(ut=this._fullRequestReader)==null?void 0:ut.onProgress)==null||dt.call(ut,{loaded:ot.loaded,total:ot.total})}_onProgressiveDone(){var ot;(ot=this._fullRequestReader)==null||ot.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ot){const lt=this._rangeReaders.indexOf(ot);lt>=0&&this._rangeReaders.splice(lt,1)}getFullReader(){(0,tt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ot=this._queuedChunks;return this._queuedChunks=null,new it(this,ot,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ot,lt){if(lt<=this._progressiveDataLength)return null;const ct=new at(this,ot,lt);return this._pdfDataRangeTransport.requestDataRange(ot,lt),this._rangeReaders.push(ct),ct}cancelAllRequests(ot){var lt;(lt=this._fullRequestReader)==null||lt.cancel(ot);for(const ct of this._rangeReaders.slice(0))ct.cancel(ot);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=nt;class it{constructor(ot,lt,ct=!1,ut=null){this._stream=ot,this._done=ct||!1,this._filename=(0,rt.isPdfFile)(ut)?ut:null,this._queuedChunks=lt||[],this._loaded=0;for(const dt of this._queuedChunks)this._loaded+=dt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ot._fullRequestReader=this,this.onProgress=null}_enqueue(ot){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ot,done:!1}):this._queuedChunks.push(ot),this._loaded+=ot.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ot=new tt.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class at{constructor(ot,lt,ct){this._stream=ot,this._begin=lt,this._end=ct,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ot){if(!this._done){if(this._requests.length===0)this._queuedChunk=ot;else{this._requests.shift().resolve({value:ot,done:!1});for(const ct of this._requests)ct.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const ot=new tt.PromiseCapability;return this._requests.push(ot),ot.promise}cancel(ot){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var tt=et(1),rt=et(20);function nt(ct,ut,dt){return{method:"GET",headers:ct,signal:dt.signal,mode:"cors",credentials:ut?"include":"same-origin",redirect:"follow"}}function it(ct){const ut=new Headers;for(const dt in ct){const ht=ct[dt];ht!==void 0&&ut.append(dt,ht)}return ut}function at(ct){return ct instanceof Uint8Array?ct.buffer:ct instanceof ArrayBuffer?ct:((0,tt.warn)(`getArrayBuffer - unexpected data format: ${ct}`),new Uint8Array(ct).buffer)}class st{constructor(ut){this.source=ut,this.isHttp=/^https?:/i.test(ut.url),this.httpHeaders=this.isHttp&&ut.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ut;return((ut=this._fullRequestReader)==null?void 0:ut._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ot(this),this._fullRequestReader}getRangeReader(ut,dt){if(dt<=this._progressiveDataLength)return null;const ht=new lt(this,ut,dt);return this._rangeRequestReaders.push(ht),ht}cancelAllRequests(ut){var dt;(dt=this._fullRequestReader)==null||dt.cancel(ut);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(ut)}}$.PDFFetchStream=st;class ot{constructor(ut){this._stream=ut,this._reader=null,this._loaded=0,this._filename=null;const dt=ut.source;this._withCredentials=dt.withCredentials||!1,this._contentLength=dt.length,this._headersCapability=new tt.PromiseCapability,this._disableRange=dt.disableRange||!1,this._rangeChunkSize=dt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!dt.disableStream,this._isRangeSupported=!dt.disableRange,this._headers=it(this._stream.httpHeaders);const ht=dt.url;fetch(ht,nt(this._headers,this._withCredentials,this._abortController)).then(mt=>{if(!(0,rt.validateResponseStatus)(mt.status))throw(0,rt.createResponseStatusError)(mt.status,ht);this._reader=mt.body.getReader(),this._headersCapability.resolve();const pt=bt=>mt.headers.get(bt),{allowRangeRequests:ft,suggestedLength:gt}=(0,rt.validateRangeRequestCapabilities)({getResponseHeader:pt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=gt||this._contentLength,this._filename=(0,rt.extractFilenameFromHeader)(pt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new tt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;await this._headersCapability.promise;const{value:ut,done:dt}=await this._reader.read();return dt?{value:ut,done:dt}:(this._loaded+=ut.byteLength,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded,total:this._contentLength}),{value:at(ut),done:!1})}cancel(ut){var dt;(dt=this._reader)==null||dt.cancel(ut),this._abortController.abort()}}class lt{constructor(ut,dt,ht){this._stream=ut,this._reader=null,this._loaded=0;const mt=ut.source;this._withCredentials=mt.withCredentials||!1,this._readCapability=new tt.PromiseCapability,this._isStreamingSupported=!mt.disableStream,this._abortController=new AbortController,this._headers=it(this._stream.httpHeaders),this._headers.append("Range",`bytes=${dt}-${ht-1}`);const pt=mt.url;fetch(pt,nt(this._headers,this._withCredentials,this._abortController)).then(ft=>{if(!(0,rt.validateResponseStatus)(ft.status))throw(0,rt.createResponseStatusError)(ft.status,pt);this._readCapability.resolve(),this._reader=ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ht;await this._readCapability.promise;const{value:ut,done:dt}=await this._reader.read();return dt?{value:ut,done:dt}:(this._loaded+=ut.byteLength,(ht=this.onProgress)==null||ht.call(this,{loaded:this._loaded}),{value:at(ut),done:!1})}cancel(ut){var dt;(dt=this._reader)==null||dt.cancel(ut),this._abortController.abort()}}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=st,$.extractFilenameFromHeader=at,$.validateRangeRequestCapabilities=it,$.validateResponseStatus=ot;var tt=et(1),rt=et(21),nt=et(6);function it({getResponseHeader:lt,isHttp:ct,rangeChunkSize:ut,disableRange:dt}){const ht={allowRangeRequests:!1,suggestedLength:void 0},mt=parseInt(lt("Content-Length"),10);return!Number.isInteger(mt)||(ht.suggestedLength=mt,mt<=2*ut)||dt||!ct||lt("Accept-Ranges")!=="bytes"||(lt("Content-Encoding")||"identity")!=="identity"||(ht.allowRangeRequests=!0),ht}function at(lt){const ct=lt("Content-Disposition");if(ct){let ut=(0,rt.getFilenameFromContentDispositionHeader)(ct);if(ut.includes("%"))try{ut=decodeURIComponent(ut)}catch{}if((0,nt.isPdfFile)(ut))return ut}return null}function st(lt,ct){return lt===404||lt===0&&ct.startsWith("file:")?new tt.MissingPDFException('Missing PDF "'+ct+'".'):new tt.UnexpectedResponseException(`Unexpected server response (${lt}) while retrieving PDF "${ct}".`,lt)}function ot(lt){return lt===200||lt===206}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=rt;var tt=et(1);function rt(nt){let it=!0,at=st("filename\\*","i").exec(nt);if(at){at=at[1];let mt=ut(at);return mt=unescape(mt),mt=dt(mt),mt=ht(mt),lt(mt)}if(at=ct(nt),at){const mt=ht(at);return lt(mt)}if(at=st("filename","i").exec(nt),at){at=at[1];let mt=ut(at);return mt=ht(mt),lt(mt)}function st(mt,pt){return new RegExp("(?:^|;)\\s*"+mt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pt)}function ot(mt,pt){if(mt){if(!/^[\x00-\xFF]+$/.test(pt))return pt;try{const ft=new TextDecoder(mt,{fatal:!0}),gt=(0,tt.stringToBytes)(pt);pt=ft.decode(gt),it=!1}catch{}}return pt}function lt(mt){return it&&/[\x80-\xff]/.test(mt)&&(mt=ot("utf-8",mt),it&&(mt=ot("iso-8859-1",mt))),mt}function ct(mt){const pt=[];let ft;const gt=st("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ft=gt.exec(mt))!==null;){let[,_t,yt,vt]=ft;if(_t=parseInt(_t,10),_t in pt){if(_t===0)break;continue}pt[_t]=[yt,vt]}const bt=[];for(let _t=0;_t<pt.length&&_t in pt;++_t){let[yt,vt]=pt[_t];vt=ut(vt),yt&&(vt=unescape(vt),_t===0&&(vt=dt(vt))),bt.push(vt)}return bt.join("")}function ut(mt){if(mt.startsWith('"')){const pt=mt.slice(1).split('\\"');for(let ft=0;ft<pt.length;++ft){const gt=pt[ft].indexOf('"');gt!==-1&&(pt[ft]=pt[ft].slice(0,gt),pt.length=ft+1),pt[ft]=pt[ft].replaceAll(/\\(.)/g,"$1")}mt=pt.join('"')}return mt}function dt(mt){const pt=mt.indexOf("'");if(pt===-1)return mt;const ft=mt.slice(0,pt),bt=mt.slice(pt+1).replace(/^[^']*'/,"");return ot(ft,bt)}function ht(mt){return!mt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(mt)?mt:mt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pt,ft,gt,bt){if(gt==="q"||gt==="Q")return bt=bt.replaceAll("_"," "),bt=bt.replaceAll(/=([0-9a-fA-F]{2})/g,function(_t,yt){return String.fromCharCode(parseInt(yt,16))}),ot(ft,bt);try{bt=atob(bt)}catch{}return ot(ft,bt)})}return""}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var tt=et(1),rt=et(20);const nt=200,it=206;function at(ut){const dt=ut.response;return typeof dt!="string"?dt:(0,tt.stringToBytes)(dt).buffer}class st{constructor(dt,ht={}){this.url=dt,this.isHttp=/^https?:/i.test(dt),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(dt,ht,mt){const pt={begin:dt,end:ht};for(const ft in mt)pt[ft]=mt[ft];return this.request(pt)}requestFull(dt){return this.request(dt)}request(dt){const ht=new XMLHttpRequest,mt=this.currXhrId++,pt=this.pendingRequests[mt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const ft in this.httpHeaders){const gt=this.httpHeaders[ft];gt!==void 0&&ht.setRequestHeader(ft,gt)}return this.isHttp&&"begin"in dt&&"end"in dt?(ht.setRequestHeader("Range",`bytes=${dt.begin}-${dt.end-1}`),pt.expectedStatus=it):pt.expectedStatus=nt,ht.responseType="arraybuffer",dt.onError&&(ht.onerror=function(ft){dt.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,mt),ht.onprogress=this.onProgress.bind(this,mt),pt.onHeadersReceived=dt.onHeadersReceived,pt.onDone=dt.onDone,pt.onError=dt.onError,pt.onProgress=dt.onProgress,ht.send(null),mt}onProgress(dt,ht){var pt;const mt=this.pendingRequests[dt];mt&&((pt=mt.onProgress)==null||pt.call(mt,ht))}onStateChange(dt,ht){var _t,yt,vt;const mt=this.pendingRequests[dt];if(!mt)return;const pt=mt.xhr;if(pt.readyState>=2&&mt.onHeadersReceived&&(mt.onHeadersReceived(),delete mt.onHeadersReceived),pt.readyState!==4||!(dt in this.pendingRequests))return;if(delete this.pendingRequests[dt],pt.status===0&&this.isHttp){(_t=mt.onError)==null||_t.call(mt,pt.status);return}const ft=pt.status||nt;if(!(ft===nt&&mt.expectedStatus===it)&&ft!==mt.expectedStatus){(yt=mt.onError)==null||yt.call(mt,pt.status);return}const bt=at(pt);if(ft===it){const xt=pt.getResponseHeader("Content-Range"),wt=/bytes (\d+)-(\d+)\/(\d+)/.exec(xt);mt.onDone({begin:parseInt(wt[1],10),chunk:bt})}else bt?mt.onDone({begin:0,chunk:bt}):(vt=mt.onError)==null||vt.call(mt,pt.status)}getRequestXhr(dt){return this.pendingRequests[dt].xhr}isPendingRequest(dt){return dt in this.pendingRequests}abortRequest(dt){const ht=this.pendingRequests[dt].xhr;delete this.pendingRequests[dt],ht.abort()}}class ot{constructor(dt){this._source=dt,this._manager=new st(dt.url,{httpHeaders:dt.httpHeaders,withCredentials:dt.withCredentials}),this._rangeChunkSize=dt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(dt){const ht=this._rangeRequestReaders.indexOf(dt);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new lt(this._manager,this._source),this._fullRequestReader}getRangeReader(dt,ht){const mt=new ct(this._manager,dt,ht);return mt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(mt),mt}cancelAllRequests(dt){var ht;(ht=this._fullRequestReader)==null||ht.cancel(dt);for(const mt of this._rangeRequestReaders.slice(0))mt.cancel(dt)}}$.PDFNetworkStream=ot;class lt{constructor(dt,ht){this._manager=dt;const mt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=dt.requestFull(mt),this._headersReceivedCapability=new tt.PromiseCapability,this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const dt=this._fullRequestId,ht=this._manager.getRequestXhr(dt),mt=gt=>ht.getResponseHeader(gt),{allowRangeRequests:pt,suggestedLength:ft}=(0,rt.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pt&&(this._isRangeSupported=!0),this._contentLength=ft||this._contentLength,this._filename=(0,rt.extractFilenameFromHeader)(mt),this._isRangeSupported&&this._manager.abortRequest(dt),this._headersReceivedCapability.resolve()}_onDone(dt){if(dt&&(this._requests.length>0?this._requests.shift().resolve({value:dt.chunk,done:!1}):this._cachedChunks.push(dt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(dt){this._storedError=(0,rt.createResponseStatusError)(dt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(dt){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:dt.loaded,total:dt.lengthComputable?dt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const dt=new tt.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0,this._headersReceivedCapability.reject(dt);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(dt,ht,mt){this._manager=dt;const pt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=dt.url,this._requestId=dt.requestRange(ht,mt,pt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var dt;(dt=this.onClosed)==null||dt.call(this,this)}_onDone(dt){const ht=dt.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(dt){this._storedError=(0,rt.createResponseStatusError)(dt,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(dt){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:dt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const dt=new tt.PromiseCapability;return this._requests.push(dt),dt.promise}cancel(dt){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var tt=et(1),rt=et(20);const nt=/^file:\/\/\/[a-zA-Z]:\//;function it(mt){const pt=require$$5,ft=pt.parse(mt);return ft.protocol==="file:"||ft.host?ft:/^[a-z]:[/\\]/i.test(mt)?pt.parse(`file:///${mt}`):(ft.host||(ft.protocol="file:"),ft)}class at{constructor(pt){this.source=pt,this.url=it(pt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var pt;return((pt=this._fullRequestReader)==null?void 0:pt._loaded)??0}getFullReader(){return(0,tt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dt(this):new ct(this),this._fullRequestReader}getRangeReader(pt,ft){if(ft<=this._progressiveDataLength)return null;const gt=this.isFsUrl?new ht(this,pt,ft):new ut(this,pt,ft);return this._rangeRequestReaders.push(gt),gt}cancelAllRequests(pt){var ft;(ft=this._fullRequestReader)==null||ft.cancel(pt);for(const gt of this._rangeRequestReaders.slice(0))gt.cancel(pt)}}$.PDFNodeStream=at;class st{constructor(pt){this._url=pt.url,this._done=!1,this._storedError=null,this.onProgress=null;const ft=pt.source;this._contentLength=ft.length,this._loaded=0,this._filename=null,this._disableRange=ft.disableRange||!1,this._rangeChunkSize=ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ft.disableStream,this._isRangeSupported=!ft.disableRange,this._readableStream=null,this._readCapability=new tt.PromiseCapability,this._headersCapability=new tt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var gt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pt=this._readableStream.read();return pt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=pt.length,(gt=this.onProgress)==null||gt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(pt).buffer,done:!1})}cancel(pt){if(!this._readableStream){this._error(pt);return}this._readableStream.destroy(pt)}_error(pt){this._storedError=pt,this._readCapability.resolve()}_setReadableStream(pt){this._readableStream=pt,pt.on("readable",()=>{this._readCapability.resolve()}),pt.on("end",()=>{pt.destroy(),this._done=!0,this._readCapability.resolve()}),pt.on("error",ft=>{this._error(ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new tt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ot{constructor(pt){this._url=pt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new tt.PromiseCapability;const ft=pt.source;this._isStreamingSupported=!ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var gt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const pt=this._readableStream.read();return pt===null?(this._readCapability=new tt.PromiseCapability,this.read()):(this._loaded+=pt.length,(gt=this.onProgress)==null||gt.call(this,{loaded:this._loaded}),{value:new Uint8Array(pt).buffer,done:!1})}cancel(pt){if(!this._readableStream){this._error(pt);return}this._readableStream.destroy(pt)}_error(pt){this._storedError=pt,this._readCapability.resolve()}_setReadableStream(pt){this._readableStream=pt,pt.on("readable",()=>{this._readCapability.resolve()}),pt.on("end",()=>{pt.destroy(),this._done=!0,this._readCapability.resolve()}),pt.on("error",ft=>{this._error(ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lt(mt,pt){return{protocol:mt.protocol,auth:mt.auth,host:mt.hostname,port:mt.port,path:mt.path,method:"GET",headers:pt}}class ct extends st{constructor(pt){super(pt);const ft=gt=>{if(gt.statusCode===404){const vt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=vt,this._headersCapability.reject(vt);return}this._headersCapability.resolve(),this._setReadableStream(gt);const bt=vt=>this._readableStream.headers[vt.toLowerCase()],{allowRangeRequests:_t,suggestedLength:yt}=(0,rt.validateRangeRequestCapabilities)({getResponseHeader:bt,isHttp:pt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_t,this._contentLength=yt||this._contentLength,this._filename=(0,rt.extractFilenameFromHeader)(bt)};if(this._request=null,this._url.protocol==="http:"){const gt=require$$5;this._request=gt.request(lt(this._url,pt.httpHeaders),ft)}else{const gt=require$$5;this._request=gt.request(lt(this._url,pt.httpHeaders),ft)}this._request.on("error",gt=>{this._storedError=gt,this._headersCapability.reject(gt)}),this._request.end()}}class ut extends ot{constructor(pt,ft,gt){super(pt),this._httpHeaders={};for(const _t in pt.httpHeaders){const yt=pt.httpHeaders[_t];yt!==void 0&&(this._httpHeaders[_t]=yt)}this._httpHeaders.Range=`bytes=${ft}-${gt-1}`;const bt=_t=>{if(_t.statusCode===404){const yt=new tt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=yt;return}this._setReadableStream(_t)};if(this._request=null,this._url.protocol==="http:"){const _t=require$$5;this._request=_t.request(lt(this._url,this._httpHeaders),bt)}else{const _t=require$$5;this._request=_t.request(lt(this._url,this._httpHeaders),bt)}this._request.on("error",_t=>{this._storedError=_t}),this._request.end()}}class dt extends st{constructor(pt){super(pt);let ft=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(ft=ft.replace(/^\//,""));const gt=require$$5;gt.lstat(ft,(bt,_t)=>{if(bt){bt.code==="ENOENT"&&(bt=new tt.MissingPDFException(`Missing PDF "${ft}".`)),this._storedError=bt,this._headersCapability.reject(bt);return}this._contentLength=_t.size,this._setReadableStream(gt.createReadStream(ft)),this._headersCapability.resolve()})}}class ht extends ot{constructor(pt,ft,gt){super(pt);let bt=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(bt=bt.replace(/^\//,""));const _t=require$$5;this._setReadableStream(_t.createReadStream(bt,{start:ft,end:gt-1}))}}},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var tt=et(6),rt=et(1);const nt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it="http://www.w3.org/XML/1998/namespace",at="http://www.w3.org/1999/xlink",st=["butt","round","square"],ot=["miter","round","bevel"],lt=function(_t,yt="",vt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!vt)return URL.createObjectURL(new Blob([_t],{type:yt}));const xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let wt=`data:${yt};base64,`;for(let St=0,Ot=_t.length;St<Ot;St+=3){const Et=_t[St]&255,Tt=_t[St+1]&255,It=_t[St+2]&255,Wt=Et>>2,Lt=(Et&3)<<4|Tt>>4,zt=St+1<Ot?(Tt&15)<<2|It>>6:64,Ft=St+2<Ot?It&63:64;wt+=xt[Wt]+xt[Lt]+xt[zt]+xt[Ft]}return wt},ct=function(){const _t=new Uint8Array([137,80,78,71,13,10,26,10]),yt=12,vt=new Int32Array(256);for(let It=0;It<256;It++){let Wt=It;for(let Lt=0;Lt<8;Lt++)Wt=Wt&1?3988292384^Wt>>1&2147483647:Wt>>1&2147483647;vt[It]=Wt}function xt(It,Wt,Lt){let zt=-1;for(let Ft=Wt;Ft<Lt;Ft++){const Rt=(zt^It[Ft])&255,jt=vt[Rt];zt=zt>>>8^jt}return zt^-1}function wt(It,Wt,Lt,zt){let Ft=zt;const Rt=Wt.length;Lt[Ft]=Rt>>24&255,Lt[Ft+1]=Rt>>16&255,Lt[Ft+2]=Rt>>8&255,Lt[Ft+3]=Rt&255,Ft+=4,Lt[Ft]=It.charCodeAt(0)&255,Lt[Ft+1]=It.charCodeAt(1)&255,Lt[Ft+2]=It.charCodeAt(2)&255,Lt[Ft+3]=It.charCodeAt(3)&255,Ft+=4,Lt.set(Wt,Ft),Ft+=Wt.length;const jt=xt(Lt,zt+4,Ft);Lt[Ft]=jt>>24&255,Lt[Ft+1]=jt>>16&255,Lt[Ft+2]=jt>>8&255,Lt[Ft+3]=jt&255}function St(It,Wt,Lt){let zt=1,Ft=0;for(let Rt=Wt;Rt<Lt;++Rt)zt=(zt+(It[Rt]&255))%65521,Ft=(Ft+zt)%65521;return Ft<<16|zt}function Ot(It){if(!rt.isNodeJS)return Et(It);try{const Wt=parseInt(process.versions.node)>=8?It:Buffer.from(It),Lt=require$$5.deflateSync(Wt,{level:9});return Lt instanceof Uint8Array?Lt:new Uint8Array(Lt)}catch(Wt){(0,rt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Wt)}return Et(It)}function Et(It){let Wt=It.length;const Lt=65535,zt=Math.ceil(Wt/Lt),Ft=new Uint8Array(2+Wt+zt*5+4);let Rt=0;Ft[Rt++]=120,Ft[Rt++]=156;let jt=0;for(;Wt>Lt;)Ft[Rt++]=0,Ft[Rt++]=255,Ft[Rt++]=255,Ft[Rt++]=0,Ft[Rt++]=0,Ft.set(It.subarray(jt,jt+Lt),Rt),Rt+=Lt,jt+=Lt,Wt-=Lt;Ft[Rt++]=1,Ft[Rt++]=Wt&255,Ft[Rt++]=Wt>>8&255,Ft[Rt++]=~Wt&65535&255,Ft[Rt++]=(~Wt&65535)>>8&255,Ft.set(It.subarray(jt),Rt),Rt+=It.length-jt;const Ct=St(It,0,It.length);return Ft[Rt++]=Ct>>24&255,Ft[Rt++]=Ct>>16&255,Ft[Rt++]=Ct>>8&255,Ft[Rt++]=Ct&255,Ft}function Tt(It,Wt,Lt,zt){const Ft=It.width,Rt=It.height;let jt,Ct,Dt;const Mt=It.data;switch(Wt){case rt.ImageKind.GRAYSCALE_1BPP:Ct=0,jt=1,Dt=Ft+7>>3;break;case rt.ImageKind.RGB_24BPP:Ct=2,jt=8,Dt=Ft*3;break;case rt.ImageKind.RGBA_32BPP:Ct=6,jt=8,Dt=Ft*4;break;default:throw new Error("invalid format")}const At=new Uint8Array((1+Dt)*Rt);let Pt=0,Nt=0;for(let ar=0;ar<Rt;++ar)At[Pt++]=0,At.set(Mt.subarray(Nt,Nt+Dt),Pt),Nt+=Dt,Pt+=Dt;if(Wt===rt.ImageKind.GRAYSCALE_1BPP&&zt){Pt=0;for(let ar=0;ar<Rt;ar++){Pt++;for(let Qt=0;Qt<Dt;Qt++)At[Pt++]^=255}}const Bt=new Uint8Array([Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255,Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255,jt,Ct,0,0,0]),Vt=Ot(At),qt=_t.length+yt*3+Bt.length+Vt.length,Gt=new Uint8Array(qt);let Jt=0;return Gt.set(_t,Jt),Jt+=_t.length,wt("IHDR",Bt,Gt,Jt),Jt+=yt+Bt.length,wt("IDATA",Vt,Gt,Jt),Jt+=yt+Vt.length,wt("IEND",new Uint8Array(0),Gt,Jt),lt(Gt,"image/png",Lt)}return function(Wt,Lt,zt){const Ft=Wt.kind===void 0?rt.ImageKind.GRAYSCALE_1BPP:Wt.kind;return Tt(Wt,Ft,Lt,zt)}}();class ut{constructor(){this.fontSizeScale=1,this.fontWeight=nt.fontWeight,this.fontSize=0,this.textMatrix=rt.IDENTITY_MATRIX,this.fontMatrix=rt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=rt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=nt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(yt,vt){this.x=yt,this.y=vt}}function dt(_t){let yt=[];const vt=[];for(const xt of _t){if(xt.fn==="save"){yt.push({fnId:92,fn:"group",items:[]}),vt.push(yt),yt=yt.at(-1).items;continue}xt.fn==="restore"?yt=vt.pop():yt.push(xt)}return yt}function ht(_t){if(Number.isInteger(_t))return _t.toString();const yt=_t.toFixed(10);let vt=yt.length-1;if(yt[vt]!=="0")return yt;do vt--;while(yt[vt]==="0");return yt.substring(0,yt[vt]==="."?vt:vt+1)}function mt(_t){if(_t[4]===0&&_t[5]===0){if(_t[1]===0&&_t[2]===0)return _t[0]===1&&_t[3]===1?"":`scale(${ht(_t[0])} ${ht(_t[3])})`;if(_t[0]===_t[3]&&_t[1]===-_t[2]){const yt=Math.acos(_t[0])*180/Math.PI;return`rotate(${ht(yt)})`}}else if(_t[0]===1&&_t[1]===0&&_t[2]===0&&_t[3]===1)return`translate(${ht(_t[4])} ${ht(_t[5])})`;return`matrix(${ht(_t[0])} ${ht(_t[1])} ${ht(_t[2])} ${ht(_t[3])} ${ht(_t[4])} ${ht(_t[5])})`}let pt=0,ft=0,gt=0;class bt{constructor(yt,vt,xt=!1){(0,tt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new tt.DOMSVGFactory,this.current=new ut,this.transformMatrix=rt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=yt,this.objs=vt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!xt,this._operatorIdMapping=[];for(const wt in rt.OPS)this._operatorIdMapping[rt.OPS[wt]]=wt}getObject(yt,vt=null){return typeof yt=="string"?yt.startsWith("g_")?this.commonObjs.get(yt):this.objs.get(yt):vt}save(){this.transformStack.push(this.transformMatrix);const yt=this.current;this.extraStack.push(yt),this.current=yt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(yt){this.save(),this.executeOpTree(yt),this.restore()}loadDependencies(yt){const vt=yt.fnArray,xt=yt.argsArray;for(let wt=0,St=vt.length;wt<St;wt++)if(vt[wt]===rt.OPS.dependency)for(const Ot of xt[wt]){const Et=Ot.startsWith("g_")?this.commonObjs:this.objs,Tt=new Promise(It=>{Et.get(Ot,It)});this.current.dependencies.push(Tt)}return Promise.all(this.current.dependencies)}transform(yt,vt,xt,wt,St,Ot){const Et=[yt,vt,xt,wt,St,Ot];this.transformMatrix=rt.Util.transform(this.transformMatrix,Et),this.tgrp=null}getSVG(yt,vt){this.viewport=vt;const xt=this._initialize(vt);return this.loadDependencies(yt).then(()=>(this.transformMatrix=rt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(yt)),xt))}convertOpList(yt){const vt=this._operatorIdMapping,xt=yt.argsArray,wt=yt.fnArray,St=[];for(let Ot=0,Et=wt.length;Ot<Et;Ot++){const Tt=wt[Ot];St.push({fnId:Tt,fn:vt[Tt],args:xt[Ot]})}return dt(St)}executeOpTree(yt){for(const vt of yt){const xt=vt.fn,wt=vt.fnId,St=vt.args;switch(wt|0){case rt.OPS.beginText:this.beginText();break;case rt.OPS.dependency:break;case rt.OPS.setLeading:this.setLeading(St);break;case rt.OPS.setLeadingMoveText:this.setLeadingMoveText(St[0],St[1]);break;case rt.OPS.setFont:this.setFont(St);break;case rt.OPS.showText:this.showText(St[0]);break;case rt.OPS.showSpacedText:this.showText(St[0]);break;case rt.OPS.endText:this.endText();break;case rt.OPS.moveText:this.moveText(St[0],St[1]);break;case rt.OPS.setCharSpacing:this.setCharSpacing(St[0]);break;case rt.OPS.setWordSpacing:this.setWordSpacing(St[0]);break;case rt.OPS.setHScale:this.setHScale(St[0]);break;case rt.OPS.setTextMatrix:this.setTextMatrix(St[0],St[1],St[2],St[3],St[4],St[5]);break;case rt.OPS.setTextRise:this.setTextRise(St[0]);break;case rt.OPS.setTextRenderingMode:this.setTextRenderingMode(St[0]);break;case rt.OPS.setLineWidth:this.setLineWidth(St[0]);break;case rt.OPS.setLineJoin:this.setLineJoin(St[0]);break;case rt.OPS.setLineCap:this.setLineCap(St[0]);break;case rt.OPS.setMiterLimit:this.setMiterLimit(St[0]);break;case rt.OPS.setFillRGBColor:this.setFillRGBColor(St[0],St[1],St[2]);break;case rt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(St[0],St[1],St[2]);break;case rt.OPS.setStrokeColorN:this.setStrokeColorN(St);break;case rt.OPS.setFillColorN:this.setFillColorN(St);break;case rt.OPS.shadingFill:this.shadingFill(St[0]);break;case rt.OPS.setDash:this.setDash(St[0],St[1]);break;case rt.OPS.setRenderingIntent:this.setRenderingIntent(St[0]);break;case rt.OPS.setFlatness:this.setFlatness(St[0]);break;case rt.OPS.setGState:this.setGState(St[0]);break;case rt.OPS.fill:this.fill();break;case rt.OPS.eoFill:this.eoFill();break;case rt.OPS.stroke:this.stroke();break;case rt.OPS.fillStroke:this.fillStroke();break;case rt.OPS.eoFillStroke:this.eoFillStroke();break;case rt.OPS.clip:this.clip("nonzero");break;case rt.OPS.eoClip:this.clip("evenodd");break;case rt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case rt.OPS.paintImageXObject:this.paintImageXObject(St[0]);break;case rt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(St[0]);break;case rt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(St[0]);break;case rt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(St[0],St[1]);break;case rt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case rt.OPS.closePath:this.closePath();break;case rt.OPS.closeStroke:this.closeStroke();break;case rt.OPS.closeFillStroke:this.closeFillStroke();break;case rt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case rt.OPS.nextLine:this.nextLine();break;case rt.OPS.transform:this.transform(St[0],St[1],St[2],St[3],St[4],St[5]);break;case rt.OPS.constructPath:this.constructPath(St[0],St[1]);break;case rt.OPS.endPath:this.endPath();break;case 92:this.group(vt.items);break;default:(0,rt.warn)(`Unimplemented operator ${xt}`);break}}}setWordSpacing(yt){this.current.wordSpacing=yt}setCharSpacing(yt){this.current.charSpacing=yt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(yt,vt,xt,wt,St,Ot){const Et=this.current;Et.textMatrix=Et.lineMatrix=[yt,vt,xt,wt,St,Ot],Et.textMatrixScale=Math.hypot(yt,vt),Et.x=Et.lineX=0,Et.y=Et.lineY=0,Et.xcoords=[],Et.ycoords=[],Et.tspan=this.svgFactory.createElement("svg:tspan"),Et.tspan.setAttributeNS(null,"font-family",Et.fontFamily),Et.tspan.setAttributeNS(null,"font-size",`${ht(Et.fontSize)}px`),Et.tspan.setAttributeNS(null,"y",ht(-Et.y)),Et.txtElement=this.svgFactory.createElement("svg:text"),Et.txtElement.append(Et.tspan)}beginText(){const yt=this.current;yt.x=yt.lineX=0,yt.y=yt.lineY=0,yt.textMatrix=rt.IDENTITY_MATRIX,yt.lineMatrix=rt.IDENTITY_MATRIX,yt.textMatrixScale=1,yt.tspan=this.svgFactory.createElement("svg:tspan"),yt.txtElement=this.svgFactory.createElement("svg:text"),yt.txtgrp=this.svgFactory.createElement("svg:g"),yt.xcoords=[],yt.ycoords=[]}moveText(yt,vt){const xt=this.current;xt.x=xt.lineX+=yt,xt.y=xt.lineY+=vt,xt.xcoords=[],xt.ycoords=[],xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${ht(xt.fontSize)}px`),xt.tspan.setAttributeNS(null,"y",ht(-xt.y))}showText(yt){const vt=this.current,xt=vt.font,wt=vt.fontSize;if(wt===0)return;const St=vt.fontSizeScale,Ot=vt.charSpacing,Et=vt.wordSpacing,Tt=vt.fontDirection,It=vt.textHScale*Tt,Wt=xt.vertical,Lt=Wt?1:-1,zt=xt.defaultVMetrics,Ft=wt*vt.fontMatrix[0];let Rt=0;for(const Dt of yt){if(Dt===null){Rt+=Tt*Et;continue}else if(typeof Dt=="number"){Rt+=Lt*Dt*wt/1e3;continue}const Mt=(Dt.isSpace?Et:0)+Ot,At=Dt.fontChar;let Pt,Nt,Bt=Dt.width;if(Wt){let qt;const Gt=Dt.vmetric||zt;qt=Dt.vmetric?Gt[1]:Bt*.5,qt=-qt*Ft;const Jt=Gt[2]*Ft;Bt=Gt?-Gt[0]:Bt,Pt=qt/St,Nt=(Rt+Jt)/St}else Pt=Rt/St,Nt=0;(Dt.isInFont||xt.missingFile)&&(vt.xcoords.push(vt.x+Pt),Wt&&vt.ycoords.push(-vt.y+Nt),vt.tspan.textContent+=At);const Vt=Wt?Bt*Ft-Mt*Tt:Bt*Ft+Mt*Tt;Rt+=Vt}vt.tspan.setAttributeNS(null,"x",vt.xcoords.map(ht).join(" ")),Wt?vt.tspan.setAttributeNS(null,"y",vt.ycoords.map(ht).join(" ")):vt.tspan.setAttributeNS(null,"y",ht(-vt.y)),Wt?vt.y-=Rt:vt.x+=Rt*It,vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${ht(vt.fontSize)}px`),vt.fontStyle!==nt.fontStyle&&vt.tspan.setAttributeNS(null,"font-style",vt.fontStyle),vt.fontWeight!==nt.fontWeight&&vt.tspan.setAttributeNS(null,"font-weight",vt.fontWeight);const jt=vt.textRenderingMode&rt.TextRenderingMode.FILL_STROKE_MASK;if(jt===rt.TextRenderingMode.FILL||jt===rt.TextRenderingMode.FILL_STROKE?(vt.fillColor!==nt.fillColor&&vt.tspan.setAttributeNS(null,"fill",vt.fillColor),vt.fillAlpha<1&&vt.tspan.setAttributeNS(null,"fill-opacity",vt.fillAlpha)):vt.textRenderingMode===rt.TextRenderingMode.ADD_TO_PATH?vt.tspan.setAttributeNS(null,"fill","transparent"):vt.tspan.setAttributeNS(null,"fill","none"),jt===rt.TextRenderingMode.STROKE||jt===rt.TextRenderingMode.FILL_STROKE){const Dt=1/(vt.textMatrixScale||1);this._setStrokeAttributes(vt.tspan,Dt)}let Ct=vt.textMatrix;vt.textRise!==0&&(Ct=Ct.slice(),Ct[5]+=vt.textRise),vt.txtElement.setAttributeNS(null,"transform",`${mt(Ct)} scale(${ht(It)}, -1)`),vt.txtElement.setAttributeNS(it,"xml:space","preserve"),vt.txtElement.append(vt.tspan),vt.txtgrp.append(vt.txtElement),this._ensureTransformGroup().append(vt.txtElement)}setLeadingMoveText(yt,vt){this.setLeading(-vt),this.moveText(yt,vt)}addFontStyle(yt){if(!yt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const vt=lt(yt.data,yt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${yt.loadedName}"; src: url(${vt}); }
`}setFont(yt){const vt=this.current,xt=this.commonObjs.get(yt[0]);let wt=yt[1];vt.font=xt,this.embedFonts&&!xt.missingFile&&!this.embeddedFonts[xt.loadedName]&&(this.addFontStyle(xt),this.embeddedFonts[xt.loadedName]=xt),vt.fontMatrix=xt.fontMatrix||rt.FONT_IDENTITY_MATRIX;let St="normal";xt.black?St="900":xt.bold&&(St="bold");const Ot=xt.italic?"italic":"normal";wt<0?(wt=-wt,vt.fontDirection=-1):vt.fontDirection=1,vt.fontSize=wt,vt.fontFamily=xt.loadedName,vt.fontWeight=St,vt.fontStyle=Ot,vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"y",ht(-vt.y)),vt.xcoords=[],vt.ycoords=[]}endText(){var vt;const yt=this.current;yt.textRenderingMode&rt.TextRenderingMode.ADD_TO_PATH_FLAG&&((vt=yt.txtElement)!=null&&vt.hasChildNodes())&&(yt.element=yt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(yt){yt>0&&(this.current.lineWidth=yt)}setLineCap(yt){this.current.lineCap=st[yt]}setLineJoin(yt){this.current.lineJoin=ot[yt]}setMiterLimit(yt){this.current.miterLimit=yt}setStrokeAlpha(yt){this.current.strokeAlpha=yt}setStrokeRGBColor(yt,vt,xt){this.current.strokeColor=rt.Util.makeHexColor(yt,vt,xt)}setFillAlpha(yt){this.current.fillAlpha=yt}setFillRGBColor(yt,vt,xt){this.current.fillColor=rt.Util.makeHexColor(yt,vt,xt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(yt){this.current.strokeColor=this._makeColorN_Pattern(yt)}setFillColorN(yt){this.current.fillColor=this._makeColorN_Pattern(yt)}shadingFill(yt){const{width:vt,height:xt}=this.viewport,wt=rt.Util.inverseTransform(this.transformMatrix),[St,Ot,Et,Tt]=rt.Util.getAxialAlignedBoundingBox([0,0,vt,xt],wt),It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x",St),It.setAttributeNS(null,"y",Ot),It.setAttributeNS(null,"width",Et-St),It.setAttributeNS(null,"height",Tt-Ot),It.setAttributeNS(null,"fill",this._makeShadingPattern(yt)),this.current.fillAlpha<1&&It.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(It)}_makeColorN_Pattern(yt){return yt[0]==="TilingPattern"?this._makeTilingPattern(yt):this._makeShadingPattern(yt)}_makeTilingPattern(yt){const vt=yt[1],xt=yt[2],wt=yt[3]||rt.IDENTITY_MATRIX,[St,Ot,Et,Tt]=yt[4],It=yt[5],Wt=yt[6],Lt=yt[7],zt=`shading${gt++}`,[Ft,Rt,jt,Ct]=rt.Util.normalizeRect([...rt.Util.applyTransform([St,Ot],wt),...rt.Util.applyTransform([Et,Tt],wt)]),[Dt,Mt]=rt.Util.singularValueDecompose2dScale(wt),At=It*Dt,Pt=Wt*Mt,Nt=this.svgFactory.createElement("svg:pattern");Nt.setAttributeNS(null,"id",zt),Nt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Nt.setAttributeNS(null,"width",At),Nt.setAttributeNS(null,"height",Pt),Nt.setAttributeNS(null,"x",`${Ft}`),Nt.setAttributeNS(null,"y",`${Rt}`);const Bt=this.svg,Vt=this.transformMatrix,qt=this.current.fillColor,Gt=this.current.strokeColor,Jt=this.svgFactory.create(jt-Ft,Ct-Rt);if(this.svg=Jt,this.transformMatrix=wt,Lt===2){const ar=rt.Util.makeHexColor(...vt);this.current.fillColor=ar,this.current.strokeColor=ar}return this.executeOpTree(this.convertOpList(xt)),this.svg=Bt,this.transformMatrix=Vt,this.current.fillColor=qt,this.current.strokeColor=Gt,Nt.append(Jt.childNodes[0]),this.defs.append(Nt),`url(#${zt})`}_makeShadingPattern(yt){switch(typeof yt=="string"&&(yt=this.objs.get(yt)),yt[0]){case"RadialAxial":const vt=`shading${gt++}`,xt=yt[3];let wt;switch(yt[1]){case"axial":const St=yt[4],Ot=yt[5];wt=this.svgFactory.createElement("svg:linearGradient"),wt.setAttributeNS(null,"id",vt),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"x1",St[0]),wt.setAttributeNS(null,"y1",St[1]),wt.setAttributeNS(null,"x2",Ot[0]),wt.setAttributeNS(null,"y2",Ot[1]);break;case"radial":const Et=yt[4],Tt=yt[5],It=yt[6],Wt=yt[7];wt=this.svgFactory.createElement("svg:radialGradient"),wt.setAttributeNS(null,"id",vt),wt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),wt.setAttributeNS(null,"cx",Tt[0]),wt.setAttributeNS(null,"cy",Tt[1]),wt.setAttributeNS(null,"r",Wt),wt.setAttributeNS(null,"fx",Et[0]),wt.setAttributeNS(null,"fy",Et[1]),wt.setAttributeNS(null,"fr",It);break;default:throw new Error(`Unknown RadialAxial type: ${yt[1]}`)}for(const St of xt){const Ot=this.svgFactory.createElement("svg:stop");Ot.setAttributeNS(null,"offset",St[0]),Ot.setAttributeNS(null,"stop-color",St[1]),wt.append(Ot)}return this.defs.append(wt),`url(#${vt})`;case"Mesh":return(0,rt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${yt[0]}`)}}setDash(yt,vt){this.current.dashArray=yt,this.current.dashPhase=vt}constructPath(yt,vt){const xt=this.current;let wt=xt.x,St=xt.y,Ot=[],Et=0;for(const Tt of yt)switch(Tt|0){case rt.OPS.rectangle:wt=vt[Et++],St=vt[Et++];const It=vt[Et++],Wt=vt[Et++],Lt=wt+It,zt=St+Wt;Ot.push("M",ht(wt),ht(St),"L",ht(Lt),ht(St),"L",ht(Lt),ht(zt),"L",ht(wt),ht(zt),"Z");break;case rt.OPS.moveTo:wt=vt[Et++],St=vt[Et++],Ot.push("M",ht(wt),ht(St));break;case rt.OPS.lineTo:wt=vt[Et++],St=vt[Et++],Ot.push("L",ht(wt),ht(St));break;case rt.OPS.curveTo:wt=vt[Et+4],St=vt[Et+5],Ot.push("C",ht(vt[Et]),ht(vt[Et+1]),ht(vt[Et+2]),ht(vt[Et+3]),ht(wt),ht(St)),Et+=6;break;case rt.OPS.curveTo2:Ot.push("C",ht(wt),ht(St),ht(vt[Et]),ht(vt[Et+1]),ht(vt[Et+2]),ht(vt[Et+3])),wt=vt[Et+2],St=vt[Et+3],Et+=4;break;case rt.OPS.curveTo3:wt=vt[Et+2],St=vt[Et+3],Ot.push("C",ht(vt[Et]),ht(vt[Et+1]),ht(wt),ht(St),ht(wt),ht(St)),Et+=4;break;case rt.OPS.closePath:Ot.push("Z");break}Ot=Ot.join(" "),xt.path&&yt.length>0&&yt[0]!==rt.OPS.rectangle&&yt[0]!==rt.OPS.moveTo?Ot=xt.path.getAttributeNS(null,"d")+Ot:(xt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(xt.path)),xt.path.setAttributeNS(null,"d",Ot),xt.path.setAttributeNS(null,"fill","none"),xt.element=xt.path,xt.setCurrentPoint(wt,St)}endPath(){const yt=this.current;if(yt.path=null,!this.pendingClip)return;if(!yt.element){this.pendingClip=null;return}const vt=`clippath${pt++}`,xt=this.svgFactory.createElement("svg:clipPath");xt.setAttributeNS(null,"id",vt),xt.setAttributeNS(null,"transform",mt(this.transformMatrix));const wt=yt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?wt.setAttributeNS(null,"clip-rule","evenodd"):wt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,xt.append(wt),this.defs.append(xt),yt.activeClipUrl){yt.clipGroup=null;for(const St of this.extraStack)St.clipGroup=null;xt.setAttributeNS(null,"clip-path",yt.activeClipUrl)}yt.activeClipUrl=`url(#${vt})`,this.tgrp=null}clip(yt){this.pendingClip=yt}closePath(){const yt=this.current;if(yt.path){const vt=`${yt.path.getAttributeNS(null,"d")}Z`;yt.path.setAttributeNS(null,"d",vt)}}setLeading(yt){this.current.leading=-yt}setTextRise(yt){this.current.textRise=yt}setTextRenderingMode(yt){this.current.textRenderingMode=yt}setHScale(yt){this.current.textHScale=yt/100}setRenderingIntent(yt){}setFlatness(yt){}setGState(yt){for(const[vt,xt]of yt)switch(vt){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt);break;case"CA":this.setStrokeAlpha(xt);break;case"ca":this.setFillAlpha(xt);break;default:(0,rt.warn)(`Unimplemented graphic state operator ${vt}`);break}}fill(){const yt=this.current;yt.element&&(yt.element.setAttributeNS(null,"fill",yt.fillColor),yt.element.setAttributeNS(null,"fill-opacity",yt.fillAlpha),this.endPath())}stroke(){const yt=this.current;yt.element&&(this._setStrokeAttributes(yt.element),yt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(yt,vt=1){const xt=this.current;let wt=xt.dashArray;vt!==1&&wt.length>0&&(wt=wt.map(function(St){return vt*St})),yt.setAttributeNS(null,"stroke",xt.strokeColor),yt.setAttributeNS(null,"stroke-opacity",xt.strokeAlpha),yt.setAttributeNS(null,"stroke-miterlimit",ht(xt.miterLimit)),yt.setAttributeNS(null,"stroke-linecap",xt.lineCap),yt.setAttributeNS(null,"stroke-linejoin",xt.lineJoin),yt.setAttributeNS(null,"stroke-width",ht(vt*xt.lineWidth)+"px"),yt.setAttributeNS(null,"stroke-dasharray",wt.map(ht).join(" ")),yt.setAttributeNS(null,"stroke-dashoffset",ht(vt*xt.dashPhase)+"px")}eoFill(){var yt;(yt=this.current.element)==null||yt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var yt;(yt=this.current.element)==null||yt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const yt=this.svgFactory.createElement("svg:rect");yt.setAttributeNS(null,"x","0"),yt.setAttributeNS(null,"y","0"),yt.setAttributeNS(null,"width","1px"),yt.setAttributeNS(null,"height","1px"),yt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(yt)}paintImageXObject(yt){const vt=this.getObject(yt);if(!vt){(0,rt.warn)(`Dependent image with object ID ${yt} is not ready yet`);return}this.paintInlineImageXObject(vt)}paintInlineImageXObject(yt,vt){const xt=yt.width,wt=yt.height,St=ct(yt,this.forceDataSchema,!!vt),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x","0"),Ot.setAttributeNS(null,"y","0"),Ot.setAttributeNS(null,"width",ht(xt)),Ot.setAttributeNS(null,"height",ht(wt)),this.current.element=Ot,this.clip("nonzero");const Et=this.svgFactory.createElement("svg:image");Et.setAttributeNS(at,"xlink:href",St),Et.setAttributeNS(null,"x","0"),Et.setAttributeNS(null,"y",ht(-wt)),Et.setAttributeNS(null,"width",ht(xt)+"px"),Et.setAttributeNS(null,"height",ht(wt)+"px"),Et.setAttributeNS(null,"transform",`scale(${ht(1/xt)} ${ht(-1/wt)})`),vt?vt.append(Et):this._ensureTransformGroup().append(Et)}paintImageMaskXObject(yt){const vt=this.getObject(yt.data,yt);if(vt.bitmap){(0,rt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const xt=this.current,wt=vt.width,St=vt.height,Ot=xt.fillColor;xt.maskId=`mask${ft++}`;const Et=this.svgFactory.createElement("svg:mask");Et.setAttributeNS(null,"id",xt.maskId);const Tt=this.svgFactory.createElement("svg:rect");Tt.setAttributeNS(null,"x","0"),Tt.setAttributeNS(null,"y","0"),Tt.setAttributeNS(null,"width",ht(wt)),Tt.setAttributeNS(null,"height",ht(St)),Tt.setAttributeNS(null,"fill",Ot),Tt.setAttributeNS(null,"mask",`url(#${xt.maskId})`),this.defs.append(Et),this._ensureTransformGroup().append(Tt),this.paintInlineImageXObject(vt,Et)}paintFormXObjectBegin(yt,vt){if(Array.isArray(yt)&&yt.length===6&&this.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]),vt){const xt=vt[2]-vt[0],wt=vt[3]-vt[1],St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",vt[0]),St.setAttributeNS(null,"y",vt[1]),St.setAttributeNS(null,"width",ht(xt)),St.setAttributeNS(null,"height",ht(wt)),this.current.element=St,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(yt){const vt=this.svgFactory.create(yt.width,yt.height),xt=this.svgFactory.createElement("svg:defs");vt.append(xt),this.defs=xt;const wt=this.svgFactory.createElement("svg:g");return wt.setAttributeNS(null,"transform",mt(yt.transform)),vt.append(wt),this.svg=wt,vt}_ensureClipGroup(){if(!this.current.clipGroup){const yt=this.svgFactory.createElement("svg:g");yt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(yt),this.current.clipGroup=yt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",mt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=bt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class et{static textContent(rt){const nt=[],it={items:nt,styles:Object.create(null)};function at(st){var ct;if(!st)return;let ot=null;const lt=st.name;if(lt==="#text")ot=st.value;else if(et.shouldBuildText(lt))(ct=st==null?void 0:st.attributes)!=null&&ct.textContent?ot=st.attributes.textContent:st.value&&(ot=st.value);else return;if(ot!==null&&nt.push({str:ot}),!!st.children)for(const ut of st.children)at(ut)}return at(rt),it}static shouldBuildText(rt){return!(rt==="textarea"||rt==="input"||rt==="option"||rt==="select")}}$.XfaText=et},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=mt,$.updateTextLayer=pt;var tt=et(1),rt=et(6);const nt=1e5,it=30,at=.8,st=new Map;function ot(ft,gt){let bt;if(gt&&tt.FeatureTest.isOffscreenCanvasSupported)bt=new OffscreenCanvas(ft,ft).getContext("2d",{alpha:!1});else{const _t=document.createElement("canvas");_t.width=_t.height=ft,bt=_t.getContext("2d",{alpha:!1})}return bt}function lt(ft,gt){const bt=st.get(ft);if(bt)return bt;const _t=ot(it,gt);_t.font=`${it}px ${ft}`;const yt=_t.measureText("");let vt=yt.fontBoundingBoxAscent,xt=Math.abs(yt.fontBoundingBoxDescent);if(vt){const St=vt/(vt+xt);return st.set(ft,St),_t.canvas.width=_t.canvas.height=0,St}_t.strokeStyle="red",_t.clearRect(0,0,it,it),_t.strokeText("g",0,0);let wt=_t.getImageData(0,0,it,it).data;xt=0;for(let St=wt.length-1-3;St>=0;St-=4)if(wt[St]>0){xt=Math.ceil(St/4/it);break}_t.clearRect(0,0,it,it),_t.strokeText("A",0,it),wt=_t.getImageData(0,0,it,it).data,vt=0;for(let St=0,Ot=wt.length;St<Ot;St+=4)if(wt[St]>0){vt=it-Math.floor(St/4/it);break}if(_t.canvas.width=_t.canvas.height=0,vt){const St=vt/(vt+xt);return st.set(ft,St),St}return st.set(ft,at),at}function ct(ft,gt,bt){const _t=document.createElement("span"),yt={angle:0,canvasWidth:0,hasText:gt.str!=="",hasEOL:gt.hasEOL,fontSize:0};ft._textDivs.push(_t);const vt=tt.Util.transform(ft._transform,gt.transform);let xt=Math.atan2(vt[1],vt[0]);const wt=bt[gt.fontName];wt.vertical&&(xt+=Math.PI/2);const St=Math.hypot(vt[2],vt[3]),Ot=St*lt(wt.fontFamily,ft._isOffscreenCanvasSupported);let Et,Tt;xt===0?(Et=vt[4],Tt=vt[5]-Ot):(Et=vt[4]+Ot*Math.sin(xt),Tt=vt[5]-Ot*Math.cos(xt));const It="calc(var(--scale-factor)*",Wt=_t.style;ft._container===ft._rootContainer?(Wt.left=`${(100*Et/ft._pageWidth).toFixed(2)}%`,Wt.top=`${(100*Tt/ft._pageHeight).toFixed(2)}%`):(Wt.left=`${It}${Et.toFixed(2)}px)`,Wt.top=`${It}${Tt.toFixed(2)}px)`),Wt.fontSize=`${It}${St.toFixed(2)}px)`,Wt.fontFamily=wt.fontFamily,yt.fontSize=St,_t.setAttribute("role","presentation"),_t.textContent=gt.str,_t.dir=gt.dir,ft._fontInspectorEnabled&&(_t.dataset.fontName=gt.fontName),xt!==0&&(yt.angle=xt*(180/Math.PI));let Lt=!1;if(gt.str.length>1)Lt=!0;else if(gt.str!==" "&&gt.transform[0]!==gt.transform[3]){const zt=Math.abs(gt.transform[0]),Ft=Math.abs(gt.transform[3]);zt!==Ft&&Math.max(zt,Ft)/Math.min(zt,Ft)>1.5&&(Lt=!0)}Lt&&(yt.canvasWidth=wt.vertical?gt.height:gt.width),ft._textDivProperties.set(_t,yt),ft._isReadableStream&&ft._layoutText(_t)}function ut(ft){const{div:gt,scale:bt,properties:_t,ctx:yt,prevFontSize:vt,prevFontFamily:xt}=ft,{style:wt}=gt;let St="";if(_t.canvasWidth!==0&&_t.hasText){const{fontFamily:Ot}=wt,{canvasWidth:Et,fontSize:Tt}=_t;(vt!==Tt||xt!==Ot)&&(yt.font=`${Tt*bt}px ${Ot}`,ft.prevFontSize=Tt,ft.prevFontFamily=Ot);const{width:It}=yt.measureText(gt.textContent);It>0&&(St=`scaleX(${Et*bt/It})`)}_t.angle!==0&&(St=`rotate(${_t.angle}deg) ${St}`),St.length>0&&(wt.transform=St)}function dt(ft){if(ft._canceled)return;const gt=ft._textDivs,bt=ft._capability;if(gt.length>nt){bt.resolve();return}if(!ft._isReadableStream)for(const yt of gt)ft._layoutText(yt);bt.resolve()}class ht{constructor({textContentSource:gt,container:bt,viewport:_t,textDivs:yt,textDivProperties:vt,textContentItemsStr:xt,isOffscreenCanvasSupported:wt}){var It;this._textContentSource=gt,this._isReadableStream=gt instanceof ReadableStream,this._container=this._rootContainer=bt,this._textDivs=yt||[],this._textContentItemsStr=xt||[],this._isOffscreenCanvasSupported=wt,this._fontInspectorEnabled=!!((It=globalThis.FontInspector)!=null&&It.enabled),this._reader=null,this._textDivProperties=vt||new WeakMap,this._canceled=!1,this._capability=new tt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:_t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ot(0,wt)};const{pageWidth:St,pageHeight:Ot,pageX:Et,pageY:Tt}=_t.rawDims;this._transform=[1,0,0,-1,-Et,Tt+Ot],this._pageWidth=St,this._pageHeight=Ot,(0,rt.setLayerDimensions)(bt,_t),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new tt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new tt.AbortException("TextLayer task cancelled."))}_processItems(gt,bt){for(const _t of gt){if(_t.str===void 0){if(_t.type==="beginMarkedContentProps"||_t.type==="beginMarkedContent"){const yt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_t.id!==null&&this._container.setAttribute("id",`${_t.id}`),yt.append(this._container)}else _t.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(_t.str),ct(this,_t,bt)}}_layoutText(gt){const bt=this._layoutTextParams.properties=this._textDivProperties.get(gt);if(this._layoutTextParams.div=gt,ut(this._layoutTextParams),bt.hasText&&this._container.append(gt),bt.hasEOL){const _t=document.createElement("br");_t.setAttribute("role","presentation"),this._container.append(_t)}}_render(){const gt=new tt.PromiseCapability;let bt=Object.create(null);if(this._isReadableStream){const _t=()=>{this._reader.read().then(({value:yt,done:vt})=>{if(vt){gt.resolve();return}Object.assign(bt,yt.styles),this._processItems(yt.items,bt),_t()},gt.reject)};this._reader=this._textContentSource.getReader(),_t()}else if(this._textContentSource){const{items:_t,styles:yt}=this._textContentSource;this._processItems(_t,yt),gt.resolve()}else throw new Error('No "textContentSource" parameter specified.');gt.promise.then(()=>{bt=null,dt(this)},this._capability.reject)}}$.TextLayerRenderTask=ht;function mt(ft){!ft.textContentSource&&(ft.textContent||ft.textContentStream)&&((0,rt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ft.textContentSource=ft.textContent||ft.textContentStream);const{container:gt,viewport:bt}=ft,_t=getComputedStyle(gt),yt=_t.getPropertyValue("visibility"),vt=parseFloat(_t.getPropertyValue("--scale-factor"));yt==="visible"&&(!vt||Math.abs(vt-bt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const xt=new ht(ft);return xt._render(),xt}function pt({container:ft,viewport:gt,textDivs:bt,textDivProperties:_t,isOffscreenCanvasSupported:yt,mustRotate:vt=!0,mustRescale:xt=!0}){if(vt&&(0,rt.setLayerDimensions)(ft,{rotation:gt.rotation}),xt){const wt=ot(0,yt),Ot={prevFontSize:null,prevFontFamily:null,div:null,scale:gt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt};for(const Et of bt)Ot.properties=_t.get(Et),Ot.div=Et,ut(Ot)}}},(_e,$,et)=>{var lt,ct,ut,dt,ht,mt,pt,ft,gt,bt,_t,Jn,Pn,_i,na;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var tt=et(1),rt=et(4),nt=et(28),it=et(33),at=et(6),st=et(34);const St=class St{constructor({uiManager:Et,pageIndex:Tt,div:It,accessibilityManager:Wt,annotationLayer:Lt,viewport:zt,l10n:Ft}){or(this,_t);or(this,lt);or(this,ct,!1);or(this,ut,null);or(this,dt,this.pointerup.bind(this));or(this,ht,this.pointerdown.bind(this));or(this,mt,new Map);or(this,pt,!1);or(this,ft,!1);or(this,gt,!1);or(this,bt);const Rt=[nt.FreeTextEditor,it.InkEditor,st.StampEditor];if(!St._initialized){St._initialized=!0;for(const jt of Rt)jt.initialize(Ft)}Et.registerEditorTypes(Rt),cr(this,bt,Et),this.pageIndex=Tt,this.div=It,cr(this,lt,Wt),cr(this,ut,Lt),this.viewport=zt,$t(this,bt).addLayer(this)}get isEmpty(){return $t(this,mt).size===0}updateToolbar(Et){$t(this,bt).updateToolbar(Et)}updateMode(Et=$t(this,bt).getMode()){er(this,_t,na).call(this),Et===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Et!==tt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Et===tt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Et===tt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Et===tt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Et){if(!Et&&$t(this,bt).getMode()!==tt.AnnotationEditorType.INK)return;if(!Et){for(const It of $t(this,mt).values())if(It.isEmpty()){It.setInBackground();return}}er(this,_t,Pn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Et){$t(this,bt).setEditingState(Et)}addCommands(Et){$t(this,bt).addCommands(Et)}enable(){this.div.style.pointerEvents="auto";const Et=new Set;for(const It of $t(this,mt).values())It.enableEditing(),It.annotationElementId&&Et.add(It.annotationElementId);if(!$t(this,ut))return;const Tt=$t(this,ut).getEditableAnnotations();for(const It of Tt){if(It.hide(),$t(this,bt).isDeletedAnnotationElement(It.data.id)||Et.has(It.data.id))continue;const Wt=this.deserialize(It);Wt&&(this.addOrRebuild(Wt),Wt.enableEditing())}}disable(){var Tt;cr(this,gt,!0),this.div.style.pointerEvents="none";const Et=new Set;for(const It of $t(this,mt).values()){if(It.disableEditing(),!It.annotationElementId||It.serialize()!==null){Et.add(It.annotationElementId);continue}(Tt=this.getEditableAnnotation(It.annotationElementId))==null||Tt.show(),It.remove()}if($t(this,ut)){const It=$t(this,ut).getEditableAnnotations();for(const Wt of It){const{id:Lt}=Wt.data;Et.has(Lt)||$t(this,bt).isDeletedAnnotationElement(Lt)||Wt.show()}}er(this,_t,na).call(this),this.isEmpty&&(this.div.hidden=!0),cr(this,gt,!1)}getEditableAnnotation(Et){var Tt;return((Tt=$t(this,ut))==null?void 0:Tt.getEditableAnnotation(Et))||null}setActiveEditor(Et){$t(this,bt).getActive()!==Et&&$t(this,bt).setActiveEditor(Et)}enableClick(){this.div.addEventListener("pointerdown",$t(this,ht)),this.div.addEventListener("pointerup",$t(this,dt))}disableClick(){this.div.removeEventListener("pointerdown",$t(this,ht)),this.div.removeEventListener("pointerup",$t(this,dt))}attach(Et){$t(this,mt).set(Et.id,Et);const{annotationElementId:Tt}=Et;Tt&&$t(this,bt).isDeletedAnnotationElement(Tt)&&$t(this,bt).removeDeletedAnnotationElement(Et)}detach(Et){var Tt;$t(this,mt).delete(Et.id),(Tt=$t(this,lt))==null||Tt.removePointerInTextLayer(Et.contentDiv),!$t(this,gt)&&Et.annotationElementId&&$t(this,bt).addDeletedAnnotationElement(Et)}remove(Et){this.detach(Et),$t(this,bt).removeEditor(Et),Et.div.contains(document.activeElement)&&setTimeout(()=>{$t(this,bt).focusMainContainer()},0),Et.div.remove(),Et.isAttachedToDOM=!1,$t(this,ft)||this.addInkEditorIfNeeded(!1)}changeParent(Et){var Tt;Et.parent!==this&&(Et.annotationElementId&&($t(this,bt).addDeletedAnnotationElement(Et.annotationElementId),rt.AnnotationEditor.deleteAnnotationElement(Et),Et.annotationElementId=null),this.attach(Et),(Tt=Et.parent)==null||Tt.detach(Et),Et.setParent(this),Et.div&&Et.isAttachedToDOM&&(Et.div.remove(),this.div.append(Et.div)))}add(Et){if(this.changeParent(Et),$t(this,bt).addEditor(Et),this.attach(Et),!Et.isAttachedToDOM){const Tt=Et.render();this.div.append(Tt),Et.isAttachedToDOM=!0}Et.fixAndSetPosition(),Et.onceAdded(),$t(this,bt).addToAnnotationStorage(Et)}moveEditorInDOM(Et){var It;if(!Et.isAttachedToDOM)return;const{activeElement:Tt}=document;Et.div.contains(Tt)&&(Et._focusEventsAllowed=!1,setTimeout(()=>{Et.div.contains(document.activeElement)?Et._focusEventsAllowed=!0:(Et.div.addEventListener("focusin",()=>{Et._focusEventsAllowed=!0},{once:!0}),Tt.focus())},0)),Et._structTreeParentId=(It=$t(this,lt))==null?void 0:It.moveElementInDOM(this.div,Et.div,Et.contentDiv,!0)}addOrRebuild(Et){Et.needsToBeRebuilt()?Et.rebuild():this.add(Et)}addUndoableEditor(Et){const Tt=()=>Et._uiManager.rebuild(Et),It=()=>{Et.remove()};this.addCommands({cmd:Tt,undo:It,mustExec:!1})}getNextId(){return $t(this,bt).getId()}pasteEditor(Et,Tt){$t(this,bt).updateToolbar(Et),$t(this,bt).updateMode(Et);const{offsetX:It,offsetY:Wt}=er(this,_t,_i).call(this),Lt=this.getNextId(),zt=er(this,_t,Jn).call(this,{parent:this,id:Lt,x:It,y:Wt,uiManager:$t(this,bt),isCentered:!0,...Tt});zt&&this.add(zt)}deserialize(Et){switch(Et.annotationType??Et.annotationEditorType){case tt.AnnotationEditorType.FREETEXT:return nt.FreeTextEditor.deserialize(Et,this,$t(this,bt));case tt.AnnotationEditorType.INK:return it.InkEditor.deserialize(Et,this,$t(this,bt));case tt.AnnotationEditorType.STAMP:return st.StampEditor.deserialize(Et,this,$t(this,bt))}return null}addNewEditor(){er(this,_t,Pn).call(this,er(this,_t,_i).call(this),!0)}setSelected(Et){$t(this,bt).setSelected(Et)}toggleSelected(Et){$t(this,bt).toggleSelected(Et)}isSelected(Et){return $t(this,bt).isSelected(Et)}unselect(Et){$t(this,bt).unselect(Et)}pointerup(Et){const{isMac:Tt}=tt.FeatureTest.platform;if(!(Et.button!==0||Et.ctrlKey&&Tt)&&Et.target===this.div&&$t(this,pt)){if(cr(this,pt,!1),!$t(this,ct)){cr(this,ct,!0);return}if($t(this,bt).getMode()===tt.AnnotationEditorType.STAMP){$t(this,bt).unselectAll();return}er(this,_t,Pn).call(this,Et,!1)}}pointerdown(Et){if($t(this,pt)){cr(this,pt,!1);return}const{isMac:Tt}=tt.FeatureTest.platform;if(Et.button!==0||Et.ctrlKey&&Tt||Et.target!==this.div)return;cr(this,pt,!0);const It=$t(this,bt).getActive();cr(this,ct,!It||It.isEmpty())}findNewParent(Et,Tt,It){const Wt=$t(this,bt).findParent(Tt,It);return Wt===null||Wt===this?!1:(Wt.changeParent(Et),!0)}destroy(){var Et,Tt;((Et=$t(this,bt).getActive())==null?void 0:Et.parent)===this&&($t(this,bt).commitOrRemove(),$t(this,bt).setActiveEditor(null));for(const It of $t(this,mt).values())(Tt=$t(this,lt))==null||Tt.removePointerInTextLayer(It.contentDiv),It.setParent(null),It.isAttachedToDOM=!1,It.div.remove();this.div=null,$t(this,mt).clear(),$t(this,bt).removeLayer(this)}render({viewport:Et}){this.viewport=Et,(0,at.setLayerDimensions)(this.div,Et);for(const Tt of $t(this,bt).getEditors(this.pageIndex))this.add(Tt);this.updateMode()}update({viewport:Et}){$t(this,bt).commitOrRemove(),this.viewport=Et,(0,at.setLayerDimensions)(this.div,{rotation:Et.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Et,pageHeight:Tt}=this.viewport.rawDims;return[Et,Tt]}};lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,mt=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakMap,bt=new WeakMap,_t=new WeakSet,Jn=function(Et){switch($t(this,bt).getMode()){case tt.AnnotationEditorType.FREETEXT:return new nt.FreeTextEditor(Et);case tt.AnnotationEditorType.INK:return new it.InkEditor(Et);case tt.AnnotationEditorType.STAMP:return new st.StampEditor(Et)}return null},Pn=function(Et,Tt){const It=this.getNextId(),Wt=er(this,_t,Jn).call(this,{parent:this,id:It,x:Et.offsetX,y:Et.offsetY,uiManager:$t(this,bt),isCentered:Tt});return Wt&&this.add(Wt),Wt},_i=function(){const{x:Et,y:Tt,width:It,height:Wt}=this.div.getBoundingClientRect(),Lt=Math.max(0,Et),zt=Math.max(0,Tt),Ft=Math.min(window.innerWidth,Et+It),Rt=Math.min(window.innerHeight,Tt+Wt),jt=(Lt+Ft)/2-Et,Ct=(zt+Rt)/2-Tt,[Dt,Mt]=this.viewport.rotation%180===0?[jt,Ct]:[Ct,jt];return{offsetX:Dt,offsetY:Mt}},na=function(){cr(this,ft,!0);for(const Et of $t(this,mt).values())Et.isEmpty()&&Et.remove();cr(this,ft,!1)},Lr(St,"_initialized",!1);let ot=St;$.AnnotationEditorLayer=ot},(_e,$,et)=>{var st,ot,lt,ct,ut,dt,ht,mt,pt,ft,Ss,Es,$s,vn,ga,As,ba;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var tt=et(1),rt=et(5),nt=et(4),it=et(29);const St=class St extends nt.AnnotationEditor{constructor(Tt){super({...Tt,name:"freeTextEditor"});or(this,ft);or(this,st,this.editorDivBlur.bind(this));or(this,ot,this.editorDivFocus.bind(this));or(this,lt,this.editorDivInput.bind(this));or(this,ct,this.editorDivKeydown.bind(this));or(this,ut);or(this,dt,"");or(this,ht,`${this.id}-editor`);or(this,mt);or(this,pt,null);cr(this,ut,Tt.color||St._defaultColor||nt.AnnotationEditor._defaultLineColor),cr(this,mt,Tt.fontSize||St._defaultFontSize)}static get _keyboardManager(){const Tt=St.prototype,It=zt=>zt.isEmpty(),Wt=rt.AnnotationEditorUIManager.TRANSLATE_SMALL,Lt=rt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,tt.shadow)(this,"_keyboardManager",new rt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Tt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Tt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Tt._translateEmpty,{args:[-Wt,0],checker:It}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Tt._translateEmpty,{args:[-Lt,0],checker:It}],[["ArrowRight","mac+ArrowRight"],Tt._translateEmpty,{args:[Wt,0],checker:It}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Tt._translateEmpty,{args:[Lt,0],checker:It}],[["ArrowUp","mac+ArrowUp"],Tt._translateEmpty,{args:[0,-Wt],checker:It}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Tt._translateEmpty,{args:[0,-Lt],checker:It}],[["ArrowDown","mac+ArrowDown"],Tt._translateEmpty,{args:[0,Wt],checker:It}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Tt._translateEmpty,{args:[0,Lt],checker:It}]]))}static initialize(Tt){nt.AnnotationEditor.initialize(Tt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const It=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(It.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Tt,It){switch(Tt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:St._defaultFontSize=It;break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:St._defaultColor=It;break}}updateParams(Tt,It){switch(Tt){case tt.AnnotationEditorParamsType.FREETEXT_SIZE:er(this,ft,Ss).call(this,It);break;case tt.AnnotationEditorParamsType.FREETEXT_COLOR:er(this,ft,Es).call(this,It);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,St._defaultFontSize],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,St._defaultColor||nt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.FREETEXT_SIZE,$t(this,mt)],[tt.AnnotationEditorParamsType.FREETEXT_COLOR,$t(this,ut)]]}_translateEmpty(Tt,It){this._uiManager.translateSelectedEditors(Tt,It,!0)}getInitialTranslation(){const Tt=this.parentScale;return[-St._internalPadding*Tt,-(St._internalPadding+$t(this,mt))*Tt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(tt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",$t(this,ct)),this.editorDiv.addEventListener("focus",$t(this,ot)),this.editorDiv.addEventListener("blur",$t(this,st)),this.editorDiv.addEventListener("input",$t(this,lt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",$t(this,ht)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",$t(this,ct)),this.editorDiv.removeEventListener("focus",$t(this,ot)),this.editorDiv.removeEventListener("blur",$t(this,st)),this.editorDiv.removeEventListener("input",$t(this,lt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Tt){this._focusEventsAllowed&&(super.focusin(Tt),Tt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Tt;if(this.width){er(this,ft,ba).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Tt=this._initialOptions)!=null&&Tt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Tt=$t(this,dt),It=cr(this,dt,er(this,ft,$s).call(this).trimEnd());if(Tt===It)return;const Wt=Lt=>{if(cr(this,dt,Lt),!Lt){this.remove();return}er(this,ft,ga).call(this),this._uiManager.rebuild(this),er(this,ft,vn).call(this)};this.addCommands({cmd:()=>{Wt(It)},undo:()=>{Wt(Tt)},mustExec:!1}),er(this,ft,vn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Tt){this.enterInEditMode()}keydown(Tt){Tt.target===this.div&&Tt.key==="Enter"&&(this.enterInEditMode(),Tt.preventDefault())}editorDivKeydown(Tt){St._keyboardManager.exec(this,Tt)}editorDivFocus(Tt){this.isEditing=!0}editorDivBlur(Tt){this.isEditing=!1}editorDivInput(Tt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Tt,It;this.width&&(Tt=this.x,It=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",$t(this,ht)),this.enableEditing(),nt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Lt=>{var zt;return(zt=this.editorDiv)==null?void 0:zt.setAttribute("aria-label",Lt)}),nt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Lt=>{var zt;return(zt=this.editorDiv)==null?void 0:zt.setAttribute("default-content",Lt)}),this.editorDiv.contentEditable=!0;const{style:Wt}=this.editorDiv;if(Wt.fontSize=`calc(${$t(this,mt)}px * var(--scale-factor))`,Wt.color=$t(this,ut),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,rt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Lt,zt]=this.parentDimensions;if(this.annotationElementId){const{position:Ft}=$t(this,pt);let[Rt,jt]=this.getInitialTranslation();[Rt,jt]=this.pageTranslationToScreen(Rt,jt);const[Ct,Dt]=this.pageDimensions,[Mt,At]=this.pageTranslation;let Pt,Nt;switch(this.rotation){case 0:Pt=Tt+(Ft[0]-Mt)/Ct,Nt=It+this.height-(Ft[1]-At)/Dt;break;case 90:Pt=Tt+(Ft[0]-Mt)/Ct,Nt=It-(Ft[1]-At)/Dt,[Rt,jt]=[jt,-Rt];break;case 180:Pt=Tt-this.width+(Ft[0]-Mt)/Ct,Nt=It-(Ft[1]-At)/Dt,[Rt,jt]=[-Rt,-jt];break;case 270:Pt=Tt+(Ft[0]-Mt-this.height*Dt)/Ct,Nt=It+(Ft[1]-At-this.width*Ct)/Dt,[Rt,jt]=[-jt,Rt];break}this.setAt(Pt*Lt,Nt*zt,Rt,jt)}else this.setAt(Tt*Lt,It*zt,this.width*Lt,this.height*zt);er(this,ft,ga).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Tt,It,Wt){let Lt=null;if(Tt instanceof it.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ft,fontColor:Rt},rect:jt,rotation:Ct,id:Dt},textContent:Mt,textPosition:At,parent:{page:{pageNumber:Pt}}}=Tt;if(!Mt||Mt.length===0)return null;Lt=Tt={annotationType:tt.AnnotationEditorType.FREETEXT,color:Array.from(Rt),fontSize:Ft,value:Mt.join(`
`),position:At,pageIndex:Pt-1,rect:jt,rotation:Ct,id:Dt,deleted:!1}}const zt=super.deserialize(Tt,It,Wt);return cr(zt,mt,Tt.fontSize),cr(zt,ut,tt.Util.makeHexColor(...Tt.color)),cr(zt,dt,Tt.value),zt.annotationElementId=Tt.id||null,cr(zt,pt,Lt),zt}serialize(Tt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const It=St._internalPadding*this.parentScale,Wt=this.getRect(It,It),Lt=nt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:$t(this,ut)),zt={annotationType:tt.AnnotationEditorType.FREETEXT,color:Lt,fontSize:$t(this,mt),value:$t(this,dt),pageIndex:this.pageIndex,rect:Wt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Tt?zt:this.annotationElementId&&!er(this,ft,As).call(this,zt)?null:(zt.id=this.annotationElementId,zt)}};st=new WeakMap,ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,mt=new WeakMap,pt=new WeakMap,ft=new WeakSet,Ss=function(Tt){const It=Lt=>{this.editorDiv.style.fontSize=`calc(${Lt}px * var(--scale-factor))`,this.translate(0,-(Lt-$t(this,mt))*this.parentScale),cr(this,mt,Lt),er(this,ft,vn).call(this)},Wt=$t(this,mt);this.addCommands({cmd:()=>{It(Tt)},undo:()=>{It(Wt)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Es=function(Tt){const It=$t(this,ut);this.addCommands({cmd:()=>{cr(this,ut,this.editorDiv.style.color=Tt)},undo:()=>{cr(this,ut,this.editorDiv.style.color=It)},mustExec:!0,type:tt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$s=function(){const Tt=this.editorDiv.getElementsByTagName("div");if(Tt.length===0)return this.editorDiv.innerText;const It=[];for(const Wt of Tt)It.push(Wt.innerText.replace(/\r\n?|\n/,""));return It.join(`
`)},vn=function(){const[Tt,It]=this.parentDimensions;let Wt;if(this.isAttachedToDOM)Wt=this.div.getBoundingClientRect();else{const{currentLayer:Lt,div:zt}=this,Ft=zt.style.display;zt.style.display="hidden",Lt.div.append(this.div),Wt=zt.getBoundingClientRect(),zt.remove(),zt.style.display=Ft}this.rotation%180===this.parentRotation%180?(this.width=Wt.width/Tt,this.height=Wt.height/It):(this.width=Wt.height/Tt,this.height=Wt.width/It),this.fixAndSetPosition()},ga=function(){if(this.editorDiv.replaceChildren(),!!$t(this,dt))for(const Tt of $t(this,dt).split(`
`)){const It=document.createElement("div");It.append(Tt?document.createTextNode(Tt):document.createElement("br")),this.editorDiv.append(It)}},As=function(Tt){const{value:It,fontSize:Wt,color:Lt,rect:zt,pageIndex:Ft}=$t(this,pt);return Tt.value!==It||Tt.fontSize!==Wt||Tt.rect.some((Rt,jt)=>Math.abs(Rt-zt[jt])>=1)||Tt.color.some((Rt,jt)=>Rt!==Lt[jt])||Tt.pageIndex!==Ft},ba=function(Tt=!1){if(!this.annotationElementId)return;if(er(this,ft,vn).call(this),!Tt&&(this.width===0||this.height===0)){setTimeout(()=>er(this,ft,ba).call(this,!0),0);return}const It=St._internalPadding*this.parentScale;$t(this,pt).rect=this.getRect(It,It)},Lr(St,"_freeTextDefaultContent",""),Lr(St,"_internalPadding",0),Lr(St,"_defaultColor",null),Lr(St,"_defaultFontSize",10),Lr(St,"_type","freetext");let at=St;$.FreeTextEditor=at},(_e,$,et)=>{var Nt,Vt,sn,Ps,Jt,ar,Qt,fr,hr,gr,rr,ir,Ut,Yt,tr,sr,pr,xr,br,nr,$r,Sr,Ts,Tn,xa,_a,Dr,Gr,Yr,_r,lr,ur,Tr,$a,Hr,Xt,yr,Er,Cs,es;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var tt=et(1),rt=et(6),nt=et(3),it=et(30),at=et(31),st=et(32);const ot=1e3,lt=9,ct=new WeakSet;function ut(Pr){return{width:Pr[2]-Pr[0],height:Pr[3]-Pr[1]}}class dt{static create(Kt){switch(Kt.data.annotationType){case tt.AnnotationType.LINK:return new mt(Kt);case tt.AnnotationType.TEXT:return new pt(Kt);case tt.AnnotationType.WIDGET:switch(Kt.data.fieldType){case"Tx":return new gt(Kt);case"Btn":return Kt.data.radioButton?new yt(Kt):Kt.data.checkBox?new _t(Kt):new vt(Kt);case"Ch":return new xt(Kt);case"Sig":return new bt(Kt)}return new ft(Kt);case tt.AnnotationType.POPUP:return new wt(Kt);case tt.AnnotationType.FREETEXT:return new Ot(Kt);case tt.AnnotationType.LINE:return new Et(Kt);case tt.AnnotationType.SQUARE:return new Tt(Kt);case tt.AnnotationType.CIRCLE:return new It(Kt);case tt.AnnotationType.POLYLINE:return new Wt(Kt);case tt.AnnotationType.CARET:return new zt(Kt);case tt.AnnotationType.INK:return new Ft(Kt);case tt.AnnotationType.POLYGON:return new Lt(Kt);case tt.AnnotationType.HIGHLIGHT:return new Rt(Kt);case tt.AnnotationType.UNDERLINE:return new jt(Kt);case tt.AnnotationType.SQUIGGLY:return new Ct(Kt);case tt.AnnotationType.STRIKEOUT:return new Dt(Kt);case tt.AnnotationType.STAMP:return new Mt(Kt);case tt.AnnotationType.FILEATTACHMENT:return new At(Kt);default:return new ht(Kt)}}}const Bt=class Bt{constructor(Kt,{isRenderable:Ht=!1,ignoreBorder:Zt=!1,createQuadrilaterals:dr=!1}={}){or(this,Nt,!1);this.isRenderable=Ht,this.data=Kt.data,this.layer=Kt.layer,this.linkService=Kt.linkService,this.downloadManager=Kt.downloadManager,this.imageResourcesPath=Kt.imageResourcesPath,this.renderForms=Kt.renderForms,this.svgFactory=Kt.svgFactory,this.annotationStorage=Kt.annotationStorage,this.enableScripting=Kt.enableScripting,this.hasJSActions=Kt.hasJSActions,this._fieldObjects=Kt.fieldObjects,this.parent=Kt.parent,Ht&&(this.container=this._createContainer(Zt)),dr&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Kt,contentsObj:Ht,richText:Zt}){return!!(Kt!=null&&Kt.str||Ht!=null&&Ht.str||Zt!=null&&Zt.str)}get hasPopupData(){return Bt._hasPopupData(this.data)}_createContainer(Kt){const{data:Ht,parent:{page:Zt,viewport:dr}}=this,mr=document.createElement("section");mr.setAttribute("data-annotation-id",Ht.id),this instanceof ft||(mr.tabIndex=ot),mr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&mr.setAttribute("aria-haspopup","dialog"),Ht.noRotate&&mr.classList.add("norotate");const{pageWidth:vr,pageHeight:wr,pageX:Mr,pageY:Or}=dr.rawDims;if(!Ht.rect||this instanceof wt){const{rotation:Br}=Ht;return!Ht.hasOwnCanvas&&Br!==0&&this.setRotation(Br,mr),mr}const{width:Ar,height:zr}=ut(Ht.rect),jr=tt.Util.normalizeRect([Ht.rect[0],Zt.view[3]-Ht.rect[1]+Zt.view[1],Ht.rect[2],Zt.view[3]-Ht.rect[3]+Zt.view[1]]);if(!Kt&&Ht.borderStyle.width>0){mr.style.borderWidth=`${Ht.borderStyle.width}px`;const Br=Ht.borderStyle.horizontalCornerRadius,Wr=Ht.borderStyle.verticalCornerRadius;if(Br>0||Wr>0){const Xr=`calc(${Br}px * var(--scale-factor)) / calc(${Wr}px * var(--scale-factor))`;mr.style.borderRadius=Xr}else if(this instanceof yt){const Xr=`calc(${Ar}px * var(--scale-factor)) / calc(${zr}px * var(--scale-factor))`;mr.style.borderRadius=Xr}switch(Ht.borderStyle.style){case tt.AnnotationBorderStyleType.SOLID:mr.style.borderStyle="solid";break;case tt.AnnotationBorderStyleType.DASHED:mr.style.borderStyle="dashed";break;case tt.AnnotationBorderStyleType.BEVELED:(0,tt.warn)("Unimplemented border style: beveled");break;case tt.AnnotationBorderStyleType.INSET:(0,tt.warn)("Unimplemented border style: inset");break;case tt.AnnotationBorderStyleType.UNDERLINE:mr.style.borderBottomStyle="solid";break}const Kr=Ht.borderColor||null;Kr?(cr(this,Nt,!0),mr.style.borderColor=tt.Util.makeHexColor(Kr[0]|0,Kr[1]|0,Kr[2]|0)):mr.style.borderWidth=0}mr.style.left=`${100*(jr[0]-Mr)/vr}%`,mr.style.top=`${100*(jr[1]-Or)/wr}%`;const{rotation:Ir}=Ht;return Ht.hasOwnCanvas||Ir===0?(mr.style.width=`${100*Ar/vr}%`,mr.style.height=`${100*zr/wr}%`):this.setRotation(Ir,mr),mr}setRotation(Kt,Ht=this.container){if(!this.data.rect)return;const{pageWidth:Zt,pageHeight:dr}=this.parent.viewport.rawDims,{width:mr,height:vr}=ut(this.data.rect);let wr,Mr;Kt%180===0?(wr=100*mr/Zt,Mr=100*vr/dr):(wr=100*vr/Zt,Mr=100*mr/dr),Ht.style.width=`${wr}%`,Ht.style.height=`${Mr}%`,Ht.setAttribute("data-main-rotation",(360-Kt)%360)}get _commonActions(){const Kt=(Ht,Zt,dr)=>{const mr=dr.detail[Ht],vr=mr[0],wr=mr.slice(1);dr.target.style[Zt]=it.ColorConverters[`${vr}_HTML`](wr),this.annotationStorage.setValue(this.data.id,{[Zt]:it.ColorConverters[`${vr}_rgb`](wr)})};return(0,tt.shadow)(this,"_commonActions",{display:Ht=>{const{display:Zt}=Ht.detail,dr=Zt%2===1;this.container.style.visibility=dr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:dr,noPrint:Zt===1||Zt===2})},print:Ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ht.detail.print})},hidden:Ht=>{const{hidden:Zt}=Ht.detail;this.container.style.visibility=Zt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Zt,noView:Zt})},focus:Ht=>{setTimeout(()=>Ht.target.focus({preventScroll:!1}),0)},userName:Ht=>{Ht.target.title=Ht.detail.userName},readonly:Ht=>{Ht.target.disabled=Ht.detail.readonly},required:Ht=>{this._setRequired(Ht.target,Ht.detail.required)},bgColor:Ht=>{Kt("bgColor","backgroundColor",Ht)},fillColor:Ht=>{Kt("fillColor","backgroundColor",Ht)},fgColor:Ht=>{Kt("fgColor","color",Ht)},textColor:Ht=>{Kt("textColor","color",Ht)},borderColor:Ht=>{Kt("borderColor","borderColor",Ht)},strokeColor:Ht=>{Kt("strokeColor","borderColor",Ht)},rotation:Ht=>{const Zt=Ht.detail.rotation;this.setRotation(Zt),this.annotationStorage.setValue(this.data.id,{rotation:Zt})}})}_dispatchEventFromSandbox(Kt,Ht){const Zt=this._commonActions;for(const dr of Object.keys(Ht.detail)){const mr=Kt[dr]||Zt[dr];mr==null||mr(Ht)}}_setDefaultPropertiesFromJS(Kt){if(!this.enableScripting)return;const Ht=this.annotationStorage.getRawValue(this.data.id);if(!Ht)return;const Zt=this._commonActions;for(const[dr,mr]of Object.entries(Ht)){const vr=Zt[dr];if(vr){const wr={detail:{[dr]:mr},target:Kt};vr(wr),delete Ht[dr]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Kt}=this.data;if(!Kt)return;const[Ht,Zt,dr,mr]=this.data.rect;if(Kt.length===1){const[,{x:Wr,y:Kr},{x:Xr,y:Zr}]=Kt[0];if(dr===Wr&&mr===Kr&&Ht===Xr&&Zt===Zr)return}const{style:vr}=this.container;let wr;if($t(this,Nt)){const{borderColor:Wr,borderWidth:Kr}=vr;vr.borderWidth=0,wr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Wr}" stroke-width="${Kr}">`],this.container.classList.add("hasBorder")}const Mr=dr-Ht,Or=mr-Zt,{svgFactory:Ar}=this,zr=Ar.createElement("svg");zr.classList.add("quadrilateralsContainer"),zr.setAttribute("width",0),zr.setAttribute("height",0);const jr=Ar.createElement("defs");zr.append(jr);const Ir=Ar.createElement("clipPath"),Br=`clippath_${this.data.id}`;Ir.setAttribute("id",Br),Ir.setAttribute("clipPathUnits","objectBoundingBox"),jr.append(Ir);for(const[,{x:Wr,y:Kr},{x:Xr,y:Zr}]of Kt){const Qr=Ar.createElement("rect"),en=(Xr-Ht)/Mr,rn=(mr-Kr)/Or,nn=(Wr-Xr)/Mr,cs=(Kr-Zr)/Or;Qr.setAttribute("x",en),Qr.setAttribute("y",rn),Qr.setAttribute("width",nn),Qr.setAttribute("height",cs),Ir.append(Qr),wr==null||wr.push(`<rect vector-effect="non-scaling-stroke" x="${en}" y="${rn}" width="${nn}" height="${cs}"/>`)}$t(this,Nt)&&(wr.push("</g></svg>')"),vr.backgroundImage=wr.join("")),this.container.append(zr),this.container.style.clipPath=`url(#${Br})`}_createPopup(){const{container:Kt,data:Ht}=this;Kt.setAttribute("aria-haspopup","dialog");const Zt=new wt({data:{color:Ht.color,titleObj:Ht.titleObj,modificationDate:Ht.modificationDate,contentsObj:Ht.contentsObj,richText:Ht.richText,parentRect:Ht.rect,borderStyle:0,id:`popup_${Ht.id}`,rotation:Ht.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Zt.render())}render(){(0,tt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Kt,Ht=null){const Zt=[];if(this._fieldObjects){const dr=this._fieldObjects[Kt];if(dr)for(const{page:mr,id:vr,exportValues:wr}of dr){if(mr===-1||vr===Ht)continue;const Mr=typeof wr=="string"?wr:null,Or=document.querySelector(`[data-element-id="${vr}"]`);if(Or&&!ct.has(Or)){(0,tt.warn)(`_getElementsByName - element not allowed: ${vr}`);continue}Zt.push({id:vr,exportValue:Mr,domElement:Or})}return Zt}for(const dr of document.getElementsByName(Kt)){const{exportValue:mr}=dr,vr=dr.getAttribute("data-element-id");vr!==Ht&&ct.has(dr)&&Zt.push({id:vr,exportValue:mr,domElement:dr})}return Zt}show(){var Kt;this.container&&(this.container.hidden=!1),(Kt=this.popup)==null||Kt.maybeShow()}hide(){var Kt;this.container&&(this.container.hidden=!0),(Kt=this.popup)==null||Kt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Kt=this.getElementsToTriggerPopup();if(Array.isArray(Kt))for(const Ht of Kt)Ht.classList.add("highlightArea");else Kt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Kt,data:{id:Ht}}=this;this.container.addEventListener("dblclick",()=>{var Zt;(Zt=this.linkService.eventBus)==null||Zt.dispatch("switchannotationeditormode",{source:this,mode:Kt,editId:Ht})})}};Nt=new WeakMap;let ht=Bt;class mt extends ht{constructor(Ht,Zt=null){super(Ht,{isRenderable:!0,ignoreBorder:!!(Zt!=null&&Zt.ignoreBorder),createQuadrilaterals:!0});or(this,Vt);this.isTooltipOnly=Ht.data.isTooltipOnly}render(){const{data:Ht,linkService:Zt}=this,dr=document.createElement("a");dr.setAttribute("data-element-id",Ht.id);let mr=!1;return Ht.url?(Zt.addLinkAttributes(dr,Ht.url,Ht.newWindow),mr=!0):Ht.action?(this._bindNamedAction(dr,Ht.action),mr=!0):Ht.attachment?(this._bindAttachment(dr,Ht.attachment),mr=!0):Ht.setOCGState?(er(this,Vt,Ps).call(this,dr,Ht.setOCGState),mr=!0):Ht.dest?(this._bindLink(dr,Ht.dest),mr=!0):(Ht.actions&&(Ht.actions.Action||Ht.actions["Mouse Up"]||Ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(dr,Ht),mr=!0),Ht.resetForm?(this._bindResetFormAction(dr,Ht.resetForm),mr=!0):this.isTooltipOnly&&!mr&&(this._bindLink(dr,""),mr=!0)),this.container.classList.add("linkAnnotation"),mr&&this.container.append(dr),this.container}_bindLink(Ht,Zt){Ht.href=this.linkService.getDestinationHash(Zt),Ht.onclick=()=>(Zt&&this.linkService.goToDestination(Zt),!1),(Zt||Zt==="")&&er(this,Vt,sn).call(this)}_bindNamedAction(Ht,Zt){Ht.href=this.linkService.getAnchorUrl(""),Ht.onclick=()=>(this.linkService.executeNamedAction(Zt),!1),er(this,Vt,sn).call(this)}_bindAttachment(Ht,Zt){Ht.href=this.linkService.getAnchorUrl(""),Ht.onclick=()=>{var dr;return(dr=this.downloadManager)==null||dr.openOrDownloadData(this.container,Zt.content,Zt.filename),!1},er(this,Vt,sn).call(this)}_bindJSAction(Ht,Zt){Ht.href=this.linkService.getAnchorUrl("");const dr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const mr of Object.keys(Zt.actions)){const vr=dr.get(mr);vr&&(Ht[vr]=()=>{var wr;return(wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Zt.id,name:mr}}),!1})}Ht.onclick||(Ht.onclick=()=>!1),er(this,Vt,sn).call(this)}_bindResetFormAction(Ht,Zt){const dr=Ht.onclick;if(dr||(Ht.href=this.linkService.getAnchorUrl("")),er(this,Vt,sn).call(this),!this._fieldObjects){(0,tt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),dr||(Ht.onclick=()=>!1);return}Ht.onclick=()=>{var zr;dr==null||dr();const{fields:mr,refs:vr,include:wr}=Zt,Mr=[];if(mr.length!==0||vr.length!==0){const jr=new Set(vr);for(const Ir of mr){const Br=this._fieldObjects[Ir]||[];for(const{id:Wr}of Br)jr.add(Wr)}for(const Ir of Object.values(this._fieldObjects))for(const Br of Ir)jr.has(Br.id)===wr&&Mr.push(Br)}else for(const jr of Object.values(this._fieldObjects))Mr.push(...jr);const Or=this.annotationStorage,Ar=[];for(const jr of Mr){const{id:Ir}=jr;switch(Ar.push(Ir),jr.type){case"text":{const Wr=jr.defaultValue||"";Or.setValue(Ir,{value:Wr});break}case"checkbox":case"radiobutton":{const Wr=jr.defaultValue===jr.exportValues;Or.setValue(Ir,{value:Wr});break}case"combobox":case"listbox":{const Wr=jr.defaultValue||"";Or.setValue(Ir,{value:Wr});break}default:continue}const Br=document.querySelector(`[data-element-id="${Ir}"]`);if(Br){if(!ct.has(Br)){(0,tt.warn)(`_bindResetFormAction - element not allowed: ${Ir}`);continue}}else continue;Br.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ar,name:"ResetForm"}})),!1}}}Vt=new WeakSet,sn=function(){this.container.setAttribute("data-internal-link","")},Ps=function(Ht,Zt){Ht.href=this.linkService.getAnchorUrl(""),Ht.onclick=()=>(this.linkService.executeSetOCGState(Zt),!1),er(this,Vt,sn).call(this)};class pt extends ht{constructor(Kt){super(Kt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Kt=document.createElement("img");return Kt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Kt.alt="[{{type}} Annotation]",Kt.dataset.l10nId="text_annotation_type",Kt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Kt),this.container}}class ft extends ht{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Kt){var Ht;this.data.hasOwnCanvas&&(((Ht=Kt.previousSibling)==null?void 0:Ht.nodeName)==="CANVAS"&&(Kt.previousSibling.hidden=!0),Kt.hidden=!1)}_getKeyModifier(Kt){const{isWin:Ht,isMac:Zt}=tt.FeatureTest.platform;return Ht&&Kt.ctrlKey||Zt&&Kt.metaKey}_setEventListener(Kt,Ht,Zt,dr,mr){Zt.includes("mouse")?Kt.addEventListener(Zt,vr=>{var wr;(wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:dr,value:mr(vr),shift:vr.shiftKey,modifier:this._getKeyModifier(vr)}})}):Kt.addEventListener(Zt,vr=>{var wr;if(Zt==="blur"){if(!Ht.focused||!vr.relatedTarget)return;Ht.focused=!1}else if(Zt==="focus"){if(Ht.focused)return;Ht.focused=!0}mr&&((wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:dr,value:mr(vr)}}))})}_setEventListeners(Kt,Ht,Zt,dr){var mr,vr,wr;for(const[Mr,Or]of Zt)(Or==="Action"||(mr=this.data.actions)!=null&&mr[Or])&&((Or==="Focus"||Or==="Blur")&&(Ht||(Ht={focused:!1})),this._setEventListener(Kt,Ht,Mr,Or,dr),Or==="Focus"&&!((vr=this.data.actions)!=null&&vr.Blur)?this._setEventListener(Kt,Ht,"blur","Blur",null):Or==="Blur"&&!((wr=this.data.actions)!=null&&wr.Focus)&&this._setEventListener(Kt,Ht,"focus","Focus",null))}_setBackgroundColor(Kt){const Ht=this.data.backgroundColor||null;Kt.style.backgroundColor=Ht===null?"transparent":tt.Util.makeHexColor(Ht[0],Ht[1],Ht[2])}_setTextStyle(Kt){const Ht=["left","center","right"],{fontColor:Zt}=this.data.defaultAppearanceData,dr=this.data.defaultAppearanceData.fontSize||lt,mr=Kt.style;let vr;const wr=2,Mr=Or=>Math.round(10*Or)/10;if(this.data.multiLine){const Or=Math.abs(this.data.rect[3]-this.data.rect[1]-wr),Ar=Math.round(Or/(tt.LINE_FACTOR*dr))||1,zr=Or/Ar;vr=Math.min(dr,Mr(zr/tt.LINE_FACTOR))}else{const Or=Math.abs(this.data.rect[3]-this.data.rect[1]-wr);vr=Math.min(dr,Mr(Or/tt.LINE_FACTOR))}mr.fontSize=`calc(${vr}px * var(--scale-factor))`,mr.color=tt.Util.makeHexColor(Zt[0],Zt[1],Zt[2]),this.data.textAlignment!==null&&(mr.textAlign=Ht[this.data.textAlignment])}_setRequired(Kt,Ht){Ht?Kt.setAttribute("required",!0):Kt.removeAttribute("required"),Kt.setAttribute("aria-required",Ht)}}class gt extends ft{constructor(Kt){const Ht=Kt.renderForms||!Kt.data.hasAppearance&&!!Kt.data.fieldValue;super(Kt,{isRenderable:Ht})}setPropertyOnSiblings(Kt,Ht,Zt,dr){const mr=this.annotationStorage;for(const vr of this._getElementsByName(Kt.name,Kt.id))vr.domElement&&(vr.domElement[Ht]=Zt),mr.setValue(vr.id,{[dr]:Zt})}render(){var dr,mr;const Kt=this.annotationStorage,Ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let Zt=null;if(this.renderForms){const vr=Kt.getValue(Ht,{value:this.data.fieldValue});let wr=vr.value||"";const Mr=Kt.getValue(Ht,{charLimit:this.data.maxLen}).charLimit;Mr&&wr.length>Mr&&(wr=wr.slice(0,Mr));let Or=vr.formattedValue||((dr=this.data.textContent)==null?void 0:dr.join(`
`))||null;Or&&this.data.comb&&(Or=Or.replaceAll(/\s+/g,""));const Ar={userValue:wr,formattedValue:Or,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Zt=document.createElement("textarea"),Zt.textContent=Or??wr,this.data.doNotScroll&&(Zt.style.overflowY="hidden")):(Zt=document.createElement("input"),Zt.type="text",Zt.setAttribute("value",Or??wr),this.data.doNotScroll&&(Zt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Zt.hidden=!0),ct.add(Zt),Zt.setAttribute("data-element-id",Ht),Zt.disabled=this.data.readOnly,Zt.name=this.data.fieldName,Zt.tabIndex=ot,this._setRequired(Zt,this.data.required),Mr&&(Zt.maxLength=Mr),Zt.addEventListener("input",jr=>{Kt.setValue(Ht,{value:jr.target.value}),this.setPropertyOnSiblings(Zt,"value",jr.target.value,"value"),Ar.formattedValue=null}),Zt.addEventListener("resetform",jr=>{const Ir=this.data.defaultFieldValue??"";Zt.value=Ar.userValue=Ir,Ar.formattedValue=null});let zr=jr=>{const{formattedValue:Ir}=Ar;Ir!=null&&(jr.target.value=Ir),jr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Zt.addEventListener("focus",Ir=>{if(Ar.focused)return;const{target:Br}=Ir;Ar.userValue&&(Br.value=Ar.userValue),Ar.lastCommittedValue=Br.value,Ar.commitKey=1,Ar.focused=!0}),Zt.addEventListener("updatefromsandbox",Ir=>{this.showElementAndHideCanvas(Ir.target);const Br={value(Wr){Ar.userValue=Wr.detail.value??"",Kt.setValue(Ht,{value:Ar.userValue.toString()}),Wr.target.value=Ar.userValue},formattedValue(Wr){const{formattedValue:Kr}=Wr.detail;Ar.formattedValue=Kr,Kr!=null&&Wr.target!==document.activeElement&&(Wr.target.value=Kr),Kt.setValue(Ht,{formattedValue:Kr})},selRange(Wr){Wr.target.setSelectionRange(...Wr.detail.selRange)},charLimit:Wr=>{var Qr;const{charLimit:Kr}=Wr.detail,{target:Xr}=Wr;if(Kr===0){Xr.removeAttribute("maxLength");return}Xr.setAttribute("maxLength",Kr);let Zr=Ar.userValue;!Zr||Zr.length<=Kr||(Zr=Zr.slice(0,Kr),Xr.value=Ar.userValue=Zr,Kt.setValue(Ht,{value:Zr}),(Qr=this.linkService.eventBus)==null||Qr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht,name:"Keystroke",value:Zr,willCommit:!0,commitKey:1,selStart:Xr.selectionStart,selEnd:Xr.selectionEnd}}))}};this._dispatchEventFromSandbox(Br,Ir)}),Zt.addEventListener("keydown",Ir=>{var Kr;Ar.commitKey=1;let Br=-1;if(Ir.key==="Escape"?Br=0:Ir.key==="Enter"&&!this.data.multiLine?Br=2:Ir.key==="Tab"&&(Ar.commitKey=3),Br===-1)return;const{value:Wr}=Ir.target;Ar.lastCommittedValue!==Wr&&(Ar.lastCommittedValue=Wr,Ar.userValue=Wr,(Kr=this.linkService.eventBus)==null||Kr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht,name:"Keystroke",value:Wr,willCommit:!0,commitKey:Br,selStart:Ir.target.selectionStart,selEnd:Ir.target.selectionEnd}}))});const jr=zr;zr=null,Zt.addEventListener("blur",Ir=>{var Wr;if(!Ar.focused||!Ir.relatedTarget)return;Ar.focused=!1;const{value:Br}=Ir.target;Ar.userValue=Br,Ar.lastCommittedValue!==Br&&((Wr=this.linkService.eventBus)==null||Wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht,name:"Keystroke",value:Br,willCommit:!0,commitKey:Ar.commitKey,selStart:Ir.target.selectionStart,selEnd:Ir.target.selectionEnd}})),jr(Ir)}),(mr=this.data.actions)!=null&&mr.Keystroke&&Zt.addEventListener("beforeinput",Ir=>{var rn;Ar.lastCommittedValue=null;const{data:Br,target:Wr}=Ir,{value:Kr,selectionStart:Xr,selectionEnd:Zr}=Wr;let Qr=Xr,en=Zr;switch(Ir.inputType){case"deleteWordBackward":{const nn=Kr.substring(0,Xr).match(/\w*[^\w]*$/);nn&&(Qr-=nn[0].length);break}case"deleteWordForward":{const nn=Kr.substring(Xr).match(/^[^\w]*\w*/);nn&&(en+=nn[0].length);break}case"deleteContentBackward":Xr===Zr&&(Qr-=1);break;case"deleteContentForward":Xr===Zr&&(en+=1);break}Ir.preventDefault(),(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht,name:"Keystroke",value:Kr,change:Br||"",willCommit:!1,selStart:Qr,selEnd:en}})}),this._setEventListeners(Zt,Ar,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ir=>Ir.target.value)}if(zr&&Zt.addEventListener("blur",zr),this.data.comb){const Ir=(this.data.rect[2]-this.data.rect[0])/Mr;Zt.classList.add("comb"),Zt.style.letterSpacing=`calc(${Ir}px * var(--scale-factor) - 1ch)`}}else Zt=document.createElement("div"),Zt.textContent=this.data.fieldValue,Zt.style.verticalAlign="middle",Zt.style.display="table-cell";return this._setTextStyle(Zt),this._setBackgroundColor(Zt),this._setDefaultPropertiesFromJS(Zt),this.container.append(Zt),this.container}}class bt extends ft{constructor(Kt){super(Kt,{isRenderable:!!Kt.data.hasOwnCanvas})}}class _t extends ft{constructor(Kt){super(Kt,{isRenderable:Kt.renderForms})}render(){const Kt=this.annotationStorage,Ht=this.data,Zt=Ht.id;let dr=Kt.getValue(Zt,{value:Ht.exportValue===Ht.fieldValue}).value;typeof dr=="string"&&(dr=dr!=="Off",Kt.setValue(Zt,{value:dr})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const mr=document.createElement("input");return ct.add(mr),mr.setAttribute("data-element-id",Zt),mr.disabled=Ht.readOnly,this._setRequired(mr,this.data.required),mr.type="checkbox",mr.name=Ht.fieldName,dr&&mr.setAttribute("checked",!0),mr.setAttribute("exportValue",Ht.exportValue),mr.tabIndex=ot,mr.addEventListener("change",vr=>{const{name:wr,checked:Mr}=vr.target;for(const Or of this._getElementsByName(wr,Zt)){const Ar=Mr&&Or.exportValue===Ht.exportValue;Or.domElement&&(Or.domElement.checked=Ar),Kt.setValue(Or.id,{value:Ar})}Kt.setValue(Zt,{value:Mr})}),mr.addEventListener("resetform",vr=>{const wr=Ht.defaultFieldValue||"Off";vr.target.checked=wr===Ht.exportValue}),this.enableScripting&&this.hasJSActions&&(mr.addEventListener("updatefromsandbox",vr=>{const wr={value(Mr){Mr.target.checked=Mr.detail.value!=="Off",Kt.setValue(Zt,{value:Mr.target.checked})}};this._dispatchEventFromSandbox(wr,vr)}),this._setEventListeners(mr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vr=>vr.target.checked)),this._setBackgroundColor(mr),this._setDefaultPropertiesFromJS(mr),this.container.append(mr),this.container}}class yt extends ft{constructor(Kt){super(Kt,{isRenderable:Kt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Kt=this.annotationStorage,Ht=this.data,Zt=Ht.id;let dr=Kt.getValue(Zt,{value:Ht.fieldValue===Ht.buttonValue}).value;typeof dr=="string"&&(dr=dr!==Ht.buttonValue,Kt.setValue(Zt,{value:dr}));const mr=document.createElement("input");if(ct.add(mr),mr.setAttribute("data-element-id",Zt),mr.disabled=Ht.readOnly,this._setRequired(mr,this.data.required),mr.type="radio",mr.name=Ht.fieldName,dr&&mr.setAttribute("checked",!0),mr.tabIndex=ot,mr.addEventListener("change",vr=>{const{name:wr,checked:Mr}=vr.target;for(const Or of this._getElementsByName(wr,Zt))Kt.setValue(Or.id,{value:!1});Kt.setValue(Zt,{value:Mr})}),mr.addEventListener("resetform",vr=>{const wr=Ht.defaultFieldValue;vr.target.checked=wr!=null&&wr===Ht.buttonValue}),this.enableScripting&&this.hasJSActions){const vr=Ht.buttonValue;mr.addEventListener("updatefromsandbox",wr=>{const Mr={value:Or=>{const Ar=vr===Or.detail.value;for(const zr of this._getElementsByName(Or.target.name)){const jr=Ar&&zr.id===Zt;zr.domElement&&(zr.domElement.checked=jr),Kt.setValue(zr.id,{value:jr})}}};this._dispatchEventFromSandbox(Mr,wr)}),this._setEventListeners(mr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wr=>wr.target.checked)}return this._setBackgroundColor(mr),this._setDefaultPropertiesFromJS(mr),this.container.append(mr),this.container}}class vt extends mt{constructor(Kt){super(Kt,{ignoreBorder:Kt.data.hasAppearance})}render(){const Kt=super.render();Kt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Kt.title=this.data.alternativeText);const Ht=Kt.lastChild;return this.enableScripting&&this.hasJSActions&&Ht&&(this._setDefaultPropertiesFromJS(Ht),Ht.addEventListener("updatefromsandbox",Zt=>{this._dispatchEventFromSandbox({},Zt)})),Kt}}class xt extends ft{constructor(Kt){super(Kt,{isRenderable:Kt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Kt=this.annotationStorage,Ht=this.data.id,Zt=Kt.getValue(Ht,{value:this.data.fieldValue}),dr=document.createElement("select");ct.add(dr),dr.setAttribute("data-element-id",Ht),dr.disabled=this.data.readOnly,this._setRequired(dr,this.data.required),dr.name=this.data.fieldName,dr.tabIndex=ot;let mr=this.data.combo&&this.data.options.length>0;this.data.combo||(dr.size=this.data.options.length,this.data.multiSelect&&(dr.multiple=!0)),dr.addEventListener("resetform",Ar=>{const zr=this.data.defaultFieldValue;for(const jr of dr.options)jr.selected=jr.value===zr});for(const Ar of this.data.options){const zr=document.createElement("option");zr.textContent=Ar.displayValue,zr.value=Ar.exportValue,Zt.value.includes(Ar.exportValue)&&(zr.setAttribute("selected",!0),mr=!1),dr.append(zr)}let vr=null;if(mr){const Ar=document.createElement("option");Ar.value=" ",Ar.setAttribute("hidden",!0),Ar.setAttribute("selected",!0),dr.prepend(Ar),vr=()=>{Ar.remove(),dr.removeEventListener("input",vr),vr=null},dr.addEventListener("input",vr)}const wr=Ar=>{const zr=Ar?"value":"textContent",{options:jr,multiple:Ir}=dr;return Ir?Array.prototype.filter.call(jr,Br=>Br.selected).map(Br=>Br[zr]):jr.selectedIndex===-1?null:jr[jr.selectedIndex][zr]};let Mr=wr(!1);const Or=Ar=>{const zr=Ar.target.options;return Array.prototype.map.call(zr,jr=>({displayValue:jr.textContent,exportValue:jr.value}))};return this.enableScripting&&this.hasJSActions?(dr.addEventListener("updatefromsandbox",Ar=>{const zr={value(jr){vr==null||vr();const Ir=jr.detail.value,Br=new Set(Array.isArray(Ir)?Ir:[Ir]);for(const Wr of dr.options)Wr.selected=Br.has(Wr.value);Kt.setValue(Ht,{value:wr(!0)}),Mr=wr(!1)},multipleSelection(jr){dr.multiple=!0},remove(jr){const Ir=dr.options,Br=jr.detail.remove;Ir[Br].selected=!1,dr.remove(Br),Ir.length>0&&Array.prototype.findIndex.call(Ir,Kr=>Kr.selected)===-1&&(Ir[0].selected=!0),Kt.setValue(Ht,{value:wr(!0),items:Or(jr)}),Mr=wr(!1)},clear(jr){for(;dr.length!==0;)dr.remove(0);Kt.setValue(Ht,{value:null,items:[]}),Mr=wr(!1)},insert(jr){const{index:Ir,displayValue:Br,exportValue:Wr}=jr.detail.insert,Kr=dr.children[Ir],Xr=document.createElement("option");Xr.textContent=Br,Xr.value=Wr,Kr?Kr.before(Xr):dr.append(Xr),Kt.setValue(Ht,{value:wr(!0),items:Or(jr)}),Mr=wr(!1)},items(jr){const{items:Ir}=jr.detail;for(;dr.length!==0;)dr.remove(0);for(const Br of Ir){const{displayValue:Wr,exportValue:Kr}=Br,Xr=document.createElement("option");Xr.textContent=Wr,Xr.value=Kr,dr.append(Xr)}dr.options.length>0&&(dr.options[0].selected=!0),Kt.setValue(Ht,{value:wr(!0),items:Or(jr)}),Mr=wr(!1)},indices(jr){const Ir=new Set(jr.detail.indices);for(const Br of jr.target.options)Br.selected=Ir.has(Br.index);Kt.setValue(Ht,{value:wr(!0)}),Mr=wr(!1)},editable(jr){jr.target.disabled=!jr.detail.editable}};this._dispatchEventFromSandbox(zr,Ar)}),dr.addEventListener("input",Ar=>{var jr;const zr=wr(!0);Kt.setValue(Ht,{value:zr}),Ar.preventDefault(),(jr=this.linkService.eventBus)==null||jr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ht,name:"Keystroke",value:Mr,changeEx:zr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(dr,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ar=>Ar.target.value)):dr.addEventListener("input",function(Ar){Kt.setValue(Ht,{value:wr(!0)})}),this.data.combo&&this._setTextStyle(dr),this._setBackgroundColor(dr),this._setDefaultPropertiesFromJS(dr),this.container.append(dr),this.container}}class wt extends ht{constructor(Kt){const{data:Ht,elements:Zt}=Kt;super(Kt,{isRenderable:ht._hasPopupData(Ht)}),this.elements=Zt}render(){this.container.classList.add("popupAnnotation");const Kt=new St({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ht=[];for(const Zt of this.elements)Zt.popup=Kt,Ht.push(Zt.data.id),Zt.addHighlightArea();return this.container.setAttribute("aria-controls",Ht.map(Zt=>`${tt.AnnotationPrefix}${Zt}`).join(",")),this.container}}class St{constructor({container:Kt,color:Ht,elements:Zt,titleObj:dr,modificationDate:mr,contentsObj:vr,richText:wr,parent:Mr,rect:Or,parentRect:Ar,open:zr}){or(this,Sr);or(this,Jt,null);or(this,ar,er(this,Sr,Ts).bind(this));or(this,Qt,er(this,Sr,_a).bind(this));or(this,fr,er(this,Sr,xa).bind(this));or(this,hr,er(this,Sr,Tn).bind(this));or(this,gr,null);or(this,rr,null);or(this,ir,null);or(this,Ut,null);or(this,Yt,null);or(this,tr,null);or(this,sr,!1);or(this,pr,null);or(this,xr,null);or(this,br,null);or(this,nr,null);or(this,$r,!1);var Ir;cr(this,rr,Kt),cr(this,nr,dr),cr(this,ir,vr),cr(this,br,wr),cr(this,Yt,Mr),cr(this,gr,Ht),cr(this,xr,Or),cr(this,tr,Ar),cr(this,Ut,Zt);const jr=rt.PDFDateString.toDateObject(mr);jr&&cr(this,Jt,Mr.l10n.get("annotation_date_string",{date:jr.toLocaleDateString(),time:jr.toLocaleTimeString()})),this.trigger=Zt.flatMap(Br=>Br.getElementsToTriggerPopup());for(const Br of this.trigger)Br.addEventListener("click",$t(this,hr)),Br.addEventListener("mouseenter",$t(this,fr)),Br.addEventListener("mouseleave",$t(this,Qt)),Br.classList.add("popupTriggerArea");for(const Br of Zt)(Ir=Br.container)==null||Ir.addEventListener("keydown",$t(this,ar));$t(this,rr).hidden=!0,zr&&er(this,Sr,Tn).call(this)}render(){if($t(this,pr))return;const{page:{view:Kt},viewport:{rawDims:{pageWidth:Ht,pageHeight:Zt,pageX:dr,pageY:mr}}}=$t(this,Yt),vr=cr(this,pr,document.createElement("div"));if(vr.className="popup",$t(this,gr)){const Qr=vr.style.outlineColor=tt.Util.makeHexColor(...$t(this,gr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?vr.style.backgroundColor=`color-mix(in srgb, ${Qr} 30%, white)`:vr.style.backgroundColor=tt.Util.makeHexColor(...$t(this,gr).map(rn=>Math.floor(.7*(255-rn)+rn)))}const wr=document.createElement("span");wr.className="header";const Mr=document.createElement("h1");if(wr.append(Mr),{dir:Mr.dir,str:Mr.textContent}=$t(this,nr),vr.append(wr),$t(this,Jt)){const Qr=document.createElement("span");Qr.classList.add("popupDate"),$t(this,Jt).then(en=>{Qr.textContent=en}),wr.append(Qr)}const Or=$t(this,ir),Ar=$t(this,br);if(Ar!=null&&Ar.str&&(!(Or!=null&&Or.str)||Or.str===Ar.str))st.XfaLayer.render({xfaHtml:Ar.html,intent:"richText",div:vr}),vr.lastChild.classList.add("richText","popupContent");else{const Qr=this._formatContents(Or);vr.append(Qr)}let zr=!!$t(this,tr),jr=zr?$t(this,tr):$t(this,xr);for(const Qr of $t(this,Ut))if(!jr||tt.Util.intersect(Qr.data.rect,jr)!==null){jr=Qr.data.rect,zr=!0;break}const Ir=tt.Util.normalizeRect([jr[0],Kt[3]-jr[1]+Kt[1],jr[2],Kt[3]-jr[3]+Kt[1]]),Wr=zr?jr[2]-jr[0]+5:0,Kr=Ir[0]+Wr,Xr=Ir[1],{style:Zr}=$t(this,rr);Zr.left=`${100*(Kr-dr)/Ht}%`,Zr.top=`${100*(Xr-mr)/Zt}%`,$t(this,rr).append(vr)}_formatContents({str:Kt,dir:Ht}){const Zt=document.createElement("p");Zt.classList.add("popupContent"),Zt.dir=Ht;const dr=Kt.split(/(?:\r\n?|\n)/);for(let mr=0,vr=dr.length;mr<vr;++mr){const wr=dr[mr];Zt.append(document.createTextNode(wr)),mr<vr-1&&Zt.append(document.createElement("br"))}return Zt}forceHide(){cr(this,$r,this.isVisible),$t(this,$r)&&($t(this,rr).hidden=!0)}maybeShow(){$t(this,$r)&&(cr(this,$r,!1),$t(this,rr).hidden=!1)}get isVisible(){return $t(this,rr).hidden===!1}}Jt=new WeakMap,ar=new WeakMap,Qt=new WeakMap,fr=new WeakMap,hr=new WeakMap,gr=new WeakMap,rr=new WeakMap,ir=new WeakMap,Ut=new WeakMap,Yt=new WeakMap,tr=new WeakMap,sr=new WeakMap,pr=new WeakMap,xr=new WeakMap,br=new WeakMap,nr=new WeakMap,$r=new WeakMap,Sr=new WeakSet,Ts=function(Kt){Kt.altKey||Kt.shiftKey||Kt.ctrlKey||Kt.metaKey||(Kt.key==="Enter"||Kt.key==="Escape"&&$t(this,sr))&&er(this,Sr,Tn).call(this)},Tn=function(){cr(this,sr,!$t(this,sr)),$t(this,sr)?(er(this,Sr,xa).call(this),$t(this,rr).addEventListener("click",$t(this,hr)),$t(this,rr).addEventListener("keydown",$t(this,ar))):(er(this,Sr,_a).call(this),$t(this,rr).removeEventListener("click",$t(this,hr)),$t(this,rr).removeEventListener("keydown",$t(this,ar)))},xa=function(){$t(this,pr)||this.render(),this.isVisible?$t(this,sr)&&$t(this,rr).classList.add("focused"):($t(this,rr).hidden=!1,$t(this,rr).style.zIndex=parseInt($t(this,rr).style.zIndex)+1e3)},_a=function(){$t(this,rr).classList.remove("focused"),!($t(this,sr)||!this.isVisible)&&($t(this,rr).hidden=!0,$t(this,rr).style.zIndex=parseInt($t(this,rr).style.zIndex)-1e3)};class Ot extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Kt.data.textContent,this.textPosition=Kt.data.textPosition,this.annotationEditorType=tt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Kt=document.createElement("div");Kt.classList.add("annotationTextContent"),Kt.setAttribute("role","comment");for(const Ht of this.textContent){const Zt=document.createElement("span");Zt.textContent=Ht,Kt.append(Zt)}this.container.append(Kt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=Ot;class Et extends ht{constructor(Ht){super(Ht,{isRenderable:!0,ignoreBorder:!0});or(this,Dr,null)}render(){this.container.classList.add("lineAnnotation");const Ht=this.data,{width:Zt,height:dr}=ut(Ht.rect),mr=this.svgFactory.create(Zt,dr,!0),vr=cr(this,Dr,this.svgFactory.createElement("svg:line"));return vr.setAttribute("x1",Ht.rect[2]-Ht.lineCoordinates[0]),vr.setAttribute("y1",Ht.rect[3]-Ht.lineCoordinates[1]),vr.setAttribute("x2",Ht.rect[2]-Ht.lineCoordinates[2]),vr.setAttribute("y2",Ht.rect[3]-Ht.lineCoordinates[3]),vr.setAttribute("stroke-width",Ht.borderStyle.width||1),vr.setAttribute("stroke","transparent"),vr.setAttribute("fill","transparent"),mr.append(vr),this.container.append(mr),!Ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $t(this,Dr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dr=new WeakMap;class Tt extends ht{constructor(Ht){super(Ht,{isRenderable:!0,ignoreBorder:!0});or(this,Gr,null)}render(){this.container.classList.add("squareAnnotation");const Ht=this.data,{width:Zt,height:dr}=ut(Ht.rect),mr=this.svgFactory.create(Zt,dr,!0),vr=Ht.borderStyle.width,wr=cr(this,Gr,this.svgFactory.createElement("svg:rect"));return wr.setAttribute("x",vr/2),wr.setAttribute("y",vr/2),wr.setAttribute("width",Zt-vr),wr.setAttribute("height",dr-vr),wr.setAttribute("stroke-width",vr||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),mr.append(wr),this.container.append(mr),!Ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $t(this,Gr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gr=new WeakMap;class It extends ht{constructor(Ht){super(Ht,{isRenderable:!0,ignoreBorder:!0});or(this,Yr,null)}render(){this.container.classList.add("circleAnnotation");const Ht=this.data,{width:Zt,height:dr}=ut(Ht.rect),mr=this.svgFactory.create(Zt,dr,!0),vr=Ht.borderStyle.width,wr=cr(this,Yr,this.svgFactory.createElement("svg:ellipse"));return wr.setAttribute("cx",Zt/2),wr.setAttribute("cy",dr/2),wr.setAttribute("rx",Zt/2-vr/2),wr.setAttribute("ry",dr/2-vr/2),wr.setAttribute("stroke-width",vr||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),mr.append(wr),this.container.append(mr),!Ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $t(this,Yr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yr=new WeakMap;class Wt extends ht{constructor(Ht){super(Ht,{isRenderable:!0,ignoreBorder:!0});or(this,_r,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ht=this.data,{width:Zt,height:dr}=ut(Ht.rect),mr=this.svgFactory.create(Zt,dr,!0);let vr=[];for(const Mr of Ht.vertices){const Or=Mr.x-Ht.rect[0],Ar=Ht.rect[3]-Mr.y;vr.push(Or+","+Ar)}vr=vr.join(" ");const wr=cr(this,_r,this.svgFactory.createElement(this.svgElementName));return wr.setAttribute("points",vr),wr.setAttribute("stroke-width",Ht.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),mr.append(wr),this.container.append(mr),!Ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return $t(this,_r)}addHighlightArea(){this.container.classList.add("highlightArea")}}_r=new WeakMap;class Lt extends Wt{constructor(Kt){super(Kt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class zt extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ft extends ht{constructor(Ht){super(Ht,{isRenderable:!0,ignoreBorder:!0});or(this,lr,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ht=this.data,{width:Zt,height:dr}=ut(Ht.rect),mr=this.svgFactory.create(Zt,dr,!0);for(const vr of Ht.inkLists){let wr=[];for(const Or of vr){const Ar=Or.x-Ht.rect[0],zr=Ht.rect[3]-Or.y;wr.push(`${Ar},${zr}`)}wr=wr.join(" ");const Mr=this.svgFactory.createElement(this.svgElementName);$t(this,lr).push(Mr),Mr.setAttribute("points",wr),Mr.setAttribute("stroke-width",Ht.borderStyle.width||1),Mr.setAttribute("stroke","transparent"),Mr.setAttribute("fill","transparent"),!Ht.popupRef&&this.hasPopupData&&this._createPopup(),mr.append(Mr)}return this.container.append(mr),this.container}getElementsToTriggerPopup(){return $t(this,lr)}addHighlightArea(){this.container.classList.add("highlightArea")}}lr=new WeakMap,$.InkAnnotationElement=Ft;class Rt extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class jt extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ct extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Dt extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Mt extends ht{constructor(Kt){super(Kt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=Mt;class At extends ht{constructor(Ht){var mr;super(Ht,{isRenderable:!0});or(this,Tr);or(this,ur,null);const{filename:Zt,content:dr}=this.data.file;this.filename=(0,rt.getFilenameFromUrl)(Zt,!0),this.content=dr,(mr=this.linkService.eventBus)==null||mr.dispatch("fileattachmentannotation",{source:this,filename:Zt,content:dr})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ht,data:Zt}=this;let dr;Zt.hasAppearance||Zt.fillAlpha===0?dr=document.createElement("div"):(dr=document.createElement("img"),dr.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Zt.name)?"paperclip":"pushpin"}.svg`,Zt.fillAlpha&&Zt.fillAlpha<1&&(dr.style=`filter: opacity(${Math.round(Zt.fillAlpha*100)}%);`)),dr.addEventListener("dblclick",er(this,Tr,$a).bind(this)),cr(this,ur,dr);const{isMac:mr}=tt.FeatureTest.platform;return Ht.addEventListener("keydown",vr=>{vr.key==="Enter"&&(mr?vr.metaKey:vr.ctrlKey)&&er(this,Tr,$a).call(this)}),!Zt.popupRef&&this.hasPopupData?this._createPopup():dr.classList.add("popupTriggerArea"),Ht.append(dr),Ht}getElementsToTriggerPopup(){return $t(this,ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}ur=new WeakMap,Tr=new WeakSet,$a=function(){var Ht;(Ht=this.downloadManager)==null||Ht.openOrDownloadData(this.container,this.content,this.filename)};class Pt{constructor({div:Kt,accessibilityManager:Ht,annotationCanvasMap:Zt,l10n:dr,page:mr,viewport:vr}){or(this,Er);or(this,Hr,null);or(this,Xt,null);or(this,yr,new Map);this.div=Kt,cr(this,Hr,Ht),cr(this,Xt,Zt),this.l10n=dr,this.page=mr,this.viewport=vr,this.zIndex=0,this.l10n||(this.l10n=at.NullL10n)}async render(Kt){const{annotations:Ht}=Kt,Zt=this.div;(0,rt.setLayerDimensions)(Zt,this.viewport);const dr=new Map,mr={data:null,layer:Zt,linkService:Kt.linkService,downloadManager:Kt.downloadManager,imageResourcesPath:Kt.imageResourcesPath||"",renderForms:Kt.renderForms!==!1,svgFactory:new rt.DOMSVGFactory,annotationStorage:Kt.annotationStorage||new nt.AnnotationStorage,enableScripting:Kt.enableScripting===!0,hasJSActions:Kt.hasJSActions,fieldObjects:Kt.fieldObjects,parent:this,elements:null};for(const vr of Ht){if(vr.noHTML)continue;const wr=vr.annotationType===tt.AnnotationType.POPUP;if(wr){const Ar=dr.get(vr.id);if(!Ar)continue;mr.elements=Ar}else{const{width:Ar,height:zr}=ut(vr.rect);if(Ar<=0||zr<=0)continue}mr.data=vr;const Mr=dt.create(mr);if(!Mr.isRenderable)continue;if(!wr&&vr.popupRef){const Ar=dr.get(vr.popupRef);Ar?Ar.push(Mr):dr.set(vr.popupRef,[Mr])}Mr.annotationEditorType>0&&$t(this,yr).set(Mr.data.id,Mr);const Or=Mr.render();vr.hidden&&(Or.style.visibility="hidden"),er(this,Er,Cs).call(this,Or,vr.id)}er(this,Er,es).call(this),await this.l10n.translate(Zt)}update({viewport:Kt}){const Ht=this.div;this.viewport=Kt,(0,rt.setLayerDimensions)(Ht,{rotation:Kt.rotation}),er(this,Er,es).call(this),Ht.hidden=!1}getEditableAnnotations(){return Array.from($t(this,yr).values())}getEditableAnnotation(Kt){return $t(this,yr).get(Kt)}}Hr=new WeakMap,Xt=new WeakMap,yr=new WeakMap,Er=new WeakSet,Cs=function(Kt,Ht){var dr;const Zt=Kt.firstChild||Kt;Zt.id=`${tt.AnnotationPrefix}${Ht}`,this.div.append(Kt),(dr=$t(this,Hr))==null||dr.moveElementInDOM(this.div,Kt,Zt,!1)},es=function(){if(!$t(this,Xt))return;const Kt=this.div;for(const[Ht,Zt]of $t(this,Xt)){const dr=Kt.querySelector(`[data-annotation-id="${Ht}"]`);if(!dr)continue;const{firstChild:mr}=dr;mr?mr.nodeName==="CANVAS"?mr.replaceWith(Zt):mr.before(Zt):dr.append(Zt)}$t(this,Xt).clear()},$.AnnotationLayer=Pt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function et(nt){return Math.floor(Math.max(0,Math.min(1,nt))*255).toString(16).padStart(2,"0")}function tt(nt){return Math.max(0,Math.min(255,255*nt))}class rt{static CMYK_G([it,at,st,ot]){return["G",1-Math.min(1,.3*it+.59*st+.11*at+ot)]}static G_CMYK([it]){return["CMYK",0,0,0,1-it]}static G_RGB([it]){return["RGB",it,it,it]}static G_rgb([it]){return it=tt(it),[it,it,it]}static G_HTML([it]){const at=et(it);return`#${at}${at}${at}`}static RGB_G([it,at,st]){return["G",.3*it+.59*at+.11*st]}static RGB_rgb(it){return it.map(tt)}static RGB_HTML(it){return`#${it.map(et).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([it,at,st,ot]){return["RGB",1-Math.min(1,it+ot),1-Math.min(1,st+ot),1-Math.min(1,at+ot)]}static CMYK_rgb([it,at,st,ot]){return[tt(1-Math.min(1,it+ot)),tt(1-Math.min(1,st+ot)),tt(1-Math.min(1,at+ot))]}static CMYK_HTML(it){const at=this.CMYK_RGB(it).slice(1);return this.RGB_HTML(at)}static RGB_CMYK([it,at,st]){const ot=1-it,lt=1-at,ct=1-st,ut=Math.min(ot,lt,ct);return["CMYK",ot,lt,ct,ut]}}$.ColorConverters=rt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=tt;const et={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};et.print_progress_percent="{{progress}}%";function tt(it,at){switch(it){case"find_match_count":it=`find_match_count[${at.total===1?"one":"other"}]`;break;case"find_match_count_limit":it=`find_match_count_limit[${at.limit===1?"one":"other"}]`;break}return et[it]||""}function rt(it,at){return at?it.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(st,ot)=>ot in at?at[ot]:"{{"+ot+"}}"):it}const nt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(it,at=null,st=tt(it,at)){return rt(st,at)},async translate(it){}};$.NullL10n=nt},(_e,$,et)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var tt=et(25);class rt{static setupStorage(it,at,st,ot,lt){const ct=ot.getValue(at,{value:null});switch(st.name){case"textarea":if(ct.value!==null&&(it.textContent=ct.value),lt==="print")break;it.addEventListener("input",ut=>{ot.setValue(at,{value:ut.target.value})});break;case"input":if(st.attributes.type==="radio"||st.attributes.type==="checkbox"){if(ct.value===st.attributes.xfaOn?it.setAttribute("checked",!0):ct.value===st.attributes.xfaOff&&it.removeAttribute("checked"),lt==="print")break;it.addEventListener("change",ut=>{ot.setValue(at,{value:ut.target.checked?ut.target.getAttribute("xfaOn"):ut.target.getAttribute("xfaOff")})})}else{if(ct.value!==null&&it.setAttribute("value",ct.value),lt==="print")break;it.addEventListener("input",ut=>{ot.setValue(at,{value:ut.target.value})})}break;case"select":if(ct.value!==null){it.setAttribute("value",ct.value);for(const ut of st.children)ut.attributes.value===ct.value?ut.attributes.selected=!0:ut.attributes.hasOwnProperty("selected")&&delete ut.attributes.selected}it.addEventListener("input",ut=>{const dt=ut.target.options,ht=dt.selectedIndex===-1?"":dt[dt.selectedIndex].value;ot.setValue(at,{value:ht})});break}}static setAttributes({html:it,element:at,storage:st=null,intent:ot,linkService:lt}){const{attributes:ct}=at,ut=it instanceof HTMLAnchorElement;ct.type==="radio"&&(ct.name=`${ct.name}-${ot}`);for(const[dt,ht]of Object.entries(ct))if(ht!=null)switch(dt){case"class":ht.length&&it.setAttribute(dt,ht.join(" "));break;case"dataId":break;case"id":it.setAttribute("data-element-id",ht);break;case"style":Object.assign(it.style,ht);break;case"textContent":it.textContent=ht;break;default:(!ut||dt!=="href"&&dt!=="newWindow")&&it.setAttribute(dt,ht)}ut&&lt.addLinkAttributes(it,ct.href,ct.newWindow),st&&ct.dataId&&this.setupStorage(it,ct.dataId,at,st)}static render(it){var mt;const at=it.annotationStorage,st=it.linkService,ot=it.xfaHtml,lt=it.intent||"display",ct=document.createElement(ot.name);ot.attributes&&this.setAttributes({html:ct,element:ot,intent:lt,linkService:st});const ut=[[ot,-1,ct]],dt=it.div;if(dt.append(ct),it.viewport){const pt=`matrix(${it.viewport.transform.join(",")})`;dt.style.transform=pt}lt!=="richText"&&dt.setAttribute("class","xfaLayer xfaFont");const ht=[];for(;ut.length>0;){const[pt,ft,gt]=ut.at(-1);if(ft+1===pt.children.length){ut.pop();continue}const bt=pt.children[++ut.at(-1)[1]];if(bt===null)continue;const{name:_t}=bt;if(_t==="#text"){const vt=document.createTextNode(bt.value);ht.push(vt),gt.append(vt);continue}const yt=(mt=bt==null?void 0:bt.attributes)!=null&&mt.xmlns?document.createElementNS(bt.attributes.xmlns,_t):document.createElement(_t);if(gt.append(yt),bt.attributes&&this.setAttributes({html:yt,element:bt,storage:at,intent:lt,linkService:st}),bt.children&&bt.children.length>0)ut.push([bt,-1,yt]);else if(bt.value){const vt=document.createTextNode(bt.value);tt.XfaText.shouldBuildText(_t)&&ht.push(vt),yt.append(vt)}}for(const pt of dt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))pt.setAttribute("readOnly",!0);return{textDivs:ht}}static update(it){const at=`matrix(${it.viewport.transform.join(",")})`;it.div.style.transform=at,it.div.hidden=!1}}$.XfaLayer=rt},(_e,$,et)=>{var ot,lt,ct,ut,dt,ht,mt,pt,ft,gt,bt,_t,yt,vt,xt,ks,Os,js,Rs,ts,Ms,rs,Is,Ns,Ds,Ls,Fs,tn,ns,Cn,kn,dn,is,On,Vt,Bs,as,Us,zs,ss,jn,hn;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var tt=et(1),rt=et(4),nt=et(29),it=et(6),at=et(5);const gr=class gr extends rt.AnnotationEditor{constructor(Ut){super({...Ut,name:"inkEditor"});or(this,xt);or(this,ot,0);or(this,lt,0);or(this,ct,this.canvasPointermove.bind(this));or(this,ut,this.canvasPointerleave.bind(this));or(this,dt,this.canvasPointerup.bind(this));or(this,ht,this.canvasPointerdown.bind(this));or(this,mt,new Path2D);or(this,pt,!1);or(this,ft,!1);or(this,gt,!1);or(this,bt,null);or(this,_t,0);or(this,yt,0);or(this,vt,null);this.color=Ut.color||null,this.thickness=Ut.thickness||null,this.opacity=Ut.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ut){rt.AnnotationEditor.initialize(Ut,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ut,Yt){switch(Ut){case tt.AnnotationEditorParamsType.INK_THICKNESS:gr._defaultThickness=Yt;break;case tt.AnnotationEditorParamsType.INK_COLOR:gr._defaultColor=Yt;break;case tt.AnnotationEditorParamsType.INK_OPACITY:gr._defaultOpacity=Yt/100;break}}updateParams(Ut,Yt){switch(Ut){case tt.AnnotationEditorParamsType.INK_THICKNESS:er(this,xt,ks).call(this,Yt);break;case tt.AnnotationEditorParamsType.INK_COLOR:er(this,xt,Os).call(this,Yt);break;case tt.AnnotationEditorParamsType.INK_OPACITY:er(this,xt,js).call(this,Yt);break}}static get defaultPropertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,gr._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,gr._defaultColor||rt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(gr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[tt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||gr._defaultThickness],[tt.AnnotationEditorParamsType.INK_COLOR,this.color||gr._defaultColor||rt.AnnotationEditor._defaultLineColor],[tt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??gr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(er(this,xt,Cn).call(this),er(this,xt,kn).call(this)),this.isAttachedToDOM||(this.parent.add(this),er(this,xt,dn).call(this)),er(this,xt,hn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,$t(this,bt).disconnect(),cr(this,bt,null),super.remove())}setParent(Ut){!this.parent&&Ut?this._uiManager.removeShouldRescale(this):this.parent&&Ut===null&&this._uiManager.addShouldRescale(this),super.setParent(Ut)}onScaleChanging(){const[Ut,Yt]=this.parentDimensions,tr=this.width*Ut,sr=this.height*Yt;this.setDimensions(tr,sr)}enableEditMode(){$t(this,pt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",$t(this,ht)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",$t(this,ht)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){$t(this,pt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),cr(this,pt,!0),this.div.classList.add("disabled"),er(this,xt,hn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ut){this._focusEventsAllowed&&(super.focusin(Ut),this.enableEditMode())}canvasPointerdown(Ut){Ut.button!==0||!this.isInEditMode()||$t(this,pt)||(this.setInForeground(),Ut.preventDefault(),Ut.type!=="mouse"&&this.div.focus(),er(this,xt,Ms).call(this,Ut.offsetX,Ut.offsetY))}canvasPointermove(Ut){Ut.preventDefault(),er(this,xt,rs).call(this,Ut.offsetX,Ut.offsetY)}canvasPointerup(Ut){Ut.preventDefault(),er(this,xt,ns).call(this,Ut)}canvasPointerleave(Ut){er(this,xt,ns).call(this,Ut)}get isResizable(){return!this.isEmpty()&&$t(this,pt)}render(){if(this.div)return this.div;let Ut,Yt;this.width&&(Ut=this.x,Yt=this.y),super.render(),rt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(br=>{var nr;return(nr=this.div)==null?void 0:nr.setAttribute("aria-label",br)});const[tr,sr,pr,xr]=er(this,xt,Rs).call(this);if(this.setAt(tr,sr,0,0),this.setDims(pr,xr),er(this,xt,Cn).call(this),this.width){const[br,nr]=this.parentDimensions;this.setAspectRatio(this.width*br,this.height*nr),this.setAt(Ut*br,Yt*nr,this.width*br,this.height*nr),cr(this,gt,!0),er(this,xt,dn).call(this),this.setDims(this.width*br,this.height*nr),er(this,xt,tn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return er(this,xt,kn).call(this),this.div}setDimensions(Ut,Yt){const tr=Math.round(Ut),sr=Math.round(Yt);if($t(this,_t)===tr&&$t(this,yt)===sr)return;cr(this,_t,tr),cr(this,yt,sr),this.canvas.style.visibility="hidden";const[pr,xr]=this.parentDimensions;this.width=Ut/pr,this.height=Yt/xr,this.fixAndSetPosition(),$t(this,pt)&&er(this,xt,is).call(this,Ut,Yt),er(this,xt,dn).call(this),er(this,xt,tn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Ut,Yt,tr){var Dr,Gr,Yr;if(Ut instanceof nt.InkAnnotationElement)return null;const sr=super.deserialize(Ut,Yt,tr);sr.thickness=Ut.thickness,sr.color=tt.Util.makeHexColor(...Ut.color),sr.opacity=Ut.opacity;const[pr,xr]=sr.pageDimensions,br=sr.width*pr,nr=sr.height*xr,$r=sr.parentScale,Sr=Ut.thickness/2;cr(sr,pt,!0),cr(sr,_t,Math.round(br)),cr(sr,yt,Math.round(nr));const{paths:Ur,rect:Fr,rotation:qr}=Ut;for(let{bezier:_r}of Ur){_r=er(Dr=gr,Vt,Us).call(Dr,_r,Fr,qr);const lr=[];sr.paths.push(lr);let ur=$r*(_r[0]-Sr),Tr=$r*(_r[1]-Sr);for(let Hr=2,Xt=_r.length;Hr<Xt;Hr+=6){const yr=$r*(_r[Hr]-Sr),Er=$r*(_r[Hr+1]-Sr),Rr=$r*(_r[Hr+2]-Sr),Nr=$r*(_r[Hr+3]-Sr),Pr=$r*(_r[Hr+4]-Sr),Kt=$r*(_r[Hr+5]-Sr);lr.push([[ur,Tr],[yr,Er],[Rr,Nr],[Pr,Kt]]),ur=Pr,Tr=Kt}const Vr=er(this,Vt,Bs).call(this,lr);sr.bezierPath2D.push(Vr)}const Cr=er(Gr=sr,xt,ss).call(Gr);return cr(sr,lt,Math.max(rt.AnnotationEditor.MIN_SIZE,Cr[2]-Cr[0])),cr(sr,ot,Math.max(rt.AnnotationEditor.MIN_SIZE,Cr[3]-Cr[1])),er(Yr=sr,xt,is).call(Yr,br,nr),sr}serialize(){if(this.isEmpty())return null;const Ut=this.getRect(0,0),Yt=rt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tt.AnnotationEditorType.INK,color:Yt,thickness:this.thickness,opacity:this.opacity,paths:er(this,xt,zs).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ut),pageIndex:this.pageIndex,rect:Ut,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,mt=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakMap,bt=new WeakMap,_t=new WeakMap,yt=new WeakMap,vt=new WeakMap,xt=new WeakSet,ks=function(Ut){const Yt=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ut,er(this,xt,hn).call(this)},undo:()=>{this.thickness=Yt,er(this,xt,hn).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Os=function(Ut){const Yt=this.color;this.addCommands({cmd:()=>{this.color=Ut,er(this,xt,tn).call(this)},undo:()=>{this.color=Yt,er(this,xt,tn).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},js=function(Ut){Ut/=100;const Yt=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ut,er(this,xt,tn).call(this)},undo:()=>{this.opacity=Yt,er(this,xt,tn).call(this)},mustExec:!0,type:tt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Rs=function(){const{parentRotation:Ut,parentDimensions:[Yt,tr]}=this;switch(Ut){case 90:return[0,tr,tr,Yt];case 180:return[Yt,tr,Yt,tr];case 270:return[Yt,0,tr,Yt];default:return[0,0,Yt,tr]}},ts=function(){const{ctx:Ut,color:Yt,opacity:tr,thickness:sr,parentScale:pr,scaleFactor:xr}=this;Ut.lineWidth=sr*pr/xr,Ut.lineCap="round",Ut.lineJoin="round",Ut.miterLimit=10,Ut.strokeStyle=`${Yt}${(0,at.opacityToHex)(tr)}`},Ms=function(Ut,Yt){this.canvas.addEventListener("contextmenu",it.noContextMenu),this.canvas.addEventListener("pointerleave",$t(this,ut)),this.canvas.addEventListener("pointermove",$t(this,ct)),this.canvas.addEventListener("pointerup",$t(this,dt)),this.canvas.removeEventListener("pointerdown",$t(this,ht)),this.isEditing=!0,$t(this,gt)||(cr(this,gt,!0),er(this,xt,dn).call(this),this.thickness||(this.thickness=gr._defaultThickness),this.color||(this.color=gr._defaultColor||rt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=gr._defaultOpacity)),this.currentPath.push([Ut,Yt]),cr(this,ft,!1),er(this,xt,ts).call(this),cr(this,vt,()=>{er(this,xt,Ds).call(this),$t(this,vt)&&window.requestAnimationFrame($t(this,vt))}),window.requestAnimationFrame($t(this,vt))},rs=function(Ut,Yt){const[tr,sr]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ut===tr&&Yt===sr)return;const pr=this.currentPath;let xr=$t(this,mt);if(pr.push([Ut,Yt]),cr(this,ft,!0),pr.length<=2){xr.moveTo(...pr[0]),xr.lineTo(Ut,Yt);return}pr.length===3&&(cr(this,mt,xr=new Path2D),xr.moveTo(...pr[0])),er(this,xt,Ls).call(this,xr,...pr.at(-3),...pr.at(-2),Ut,Yt)},Is=function(){if(this.currentPath.length===0)return;const Ut=this.currentPath.at(-1);$t(this,mt).lineTo(...Ut)},Ns=function(Ut,Yt){cr(this,vt,null),Ut=Math.min(Math.max(Ut,0),this.canvas.width),Yt=Math.min(Math.max(Yt,0),this.canvas.height),er(this,xt,rs).call(this,Ut,Yt),er(this,xt,Is).call(this);let tr;if(this.currentPath.length!==1)tr=er(this,xt,Fs).call(this);else{const nr=[Ut,Yt];tr=[[nr,nr.slice(),nr.slice(),nr]]}const sr=$t(this,mt),pr=this.currentPath;this.currentPath=[],cr(this,mt,new Path2D);const xr=()=>{this.allRawPaths.push(pr),this.paths.push(tr),this.bezierPath2D.push(sr),this.rebuild()},br=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(er(this,xt,Cn).call(this),er(this,xt,kn).call(this)),er(this,xt,hn).call(this))};this.addCommands({cmd:xr,undo:br,mustExec:!0})},Ds=function(){if(!$t(this,ft))return;cr(this,ft,!1);const Ut=Math.ceil(this.thickness*this.parentScale),Yt=this.currentPath.slice(-3),tr=Yt.map(xr=>xr[0]),sr=Yt.map(xr=>xr[1]);Math.min(...tr)-Ut,Math.max(...tr)+Ut,Math.min(...sr)-Ut,Math.max(...sr)+Ut;const{ctx:pr}=this;pr.save(),pr.clearRect(0,0,this.canvas.width,this.canvas.height);for(const xr of this.bezierPath2D)pr.stroke(xr);pr.stroke($t(this,mt)),pr.restore()},Ls=function(Ut,Yt,tr,sr,pr,xr,br){const nr=(Yt+sr)/2,$r=(tr+pr)/2,Sr=(sr+xr)/2,Ur=(pr+br)/2;Ut.bezierCurveTo(nr+2*(sr-nr)/3,$r+2*(pr-$r)/3,Sr+2*(sr-Sr)/3,Ur+2*(pr-Ur)/3,Sr,Ur)},Fs=function(){const Ut=this.currentPath;if(Ut.length<=2)return[[Ut[0],Ut[0],Ut.at(-1),Ut.at(-1)]];const Yt=[];let tr,[sr,pr]=Ut[0];for(tr=1;tr<Ut.length-2;tr++){const[Fr,qr]=Ut[tr],[Cr,Dr]=Ut[tr+1],Gr=(Fr+Cr)/2,Yr=(qr+Dr)/2,_r=[sr+2*(Fr-sr)/3,pr+2*(qr-pr)/3],lr=[Gr+2*(Fr-Gr)/3,Yr+2*(qr-Yr)/3];Yt.push([[sr,pr],_r,lr,[Gr,Yr]]),[sr,pr]=[Gr,Yr]}const[xr,br]=Ut[tr],[nr,$r]=Ut[tr+1],Sr=[sr+2*(xr-sr)/3,pr+2*(br-pr)/3],Ur=[nr+2*(xr-nr)/3,$r+2*(br-$r)/3];return Yt.push([[sr,pr],Sr,Ur,[nr,$r]]),Yt},tn=function(){if(this.isEmpty()){er(this,xt,On).call(this);return}er(this,xt,ts).call(this);const{canvas:Ut,ctx:Yt}=this;Yt.setTransform(1,0,0,1,0,0),Yt.clearRect(0,0,Ut.width,Ut.height),er(this,xt,On).call(this);for(const tr of this.bezierPath2D)Yt.stroke(tr)},ns=function(Ut){this.canvas.removeEventListener("pointerleave",$t(this,ut)),this.canvas.removeEventListener("pointermove",$t(this,ct)),this.canvas.removeEventListener("pointerup",$t(this,dt)),this.canvas.addEventListener("pointerdown",$t(this,ht)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",it.noContextMenu)},10),er(this,xt,Ns).call(this,Ut.offsetX,Ut.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Cn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",rt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ut=>{var Yt;return(Yt=this.canvas)==null?void 0:Yt.setAttribute("aria-label",Ut)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},kn=function(){cr(this,bt,new ResizeObserver(Ut=>{const Yt=Ut[0].contentRect;Yt.width&&Yt.height&&this.setDimensions(Yt.width,Yt.height)})),$t(this,bt).observe(this.div)},dn=function(){if(!$t(this,gt))return;const[Ut,Yt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ut),this.canvas.height=Math.ceil(this.height*Yt),er(this,xt,On).call(this)},is=function(Ut,Yt){const tr=er(this,xt,jn).call(this),sr=(Ut-tr)/$t(this,lt),pr=(Yt-tr)/$t(this,ot);this.scaleFactor=Math.min(sr,pr)},On=function(){const Ut=er(this,xt,jn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ut,this.translationY*this.scaleFactor+Ut)},Vt=new WeakSet,Bs=function(Ut){const Yt=new Path2D;for(let tr=0,sr=Ut.length;tr<sr;tr++){const[pr,xr,br,nr]=Ut[tr];tr===0&&Yt.moveTo(...pr),Yt.bezierCurveTo(xr[0],xr[1],br[0],br[1],nr[0],nr[1])}return Yt},as=function(Ut,Yt,tr){const[sr,pr,xr,br]=Yt;switch(tr){case 0:for(let nr=0,$r=Ut.length;nr<$r;nr+=2)Ut[nr]+=sr,Ut[nr+1]=br-Ut[nr+1];break;case 90:for(let nr=0,$r=Ut.length;nr<$r;nr+=2){const Sr=Ut[nr];Ut[nr]=Ut[nr+1]+sr,Ut[nr+1]=Sr+pr}break;case 180:for(let nr=0,$r=Ut.length;nr<$r;nr+=2)Ut[nr]=xr-Ut[nr],Ut[nr+1]+=pr;break;case 270:for(let nr=0,$r=Ut.length;nr<$r;nr+=2){const Sr=Ut[nr];Ut[nr]=xr-Ut[nr+1],Ut[nr+1]=br-Sr}break;default:throw new Error("Invalid rotation")}return Ut},Us=function(Ut,Yt,tr){const[sr,pr,xr,br]=Yt;switch(tr){case 0:for(let nr=0,$r=Ut.length;nr<$r;nr+=2)Ut[nr]-=sr,Ut[nr+1]=br-Ut[nr+1];break;case 90:for(let nr=0,$r=Ut.length;nr<$r;nr+=2){const Sr=Ut[nr];Ut[nr]=Ut[nr+1]-pr,Ut[nr+1]=Sr-sr}break;case 180:for(let nr=0,$r=Ut.length;nr<$r;nr+=2)Ut[nr]=xr-Ut[nr],Ut[nr+1]-=pr;break;case 270:for(let nr=0,$r=Ut.length;nr<$r;nr+=2){const Sr=Ut[nr];Ut[nr]=br-Ut[nr+1],Ut[nr+1]=xr-Sr}break;default:throw new Error("Invalid rotation")}return Ut},zs=function(Ut,Yt,tr,sr){var $r,Sr;const pr=[],xr=this.thickness/2,br=Ut*Yt+xr,nr=Ut*tr+xr;for(const Ur of this.paths){const Fr=[],qr=[];for(let Cr=0,Dr=Ur.length;Cr<Dr;Cr++){const[Gr,Yr,_r,lr]=Ur[Cr],ur=Ut*Gr[0]+br,Tr=Ut*Gr[1]+nr,Vr=Ut*Yr[0]+br,Hr=Ut*Yr[1]+nr,Xt=Ut*_r[0]+br,yr=Ut*_r[1]+nr,Er=Ut*lr[0]+br,Rr=Ut*lr[1]+nr;Cr===0&&(Fr.push(ur,Tr),qr.push(ur,Tr)),Fr.push(Vr,Hr,Xt,yr,Er,Rr),qr.push(Vr,Hr),Cr===Dr-1&&qr.push(Er,Rr)}pr.push({bezier:er($r=gr,Vt,as).call($r,Fr,sr,this.rotation),points:er(Sr=gr,Vt,as).call(Sr,qr,sr,this.rotation)})}return pr},ss=function(){let Ut=1/0,Yt=-1/0,tr=1/0,sr=-1/0;for(const pr of this.paths)for(const[xr,br,nr,$r]of pr){const Sr=tt.Util.bezierBoundingBox(...xr,...br,...nr,...$r);Ut=Math.min(Ut,Sr[0]),tr=Math.min(tr,Sr[1]),Yt=Math.max(Yt,Sr[2]),sr=Math.max(sr,Sr[3])}return[Ut,tr,Yt,sr]},jn=function(){return $t(this,pt)?Math.ceil(this.thickness*this.parentScale):0},hn=function(Ut=!1){if(this.isEmpty())return;if(!$t(this,pt)){er(this,xt,tn).call(this);return}const Yt=er(this,xt,ss).call(this),tr=er(this,xt,jn).call(this);cr(this,lt,Math.max(rt.AnnotationEditor.MIN_SIZE,Yt[2]-Yt[0])),cr(this,ot,Math.max(rt.AnnotationEditor.MIN_SIZE,Yt[3]-Yt[1]));const sr=Math.ceil(tr+$t(this,lt)*this.scaleFactor),pr=Math.ceil(tr+$t(this,ot)*this.scaleFactor),[xr,br]=this.parentDimensions;this.width=sr/xr,this.height=pr/br,this.setAspectRatio(sr,pr);const nr=this.translationX,$r=this.translationY;this.translationX=-Yt[0],this.translationY=-Yt[1],er(this,xt,dn).call(this),er(this,xt,tn).call(this),cr(this,_t,sr),cr(this,yt,pr),this.setDims(sr,pr);const Sr=Ut?tr/this.scaleFactor/2:0;this.translate(nr-this.translationX-Sr,$r-this.translationY-Sr)},or(gr,Vt),Lr(gr,"_defaultColor",null),Lr(gr,"_defaultOpacity",1),Lr(gr,"_defaultThickness",1),Lr(gr,"_type","ink");let st=gr;$.InkEditor=st},(_e,$,et)=>{var st,ot,lt,ct,ut,dt,ht,mt,pt,ft,gt,bn,xn,Rn,os,Ws,Hs,ls,Mn,Vs;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var tt=et(1),rt=et(4),nt=et(6),it=et(29);const Tt=class Tt extends rt.AnnotationEditor{constructor(Lt){super({...Lt,name:"stampEditor"});or(this,gt);or(this,st,null);or(this,ot,null);or(this,lt,null);or(this,ct,null);or(this,ut,null);or(this,dt,null);or(this,ht,null);or(this,mt,null);or(this,pt,!1);or(this,ft,!1);cr(this,ct,Lt.bitmapUrl),cr(this,ut,Lt.bitmapFile)}static initialize(Lt){rt.AnnotationEditor.initialize(Lt)}static get supportedTypes(){const Lt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,tt.shadow)(this,"supportedTypes",Lt.map(zt=>`image/${zt}`))}static get supportedTypesStr(){return(0,tt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Lt){return this.supportedTypes.includes(Lt)}static paste(Lt,zt){zt.pasteEditor(tt.AnnotationEditorType.STAMP,{bitmapFile:Lt.getAsFile()})}remove(){var Lt,zt;$t(this,ot)&&(cr(this,st,null),this._uiManager.imageManager.deleteId($t(this,ot)),(Lt=$t(this,dt))==null||Lt.remove(),cr(this,dt,null),(zt=$t(this,ht))==null||zt.disconnect(),cr(this,ht,null)),super.remove()}rebuild(){if(!this.parent){$t(this,ot)&&er(this,gt,Rn).call(this);return}super.rebuild(),this.div!==null&&($t(this,ot)&&er(this,gt,Rn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!($t(this,lt)||$t(this,st)||$t(this,ct)||$t(this,ut))}get isResizable(){return!0}render(){if(this.div)return this.div;let Lt,zt;if(this.width&&(Lt=this.x,zt=this.y),super.render(),this.div.hidden=!0,$t(this,st)?er(this,gt,os).call(this):er(this,gt,Rn).call(this),this.width){const[Ft,Rt]=this.parentDimensions;this.setAt(Lt*Ft,zt*Rt,this.width*Ft,this.height*Rt)}return this.div}static deserialize(Lt,zt,Ft){if(Lt instanceof it.StampAnnotationElement)return null;const Rt=super.deserialize(Lt,zt,Ft),{rect:jt,bitmapUrl:Ct,bitmapId:Dt,isSvg:Mt,accessibilityData:At}=Lt;Dt&&Ft.imageManager.isValidId(Dt)?cr(Rt,ot,Dt):cr(Rt,ct,Ct),cr(Rt,pt,Mt);const[Pt,Nt]=Rt.pageDimensions;return Rt.width=(jt[2]-jt[0])/Pt,Rt.height=(jt[3]-jt[1])/Nt,At&&(Rt.altTextData=At),Rt}serialize(Lt=!1,zt=null){if(this.isEmpty())return null;const Ft={annotationType:tt.AnnotationEditorType.STAMP,bitmapId:$t(this,ot),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:$t(this,pt),structTreeParentId:this._structTreeParentId};if(Lt)return Ft.bitmapUrl=er(this,gt,Mn).call(this,!0),Ft.accessibilityData=this.altTextData,Ft;const{decorative:Rt,altText:jt}=this.altTextData;if(!Rt&&jt&&(Ft.accessibilityData={type:"Figure",alt:jt}),zt===null)return Ft;zt.stamps||(zt.stamps=new Map);const Ct=$t(this,pt)?(Ft.rect[2]-Ft.rect[0])*(Ft.rect[3]-Ft.rect[1]):null;if(!zt.stamps.has($t(this,ot)))zt.stamps.set($t(this,ot),{area:Ct,serialized:Ft}),Ft.bitmap=er(this,gt,Mn).call(this,!1);else if($t(this,pt)){const Dt=zt.stamps.get($t(this,ot));Ct>Dt.area&&(Dt.area=Ct,Dt.serialized.bitmap.close(),Dt.serialized.bitmap=er(this,gt,Mn).call(this,!1))}return Ft}};st=new WeakMap,ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap,dt=new WeakMap,ht=new WeakMap,mt=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakSet,bn=function(Lt,zt=!1){if(!Lt){this.remove();return}cr(this,st,Lt.bitmap),zt||(cr(this,ot,Lt.id),cr(this,pt,Lt.isSvg)),er(this,gt,os).call(this)},xn=function(){cr(this,lt,null),this._uiManager.enableWaiting(!1),$t(this,dt)&&this.div.focus()},Rn=function(){if($t(this,ot)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId($t(this,ot)).then(zt=>er(this,gt,bn).call(this,zt,!0)).finally(()=>er(this,gt,xn).call(this));return}if($t(this,ct)){const zt=$t(this,ct);cr(this,ct,null),this._uiManager.enableWaiting(!0),cr(this,lt,this._uiManager.imageManager.getFromUrl(zt).then(Ft=>er(this,gt,bn).call(this,Ft)).finally(()=>er(this,gt,xn).call(this)));return}if($t(this,ut)){const zt=$t(this,ut);cr(this,ut,null),this._uiManager.enableWaiting(!0),cr(this,lt,this._uiManager.imageManager.getFromFile(zt).then(Ft=>er(this,gt,bn).call(this,Ft)).finally(()=>er(this,gt,xn).call(this)));return}const Lt=document.createElement("input");Lt.type="file",Lt.accept=Tt.supportedTypesStr,cr(this,lt,new Promise(zt=>{Lt.addEventListener("change",async()=>{if(!Lt.files||Lt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Ft=await this._uiManager.imageManager.getFromFile(Lt.files[0]);er(this,gt,bn).call(this,Ft)}zt()}),Lt.addEventListener("cancel",()=>{this.remove(),zt()})}).finally(()=>er(this,gt,xn).call(this))),Lt.click()},os=function(){const{div:Lt}=this;let{width:zt,height:Ft}=$t(this,st);const[Rt,jt]=this.pageDimensions,Ct=.75;if(this.width)zt=this.width*Rt,Ft=this.height*jt;else if(zt>Ct*Rt||Ft>Ct*jt){const Pt=Math.min(Ct*Rt/zt,Ct*jt/Ft);zt*=Pt,Ft*=Pt}const[Dt,Mt]=this.parentDimensions;this.setDims(zt*Dt/Rt,Ft*Mt/jt),this._uiManager.enableWaiting(!1);const At=cr(this,dt,document.createElement("canvas"));Lt.append(At),Lt.hidden=!1,er(this,gt,ls).call(this,zt,Ft),er(this,gt,Vs).call(this),$t(this,ft)||(this.parent.addUndoableEditor(this),cr(this,ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ws=function(Lt,zt){var Ct;const[Ft,Rt]=this.parentDimensions;this.width=Lt/Ft,this.height=zt/Rt,this.setDims(Lt,zt),(Ct=this._initialOptions)!=null&&Ct.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,$t(this,mt)!==null&&clearTimeout($t(this,mt)),cr(this,mt,setTimeout(()=>{cr(this,mt,null),er(this,gt,ls).call(this,Lt,zt)},200))},Hs=function(Lt,zt){const{width:Ft,height:Rt}=$t(this,st);let jt=Ft,Ct=Rt,Dt=$t(this,st);for(;jt>2*Lt||Ct>2*zt;){const Mt=jt,At=Ct;jt>2*Lt&&(jt=jt>=16384?Math.floor(jt/2)-1:Math.ceil(jt/2)),Ct>2*zt&&(Ct=Ct>=16384?Math.floor(Ct/2)-1:Math.ceil(Ct/2));const Pt=new OffscreenCanvas(jt,Ct);Pt.getContext("2d").drawImage(Dt,0,0,Mt,At,0,0,jt,Ct),Dt=Pt.transferToImageBitmap()}return Dt},ls=function(Lt,zt){Lt=Math.ceil(Lt),zt=Math.ceil(zt);const Ft=$t(this,dt);if(!Ft||Ft.width===Lt&&Ft.height===zt)return;Ft.width=Lt,Ft.height=zt;const Rt=$t(this,pt)?$t(this,st):er(this,gt,Hs).call(this,Lt,zt),jt=Ft.getContext("2d");jt.filter=this._uiManager.hcmFilter,jt.drawImage(Rt,0,0,Rt.width,Rt.height,0,0,Lt,zt)},Mn=function(Lt){if(Lt){if($t(this,pt)){const Rt=this._uiManager.imageManager.getSvgUrl($t(this,ot));if(Rt)return Rt}const zt=document.createElement("canvas");return{width:zt.width,height:zt.height}=$t(this,st),zt.getContext("2d").drawImage($t(this,st),0,0),zt.toDataURL()}if($t(this,pt)){const[zt,Ft]=this.pageDimensions,Rt=Math.round(this.width*zt*nt.PixelsPerInch.PDF_TO_CSS_UNITS),jt=Math.round(this.height*Ft*nt.PixelsPerInch.PDF_TO_CSS_UNITS),Ct=new OffscreenCanvas(Rt,jt);return Ct.getContext("2d").drawImage($t(this,st),0,0,$t(this,st).width,$t(this,st).height,0,0,Rt,jt),Ct.transferToImageBitmap()}return structuredClone($t(this,st))},Vs=function(){cr(this,ht,new ResizeObserver(Lt=>{const zt=Lt[0].contentRect;zt.width&&zt.height&&er(this,gt,Ws).call(this,zt.width,zt.height)})),$t(this,ht).observe(this.div)},Lr(Tt,"_type","stamp");let at=Tt;$.StampEditor=at}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var et=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](et,et.exports,__w_pdfjs_require__),et.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return nt.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return it.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return at.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"DOMSVGFactory",{enumerable:!0,get:function(){return tt.DOMSVGFactory}}),Object.defineProperty(_e,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return st.GlobalWorkerOptions}}),Object.defineProperty(_e,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return et.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return tt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return et.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return tt.PixelsPerInch}}),Object.defineProperty(_e,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return tt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return et.SVGGraphics}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return ot.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return et.build}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return et.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return tt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return tt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return tt.getXfaPageViewport}}),Object.defineProperty(_e,"isDataScheme",{enumerable:!0,get:function(){return tt.isDataScheme}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return tt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return tt.loadScript}}),Object.defineProperty(_e,"noContextMenu",{enumerable:!0,get:function(){return tt.noContextMenu}}),Object.defineProperty(_e,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return rt.renderTextLayer}}),Object.defineProperty(_e,"setLayerDimensions",{enumerable:!0,get:function(){return tt.setLayerDimensions}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"updateTextLayer",{enumerable:!0,get:function(){return rt.updateTextLayer}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return et.version}});var $=__w_pdfjs_require__(1),et=__w_pdfjs_require__(2),tt=__w_pdfjs_require__(6),rt=__w_pdfjs_require__(26),nt=__w_pdfjs_require__(27),it=__w_pdfjs_require__(5),at=__w_pdfjs_require__(29),st=__w_pdfjs_require__(14),ot=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;pdfExports.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const CARD_NUMBERS={3840:"user1","0363":"user2"};async function parseBankStatement(_e){var ht;console.log("Starting PDF parsing...");const et=await pdfExports.getDocument({data:_e}).promise;console.log(`PDF loaded with ${et.numPages} pages`);const it=(await(await et.getPage(1)).getTextContent()).items.map(mt=>mt.str).join(" ").match(/EXTRATO DE (\d{4})\/\d{2}\/\d{2}/),at=it?it[1]:new Date().getFullYear().toString();let st=[];const ot=mt=>{const pt=mt.replace(/\s+/g,"").replace(",",".");return parseFloat(pt)},lt=mt=>{const pt=mt.match(/\b(3840|0363)\b/);if(!pt)return{users:[]};const ft=pt[1],gt=CARD_NUMBERS[ft];return{cardNumber:ft,users:gt?[gt]:[]}},ct=/(\d{2}\.\d{2})\s+(\d{2}\.\d{2})\s+(COMPRA|TRF|DD|PAG)\s+(.+?)\s+(\d+[.,]\d{2})\s+\d+\s+(\d+[.,]\d{2})\s*$/,ut=mt=>{const pt=mt.match(ct);if(!pt)return null;const[ft,gt,bt,_t,yt,vt,xt]=pt;console.log("Parsing line:",{type:_t,descriptionRaw:yt,amountStr:vt,balanceStr:xt});const{cardNumber:wt,users:St}=lt(yt),Ot=ot(vt),Et=ot(xt),Tt=yt.replace(/\s+/g," ").trim();if(Tt.includes("MB WAY P/"))return console.log("Found MBWAY payment, setting as debit:",Ot),{dateRemoved:gt,dateOfPurchase:bt,description:yt.trim(),debit:Ot,credit:void 0,balance:Et,users:St,cardNumber:wt,statementYear:at};if(Tt.includes("MB WAY DE"))return console.log("Found MBWAY income, setting as credit:",Ot),{dateRemoved:gt,dateOfPurchase:bt,description:yt.trim(),debit:void 0,credit:Ot,balance:Et,users:St,cardNumber:wt,statementYear:at};if(Tt.startsWith("PT61114457 MGAM"))return console.log("Found savings transfer:",Ot),{dateRemoved:gt,dateOfPurchase:bt,description:yt.trim(),debit:Ot,credit:void 0,balance:Et,users:St,cardNumber:wt,category:"Savings",statementYear:at};if(Tt.includes("PT96113730 MG"))return console.log("Found rent payment, setting as debit:",Ot),{dateRemoved:gt,dateOfPurchase:bt,description:yt.trim(),debit:Ot,credit:void 0,balance:Et,users:St,cardNumber:wt,statementYear:at};const It=_t==="COMPRA"||_t==="PAG";return{dateRemoved:gt,dateOfPurchase:bt,description:yt.trim(),debit:It?Ot:void 0,credit:It?void 0:Ot,balance:Et,users:St,cardNumber:wt,statementYear:at}};for(let mt=1;mt<=et.numPages;mt++){const gt=(await(await et.getPage(mt)).getTextContent()).items.map(yt=>({str:yt.str.trim(),x:Math.round(yt.transform[4]),y:Math.round(yt.transform[5])})).sort((yt,vt)=>Math.abs(yt.y-vt.y)<2?yt.x-vt.x:vt.y-yt.y);let bt="",_t=null;for(const yt of gt){if(_t!==null&&Math.abs(yt.y-_t)>2){const vt=ut(bt);vt&&st.push(vt),bt=""}bt+=(bt?" ":"")+yt.str,_t=yt.y}if(bt){const yt=ut(bt);yt&&st.push(yt)}}let dt=((ht=st[0])==null?void 0:ht.balance)||0;for(let mt=1;mt<st.length;mt++){const pt=st[mt];pt.debit&&(dt-=pt.debit),pt.credit&&(dt+=pt.credit),st[mt].balance=dt}return console.log("Parsed transactions:",st),st}const TransactionCategorizer=({transaction:_e,onSave:$})=>{const{categories:et}=useCategories(),{users:tt}=useUsers(),[rt,nt]=reactExports.useState(_e.category||""),[it,at]=reactExports.useState([]),[st,ot]=reactExports.useState(!1),lt=async()=>{if(!rt){kt.error("Please select a category");return}if(it.length===0){kt.error("Please assign at least one user");return}ot(!0);try{await $({..._e,category:rt,users:it})}catch(ht){console.error("Error saving transaction:",ht)}finally{ot(!1)}},ct=ht=>{at(mt=>mt.includes(ht)?mt.filter(pt=>pt!==ht):[...mt,ht])},ut=_e.debit||-(_e.credit||0),dt=it.length>1;return jsxRuntimeExports.jsxs("tr",{className:`${rt&&it.length>0?"bg-green-50":""}`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:_e.dateOfPurchase}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:_e.description}),_e.cardNumber&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Card: ",_e.cardNumber]})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:`text-lg font-semibold ${_e.description.startsWith("PT61114457 MGAM")?"text-blue-600":_e.credit?"text-green-600":"text-red-600"}`,children:_e.credit?`${_e.credit}`:`${_e.debit}`}),dt&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["",(Math.abs(ut)/it.length).toFixed(2)," per person"]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:tt.map(ht=>jsxRuntimeExports.jsx("button",{onClick:()=>ct(ht.id),className:`px-2 py-1 rounded-full text-xs ${it.includes(ht.id)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:ht.name},ht.id))})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("select",{value:rt,onChange:ht=>nt(ht.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select category..."}),jsxRuntimeExports.jsx("optgroup",{label:"Fixed Expenses",children:et.filter(ht=>ht.type==="fixed").map(ht=>jsxRuntimeExports.jsx("option",{value:ht.name,children:ht.name},ht.id))}),jsxRuntimeExports.jsx("optgroup",{label:"Flexible Expenses",children:et.filter(ht=>ht.type==="flexible").map(ht=>jsxRuntimeExports.jsx("option",{value:ht.name,children:ht.name},ht.id))})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsx("button",{onClick:lt,disabled:st||!rt||it.length===0,className:"text-blue-600 hover:text-blue-900 disabled:opacity-50 disabled:hover:text-blue-600",children:"Save"})})]})};function BankStatements(){const[_e,$]=reactExports.useState([]),[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(null),[it,at]=reactExports.useState(new Date().getFullYear());useUsers();const st=async lt=>{var ut;const ct=(ut=lt.target.files)==null?void 0:ut[0];if(ct){tt(!0),nt(null);try{console.log("Starting file upload process");const dt=await ct.arrayBuffer();console.log("File converted to ArrayBuffer");const ht=await parseBankStatement(dt);if(console.log("Parsing complete, transactions:",ht.length),ht.length>0){const mt=ht[0],pt=new Date().getMonth()+1,gt=parseInt(mt.dateOfPurchase.split(".")[1])>pt?new Date().getFullYear()-1:new Date().getFullYear();at(gt)}$(ht),kt.success(`Parsed ${ht.length} transactions`)}catch(dt){console.error("Error parsing PDF:",dt);const ht=dt instanceof Error?dt.message:"Unknown error occurred";nt(ht),kt.error("Failed to parse bank statement")}finally{tt(!1)}}},ot=async lt=>{var ct,ut;try{const dt=lt.credit||-(lt.debit||0),ht=dt/(((ct=lt.users)==null?void 0:ct.length)||1),[mt,pt]=lt.dateOfPurchase.split("."),gt=`${lt.statementYear||new Date().getFullYear().toString()}-${mt.padStart(2,"0")}-${pt.padStart(2,"0")}`;console.log("Saving transaction with date:",gt,"from statement year:",lt.statementYear);const bt=((ut=lt.users)==null?void 0:ut.map(vt=>{var xt;return{user_id:vt,amount:ht,category:lt.category||"",description:lt.description,date:gt,total_amount:Math.abs(dt),split_between:((xt=lt.users)==null?void 0:xt.length)||1}}))||[];if(bt.length===0)throw new Error("No users assigned to this transaction");console.log("Saving purchases:",bt);const{data:_t,error:yt}=await supabase.from("purchases").insert(bt);if(yt)throw console.error("Supabase error:",yt),yt;kt.success("Transaction saved successfully"),$(vt=>vt.filter(xt=>xt.dateRemoved!==lt.dateRemoved||xt.dateOfPurchase!==lt.dateOfPurchase||xt.description!==lt.description))}catch(dt){console.error("Error saving transaction:",dt),dt instanceof Error?kt.error(`Failed to save transaction: ${dt.message}`):kt.error("Failed to save transaction")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Bank Statements"}),jsxRuntimeExports.jsxs("label",{className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Upload,{className:"h-5 w-5"}),"Upload Statement",jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:st,disabled:et})]})]}),rt&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:rt}),et&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Processing bank statement..."})]}),_e.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_e.map((lt,ct)=>jsxRuntimeExports.jsx(TransactionCategorizer,{transaction:lt,onSave:ot},`${lt.dateRemoved}-${lt.dateOfPurchase}-${ct}`))})]})})]})}function Dashboard(){const[_e,$]=reactExports.useState(!1),[et,tt]=reactExports.useState(()=>startOfMonth(new Date)),rt=()=>{tt(it=>{const at=startOfMonth(subMonths(it,1));return console.log("Previous month:",{current:format$1(it,"yyyy-MM-dd"),new:format$1(at,"yyyy-MM-dd"),month:format$1(at,"MMMM yyyy")}),at})},nt=()=>{tt(it=>{const at=startOfMonth(addMonths(it,1));return console.log("Next month:",{current:format$1(it,"yyyy-MM-dd"),new:format$1(at,"yyyy-MM-dd"),month:format$1(at,"MMMM yyyy")}),at})};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(BankStatements,{}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Recent Purchases"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"p-1 hover:bg-gray-100 rounded",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium min-w-[100px] text-center",children:format$1(et,"MMMM yyyy")}),jsxRuntimeExports.jsx("button",{onClick:nt,className:"p-1 hover:bg-gray-100 rounded",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5"})})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5"}),"Add Purchase"]})]}),jsxRuntimeExports.jsx(PurchasesList,{filters:{date:et}})]})]}),_e&&jsxRuntimeExports.jsx(AddPurchasePopup,{onClose:()=>$(!1),onPurchaseAdded:()=>{$(!1)}})]})}const getCurrentMonthDate=()=>{const _e=new Date;return new Date(_e.getFullYear(),_e.getMonth(),1).toISOString().split("T")[0]},formatMonthDisplay=_e=>new Date(_e).toLocaleDateString("en-US",{month:"long",year:"numeric"}),getMonthOptions=()=>{const _e=[],$=new Date;for(let et=-11;et<=2;et++){const rt=new Date($.getFullYear(),$.getMonth()+et,1).toISOString().split("T")[0];_e.push(rt)}return _e};function Income(){const[_e,$]=reactExports.useState([]),[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[it,at]=reactExports.useState(!0),[st,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState(!1),[ht,mt]=reactExports.useState(null),[pt,ft]=reactExports.useState(""),[gt,bt]=reactExports.useState(getCurrentMonthDate()),[_t,yt]=reactExports.useState({from_person:"",description:"",amount:"",date:"",recurring:!1});reactExports.useEffect(()=>{wt(),xt(),vt()},[gt]);const vt=async()=>{try{const{data:Rt,error:jt}=await supabase.from("monthly_income_overrides").select("*").eq("month",gt);if(jt)throw jt;nt(Rt||[])}catch(Rt){console.error("Error fetching monthly overrides:",Rt),kt.error("Failed to load monthly income overrides")}},xt=async()=>{try{const{data:Rt,error:jt}=await supabase.from("users").select("id, name, type, monthly_income").order("name");if(jt)throw jt;tt(Rt||[])}catch(Rt){console.error("Error fetching users:",Rt),kt.error("Failed to load users")}},wt=async()=>{try{const Rt=new Date(gt),jt=new Date(Rt.getFullYear(),Rt.getMonth()+1,0),{data:Ct,error:Dt}=await supabase.from("extra_income").select("*").gte("date",Rt.toISOString()).lte("date",jt.toISOString()).order("date",{ascending:!1});if(Dt)throw Dt;$(Ct||[]),at(!1)}catch(Rt){console.error("Error fetching incomes:",Rt),kt.error("Failed to load extra incomes"),at(!1)}},St=async Rt=>{if(Rt.preventDefault(),!!ht)try{const jt=parseFloat(pt),Ct=rt.find(Dt=>Dt.user_id===ht.id);if(Ct){const{error:Dt}=await supabase.from("monthly_income_overrides").update({amount:jt}).eq("id",Ct.id);if(Dt)throw Dt}else{const{error:Dt}=await supabase.from("monthly_income_overrides").insert({user_id:ht.id,amount:jt,month:gt});if(Dt)throw Dt}kt.success("Base income updated for this month"),dt(!1),mt(null),ft(""),vt()}catch(jt){console.error("Error updating base income:",jt),kt.error("Failed to update base income")}},Ot=async Rt=>{Rt.preventDefault();try{const{data:{user:jt}}=await supabase.auth.getUser();if(!jt)throw new Error("No user found");const Ct={..._t,amount:parseFloat(_t.amount),user_id:jt.id};if(lt){const{error:Dt}=await supabase.from("extra_income").update(Ct).eq("id",lt);if(Dt)throw Dt;kt.success("Income updated successfully")}else{const{error:Dt}=await supabase.from("extra_income").insert([Ct]);if(Dt)throw Dt;kt.success("Income added successfully")}ot(!1),ct(null),yt({from_person:"",description:"",amount:"",date:"",recurring:!1}),wt()}catch(jt){console.error("Error saving income:",jt),kt.error("Failed to save income")}},Et=Rt=>{yt({from_person:Rt.from_person,description:Rt.description,amount:Rt.amount.toString(),date:Rt.date,recurring:Rt.recurring}),ct(Rt.id),ot(!0)},Tt=async Rt=>{if(confirm("Are you sure you want to delete this income?"))try{const{error:jt}=await supabase.from("extra_income").delete().eq("id",Rt);if(jt)throw jt;kt.success("Income deleted successfully"),wt()}catch(jt){console.error("Error deleting income:",jt),kt.error("Failed to delete income")}},It=new Date().getMonth(),Wt=new Date().getFullYear(),Lt=_e.filter(Rt=>{const jt=new Date(Rt.date);return jt.getMonth()===It&&jt.getFullYear()===Wt}).reduce((Rt,jt)=>Rt+jt.amount,0),zt=et.reduce((Rt,jt)=>{const Ct=rt.find(Mt=>Mt.user_id===jt.id),Dt=Ct?Ct.amount:jt.monthly_income;return Rt+(Dt||0)},0),Ft=zt+Lt;return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const Rt=new Date(gt);Rt.setMonth(Rt.getMonth()-1),bt(Rt.toISOString().split("T")[0])},className:"p-2 text-gray-600 hover:text-gray-900",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("select",{value:gt,onChange:Rt=>bt(Rt.target.value),className:"block w-48 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:getMonthOptions().map(Rt=>jsxRuntimeExports.jsx("option",{value:Rt,children:formatMonthDisplay(Rt)},Rt))}),jsxRuntimeExports.jsx("button",{onClick:()=>{const Rt=new Date(gt);Rt.setMonth(Rt.getMonth()+1),bt(Rt.toISOString().split("T")[0])},className:"p-2 text-gray-600 hover:text-gray-900",children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-5 w-5"})})]}),gt===getCurrentMonthDate()&&jsxRuntimeExports.jsxs("button",{onClick:()=>ot(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Extra Income"]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Base Income"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-8 w-8 text-blue-500"})]}),jsxRuntimeExports.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["",zt.toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-2",children:et.map(Rt=>{const jt=rt.find(Dt=>Dt.user_id===Rt.id),Ct=jt?jt.amount:Rt.monthly_income;return jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:Rt.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsxs("span",{className:`text-gray-900 ${jt?"font-medium text-blue-600":""}`,children:["",Ct.toFixed(2),jt&&jsxRuntimeExports.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(usually ",Rt.monthly_income.toFixed(2),")"]})]}),gt===getCurrentMonthDate()&&jsxRuntimeExports.jsx("button",{onClick:()=>{mt(Rt),ft(((jt==null?void 0:jt.amount)||Rt.monthly_income).toString()),dt(!0)},className:"ml-2 text-blue-600 hover:text-blue-700",children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})})]})]},Rt.id)})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Extra Income"}),jsxRuntimeExports.jsx(Euro,{className:"h-8 w-8 text-green-500"})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-3xl font-bold text-green-600",children:["",Lt.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleString("default",{month:"long",year:"numeric"})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Total Income"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-8 w-8 text-purple-500"})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-3xl font-bold text-purple-600",children:["",Ft.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:new Date().toLocaleString("default",{month:"long",year:"numeric"})})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("button",{onClick:()=>{ct(null),yt({from_person:"",description:"",amount:"",date:"",recurring:!1}),ot(!st)},className:"w-full bg-white rounded-lg shadow-md p-6 flex items-center justify-center gap-2 text-blue-600 hover:text-blue-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"h-6 w-6"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-medium",children:st?"Cancel":"Add Extra Income"})]})}),st&&jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("form",{onSubmit:Ot,className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:lt?"Edit Extra Income":"Add Extra Income"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),jsxRuntimeExports.jsxs("select",{value:_t.from_person,onChange:Rt=>yt({..._t,from_person:Rt.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select who it's from"}),et.map(Rt=>jsxRuntimeExports.jsx("option",{value:Rt.name,children:Rt.name},Rt.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),jsxRuntimeExports.jsx("input",{type:"text",value:_t.description,onChange:Rt=>yt({..._t,description:Rt.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,placeholder:"What is this income for?"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),jsxRuntimeExports.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:_t.amount,onChange:Rt=>yt({..._t,amount:Rt.target.value}),className:"block w-full pl-7 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,placeholder:"0.00"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:_t.date,onChange:Rt=>yt({..._t,date:Rt.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center h-full pt-6",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 text-gray-700",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:_t.recurring,onChange:Rt=>yt({..._t,recurring:Rt.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),jsxRuntimeExports.jsx("span",{children:"Recurring Income"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{ot(!1),ct(null),yt({from_person:"",description:"",amount:"",date:"",recurring:!1})},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:lt?"Update Income":"Save Income"})]})]})}),ut&&jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("form",{onSubmit:St,className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:["Update Base Income for ",ht==null?void 0:ht.name]}),jsxRuntimeExports.jsxs("div",{className:"max-w-md",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Base Income"}),jsxRuntimeExports.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-500 sm:text-sm",children:""})}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:pt,onChange:Rt=>ft(Rt.target.value),className:"block w-full pl-7 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0,placeholder:"0.00"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{dt(!1),mt(null),ft("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Update Base Income"})]})]})}),it?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-blue-600"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-500",children:"Loading..."})]}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_e.map(Rt=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Rt.from_person}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Rt.description}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["",Rt.amount.toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(Rt.date).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Rt.recurring?jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Recurring"}):jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"One-time"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Et(Rt),className:"text-blue-600 hover:text-blue-900 transition-colors",children:jsxRuntimeExports.jsx(Pen,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Tt(Rt.id),className:"text-red-600 hover:text-red-900 transition-colors",children:jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"})})]})})]},Rt.id))})]})})})]})}function r(_e){var $,et,tt="";if(typeof _e=="string"||typeof _e=="number")tt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var rt=_e.length;for($=0;$<rt;$++)_e[$]&&(et=r(_e[$]))&&(tt&&(tt+=" "),tt+=et)}else for(et in _e)_e[et]&&(tt&&(tt+=" "),tt+=et);return tt}function clsx(){for(var _e,$,et=0,tt="",rt=arguments.length;et<rt;et++)(_e=arguments[et])&&($=r(_e))&&(tt&&(tt+=" "),tt+=$);return tt}var isArray$g=Array.isArray,isArray_1=isArray$g,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(_e){var $=hasOwnProperty$a.call(_e,symToStringTag$1),et=_e[symToStringTag$1];try{_e[symToStringTag$1]=void 0;var tt=!0}catch{}var rt=nativeObjectToString$1.call(_e);return tt&&($?_e[symToStringTag$1]=et:delete _e[symToStringTag$1]),rt}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(_e){return nativeObjectToString.call(_e)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(_e){return _e==null?_e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_e)?getRawTag(_e):objectToString(_e)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(_e){return _e!=null&&typeof _e=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(_e){return typeof _e=="symbol"||isObjectLike$8(_e)&&baseGetTag$8(_e)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$f=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(_e,$){if(isArray$f(_e))return!1;var et=typeof _e;return et=="number"||et=="symbol"||et=="boolean"||_e==null||isSymbol$5(_e)?!0:reIsPlainProp.test(_e)||!reIsDeepProp.test(_e)||$!=null&&_e in Object($)}var _isKey=isKey$3;function isObject$8(_e){var $=typeof _e;return _e!=null&&($=="object"||$=="function")}var isObject_1=isObject$8;const isObject$9=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$7=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(_e){if(!isObject$7(_e))return!1;var $=baseGetTag$7(_e);return $==funcTag$1||$==genTag||$==asyncTag||$==proxyTag}var isFunction_1=isFunction$3;const isFunction$4=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var _e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}();function isMasked$1(_e){return!!maskSrcKey&&maskSrcKey in _e}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(_e){if(_e!=null){try{return funcToString$2.call(_e)}catch{}try{return _e+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$6=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(_e){if(!isObject$6(_e)||isMasked(_e))return!1;var $=isFunction$2(_e)?reIsNative:reIsHostCtor;return $.test(toSource$1(_e))}var _baseIsNative=baseIsNative$1;function getValue$1(_e,$){return _e==null?void 0:_e[$]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(_e,$){var et=getValue(_e,$);return baseIsNative(et)?et:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(_e){var $=this.has(_e)&&delete this.__data__[_e];return this.size-=$?1:0,$}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(_e){var $=this.__data__;if(nativeCreate$2){var et=$[_e];return et===HASH_UNDEFINED$2?void 0:et}return hasOwnProperty$8.call($,_e)?$[_e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(_e){var $=this.__data__;return nativeCreate$1?$[_e]!==void 0:hasOwnProperty$7.call($,_e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(_e,$){var et=this.__data__;return this.size+=this.has(_e)?0:1,et[_e]=nativeCreate&&$===void 0?HASH_UNDEFINED$1:$,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(_e){var $=-1,et=_e==null?0:_e.length;for(this.clear();++$<et;){var tt=_e[$];this.set(tt[0],tt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$4(_e,$){return _e===$||_e!==_e&&$!==$}var eq_1=eq$4,eq$3=eq_1;function assocIndexOf$4(_e,$){for(var et=_e.length;et--;)if(eq$3(_e[et][0],$))return et;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(_e){var $=this.__data__,et=assocIndexOf$3($,_e);if(et<0)return!1;var tt=$.length-1;return et==tt?$.pop():splice.call($,et,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(_e){var $=this.__data__,et=assocIndexOf$2($,_e);return et<0?void 0:$[et][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(_e){return assocIndexOf$1(this.__data__,_e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(_e,$){var et=this.__data__,tt=assocIndexOf(et,_e);return tt<0?(++this.size,et.push([_e,$])):et[tt][1]=$,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(_e){var $=-1,et=_e==null?0:_e.length;for(this.clear();++$<et;){var tt=_e[$];this.set(tt[0],tt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(_e){var $=typeof _e;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?_e!=="__proto__":_e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(_e,$){var et=_e.__data__;return isKeyable($)?et[typeof $=="string"?"string":"hash"]:et.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(_e){var $=getMapData$3(this,_e).delete(_e);return this.size-=$?1:0,$}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(_e){return getMapData$2(this,_e).get(_e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(_e){return getMapData$1(this,_e).has(_e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(_e,$){var et=getMapData(this,_e),tt=et.size;return et.set(_e,$),this.size+=et.size==tt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(_e){var $=-1,et=_e==null?0:_e.length;for(this.clear();++$<et;){var tt=_e[$];this.set(tt[0],tt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(_e,$){if(typeof _e!="function"||$!=null&&typeof $!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var et=function(){var tt=arguments,rt=$?$.apply(this,tt):tt[0],nt=et.cache;if(nt.has(rt))return nt.get(rt);var it=_e.apply(this,tt);return et.cache=nt.set(rt,it)||nt,it};return et.cache=new(memoize$2.Cache||MapCache$2),et}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(_e){var $=memoize$1(_e,function(tt){return et.size===MAX_MEMOIZE_SIZE&&et.clear(),tt}),et=$.cache;return $}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(_e){var $=[];return _e.charCodeAt(0)===46&&$.push(""),_e.replace(rePropName,function(et,tt,rt,nt){$.push(rt?nt.replace(reEscapeChar,"$1"):tt||et)}),$}),_stringToPath=stringToPath$1;function arrayMap$3(_e,$){for(var et=-1,tt=_e==null?0:_e.length,rt=Array(tt);++et<tt;)rt[et]=$(_e[et],et,_e);return rt}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$e=isArray_1,isSymbol$4=isSymbol_1,INFINITY$4=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(_e){if(typeof _e=="string")return _e;if(isArray$e(_e))return arrayMap$2(_e,baseToString$1)+"";if(isSymbol$4(_e))return symbolToString?symbolToString.call(_e):"";var $=_e+"";return $=="0"&&1/_e==-INFINITY$4?"-0":$}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(_e){return _e==null?"":baseToString(_e)}var toString_1=toString$3,isArray$d=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(_e,$){return isArray$d(_e)?_e:isKey$2(_e,$)?[_e]:stringToPath(toString$2(_e))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$3=1/0;function toKey$4(_e){if(typeof _e=="string"||isSymbol$3(_e))return _e;var $=_e+"";return $=="0"&&1/_e==-INFINITY$3?"-0":$}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(_e,$){$=castPath$1($,_e);for(var et=0,tt=$.length;_e!=null&&et<tt;)_e=_e[toKey$3($[et++])];return et&&et==tt?_e:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(_e,$,et){var tt=_e==null?void 0:baseGet$2(_e,$);return tt===void 0?et:tt}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(_e){return _e==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$c=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(_e){return typeof _e=="string"||!isArray$c(_e)&&isObjectLike$7(_e)&&baseGetTag$6(_e)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(_e){if(typeof _e=="object"&&_e!==null){var $=_e.$$typeof;switch($){case b:switch(_e=_e.type,_e){case d:case f:case e:case m:case n:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$1:case h:case l:case q:case p:case g:return _e;default:return $}}case c$1:return $}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_e){return v(_e)===h};reactIs_production_min.isContextProvider=function(_e){return v(_e)===g};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b};reactIs_production_min.isForwardRef=function(_e){return v(_e)===l};reactIs_production_min.isFragment=function(_e){return v(_e)===d};reactIs_production_min.isLazy=function(_e){return v(_e)===q};reactIs_production_min.isMemo=function(_e){return v(_e)===p};reactIs_production_min.isPortal=function(_e){return v(_e)===c$1};reactIs_production_min.isProfiler=function(_e){return v(_e)===f};reactIs_production_min.isStrictMode=function(_e){return v(_e)===e};reactIs_production_min.isSuspense=function(_e){return v(_e)===m};reactIs_production_min.isSuspenseList=function(_e){return v(_e)===n};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d||_e===f||_e===e||_e===m||_e===n||_e===t||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q||_e.$$typeof===p||_e.$$typeof===g||_e.$$typeof===h||_e.$$typeof===l||_e.$$typeof===u||_e.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$3(_e){return typeof _e=="number"||isObjectLike$6(_e)&&baseGetTag$5(_e)==numberTag$2}var isNumber_1=isNumber$3;const isNumber$4=getDefaultExportFromCjs(isNumber_1);var isNumber$2=isNumber_1;function isNaN$1(_e){return isNumber$2(_e)&&_e!=+_e}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function _e($){return $===0?0:$>0?1:-1},isPercent=function _e($){return isString$1($)&&$.indexOf("%")===$.length-1},isNumber$1=function _e($){return isNumber$4($)&&!isNan($)},isNumOrStr=function _e($){return isNumber$1($)||isString$1($)},idCounter=0,uniqueId=function _e($){var et=++idCounter;return"".concat($||"").concat(et)},getPercentValue=function _e($,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber$1($)&&!isString$1($))return tt;var nt;if(isPercent($)){var it=$.indexOf("%");nt=et*parseFloat($.slice(0,it))/100}else nt=+$;return isNan(nt)&&(nt=tt),rt&&nt>et&&(nt=et),nt},getAnyElementOfObject=function _e($){if(!$)return null;var et=Object.keys($);return et&&et.length?$[et[0]]:null},hasDuplicate=function _e($){if(!Array.isArray($))return!1;for(var et=$.length,tt={},rt=0;rt<et;rt++)if(!tt[$[rt]])tt[$[rt]]=!0;else return!0;return!1},interpolateNumber$2=function _e($,et){return isNumber$1($)&&isNumber$1(et)?function(tt){return $+tt*(et-$)}:function(){return et}};function findEntryInArray(_e,$,et){return!_e||!_e.length?null:_e.find(function(tt){return tt&&(typeof $=="function"?$(tt):get$2(tt,$))===et})}function shallowEqual(_e,$){for(var et in _e)if({}.hasOwnProperty.call(_e,et)&&(!{}.hasOwnProperty.call($,et)||_e[et]!==$[et]))return!1;for(var tt in $)if({}.hasOwnProperty.call($,tt)&&!{}.hasOwnProperty.call(_e,tt))return!1;return!0}function _typeof$L(_e){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$L(_e)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function _e($,et){if(!$||typeof $=="function"||typeof $=="boolean")return null;var tt=$;if(reactExports.isValidElement($)&&(tt=$.props),!isObject$9(tt))return null;var rt={};return Object.keys(tt).forEach(function(nt){EventKeys.includes(nt)&&(rt[nt]=et||function(it){return tt[nt](tt,it)})}),rt},getEventHandlerOfChild=function _e($,et,tt){return function(rt){return $(et,tt,rt),null}},adaptEventsOfChild=function _e($,et,tt){if(!isObject$9($)||_typeof$L($)!=="object")return null;var rt=null;return Object.keys($).forEach(function(nt){var it=$[nt];EventKeys.includes(nt)&&typeof it=="function"&&(rt||(rt={}),rt[nt]=getEventHandlerOfChild(it,et,tt))}),rt},_excluded$j=["children"],_excluded2$7=["children"];function _objectWithoutProperties$j(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$j(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$j(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _typeof$K(_e){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$K(_e)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function _e($){return typeof $=="string"?$:$?$.displayName||$.name||"Component":""},lastChildren=null,lastResult=null,toArray=function _e($){if($===lastChildren&&Array.isArray(lastResult))return lastResult;var et=[];return reactExports.Children.forEach($,function(tt){isNil$1(tt)||(reactIsExports.isFragment(tt)?et=et.concat(_e(tt.props.children)):et.push(tt))}),lastResult=et,lastChildren=$,et};function findAllByType(_e,$){var et=[],tt=[];return Array.isArray($)?tt=$.map(function(rt){return getDisplayName(rt)}):tt=[getDisplayName($)],toArray(_e).forEach(function(rt){var nt=get$2(rt,"type.displayName")||get$2(rt,"type.name");tt.indexOf(nt)!==-1&&et.push(rt)}),et}function findChildByType(_e,$){var et=findAllByType(_e,$);return et&&et[0]}var validateWidthHeight=function _e($){if(!$||!$.props)return!1;var et=$.props,tt=et.width,rt=et.height;return!(!isNumber$1(tt)||tt<=0||!isNumber$1(rt)||rt<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function _e($){return $&&$.type&&isString$1($.type)&&SVG_TAGS.indexOf($.type)>=0},hasClipDot=function _e($){return $&&_typeof$K($)==="object"&&"clipDot"in $},isValidSpreadableProp=function _e($,et,tt,rt){var nt,it=(nt=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[rt])!==null&&nt!==void 0?nt:[];return!isFunction$4($)&&(rt&&it.includes(et)||SVGElementPropKeys.includes(et))||tt&&EventKeys.includes(et)},filterProps=function _e($,et,tt){if(!$||typeof $=="function"||typeof $=="boolean")return null;var rt=$;if(reactExports.isValidElement($)&&(rt=$.props),!isObject$9(rt))return null;var nt={};return Object.keys(rt).forEach(function(it){var at;isValidSpreadableProp((at=rt)===null||at===void 0?void 0:at[it],it,et,tt)&&(nt[it]=rt[it])}),nt},isChildrenEqual=function _e($,et){if($===et)return!0;var tt=reactExports.Children.count($);if(tt!==reactExports.Children.count(et))return!1;if(tt===0)return!0;if(tt===1)return isSingleChildEqual(Array.isArray($)?$[0]:$,Array.isArray(et)?et[0]:et);for(var rt=0;rt<tt;rt++){var nt=$[rt],it=et[rt];if(Array.isArray(nt)||Array.isArray(it)){if(!_e(nt,it))return!1}else if(!isSingleChildEqual(nt,it))return!1}return!0},isSingleChildEqual=function _e($,et){if(isNil$1($)&&isNil$1(et))return!0;if(!isNil$1($)&&!isNil$1(et)){var tt=$.props||{},rt=tt.children,nt=_objectWithoutProperties$j(tt,_excluded$j),it=et.props||{},at=it.children,st=_objectWithoutProperties$j(it,_excluded2$7);return rt&&at?shallowEqual(nt,st)&&isChildrenEqual(rt,at):!rt&&!at?shallowEqual(nt,st):!1}return!1},renderByOrder=function _e($,et){var tt=[],rt={};return toArray($).forEach(function(nt,it){if(isSvgElement(nt))tt.push(nt);else if(nt){var at=getDisplayName(nt.type),st=et[at]||{},ot=st.handler,lt=st.once;if(ot&&(!lt||!rt[at])){var ct=ot(nt,at,it);tt.push(ct),rt[at]=!0}}}),tt},getReactEventByType=function _e($){var et=$&&$.type;return et&&REACT_BROWSER_EVENT_MAP[et]?REACT_BROWSER_EVENT_MAP[et]:null},parseChildIndex=function _e($,et){return toArray(et).indexOf($)},_excluded$i=["children","width","height","viewBox","className","style","title","desc"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$u.apply(this,arguments)}function _objectWithoutProperties$i(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$i(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$i(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function Surface(_e){var $=_e.children,et=_e.width,tt=_e.height,rt=_e.viewBox,nt=_e.className,it=_e.style,at=_e.title,st=_e.desc,ot=_objectWithoutProperties$i(_e,_excluded$i),lt=rt||{width:et,height:tt,x:0,y:0},ct=clsx("recharts-surface",nt);return React.createElement("svg",_extends$u({},filterProps(ot,!0,"svg"),{className:ct,width:et,height:tt,style:it,viewBox:"".concat(lt.x," ").concat(lt.y," ").concat(lt.width," ").concat(lt.height)}),React.createElement("title",null,at),React.createElement("desc",null,st),$)}var _excluded$h=["children","className"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$t.apply(this,arguments)}function _objectWithoutProperties$h(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$h(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$h(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}var Layer=React.forwardRef(function(_e,$){var et=_e.children,tt=_e.className,rt=_objectWithoutProperties$h(_e,_excluded$h),nt=clsx("recharts-layer",tt);return React.createElement("g",_extends$t({className:nt},filterProps(rt,!0),{ref:$}),et)}),warn=function _e($,et){for(var tt=arguments.length,rt=new Array(tt>2?tt-2:0),nt=2;nt<tt;nt++)rt[nt-2]=arguments[nt]};function baseSlice$1(_e,$,et){var tt=-1,rt=_e.length;$<0&&($=-$>rt?0:rt+$),et=et>rt?rt:et,et<0&&(et+=rt),rt=$>et?0:et-$>>>0,$>>>=0;for(var nt=Array(rt);++tt<rt;)nt[tt]=_e[tt+$];return nt}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(_e,$,et){var tt=_e.length;return et=et===void 0?tt:et,!$&&et>=tt?_e:baseSlice(_e,$,et)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(_e){return reHasUnicode.test(_e)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(_e){return _e.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(_e){return _e.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(_e){return hasUnicode$1(_e)?unicodeToArray(_e):asciiToArray(_e)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(_e){return function($){$=toString$1($);var et=hasUnicode($)?stringToArray($):void 0,tt=et?et[0]:$.charAt(0),rt=et?castSlice(et,1).join(""):$.slice(1);return tt[_e]()+rt}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(_e){return function(){return _e}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let $=1,et=_e.length;$<et;++$)this._+=arguments[$]+_e[$]}function appendRound(_e){let $=Math.floor(_e);if(!($>=0))throw new Error(`invalid digits: ${_e}`);if($>15)return append;const et=10**$;return function(tt){this._+=tt[0];for(let rt=1,nt=tt.length;rt<nt;++rt)this._+=Math.round(arguments[rt]*et)/et+tt[rt]}}let Path$1=class{constructor($){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=$==null?append:appendRound($)}moveTo($,et){this._append`M${this._x0=this._x1=+$},${this._y0=this._y1=+et}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo($,et){this._append`L${this._x1=+$},${this._y1=+et}`}quadraticCurveTo($,et,tt,rt){this._append`Q${+$},${+et},${this._x1=+tt},${this._y1=+rt}`}bezierCurveTo($,et,tt,rt,nt,it){this._append`C${+$},${+et},${+tt},${+rt},${this._x1=+nt},${this._y1=+it}`}arcTo($,et,tt,rt,nt){if($=+$,et=+et,tt=+tt,rt=+rt,nt=+nt,nt<0)throw new Error(`negative radius: ${nt}`);let it=this._x1,at=this._y1,st=tt-$,ot=rt-et,lt=it-$,ct=at-et,ut=lt*lt+ct*ct;if(this._x1===null)this._append`M${this._x1=$},${this._y1=et}`;else if(ut>epsilon)if(!(Math.abs(ct*st-ot*lt)>epsilon)||!nt)this._append`L${this._x1=$},${this._y1=et}`;else{let dt=tt-it,ht=rt-at,mt=st*st+ot*ot,pt=dt*dt+ht*ht,ft=Math.sqrt(mt),gt=Math.sqrt(ut),bt=nt*Math.tan((pi-Math.acos((mt+ut-pt)/(2*ft*gt)))/2),_t=bt/gt,yt=bt/ft;Math.abs(_t-1)>epsilon&&this._append`L${$+_t*lt},${et+_t*ct}`,this._append`A${nt},${nt},0,0,${+(ct*dt>lt*ht)},${this._x1=$+yt*st},${this._y1=et+yt*ot}`}}arc($,et,tt,rt,nt,it){if($=+$,et=+et,tt=+tt,it=!!it,tt<0)throw new Error(`negative radius: ${tt}`);let at=tt*Math.cos(rt),st=tt*Math.sin(rt),ot=$+at,lt=et+st,ct=1^it,ut=it?rt-nt:nt-rt;this._x1===null?this._append`M${ot},${lt}`:(Math.abs(this._x1-ot)>epsilon||Math.abs(this._y1-lt)>epsilon)&&this._append`L${ot},${lt}`,tt&&(ut<0&&(ut=ut%tau+tau),ut>tauEpsilon?this._append`A${tt},${tt},0,1,${ct},${$-at},${et-st}A${tt},${tt},0,1,${ct},${this._x1=ot},${this._y1=lt}`:ut>epsilon&&this._append`A${tt},${tt},0,${+(ut>=pi)},${ct},${this._x1=$+tt*Math.cos(nt)},${this._y1=et+tt*Math.sin(nt)}`)}rect($,et,tt,rt){this._append`M${this._x0=this._x1=+$},${this._y0=this._y1=+et}h${tt=+tt}v${+rt}h${-tt}Z`}toString(){return this._}};function withPath(_e){let $=3;return _e.digits=function(et){if(!arguments.length)return $;if(et==null)$=null;else{const tt=Math.floor(et);if(!(tt>=0))throw new RangeError(`invalid digits: ${et}`);$=tt}return _e},()=>new Path$1($)}function array(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;default:this._context.lineTo(_e,$);break}}};function curveLinear(_e){return new Linear(_e)}function x(_e){return _e[0]}function y(_e){return _e[1]}function shapeLine(_e,$){var et=constant$3(!0),tt=null,rt=curveLinear,nt=null,it=withPath(at);_e=typeof _e=="function"?_e:_e===void 0?x:constant$3(_e),$=typeof $=="function"?$:$===void 0?y:constant$3($);function at(st){var ot,lt=(st=array(st)).length,ct,ut=!1,dt;for(tt==null&&(nt=rt(dt=it())),ot=0;ot<=lt;++ot)!(ot<lt&&et(ct=st[ot],ot,st))===ut&&((ut=!ut)?nt.lineStart():nt.lineEnd()),ut&&nt.point(+_e(ct,ot,st),+$(ct,ot,st));if(dt)return nt=null,dt+""||null}return at.x=function(st){return arguments.length?(_e=typeof st=="function"?st:constant$3(+st),at):_e},at.y=function(st){return arguments.length?($=typeof st=="function"?st:constant$3(+st),at):$},at.defined=function(st){return arguments.length?(et=typeof st=="function"?st:constant$3(!!st),at):et},at.curve=function(st){return arguments.length?(rt=st,tt!=null&&(nt=rt(tt)),at):rt},at.context=function(st){return arguments.length?(st==null?tt=nt=null:nt=rt(tt=st),at):tt},at}function shapeArea(_e,$,et){var tt=null,rt=constant$3(!0),nt=null,it=curveLinear,at=null,st=withPath(ot);_e=typeof _e=="function"?_e:_e===void 0?x:constant$3(+_e),$=typeof $=="function"?$:constant$3($===void 0?0:+$),et=typeof et=="function"?et:et===void 0?y:constant$3(+et);function ot(ct){var ut,dt,ht,mt=(ct=array(ct)).length,pt,ft=!1,gt,bt=new Array(mt),_t=new Array(mt);for(nt==null&&(at=it(gt=st())),ut=0;ut<=mt;++ut){if(!(ut<mt&&rt(pt=ct[ut],ut,ct))===ft)if(ft=!ft)dt=ut,at.areaStart(),at.lineStart();else{for(at.lineEnd(),at.lineStart(),ht=ut-1;ht>=dt;--ht)at.point(bt[ht],_t[ht]);at.lineEnd(),at.areaEnd()}ft&&(bt[ut]=+_e(pt,ut,ct),_t[ut]=+$(pt,ut,ct),at.point(tt?+tt(pt,ut,ct):bt[ut],et?+et(pt,ut,ct):_t[ut]))}if(gt)return at=null,gt+""||null}function lt(){return shapeLine().defined(rt).curve(it).context(nt)}return ot.x=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant$3(+ct),tt=null,ot):_e},ot.x0=function(ct){return arguments.length?(_e=typeof ct=="function"?ct:constant$3(+ct),ot):_e},ot.x1=function(ct){return arguments.length?(tt=ct==null?null:typeof ct=="function"?ct:constant$3(+ct),ot):tt},ot.y=function(ct){return arguments.length?($=typeof ct=="function"?ct:constant$3(+ct),et=null,ot):$},ot.y0=function(ct){return arguments.length?($=typeof ct=="function"?ct:constant$3(+ct),ot):$},ot.y1=function(ct){return arguments.length?(et=ct==null?null:typeof ct=="function"?ct:constant$3(+ct),ot):et},ot.lineX0=ot.lineY0=function(){return lt().x(_e).y($)},ot.lineY1=function(){return lt().x(_e).y(et)},ot.lineX1=function(){return lt().x(tt).y($)},ot.defined=function(ct){return arguments.length?(rt=typeof ct=="function"?ct:constant$3(!!ct),ot):rt},ot.curve=function(ct){return arguments.length?(it=ct,nt!=null&&(at=it(nt)),ot):it},ot.context=function(ct){return arguments.length?(ct==null?nt=at=null:at=it(nt=ct),ot):nt},ot}class Bump{constructor($,et){this._context=$,this._x=et}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point($,et){switch($=+$,et=+et,this._point){case 0:{this._point=1,this._line?this._context.lineTo($,et):this._context.moveTo($,et);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+$)/2,this._y0,this._x0,et,$,et):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+et)/2,$,this._y0,$,et);break}}this._x0=$,this._y0=et}}function bumpX(_e){return new Bump(_e,!0)}function bumpY(_e){return new Bump(_e,!1)}const symbolCircle={draw(_e,$){const et=sqrt$1($/pi$1);_e.moveTo(et,0),_e.arc(0,0,et,0,tau$1)}},symbolCross={draw(_e,$){const et=sqrt$1($/5)/2;_e.moveTo(-3*et,-et),_e.lineTo(-et,-et),_e.lineTo(-et,-3*et),_e.lineTo(et,-3*et),_e.lineTo(et,-et),_e.lineTo(3*et,-et),_e.lineTo(3*et,et),_e.lineTo(et,et),_e.lineTo(et,3*et),_e.lineTo(-et,3*et),_e.lineTo(-et,et),_e.lineTo(-3*et,et),_e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(_e,$){const et=sqrt$1($/tan30_2),tt=et*tan30;_e.moveTo(0,-et),_e.lineTo(tt,0),_e.lineTo(0,et),_e.lineTo(-tt,0),_e.closePath()}},symbolSquare={draw(_e,$){const et=sqrt$1($),tt=-et/2;_e.rect(tt,tt,et,et)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(_e,$){const et=sqrt$1($*ka),tt=kx*et,rt=ky*et;_e.moveTo(0,-et),_e.lineTo(tt,rt);for(let nt=1;nt<5;++nt){const it=tau$1*nt/5,at=cos(it),st=sin(it);_e.lineTo(st*et,-at*et),_e.lineTo(at*tt-st*rt,st*tt+at*rt)}_e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(_e,$){const et=-sqrt$1($/(sqrt3*3));_e.moveTo(0,et*2),_e.lineTo(-sqrt3*et,-et),_e.lineTo(sqrt3*et,-et),_e.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(_e,$){const et=sqrt$1($/a),tt=et/2,rt=et*k,nt=tt,it=et*k+et,at=-nt,st=it;_e.moveTo(tt,rt),_e.lineTo(nt,it),_e.lineTo(at,st),_e.lineTo(c*tt-s*rt,s*tt+c*rt),_e.lineTo(c*nt-s*it,s*nt+c*it),_e.lineTo(c*at-s*st,s*at+c*st),_e.lineTo(c*tt+s*rt,c*rt-s*tt),_e.lineTo(c*nt+s*it,c*it-s*nt),_e.lineTo(c*at+s*st,c*st-s*at),_e.closePath()}};function Symbol$3(_e,$){let et=null,tt=withPath(rt);_e=typeof _e=="function"?_e:constant$3(_e||symbolCircle),$=typeof $=="function"?$:constant$3($===void 0?64:+$);function rt(){let nt;if(et||(et=nt=tt()),_e.apply(this,arguments).draw(et,+$.apply(this,arguments)),nt)return et=null,nt+""||null}return rt.type=function(nt){return arguments.length?(_e=typeof nt=="function"?nt:constant$3(nt),rt):_e},rt.size=function(nt){return arguments.length?($=typeof nt=="function"?nt:constant$3(+nt),rt):$},rt.context=function(nt){return arguments.length?(et=nt??null,rt):et},rt}function noop$3(){}function point$2(_e,$,et){_e._context.bezierCurveTo((2*_e._x0+_e._x1)/3,(2*_e._y0+_e._y1)/3,(_e._x0+2*_e._x1)/3,(_e._y0+2*_e._y1)/3,(_e._x0+4*_e._x1+$)/6,(_e._y0+4*_e._y1+et)/6)}function Basis(_e){this._context=_e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,_e,$);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$}};function curveBasis(_e){return new Basis(_e)}function BasisClosed(_e){this._context=_e}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._x2=_e,this._y2=$;break;case 1:this._point=2,this._x3=_e,this._y3=$;break;case 2:this._point=3,this._x4=_e,this._y4=$,this._context.moveTo((this._x0+4*this._x1+_e)/6,(this._y0+4*this._y1+$)/6);break;default:point$2(this,_e,$);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$}};function curveBasisClosed(_e){return new BasisClosed(_e)}function BasisOpen(_e){this._context=_e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var et=(this._x0+4*this._x1+_e)/6,tt=(this._y0+4*this._y1+$)/6;this._line?this._context.lineTo(et,tt):this._context.moveTo(et,tt);break;case 3:this._point=4;default:point$2(this,_e,$);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$}};function curveBasisOpen(_e){return new BasisOpen(_e)}function LinearClosed(_e){this._context=_e}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_e,$){_e=+_e,$=+$,this._point?this._context.lineTo(_e,$):(this._point=1,this._context.moveTo(_e,$))}};function curveLinearClosed(_e){return new LinearClosed(_e)}function sign$1(_e){return _e<0?-1:1}function slope3(_e,$,et){var tt=_e._x1-_e._x0,rt=$-_e._x1,nt=(_e._y1-_e._y0)/(tt||rt<0&&-0),it=(et-_e._y1)/(rt||tt<0&&-0),at=(nt*rt+it*tt)/(tt+rt);return(sign$1(nt)+sign$1(it))*Math.min(Math.abs(nt),Math.abs(it),.5*Math.abs(at))||0}function slope2(_e,$){var et=_e._x1-_e._x0;return et?(3*(_e._y1-_e._y0)/et-$)/2:$}function point$1(_e,$,et){var tt=_e._x0,rt=_e._y0,nt=_e._x1,it=_e._y1,at=(nt-tt)/3;_e._context.bezierCurveTo(tt+at,rt+at*$,nt-at,it-at*et,nt,it)}function MonotoneX(_e){this._context=_e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){var et=NaN;if(_e=+_e,$=+$,!(_e===this._x1&&$===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,et=slope3(this,_e,$)),et);break;default:point$1(this,this._t0,et=slope3(this,_e,$));break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$,this._t0=et}}};function MonotoneY(_e){this._context=new ReflectContext(_e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_e,$){MonotoneX.prototype.point.call(this,$,_e)};function ReflectContext(_e){this._context=_e}ReflectContext.prototype={moveTo:function(_e,$){this._context.moveTo($,_e)},closePath:function(){this._context.closePath()},lineTo:function(_e,$){this._context.lineTo($,_e)},bezierCurveTo:function(_e,$,et,tt,rt,nt){this._context.bezierCurveTo($,_e,tt,et,nt,rt)}};function monotoneX(_e){return new MonotoneX(_e)}function monotoneY(_e){return new MonotoneY(_e)}function Natural(_e){this._context=_e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _e=this._x,$=this._y,et=_e.length;if(et)if(this._line?this._context.lineTo(_e[0],$[0]):this._context.moveTo(_e[0],$[0]),et===2)this._context.lineTo(_e[1],$[1]);else for(var tt=controlPoints(_e),rt=controlPoints($),nt=0,it=1;it<et;++nt,++it)this._context.bezierCurveTo(tt[0][nt],rt[0][nt],tt[1][nt],rt[1][nt],_e[it],$[it]);(this._line||this._line!==0&&et===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_e,$){this._x.push(+_e),this._y.push(+$)}};function controlPoints(_e){var $,et=_e.length-1,tt,rt=new Array(et),nt=new Array(et),it=new Array(et);for(rt[0]=0,nt[0]=2,it[0]=_e[0]+2*_e[1],$=1;$<et-1;++$)rt[$]=1,nt[$]=4,it[$]=4*_e[$]+2*_e[$+1];for(rt[et-1]=2,nt[et-1]=7,it[et-1]=8*_e[et-1]+_e[et],$=1;$<et;++$)tt=rt[$]/nt[$-1],nt[$]-=tt,it[$]-=tt*it[$-1];for(rt[et-1]=it[et-1]/nt[et-1],$=et-2;$>=0;--$)rt[$]=(it[$]-rt[$+1])/nt[$];for(nt[et-1]=(_e[et]+rt[et-1])/2,$=0;$<et-1;++$)nt[$]=2*_e[$+1]-rt[$+1];return[rt,nt]}function curveNatural(_e){return new Natural(_e)}function Step(_e,$){this._context=_e,this._t=$}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,$),this._context.lineTo(_e,$);else{var et=this._x*(1-this._t)+_e*this._t;this._context.lineTo(et,this._y),this._context.lineTo(et,$)}break}}this._x=_e,this._y=$}};function curveStep(_e){return new Step(_e,.5)}function stepBefore(_e){return new Step(_e,0)}function stepAfter(_e){return new Step(_e,1)}function stackOffsetNone(_e,$){if((it=_e.length)>1)for(var et=1,tt,rt,nt=_e[$[0]],it,at=nt.length;et<it;++et)for(rt=nt,nt=_e[$[et]],tt=0;tt<at;++tt)nt[tt][1]+=nt[tt][0]=isNaN(rt[tt][1])?rt[tt][0]:rt[tt][1]}function stackOrderNone(_e){for(var $=_e.length,et=new Array($);--$>=0;)et[$]=$;return et}function stackValue(_e,$){return _e[$]}function stackSeries(_e){const $=[];return $.key=_e,$}function shapeStack(){var _e=constant$3([]),$=stackOrderNone,et=stackOffsetNone,tt=stackValue;function rt(nt){var it=Array.from(_e.apply(this,arguments),stackSeries),at,st=it.length,ot=-1,lt;for(const ct of nt)for(at=0,++ot;at<st;++at)(it[at][ot]=[0,+tt(ct,it[at].key,ot,nt)]).data=ct;for(at=0,lt=array($(it));at<st;++at)it[lt[at]].index=at;return et(it,lt),it}return rt.keys=function(nt){return arguments.length?(_e=typeof nt=="function"?nt:constant$3(Array.from(nt)),rt):_e},rt.value=function(nt){return arguments.length?(tt=typeof nt=="function"?nt:constant$3(+nt),rt):tt},rt.order=function(nt){return arguments.length?($=nt==null?stackOrderNone:typeof nt=="function"?nt:constant$3(Array.from(nt)),rt):$},rt.offset=function(nt){return arguments.length?(et=nt??stackOffsetNone,rt):et},rt}function stackOffsetExpand(_e,$){if((tt=_e.length)>0){for(var et,tt,rt=0,nt=_e[0].length,it;rt<nt;++rt){for(it=et=0;et<tt;++et)it+=_e[et][rt][1]||0;if(it)for(et=0;et<tt;++et)_e[et][rt][1]/=it}stackOffsetNone(_e,$)}}function stackOffsetSilhouette(_e,$){if((rt=_e.length)>0){for(var et=0,tt=_e[$[0]],rt,nt=tt.length;et<nt;++et){for(var it=0,at=0;it<rt;++it)at+=_e[it][et][1]||0;tt[et][1]+=tt[et][0]=-at/2}stackOffsetNone(_e,$)}}function stackOffsetWiggle(_e,$){if(!(!((it=_e.length)>0)||!((nt=(rt=_e[$[0]]).length)>0))){for(var et=0,tt=1,rt,nt,it;tt<nt;++tt){for(var at=0,st=0,ot=0;at<it;++at){for(var lt=_e[$[at]],ct=lt[tt][1]||0,ut=lt[tt-1][1]||0,dt=(ct-ut)/2,ht=0;ht<at;++ht){var mt=_e[$[ht]],pt=mt[tt][1]||0,ft=mt[tt-1][1]||0;dt+=pt-ft}st+=ct,ot+=dt*ct}rt[tt-1][1]+=rt[tt-1][0]=et,st&&(et-=ot/st)}rt[tt-1][1]+=rt[tt-1][0]=et,stackOffsetNone(_e,$)}}function _typeof$J(_e){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$J(_e)}var _excluded$g=["type","size","sizeType"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$s.apply(this,arguments)}function ownKeys$C(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$C(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$C(Object(et),!0).forEach(function(tt){_defineProperty$I(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$C(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$I(_e,$,et){return $=_toPropertyKey$I($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$I(_e){var $=_toPrimitive$I(_e,"string");return _typeof$J($)=="symbol"?$:$+""}function _toPrimitive$I(_e,$){if(_typeof$J(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$J(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$g(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$g(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$g(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function _e($){var et="symbol".concat(upperFirst$1($));return symbolFactories[et]||symbolCircle},calculateAreaSize=function _e($,et,tt){if(et==="area")return $;switch(tt){case"cross":return 5*$*$/9;case"diamond":return .5*$*$/Math.sqrt(3);case"square":return $*$;case"star":{var rt=18*RADIAN$2;return 1.25*$*$*(Math.tan(rt)-Math.tan(rt*2)*Math.pow(Math.tan(rt),2))}case"triangle":return Math.sqrt(3)*$*$/4;case"wye":return(21-10*Math.sqrt(3))*$*$/8;default:return Math.PI*$*$/4}},registerSymbol=function _e($,et){symbolFactories["symbol".concat(upperFirst$1($))]=et},Symbols=function _e($){var et=$.type,tt=et===void 0?"circle":et,rt=$.size,nt=rt===void 0?64:rt,it=$.sizeType,at=it===void 0?"area":it,st=_objectWithoutProperties$g($,_excluded$g),ot=_objectSpread$C(_objectSpread$C({},st),{},{type:tt,size:nt,sizeType:at}),lt=function(){var pt=getSymbolFactory(tt),ft=Symbol$3().type(pt).size(calculateAreaSize(nt,at,tt));return ft()},ct=ot.className,ut=ot.cx,dt=ot.cy,ht=filterProps(ot,!0);return ut===+ut&&dt===+dt&&nt===+nt?React.createElement("path",_extends$s({},ht,{className:clsx("recharts-symbols",ct),transform:"translate(".concat(ut,", ").concat(dt,")"),d:lt()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$I(_e){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$I(_e)}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$r.apply(this,arguments)}function ownKeys$B(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$B(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$B(Object(et),!0).forEach(function(tt){_defineProperty$H(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$B(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$l(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$H(tt.key),tt)}}function _createClass$l(_e,$,et){return $&&_defineProperties$l(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$h(_e,$,et){return $=_getPrototypeOf$i($),_possibleConstructorReturn$i(_e,_isNativeReflectConstruct$i()?Reflect.construct($,et||[],_getPrototypeOf$i(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$i(_e,$){if($&&(_typeof$I($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(_e)}function _assertThisInitialized$i(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$i(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!_e})()}function _getPrototypeOf$i(_e){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$i(_e)}function _inherits$i(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$i(_e,$)}function _setPrototypeOf$i(_e,$){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$i(_e,$)}function _defineProperty$H(_e,$,et){return $=_toPropertyKey$H($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$H(_e){var $=_toPrimitive$H(_e,"string");return _typeof$I($)=="symbol"?$:$+""}function _toPrimitive$H(_e,$){if(_typeof$I(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$I(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var SIZE=32,DefaultLegendContent=function(_e){function $(){return _classCallCheck$l(this,$),_callSuper$h(this,$,arguments)}return _inherits$i($,_e),_createClass$l($,[{key:"renderIcon",value:function(tt){var rt=this.props.inactiveColor,nt=SIZE/2,it=SIZE/6,at=SIZE/3,st=tt.inactive?rt:tt.color;if(tt.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:st,strokeDasharray:tt.payload.strokeDasharray,x1:0,y1:nt,x2:SIZE,y2:nt,className:"recharts-legend-icon"});if(tt.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:st,d:"M0,".concat(nt,"h").concat(at,`
            A`).concat(it,",").concat(it,",0,1,1,").concat(2*at,",").concat(nt,`
            H`).concat(SIZE,"M").concat(2*at,",").concat(nt,`
            A`).concat(it,",").concat(it,",0,1,1,").concat(at,",").concat(nt),className:"recharts-legend-icon"});if(tt.type==="rect")return React.createElement("path",{stroke:"none",fill:st,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(tt.legendIcon)){var ot=_objectSpread$B({},tt);return delete ot.legendIcon,React.cloneElement(tt.legendIcon,ot)}return React.createElement(Symbols,{fill:st,cx:nt,cy:nt,size:SIZE,sizeType:"diameter",type:tt.type})}},{key:"renderItems",value:function(){var tt=this,rt=this.props,nt=rt.payload,it=rt.iconSize,at=rt.layout,st=rt.formatter,ot=rt.inactiveColor,lt={x:0,y:0,width:SIZE,height:SIZE},ct={display:at==="horizontal"?"inline-block":"block",marginRight:10},ut={display:"inline-block",verticalAlign:"middle",marginRight:4};return nt.map(function(dt,ht){var mt=dt.formatter||st,pt=clsx(_defineProperty$H(_defineProperty$H({"recharts-legend-item":!0},"legend-item-".concat(ht),!0),"inactive",dt.inactive));if(dt.type==="none")return null;var ft=isFunction$4(dt.value)?null:dt.value;warn(!isFunction$4(dt.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var gt=dt.inactive?ot:dt.color;return React.createElement("li",_extends$r({className:pt,style:ct,key:"legend-item-".concat(ht)},adaptEventsOfChild(tt.props,dt,ht)),React.createElement(Surface,{width:it,height:it,viewBox:lt,style:ut},tt.renderIcon(dt)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:gt}},mt?mt(ft,dt,ht):ft))})}},{key:"render",value:function(){var tt=this.props,rt=tt.payload,nt=tt.layout,it=tt.align;if(!rt||!rt.length)return null;var at={padding:0,margin:0,textAlign:nt==="horizontal"?it:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:at},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$H(DefaultLegendContent,"displayName","Legend");_defineProperty$H(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(_e){var $=this.__data__,et=$.delete(_e);return this.size=$.size,et}var _stackDelete=stackDelete$1;function stackGet$1(_e){return this.__data__.get(_e)}var _stackGet=stackGet$1;function stackHas$1(_e){return this.__data__.has(_e)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(_e,$){var et=this.__data__;if(et instanceof ListCache$1){var tt=et.__data__;if(!Map$2||tt.length<LARGE_ARRAY_SIZE$1-1)return tt.push([_e,$]),this.size=++et.size,this;et=this.__data__=new MapCache$1(tt)}return et.set(_e,$),this.size=et.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(_e){var $=this.__data__=new ListCache(_e);this.size=$.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(_e){return this.__data__.set(_e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(_e){return this.__data__.has(_e)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(_e){var $=-1,et=_e==null?0:_e.length;for(this.__data__=new MapCache;++$<et;)this.add(_e[$])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(_e,$){for(var et=-1,tt=_e==null?0:_e.length;++et<tt;)if($(_e[et],et,_e))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(_e,$){return _e.has($)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(_e,$,et,tt,rt,nt){var it=et&COMPARE_PARTIAL_FLAG$5,at=_e.length,st=$.length;if(at!=st&&!(it&&st>at))return!1;var ot=nt.get(_e),lt=nt.get($);if(ot&&lt)return ot==$&&lt==_e;var ct=-1,ut=!0,dt=et&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(nt.set(_e,$),nt.set($,_e);++ct<at;){var ht=_e[ct],mt=$[ct];if(tt)var pt=it?tt(mt,ht,ct,$,_e,nt):tt(ht,mt,ct,_e,$,nt);if(pt!==void 0){if(pt)continue;ut=!1;break}if(dt){if(!arraySome$1($,function(ft,gt){if(!cacheHas$1(dt,gt)&&(ht===ft||rt(ht,ft,et,tt,nt)))return dt.push(gt)})){ut=!1;break}}else if(!(ht===mt||rt(ht,mt,et,tt,nt))){ut=!1;break}}return nt.delete(_e),nt.delete($),ut}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(_e){var $=-1,et=Array(_e.size);return _e.forEach(function(tt,rt){et[++$]=[rt,tt]}),et}var _mapToArray=mapToArray$1;function setToArray$3(_e){var $=-1,et=Array(_e.size);return _e.forEach(function(tt){et[++$]=tt}),et}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$2=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(_e,$,et,tt,rt,nt,it){switch(et){case dataViewTag$2:if(_e.byteLength!=$.byteLength||_e.byteOffset!=$.byteOffset)return!1;_e=_e.buffer,$=$.buffer;case arrayBufferTag$1:return!(_e.byteLength!=$.byteLength||!nt(new Uint8Array$1(_e),new Uint8Array$1($)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$2(+_e,+$);case errorTag$1:return _e.name==$.name&&_e.message==$.message;case regexpTag$1:case stringTag$1:return _e==$+"";case mapTag$2:var at=mapToArray;case setTag$2:var st=tt&COMPARE_PARTIAL_FLAG$4;if(at||(at=setToArray$2),_e.size!=$.size&&!st)return!1;var ot=it.get(_e);if(ot)return ot==$;tt|=COMPARE_UNORDERED_FLAG$2,it.set(_e,$);var lt=equalArrays$1(at(_e),at($),tt,rt,nt,it);return it.delete(_e),lt;case symbolTag:if(symbolValueOf)return symbolValueOf.call(_e)==symbolValueOf.call($)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(_e,$){for(var et=-1,tt=$.length,rt=_e.length;++et<tt;)_e[rt+et]=$[et];return _e}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$b=isArray_1;function baseGetAllKeys$1(_e,$,et){var tt=$(_e);return isArray$b(_e)?tt:arrayPush$1(tt,et(_e))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(_e,$){for(var et=-1,tt=_e==null?0:_e.length,rt=0,nt=[];++et<tt;){var it=_e[et];$(it,et,_e)&&(nt[rt++]=it)}return nt}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(_e){return _e==null?[]:(_e=Object(_e),arrayFilter(nativeGetSymbols(_e),function($){return propertyIsEnumerable$1.call(_e,$)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(_e,$){for(var et=-1,tt=Array(_e);++et<_e;)tt[et]=$(et);return tt}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(_e){return isObjectLike$5(_e)&&baseGetTag$4(_e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(_e){return isObjectLike$4(_e)&&hasOwnProperty$6.call(_e,"callee")&&!propertyIsEnumerable.call(_e,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(_e,$){var et=_root,tt=stubFalse_1,rt=$&&!$.nodeType&&$,nt=rt&&!0&&_e&&!_e.nodeType&&_e,it=nt&&nt.exports===rt,at=it?et.Buffer:void 0,st=at?at.isBuffer:void 0,ot=st||tt;_e.exports=ot})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(_e,$){var et=typeof _e;return $=$??MAX_SAFE_INTEGER$2,!!$&&(et=="number"||et!="symbol"&&reIsUint.test(_e))&&_e>-1&&_e%1==0&&_e<$}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(_e){return isObjectLike$3(_e)&&isLength$2(_e.length)&&!!typedArrayTags[baseGetTag$3(_e)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(_e){return function($){return _e($)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(_e,$){var et=_freeGlobal,tt=$&&!$.nodeType&&$,rt=tt&&!0&&_e&&!_e.nodeType&&_e,nt=rt&&rt.exports===tt,it=nt&&et.process,at=function(){try{var st=rt&&rt.require&&rt.require("util").types;return st||it&&it.binding&&it.binding("util")}catch{}}();_e.exports=at})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$a=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(_e,$){var et=isArray$a(_e),tt=!et&&isArguments$2(_e),rt=!et&&!tt&&isBuffer$1(_e),nt=!et&&!tt&&!rt&&isTypedArray$2(_e),it=et||tt||rt||nt,at=it?baseTimes(_e.length,String):[],st=at.length;for(var ot in _e)($||hasOwnProperty$5.call(_e,ot))&&!(it&&(ot=="length"||rt&&(ot=="offset"||ot=="parent")||nt&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||isIndex$2(ot,st)))&&at.push(ot);return at}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(_e){var $=_e&&_e.constructor,et=typeof $=="function"&&$.prototype||objectProto$4;return _e===et}var _isPrototype=isPrototype$1;function overArg$2(_e,$){return function(et){return _e($(et))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(_e){if(!isPrototype(_e))return nativeKeys(_e);var $=[];for(var et in Object(_e))hasOwnProperty$4.call(_e,et)&&et!="constructor"&&$.push(et);return $}var _baseKeys=baseKeys$1,isFunction$1=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(_e){return _e!=null&&isLength$1(_e.length)&&!isFunction$1(_e)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(_e){return isArrayLike$4(_e)?arrayLikeKeys(_e):baseKeys(_e)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(_e){return baseGetAllKeys(_e,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(_e,$,et,tt,rt,nt){var it=et&COMPARE_PARTIAL_FLAG$3,at=getAllKeys(_e),st=at.length,ot=getAllKeys($),lt=ot.length;if(st!=lt&&!it)return!1;for(var ct=st;ct--;){var ut=at[ct];if(!(it?ut in $:hasOwnProperty$3.call($,ut)))return!1}var dt=nt.get(_e),ht=nt.get($);if(dt&&ht)return dt==$&&ht==_e;var mt=!0;nt.set(_e,$),nt.set($,_e);for(var pt=it;++ct<st;){ut=at[ct];var ft=_e[ut],gt=$[ut];if(tt)var bt=it?tt(gt,ft,ut,$,_e,nt):tt(ft,gt,ut,_e,$,nt);if(!(bt===void 0?ft===gt||rt(ft,gt,et,tt,nt):bt)){mt=!1;break}pt||(pt=ut=="constructor")}if(mt&&!pt){var _t=_e.constructor,yt=$.constructor;_t!=yt&&"constructor"in _e&&"constructor"in $&&!(typeof _t=="function"&&_t instanceof _t&&typeof yt=="function"&&yt instanceof yt)&&(mt=!1)}return nt.delete(_e),nt.delete($),mt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(_e){var $=baseGetTag$2(_e),et=$==objectTag$2?_e.constructor:void 0,tt=et?toSource(et):"";if(tt)switch(tt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return $});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$9=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(_e,$,et,tt,rt,nt){var it=isArray$9(_e),at=isArray$9($),st=it?arrayTag:getTag$1(_e),ot=at?arrayTag:getTag$1($);st=st==argsTag?objectTag$1:st,ot=ot==argsTag?objectTag$1:ot;var lt=st==objectTag$1,ct=ot==objectTag$1,ut=st==ot;if(ut&&isBuffer(_e)){if(!isBuffer($))return!1;it=!0,lt=!1}if(ut&&!lt)return nt||(nt=new Stack$1),it||isTypedArray$1(_e)?equalArrays(_e,$,et,tt,rt,nt):equalByTag(_e,$,st,et,tt,rt,nt);if(!(et&COMPARE_PARTIAL_FLAG$2)){var dt=lt&&hasOwnProperty$2.call(_e,"__wrapped__"),ht=ct&&hasOwnProperty$2.call($,"__wrapped__");if(dt||ht){var mt=dt?_e.value():_e,pt=ht?$.value():$;return nt||(nt=new Stack$1),rt(mt,pt,et,tt,nt)}}return ut?(nt||(nt=new Stack$1),equalObjects(_e,$,et,tt,rt,nt)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(_e,$,et,tt,rt){return _e===$?!0:_e==null||$==null||!isObjectLike$2(_e)&&!isObjectLike$2($)?_e!==_e&&$!==$:baseIsEqualDeep(_e,$,et,tt,baseIsEqual$3,rt)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(_e,$,et,tt){var rt=et.length,nt=rt,it=!tt;if(_e==null)return!nt;for(_e=Object(_e);rt--;){var at=et[rt];if(it&&at[2]?at[1]!==_e[at[0]]:!(at[0]in _e))return!1}for(;++rt<nt;){at=et[rt];var st=at[0],ot=_e[st],lt=at[1];if(it&&at[2]){if(ot===void 0&&!(st in _e))return!1}else{var ct=new Stack;if(tt)var ut=tt(ot,lt,st,_e,$,ct);if(!(ut===void 0?baseIsEqual$2(lt,ot,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,tt,ct):ut))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$5=isObject_1;function isStrictComparable$2(_e){return _e===_e&&!isObject$5(_e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(_e){for(var $=keys$3(_e),et=$.length;et--;){var tt=$[et],rt=_e[tt];$[et]=[tt,rt,isStrictComparable$1(rt)]}return $}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(_e,$){return function(et){return et==null?!1:et[_e]===$&&($!==void 0||_e in Object(et))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(_e){var $=getMatchData(_e);return $.length==1&&$[0][2]?matchesStrictComparable$1($[0][0],$[0][1]):function(et){return et===_e||baseIsMatch(et,_e,$)}}var _baseMatches=baseMatches$1;function baseHasIn$1(_e,$){return _e!=null&&$ in Object(_e)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$8=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(_e,$,et){$=castPath($,_e);for(var tt=-1,rt=$.length,nt=!1;++tt<rt;){var it=toKey$2($[tt]);if(!(nt=_e!=null&&et(_e,it)))break;_e=_e[it]}return nt||++tt!=rt?nt:(rt=_e==null?0:_e.length,!!rt&&isLength(rt)&&isIndex$1(it,rt)&&(isArray$8(_e)||isArguments$1(_e)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(_e,$){return _e!=null&&hasPath(_e,$,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(_e,$){return isKey$1(_e)&&isStrictComparable($)?matchesStrictComparable(toKey$1(_e),$):function(et){var tt=get(et,_e);return tt===void 0&&tt===$?hasIn(et,_e):baseIsEqual$1($,tt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(_e){return _e}var identity_1=identity$b;function baseProperty$1(_e){return function($){return $==null?void 0:$[_e]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(_e){return function($){return baseGet$1($,_e)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(_e){return isKey(_e)?baseProperty(toKey(_e)):basePropertyDeep(_e)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$7=isArray_1,property=property_1;function baseIteratee$a(_e){return typeof _e=="function"?_e:_e==null?identity$a:typeof _e=="object"?isArray$7(_e)?baseMatchesProperty(_e[0],_e[1]):baseMatches(_e):property(_e)}var _baseIteratee=baseIteratee$a;function baseFindIndex$2(_e,$,et,tt){for(var rt=_e.length,nt=et+(tt?1:-1);tt?nt--:++nt<rt;)if($(_e[nt],nt,_e))return nt;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(_e){return _e!==_e}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(_e,$,et){for(var tt=et-1,rt=_e.length;++tt<rt;)if(_e[tt]===$)return tt;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(_e,$,et){return $===$?strictIndexOf(_e,$,et):baseFindIndex$1(_e,baseIsNaN,et)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(_e,$){var et=_e==null?0:_e.length;return!!et&&baseIndexOf(_e,$,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(_e,$,et){for(var tt=-1,rt=_e==null?0:_e.length;++tt<rt;)if(et($,_e[tt]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$2(){}var noop_1=noop$2,Set$1=_Set,noop$1=noop_1,setToArray$1=_setToArray,INFINITY$2=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$2?function(_e){return new Set$1(_e)}:noop$1,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(_e,$,et){var tt=-1,rt=arrayIncludes,nt=_e.length,it=!0,at=[],st=at;if(et)it=!1,rt=arrayIncludesWith;else if(nt>=LARGE_ARRAY_SIZE){var ot=$?null:createSet(_e);if(ot)return setToArray(ot);it=!1,rt=cacheHas,st=new SetCache}else st=$?[]:at;e:for(;++tt<nt;){var lt=_e[tt],ct=$?$(lt):lt;if(lt=et||lt!==0?lt:0,it&&ct===ct){for(var ut=st.length;ut--;)if(st[ut]===ct)continue e;$&&st.push(ct),at.push(lt)}else rt(st,ct,et)||(st!==at&&st.push(ct),at.push(lt))}return at}var _baseUniq=baseUniq$1,baseIteratee$9=_baseIteratee,baseUniq=_baseUniq;function uniqBy(_e,$){return _e&&_e.length?baseUniq(_e,baseIteratee$9($)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(_e,$,et){return $===!0?uniqBy$1(_e,et):isFunction$4($)?uniqBy$1(_e,$):_e}function _typeof$H(_e){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$H(_e)}var _excluded$f=["ref"];function ownKeys$A(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$A(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$A(Object(et),!0).forEach(function(tt){_defineProperty$G(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$A(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$k(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$G(tt.key),tt)}}function _createClass$k(_e,$,et){return $&&_defineProperties$k(_e.prototype,$),et&&_defineProperties$k(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$g(_e,$,et){return $=_getPrototypeOf$h($),_possibleConstructorReturn$h(_e,_isNativeReflectConstruct$h()?Reflect.construct($,et||[],_getPrototypeOf$h(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$h(_e,$){if($&&(_typeof$H($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(_e)}function _assertThisInitialized$h(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$h(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!_e})()}function _getPrototypeOf$h(_e){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$h(_e)}function _inherits$h(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$h(_e,$)}function _setPrototypeOf$h(_e,$){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$h(_e,$)}function _defineProperty$G(_e,$,et){return $=_toPropertyKey$G($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$G(_e){var $=_toPrimitive$G(_e,"string");return _typeof$H($)=="symbol"?$:$+""}function _toPrimitive$G(_e,$){if(_typeof$H(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$H(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$f(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$f(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$f(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function defaultUniqBy$1(_e){return _e.value}function renderContent$1(_e,$){if(React.isValidElement(_e))return React.cloneElement(_e,$);if(typeof _e=="function")return React.createElement(_e,$);$.ref;var et=_objectWithoutProperties$f($,_excluded$f);return React.createElement(DefaultLegendContent,et)}var EPS$1=1,Legend$1=function(_e){function $(){var et;_classCallCheck$k(this,$);for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];return et=_callSuper$g(this,$,[].concat(rt)),_defineProperty$G(et,"lastBoundingBox",{width:-1,height:-1}),et}return _inherits$h($,_e),_createClass$k($,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var tt=this.wrapperNode.getBoundingClientRect();return tt.height=this.wrapperNode.offsetHeight,tt.width=this.wrapperNode.offsetWidth,tt}return null}},{key:"updateBBox",value:function(){var tt=this.props.onBBoxUpdate,rt=this.getBBox();rt?(Math.abs(rt.width-this.lastBoundingBox.width)>EPS$1||Math.abs(rt.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=rt.width,this.lastBoundingBox.height=rt.height,tt&&tt(rt)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,tt&&tt(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$A({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(tt){var rt=this.props,nt=rt.layout,it=rt.align,at=rt.verticalAlign,st=rt.margin,ot=rt.chartWidth,lt=rt.chartHeight,ct,ut;if(!tt||(tt.left===void 0||tt.left===null)&&(tt.right===void 0||tt.right===null))if(it==="center"&&nt==="vertical"){var dt=this.getBBoxSnapshot();ct={left:((ot||0)-dt.width)/2}}else ct=it==="right"?{right:st&&st.right||0}:{left:st&&st.left||0};if(!tt||(tt.top===void 0||tt.top===null)&&(tt.bottom===void 0||tt.bottom===null))if(at==="middle"){var ht=this.getBBoxSnapshot();ut={top:((lt||0)-ht.height)/2}}else ut=at==="bottom"?{bottom:st&&st.bottom||0}:{top:st&&st.top||0};return _objectSpread$A(_objectSpread$A({},ct),ut)}},{key:"render",value:function(){var tt=this,rt=this.props,nt=rt.content,it=rt.width,at=rt.height,st=rt.wrapperStyle,ot=rt.payloadUniqBy,lt=rt.payload,ct=_objectSpread$A(_objectSpread$A({position:"absolute",width:it||"auto",height:at||"auto"},this.getDefaultPosition(st)),st);return React.createElement("div",{className:"recharts-legend-wrapper",style:ct,ref:function(dt){tt.wrapperNode=dt}},renderContent$1(nt,_objectSpread$A(_objectSpread$A({},this.props),{},{payload:getUniqPayload(lt,ot,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(tt,rt){var nt=_objectSpread$A(_objectSpread$A({},this.defaultProps),tt.props),it=nt.layout;return it==="vertical"&&isNumber$1(tt.props.height)?{height:tt.props.height}:it==="horizontal"?{width:tt.props.width||rt}:null}}])}(reactExports.PureComponent);_defineProperty$G(Legend$1,"displayName","Legend");_defineProperty$G(Legend$1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$6=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(_e){return isArray$6(_e)||isArguments(_e)||!!(spreadableSymbol&&_e&&_e[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(_e,$,et,tt,rt){var nt=-1,it=_e.length;for(et||(et=isFlattenable),rt||(rt=[]);++nt<it;){var at=_e[nt];$>0&&et(at)?$>1?baseFlatten$2(at,$-1,et,tt,rt):arrayPush(rt,at):tt||(rt[rt.length]=at)}return rt}var _baseFlatten=baseFlatten$2;function createBaseFor$1(_e){return function($,et,tt){for(var rt=-1,nt=Object($),it=tt($),at=it.length;at--;){var st=it[_e?at:++rt];if(et(nt[st],st,nt)===!1)break}return $}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(_e,$){return _e&&baseFor(_e,$,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(_e,$){return function(et,tt){if(et==null)return et;if(!isArrayLike$3(et))return _e(et,tt);for(var rt=et.length,nt=$?rt:-1,it=Object(et);($?nt--:++nt<rt)&&tt(it[nt],nt,it)!==!1;);return et}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(_e,$){var et=-1,tt=isArrayLike$2(_e)?Array(_e.length):[];return baseEach$2(_e,function(rt,nt,it){tt[++et]=$(rt,nt,it)}),tt}var _baseMap=baseMap$2;function baseSortBy$1(_e,$){var et=_e.length;for(_e.sort($);et--;)_e[et]=_e[et].value;return _e}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(_e,$){if(_e!==$){var et=_e!==void 0,tt=_e===null,rt=_e===_e,nt=isSymbol$2(_e),it=$!==void 0,at=$===null,st=$===$,ot=isSymbol$2($);if(!at&&!ot&&!nt&&_e>$||nt&&it&&st&&!at&&!ot||tt&&it&&st||!et&&st||!rt)return 1;if(!tt&&!nt&&!ot&&_e<$||ot&&et&&rt&&!tt&&!nt||at&&et&&rt||!it&&rt||!st)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(_e,$,et){for(var tt=-1,rt=_e.criteria,nt=$.criteria,it=rt.length,at=et.length;++tt<it;){var st=compareAscending(rt[tt],nt[tt]);if(st){if(tt>=at)return st;var ot=et[tt];return st*(ot=="desc"?-1:1)}}return _e.index-$.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$5=isArray_1;function baseOrderBy$1(_e,$,et){$.length?$=arrayMap$1($,function(nt){return isArray$5(nt)?function(it){return baseGet(it,nt.length===1?nt[0]:nt)}:nt}):$=[identity$9];var tt=-1;$=arrayMap$1($,baseUnary(baseIteratee$8));var rt=baseMap$1(_e,function(nt,it,at){var st=arrayMap$1($,function(ot){return ot(nt)});return{criteria:st,index:++tt,value:nt}});return baseSortBy(rt,function(nt,it){return compareMultiple(nt,it,et)})}var _baseOrderBy=baseOrderBy$1;function apply$1(_e,$,et){switch(et.length){case 0:return _e.call($);case 1:return _e.call($,et[0]);case 2:return _e.call($,et[0],et[1]);case 3:return _e.call($,et[0],et[1],et[2])}return _e.apply($,et)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(_e,$,et){return $=nativeMax$3($===void 0?_e.length-1:$,0),function(){for(var tt=arguments,rt=-1,nt=nativeMax$3(tt.length-$,0),it=Array(nt);++rt<nt;)it[rt]=tt[$+rt];rt=-1;for(var at=Array($+1);++rt<$;)at[rt]=tt[rt];return at[$]=et(it),apply(_e,this,at)}}var _overRest=overRest$1;function constant$2(_e){return function(){return _e}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var _e=getNative(Object,"defineProperty");return _e({},"",{}),_e}catch{}}(),_defineProperty$F=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$F,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(_e,$){return defineProperty$1(_e,"toString",{configurable:!0,enumerable:!1,value:constant$1($),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(_e){var $=0,et=0;return function(){var tt=nativeNow(),rt=HOT_SPAN-(tt-et);if(et=tt,rt>0){if(++$>=HOT_COUNT)return arguments[0]}else $=0;return _e.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(_e,$){return setToString(overRest(_e,$,identity$7),_e+"")}var _baseRest=baseRest$1,eq$1=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$4=isObject_1;function isIterateeCall$4(_e,$,et){if(!isObject$4(et))return!1;var tt=typeof $;return(tt=="number"?isArrayLike$1(et)&&isIndex($,et.length):tt=="string"&&$ in et)?eq$1(et[$],_e):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(_e,$){if(_e==null)return[];var et=$.length;return et>1&&isIterateeCall$3(_e,$[0],$[1])?$=[]:et>2&&isIterateeCall$3($[0],$[1],$[2])&&($=[$[0]]),baseOrderBy(_e,baseFlatten$1($,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$G(_e){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$G(_e)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$q.apply(this,arguments)}function _slicedToArray$c(_e,$){return _arrayWithHoles$d(_e)||_iterableToArrayLimit$c(_e,$)||_unsupportedIterableToArray$l(_e,$)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$l(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$l(_e,$)}}function _arrayLikeToArray$l(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$c(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$d(_e){if(Array.isArray(_e))return _e}function ownKeys$z(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$z(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$z(Object(et),!0).forEach(function(tt){_defineProperty$E(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$z(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$E(_e,$,et){return $=_toPropertyKey$F($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$F(_e){var $=_toPrimitive$F(_e,"string");return _typeof$G($)=="symbol"?$:$+""}function _toPrimitive$F(_e,$){if(_typeof$G(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$G(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function defaultFormatter(_e){return Array.isArray(_e)&&isNumOrStr(_e[0])&&isNumOrStr(_e[1])?_e.join(" ~ "):_e}var DefaultTooltipContent=function _e($){var et=$.separator,tt=et===void 0?" : ":et,rt=$.contentStyle,nt=rt===void 0?{}:rt,it=$.itemStyle,at=it===void 0?{}:it,st=$.labelStyle,ot=st===void 0?{}:st,lt=$.payload,ct=$.formatter,ut=$.itemSorter,dt=$.wrapperClassName,ht=$.labelClassName,mt=$.label,pt=$.labelFormatter,ft=$.accessibilityLayer,gt=ft===void 0?!1:ft,bt=function(){if(lt&&lt.length){var Tt={padding:0,margin:0},It=(ut?sortBy$1(lt,ut):lt).map(function(Wt,Lt){if(Wt.type==="none")return null;var zt=_objectSpread$z({display:"block",paddingTop:4,paddingBottom:4,color:Wt.color||"#000"},at),Ft=Wt.formatter||ct||defaultFormatter,Rt=Wt.value,jt=Wt.name,Ct=Rt,Dt=jt;if(Ft&&Ct!=null&&Dt!=null){var Mt=Ft(Rt,jt,Wt,Lt,lt);if(Array.isArray(Mt)){var At=_slicedToArray$c(Mt,2);Ct=At[0],Dt=At[1]}else Ct=Mt}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Lt),style:zt},isNumOrStr(Dt)?React.createElement("span",{className:"recharts-tooltip-item-name"},Dt):null,isNumOrStr(Dt)?React.createElement("span",{className:"recharts-tooltip-item-separator"},tt):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Ct),React.createElement("span",{className:"recharts-tooltip-item-unit"},Wt.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:Tt},It)}return null},_t=_objectSpread$z({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},nt),yt=_objectSpread$z({margin:0},ot),vt=!isNil$1(mt),xt=vt?mt:"",wt=clsx("recharts-default-tooltip",dt),St=clsx("recharts-tooltip-label",ht);vt&&pt&&lt!==void 0&&lt!==null&&(xt=pt(mt,lt));var Ot=gt?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$q({className:wt,style:_t},Ot),React.createElement("p",{className:St,style:yt},React.isValidElement(xt)?xt:"".concat(xt)),bt())};function _typeof$F(_e){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$F(_e)}function _defineProperty$D(_e,$,et){return $=_toPropertyKey$E($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$E(_e){var $=_toPrimitive$E(_e,"string");return _typeof$F($)=="symbol"?$:$+""}function _toPrimitive$E(_e,$){if(_typeof$F(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$F(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(_e){var $=_e.coordinate,et=_e.translateX,tt=_e.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$D(_defineProperty$D(_defineProperty$D(_defineProperty$D({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber$1(et)&&$&&isNumber$1($.x)&&et>=$.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber$1(et)&&$&&isNumber$1($.x)&&et<$.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber$1(tt)&&$&&isNumber$1($.y)&&tt>=$.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber$1(tt)&&$&&isNumber$1($.y)&&tt<$.y))}function getTooltipTranslateXY(_e){var $=_e.allowEscapeViewBox,et=_e.coordinate,tt=_e.key,rt=_e.offsetTopLeft,nt=_e.position,it=_e.reverseDirection,at=_e.tooltipDimension,st=_e.viewBox,ot=_e.viewBoxDimension;if(nt&&isNumber$1(nt[tt]))return nt[tt];var lt=et[tt]-at-rt,ct=et[tt]+rt;if($[tt])return it[tt]?lt:ct;if(it[tt]){var ut=lt,dt=st[tt];return ut<dt?Math.max(ct,st[tt]):Math.max(lt,st[tt])}var ht=ct+at,mt=st[tt]+ot;return ht>mt?Math.max(lt,st[tt]):Math.max(ct,st[tt])}function getTransformStyle(_e){var $=_e.translateX,et=_e.translateY,tt=_e.useTranslate3d;return{transform:tt?"translate3d(".concat($,"px, ").concat(et,"px, 0)"):"translate(".concat($,"px, ").concat(et,"px)")}}function getTooltipTranslate(_e){var $=_e.allowEscapeViewBox,et=_e.coordinate,tt=_e.offsetTopLeft,rt=_e.position,nt=_e.reverseDirection,it=_e.tooltipBox,at=_e.useTranslate3d,st=_e.viewBox,ot,lt,ct;return it.height>0&&it.width>0&&et?(lt=getTooltipTranslateXY({allowEscapeViewBox:$,coordinate:et,key:"x",offsetTopLeft:tt,position:rt,reverseDirection:nt,tooltipDimension:it.width,viewBox:st,viewBoxDimension:st.width}),ct=getTooltipTranslateXY({allowEscapeViewBox:$,coordinate:et,key:"y",offsetTopLeft:tt,position:rt,reverseDirection:nt,tooltipDimension:it.height,viewBox:st,viewBoxDimension:st.height}),ot=getTransformStyle({translateX:lt,translateY:ct,useTranslate3d:at})):ot=TOOLTIP_HIDDEN,{cssProperties:ot,cssClasses:getTooltipCSSClassName({translateX:lt,translateY:ct,coordinate:et})}}function _typeof$E(_e){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$E(_e)}function ownKeys$y(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$y(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$y(Object(et),!0).forEach(function(tt){_defineProperty$C(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$y(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$j(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$D(tt.key),tt)}}function _createClass$j(_e,$,et){return $&&_defineProperties$j(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$f(_e,$,et){return $=_getPrototypeOf$g($),_possibleConstructorReturn$g(_e,_isNativeReflectConstruct$g()?Reflect.construct($,et||[],_getPrototypeOf$g(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$g(_e,$){if($&&(_typeof$E($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(_e)}function _assertThisInitialized$g(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$g(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!_e})()}function _getPrototypeOf$g(_e){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$g(_e)}function _inherits$g(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$g(_e,$)}function _setPrototypeOf$g(_e,$){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$g(_e,$)}function _defineProperty$C(_e,$,et){return $=_toPropertyKey$D($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$D(_e){var $=_toPrimitive$D(_e,"string");return _typeof$E($)=="symbol"?$:$+""}function _toPrimitive$D(_e,$){if(_typeof$E(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$E(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var EPSILON$1=1,TooltipBoundingBox=function(_e){function $(){var et;_classCallCheck$j(this,$);for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];return et=_callSuper$f(this,$,[].concat(rt)),_defineProperty$C(et,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$C(et,"handleKeyDown",function(it){if(it.key==="Escape"){var at,st,ot,lt;et.setState({dismissed:!0,dismissedAtCoordinate:{x:(at=(st=et.props.coordinate)===null||st===void 0?void 0:st.x)!==null&&at!==void 0?at:0,y:(ot=(lt=et.props.coordinate)===null||lt===void 0?void 0:lt.y)!==null&&ot!==void 0?ot:0}})}}),et}return _inherits$g($,_e),_createClass$j($,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var tt=this.wrapperNode.getBoundingClientRect();(Math.abs(tt.width-this.state.lastBoundingBox.width)>EPSILON$1||Math.abs(tt.height-this.state.lastBoundingBox.height)>EPSILON$1)&&this.setState({lastBoundingBox:{width:tt.width,height:tt.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var tt,rt;this.props.active&&this.updateBBox(),this.state.dismissed&&(((tt=this.props.coordinate)===null||tt===void 0?void 0:tt.x)!==this.state.dismissedAtCoordinate.x||((rt=this.props.coordinate)===null||rt===void 0?void 0:rt.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var tt=this,rt=this.props,nt=rt.active,it=rt.allowEscapeViewBox,at=rt.animationDuration,st=rt.animationEasing,ot=rt.children,lt=rt.coordinate,ct=rt.hasPayload,ut=rt.isAnimationActive,dt=rt.offset,ht=rt.position,mt=rt.reverseDirection,pt=rt.useTranslate3d,ft=rt.viewBox,gt=rt.wrapperStyle,bt=getTooltipTranslate({allowEscapeViewBox:it,coordinate:lt,offsetTopLeft:dt,position:ht,reverseDirection:mt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:pt,viewBox:ft}),_t=bt.cssClasses,yt=bt.cssProperties,vt=_objectSpread$y(_objectSpread$y({transition:ut&&nt?"transform ".concat(at,"ms ").concat(st):void 0},yt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&nt&&ct?"visible":"hidden",position:"absolute",top:0,left:0},gt);return React.createElement("div",{tabIndex:-1,className:_t,style:vt,ref:function(wt){tt.wrapperNode=wt}},ot)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function _e(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function _e($){return Global[$]},set:function _e($,et){if(typeof $=="string")Global[$]=et;else{var tt=Object.keys($);tt&&tt.length&&tt.forEach(function(rt){Global[rt]=$[rt]})}}};function _typeof$D(_e){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$D(_e)}function ownKeys$x(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$x(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$x(Object(et),!0).forEach(function(tt){_defineProperty$B(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$x(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$i(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$C(tt.key),tt)}}function _createClass$i(_e,$,et){return $&&_defineProperties$i(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$e(_e,$,et){return $=_getPrototypeOf$f($),_possibleConstructorReturn$f(_e,_isNativeReflectConstruct$f()?Reflect.construct($,et||[],_getPrototypeOf$f(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$f(_e,$){if($&&(_typeof$D($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(_e)}function _assertThisInitialized$f(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$f(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!_e})()}function _getPrototypeOf$f(_e){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$f(_e)}function _inherits$f(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$f(_e,$)}function _setPrototypeOf$f(_e,$){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$f(_e,$)}function _defineProperty$B(_e,$,et){return $=_toPropertyKey$C($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$C(_e){var $=_toPrimitive$C(_e,"string");return _typeof$D($)=="symbol"?$:$+""}function _toPrimitive$C(_e,$){if(_typeof$D(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$D(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function defaultUniqBy(_e){return _e.dataKey}function renderContent(_e,$){return React.isValidElement(_e)?React.cloneElement(_e,$):typeof _e=="function"?React.createElement(_e,$):React.createElement(DefaultTooltipContent,$)}var Tooltip$1=function(_e){function $(){return _classCallCheck$i(this,$),_callSuper$e(this,$,arguments)}return _inherits$f($,_e),_createClass$i($,[{key:"render",value:function(){var tt=this,rt=this.props,nt=rt.active,it=rt.allowEscapeViewBox,at=rt.animationDuration,st=rt.animationEasing,ot=rt.content,lt=rt.coordinate,ct=rt.filterNull,ut=rt.isAnimationActive,dt=rt.offset,ht=rt.payload,mt=rt.payloadUniqBy,pt=rt.position,ft=rt.reverseDirection,gt=rt.useTranslate3d,bt=rt.viewBox,_t=rt.wrapperStyle,yt=ht??[];ct&&yt.length&&(yt=getUniqPayload(ht.filter(function(xt){return xt.value!=null&&(xt.hide!==!0||tt.props.includeHidden)}),mt,defaultUniqBy));var vt=yt.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:it,animationDuration:at,animationEasing:st,isAnimationActive:ut,active:nt,coordinate:lt,hasPayload:vt,offset:dt,position:pt,reverseDirection:ft,useTranslate3d:gt,viewBox:bt,wrapperStyle:_t},renderContent(ot,_objectSpread$x(_objectSpread$x({},this.props),{},{payload:yt})))}}])}(reactExports.PureComponent);_defineProperty$B(Tooltip$1,"displayName","Tooltip");_defineProperty$B(Tooltip$1,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(_e){for(var $=_e.length;$--&&reWhitespace.test(_e.charAt($)););return $}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(_e){return _e&&_e.slice(0,trimmedEndIndex(_e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$3=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(_e){if(typeof _e=="number")return _e;if(isSymbol$1(_e))return NAN;if(isObject$3(_e)){var $=typeof _e.valueOf=="function"?_e.valueOf():_e;_e=isObject$3($)?$+"":$}if(typeof _e!="string")return _e===0?_e:+_e;_e=baseTrim(_e);var et=reIsBinary.test(_e);return et||reIsOctal.test(_e)?freeParseInt(_e.slice(2),et?2:8):reIsBadHex.test(_e)?NAN:+_e}var toNumber_1=toNumber$2,isObject$2=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$2(_e,$,et){var tt,rt,nt,it,at,st,ot=0,lt=!1,ct=!1,ut=!0;if(typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);$=toNumber$1($)||0,isObject$2(et)&&(lt=!!et.leading,ct="maxWait"in et,nt=ct?nativeMax$2(toNumber$1(et.maxWait)||0,$):nt,ut="trailing"in et?!!et.trailing:ut);function dt(vt){var xt=tt,wt=rt;return tt=rt=void 0,ot=vt,it=_e.apply(wt,xt),it}function ht(vt){return ot=vt,at=setTimeout(ft,$),lt?dt(vt):it}function mt(vt){var xt=vt-st,wt=vt-ot,St=$-xt;return ct?nativeMin(St,nt-wt):St}function pt(vt){var xt=vt-st,wt=vt-ot;return st===void 0||xt>=$||xt<0||ct&&wt>=nt}function ft(){var vt=now();if(pt(vt))return gt(vt);at=setTimeout(ft,mt(vt))}function gt(vt){return at=void 0,ut&&tt?dt(vt):(tt=rt=void 0,it)}function bt(){at!==void 0&&clearTimeout(at),ot=0,tt=st=rt=at=void 0}function _t(){return at===void 0?it:gt(now())}function yt(){var vt=now(),xt=pt(vt);if(tt=arguments,rt=this,st=vt,xt){if(at===void 0)return ht(st);if(ct)return clearTimeout(at),at=setTimeout(ft,$),dt(st)}return at===void 0&&(at=setTimeout(ft,$)),it}return yt.cancel=bt,yt.flush=_t,yt}var debounce_1=debounce$2,debounce$1=debounce_1,isObject$1=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(_e,$,et){var tt=!0,rt=!0;if(typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$1(et)&&(tt="leading"in et?!!et.leading:tt,rt="trailing"in et?!!et.trailing:rt),debounce$1(_e,$,{leading:tt,maxWait:$,trailing:rt})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$C(_e){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$C(_e)}function ownKeys$w(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$w(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$w(Object(et),!0).forEach(function(tt){_defineProperty$A(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$w(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$A(_e,$,et){return $=_toPropertyKey$B($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$B(_e){var $=_toPrimitive$B(_e,"string");return _typeof$C($)=="symbol"?$:$+""}function _toPrimitive$B(_e,$){if(_typeof$C(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$C(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$b(_e,$){return _arrayWithHoles$c(_e)||_iterableToArrayLimit$b(_e,$)||_unsupportedIterableToArray$k(_e,$)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$k(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$k(_e,$)}}function _arrayLikeToArray$k(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$b(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$c(_e){if(Array.isArray(_e))return _e}var ResponsiveContainer=reactExports.forwardRef(function(_e,$){var et=_e.aspect,tt=_e.initialDimension,rt=tt===void 0?{width:-1,height:-1}:tt,nt=_e.width,it=nt===void 0?"100%":nt,at=_e.height,st=at===void 0?"100%":at,ot=_e.minWidth,lt=ot===void 0?0:ot,ct=_e.minHeight,ut=_e.maxHeight,dt=_e.children,ht=_e.debounce,mt=ht===void 0?0:ht,pt=_e.id,ft=_e.className,gt=_e.onResize,bt=_e.style,_t=bt===void 0?{}:bt,yt=reactExports.useRef(null),vt=reactExports.useRef();vt.current=gt,reactExports.useImperativeHandle($,function(){return Object.defineProperty(yt.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),yt.current},configurable:!0})});var xt=reactExports.useState({containerWidth:rt.width,containerHeight:rt.height}),wt=_slicedToArray$b(xt,2),St=wt[0],Ot=wt[1],Et=reactExports.useCallback(function(It,Wt){Ot(function(Lt){var zt=Math.round(It),Ft=Math.round(Wt);return Lt.containerWidth===zt&&Lt.containerHeight===Ft?Lt:{containerWidth:zt,containerHeight:Ft}})},[]);reactExports.useEffect(function(){var It=function(jt){var Ct,Dt=jt[0].contentRect,Mt=Dt.width,At=Dt.height;Et(Mt,At),(Ct=vt.current)===null||Ct===void 0||Ct.call(vt,Mt,At)};mt>0&&(It=throttle$1(It,mt,{trailing:!0,leading:!1}));var Wt=new ResizeObserver(It),Lt=yt.current.getBoundingClientRect(),zt=Lt.width,Ft=Lt.height;return Et(zt,Ft),Wt.observe(yt.current),function(){Wt.disconnect()}},[Et,mt]);var Tt=reactExports.useMemo(function(){var It=St.containerWidth,Wt=St.containerHeight;if(It<0||Wt<0)return null;warn(isPercent(it)||isPercent(st),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,it,st),warn(!et||et>0,"The aspect(%s) must be greater than zero.",et);var Lt=isPercent(it)?It:it,zt=isPercent(st)?Wt:st;et&&et>0&&(Lt?zt=Lt/et:zt&&(Lt=zt*et),ut&&zt>ut&&(zt=ut)),warn(Lt>0||zt>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Lt,zt,it,st,lt,ct,et);var Ft=!Array.isArray(dt)&&getDisplayName(dt.type).endsWith("Chart");return React.Children.map(dt,function(Rt){return React.isValidElement(Rt)?reactExports.cloneElement(Rt,_objectSpread$w({width:Lt,height:zt},Ft?{style:_objectSpread$w({height:"100%",width:"100%",maxHeight:zt,maxWidth:Lt},Rt.props.style)}:{})):Rt})},[et,dt,st,ut,ct,lt,St,it]);return React.createElement("div",{id:pt?"".concat(pt):void 0,className:clsx("recharts-responsive-container",ft),style:_objectSpread$w(_objectSpread$w({},_t),{},{width:it,height:st,minWidth:lt,minHeight:ct,maxHeight:ut}),ref:yt},Tt)}),Cell=function _e($){return null};Cell.displayName="Cell";function _typeof$B(_e){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$B(_e)}function ownKeys$v(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$v(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$v(Object(et),!0).forEach(function(tt){_defineProperty$z(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$v(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$z(_e,$,et){return $=_toPropertyKey$A($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$A(_e){var $=_toPrimitive$A(_e,"string");return _typeof$B($)=="symbol"?$:$+""}function _toPrimitive$A(_e,$){if(_typeof$B(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$B(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(_e){var $=_objectSpread$v({},_e);return Object.keys($).forEach(function(et){$[et]||delete $[et]}),$}var getStringSize=function _e($){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($==null||Global.isSsr)return{width:0,height:0};var tt=removeInvalidKeys(et),rt=JSON.stringify({text:$,copyStyle:tt});if(stringCache.widthCache[rt])return stringCache.widthCache[rt];try{var nt=document.getElementById(MEASUREMENT_SPAN_ID);nt||(nt=document.createElement("span"),nt.setAttribute("id",MEASUREMENT_SPAN_ID),nt.setAttribute("aria-hidden","true"),document.body.appendChild(nt));var it=_objectSpread$v(_objectSpread$v({},SPAN_STYLE),tt);Object.assign(nt.style,it),nt.textContent="".concat($);var at=nt.getBoundingClientRect(),st={width:at.width,height:at.height};return stringCache.widthCache[rt]=st,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),st}catch{return{width:0,height:0}}},getOffset=function _e($){return{top:$.top+window.scrollY-document.documentElement.clientTop,left:$.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$A(_e){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$A(_e)}function _slicedToArray$a(_e,$){return _arrayWithHoles$b(_e)||_iterableToArrayLimit$a(_e,$)||_unsupportedIterableToArray$j(_e,$)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$j(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$j(_e,$)}}function _arrayLikeToArray$j(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$a(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$===0){if(Object(et)!==et)return;st=!1}else for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$b(_e){if(Array.isArray(_e))return _e}function _classCallCheck$h(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$z(tt.key),tt)}}function _createClass$h(_e,$,et){return $&&_defineProperties$h(_e.prototype,$),et&&_defineProperties$h(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _toPropertyKey$z(_e){var $=_toPrimitive$z(_e,"string");return _typeof$A($)=="symbol"?$:$+""}function _toPrimitive$z(_e,$){if(_typeof$A(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$);if(_typeof$A(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(_e,$){return _e*CONVERSION_RATES[$]}var DecimalCSS=function(){function _e($,et){_classCallCheck$h(this,_e),this.num=$,this.unit=et,this.num=$,this.unit=et,Number.isNaN($)&&(this.unit=""),et!==""&&!CSS_LENGTH_UNIT_REGEX.test(et)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(et)&&(this.num=convertToPx($,et),this.unit="px")}return _createClass$h(_e,[{key:"add",value:function(et){return this.unit!==et.unit?new _e(NaN,""):new _e(this.num+et.num,this.unit)}},{key:"subtract",value:function(et){return this.unit!==et.unit?new _e(NaN,""):new _e(this.num-et.num,this.unit)}},{key:"multiply",value:function(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new _e(NaN,""):new _e(this.num*et.num,this.unit||et.unit)}},{key:"divide",value:function(et){return this.unit!==""&&et.unit!==""&&this.unit!==et.unit?new _e(NaN,""):new _e(this.num/et.num,this.unit||et.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(et){var tt,rt=(tt=NUM_SPLIT_REGEX.exec(et))!==null&&tt!==void 0?tt:[],nt=_slicedToArray$a(rt,3),it=nt[1],at=nt[2];return new _e(parseFloat(it),at??"")}}])}();function calculateArithmetic(_e){if(_e.includes(STR_NAN))return STR_NAN;for(var $=_e;$.includes("*")||$.includes("/");){var et,tt=(et=MULTIPLY_OR_DIVIDE_REGEX.exec($))!==null&&et!==void 0?et:[],rt=_slicedToArray$a(tt,4),nt=rt[1],it=rt[2],at=rt[3],st=DecimalCSS.parse(nt??""),ot=DecimalCSS.parse(at??""),lt=it==="*"?st.multiply(ot):st.divide(ot);if(lt.isNaN())return STR_NAN;$=$.replace(MULTIPLY_OR_DIVIDE_REGEX,lt.toString())}for(;$.includes("+")||/.-\d+(?:\.\d+)?/.test($);){var ct,ut=(ct=ADD_OR_SUBTRACT_REGEX.exec($))!==null&&ct!==void 0?ct:[],dt=_slicedToArray$a(ut,4),ht=dt[1],mt=dt[2],pt=dt[3],ft=DecimalCSS.parse(ht??""),gt=DecimalCSS.parse(pt??""),bt=mt==="+"?ft.add(gt):ft.subtract(gt);if(bt.isNaN())return STR_NAN;$=$.replace(ADD_OR_SUBTRACT_REGEX,bt.toString())}return $}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(_e){for(var $=_e;$.includes("(");){var et=PARENTHESES_REGEX.exec($),tt=_slicedToArray$a(et,2),rt=tt[1];$=$.replace(PARENTHESES_REGEX,calculateArithmetic(rt))}return $}function evaluateExpression(_e){var $=_e.replace(/\s+/g,"");return $=calculateParentheses($),$=calculateArithmetic($),$}function safeEvaluateExpression(_e){try{return evaluateExpression(_e)}catch{return STR_NAN}}function reduceCSSCalc(_e){var $=safeEvaluateExpression(_e.slice(5,-1));return $===STR_NAN?"":$}var _excluded$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$p.apply(this,arguments)}function _objectWithoutProperties$e(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$e(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$e(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _slicedToArray$9(_e,$){return _arrayWithHoles$a(_e)||_iterableToArrayLimit$9(_e,$)||_unsupportedIterableToArray$i(_e,$)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$i(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$i(_e,$)}}function _arrayLikeToArray$i(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$9(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$===0){if(Object(et)!==et)return;st=!1}else for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$a(_e){if(Array.isArray(_e))return _e}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function _e($){var et=$.children,tt=$.breakAll,rt=$.style;try{var nt=[];isNil$1(et)||(tt?nt=et.toString().split(""):nt=et.toString().split(BREAKING_SPACES));var it=nt.map(function(st){return{word:st,width:getStringSize(st,rt).width}}),at=tt?0:getStringSize("",rt).width;return{wordsWithComputedWidth:it,spaceWidth:at}}catch{return null}},calculateWordsByLines=function _e($,et,tt,rt,nt){var it=$.maxLines,at=$.children,st=$.style,ot=$.breakAll,lt=isNumber$1(it),ct=at,ut=function(){var Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Lt.reduce(function(zt,Ft){var Rt=Ft.word,jt=Ft.width,Ct=zt[zt.length-1];if(Ct&&(rt==null||nt||Ct.width+jt+tt<Number(rt)))Ct.words.push(Rt),Ct.width+=jt+tt;else{var Dt={words:[Rt],width:jt};zt.push(Dt)}return zt},[])},dt=ut(et),ht=function(Lt){return Lt.reduce(function(zt,Ft){return zt.width>Ft.width?zt:Ft})};if(!lt)return dt;for(var mt="",pt=function(Lt){var zt=ct.slice(0,Lt),Ft=calculateWordWidths({breakAll:ot,style:st,children:zt+mt}).wordsWithComputedWidth,Rt=ut(Ft),jt=Rt.length>it||ht(Rt).width>Number(rt);return[jt,Rt]},ft=0,gt=ct.length-1,bt=0,_t;ft<=gt&&bt<=ct.length-1;){var yt=Math.floor((ft+gt)/2),vt=yt-1,xt=pt(vt),wt=_slicedToArray$9(xt,2),St=wt[0],Ot=wt[1],Et=pt(yt),Tt=_slicedToArray$9(Et,1),It=Tt[0];if(!St&&!It&&(ft=yt+1),St&&It&&(gt=yt-1),!St&&It){_t=Ot;break}bt++}return _t||dt},getWordsWithoutCalculate=function _e($){var et=isNil$1($)?[]:$.toString().split(BREAKING_SPACES);return[{words:et}]},getWordsByLines=function _e($){var et=$.width,tt=$.scaleToFit,rt=$.children,nt=$.style,it=$.breakAll,at=$.maxLines;if((et||tt)&&!Global.isSsr){var st,ot,lt=calculateWordWidths({breakAll:it,children:rt,style:nt});if(lt){var ct=lt.wordsWithComputedWidth,ut=lt.spaceWidth;st=ct,ot=ut}else return getWordsWithoutCalculate(rt);return calculateWordsByLines({breakAll:it,children:rt,maxLines:at,style:nt},st,ot,et,tt)}return getWordsWithoutCalculate(rt)},DEFAULT_FILL="#808080",Text=function _e($){var et=$.x,tt=et===void 0?0:et,rt=$.y,nt=rt===void 0?0:rt,it=$.lineHeight,at=it===void 0?"1em":it,st=$.capHeight,ot=st===void 0?"0.71em":st,lt=$.scaleToFit,ct=lt===void 0?!1:lt,ut=$.textAnchor,dt=ut===void 0?"start":ut,ht=$.verticalAnchor,mt=ht===void 0?"end":ht,pt=$.fill,ft=pt===void 0?DEFAULT_FILL:pt,gt=_objectWithoutProperties$e($,_excluded$e),bt=reactExports.useMemo(function(){return getWordsByLines({breakAll:gt.breakAll,children:gt.children,maxLines:gt.maxLines,scaleToFit:ct,style:gt.style,width:gt.width})},[gt.breakAll,gt.children,gt.maxLines,ct,gt.style,gt.width]),_t=gt.dx,yt=gt.dy,vt=gt.angle,xt=gt.className,wt=gt.breakAll,St=_objectWithoutProperties$e(gt,_excluded2$6);if(!isNumOrStr(tt)||!isNumOrStr(nt))return null;var Ot=tt+(isNumber$1(_t)?_t:0),Et=nt+(isNumber$1(yt)?yt:0),Tt;switch(mt){case"start":Tt=reduceCSSCalc("calc(".concat(ot,")"));break;case"middle":Tt=reduceCSSCalc("calc(".concat((bt.length-1)/2," * -").concat(at," + (").concat(ot," / 2))"));break;default:Tt=reduceCSSCalc("calc(".concat(bt.length-1," * -").concat(at,")"));break}var It=[];if(ct){var Wt=bt[0].width,Lt=gt.width;It.push("scale(".concat((isNumber$1(Lt)?Lt/Wt:1)/Wt,")"))}return vt&&It.push("rotate(".concat(vt,", ").concat(Ot,", ").concat(Et,")")),It.length&&(St.transform=It.join(" ")),React.createElement("text",_extends$p({},filterProps(St,!0),{x:Ot,y:Et,className:clsx("recharts-text",xt),textAnchor:dt,fill:ft.includes("url")?DEFAULT_FILL:ft}),bt.map(function(zt,Ft){var Rt=zt.words.join(wt?"":" ");return React.createElement("tspan",{x:Ot,dy:Ft===0?Tt:at,key:"".concat(Rt,"-").concat(Ft)},Rt)}))};function ascending(_e,$){return _e==null||$==null?NaN:_e<$?-1:_e>$?1:_e>=$?0:NaN}function descending(_e,$){return _e==null||$==null?NaN:$<_e?-1:$>_e?1:$>=_e?0:NaN}function bisector(_e){let $,et,tt;_e.length!==2?($=ascending,et=(at,st)=>ascending(_e(at),st),tt=(at,st)=>_e(at)-st):($=_e===ascending||_e===descending?_e:zero$1,et=_e,tt=_e);function rt(at,st,ot=0,lt=at.length){if(ot<lt){if($(st,st)!==0)return lt;do{const ct=ot+lt>>>1;et(at[ct],st)<0?ot=ct+1:lt=ct}while(ot<lt)}return ot}function nt(at,st,ot=0,lt=at.length){if(ot<lt){if($(st,st)!==0)return lt;do{const ct=ot+lt>>>1;et(at[ct],st)<=0?ot=ct+1:lt=ct}while(ot<lt)}return ot}function it(at,st,ot=0,lt=at.length){const ct=rt(at,st,ot,lt-1);return ct>ot&&tt(at[ct-1],st)>-tt(at[ct],st)?ct-1:ct}return{left:rt,center:it,right:nt}}function zero$1(){return 0}function number$2(_e){return _e===null?NaN:+_e}function*numbers$1(_e,$){for(let et of _e)et!=null&&(et=+et)>=et&&(yield et)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor($,et=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:et}}),$!=null)for(const[tt,rt]of $)this.set(tt,rt)}get($){return super.get(intern_get(this,$))}has($){return super.has(intern_get(this,$))}set($,et){return super.set(intern_set(this,$),et)}delete($){return super.delete(intern_delete(this,$))}}function intern_get({_intern:_e,_key:$},et){const tt=$(et);return _e.has(tt)?_e.get(tt):et}function intern_set({_intern:_e,_key:$},et){const tt=$(et);return _e.has(tt)?_e.get(tt):(_e.set(tt,et),et)}function intern_delete({_intern:_e,_key:$},et){const tt=$(et);return _e.has(tt)&&(et=_e.get(tt),_e.delete(tt)),et}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}function compareDefined(_e=ascending){if(_e===ascending)return ascendingDefined;if(typeof _e!="function")throw new TypeError("compare is not a function");return($,et)=>{const tt=_e($,et);return tt||tt===0?tt:(_e(et,et)===0)-(_e($,$)===0)}}function ascendingDefined(_e,$){return(_e==null||!(_e>=_e))-($==null||!($>=$))||(_e<$?-1:_e>$?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,$,et){const tt=($-_e)/Math.max(0,et),rt=Math.floor(Math.log10(tt)),nt=tt/Math.pow(10,rt),it=nt>=e10?10:nt>=e5?5:nt>=e2?2:1;let at,st,ot;return rt<0?(ot=Math.pow(10,-rt)/it,at=Math.round(_e*ot),st=Math.round($*ot),at/ot<_e&&++at,st/ot>$&&--st,ot=-ot):(ot=Math.pow(10,rt)*it,at=Math.round(_e/ot),st=Math.round($/ot),at*ot<_e&&++at,st*ot>$&&--st),st<at&&.5<=et&&et<2?tickSpec(_e,$,et*2):[at,st,ot]}function ticks(_e,$,et){if($=+$,_e=+_e,et=+et,!(et>0))return[];if(_e===$)return[_e];const tt=$<_e,[rt,nt,it]=tt?tickSpec($,_e,et):tickSpec(_e,$,et);if(!(nt>=rt))return[];const at=nt-rt+1,st=new Array(at);if(tt)if(it<0)for(let ot=0;ot<at;++ot)st[ot]=(nt-ot)/-it;else for(let ot=0;ot<at;++ot)st[ot]=(nt-ot)*it;else if(it<0)for(let ot=0;ot<at;++ot)st[ot]=(rt+ot)/-it;else for(let ot=0;ot<at;++ot)st[ot]=(rt+ot)*it;return st}function tickIncrement(_e,$,et){return $=+$,_e=+_e,et=+et,tickSpec(_e,$,et)[2]}function tickStep(_e,$,et){$=+$,_e=+_e,et=+et;const tt=$<_e,rt=tt?tickIncrement($,_e,et):tickIncrement(_e,$,et);return(tt?-1:1)*(rt<0?1/-rt:rt)}function max$2(_e,$){let et;for(const tt of _e)tt!=null&&(et<tt||et===void 0&&tt>=tt)&&(et=tt);return et}function min$2(_e,$){let et;for(const tt of _e)tt!=null&&(et>tt||et===void 0&&tt>=tt)&&(et=tt);return et}function quickselect(_e,$,et=0,tt=1/0,rt){if($=Math.floor($),et=Math.floor(Math.max(0,et)),tt=Math.floor(Math.min(_e.length-1,tt)),!(et<=$&&$<=tt))return _e;for(rt=rt===void 0?ascendingDefined:compareDefined(rt);tt>et;){if(tt-et>600){const st=tt-et+1,ot=$-et+1,lt=Math.log(st),ct=.5*Math.exp(2*lt/3),ut=.5*Math.sqrt(lt*ct*(st-ct)/st)*(ot-st/2<0?-1:1),dt=Math.max(et,Math.floor($-ot*ct/st+ut)),ht=Math.min(tt,Math.floor($+(st-ot)*ct/st+ut));quickselect(_e,$,dt,ht,rt)}const nt=_e[$];let it=et,at=tt;for(swap(_e,et,$),rt(_e[tt],nt)>0&&swap(_e,et,tt);it<at;){for(swap(_e,it,at),++it,--at;rt(_e[it],nt)<0;)++it;for(;rt(_e[at],nt)>0;)--at}rt(_e[et],nt)===0?swap(_e,et,at):(++at,swap(_e,at,tt)),at<=$&&(et=at+1),$<=at&&(tt=at-1)}return _e}function swap(_e,$,et){const tt=_e[$];_e[$]=_e[et],_e[et]=tt}function quantile$1(_e,$,et){if(_e=Float64Array.from(numbers$1(_e)),!(!(tt=_e.length)||isNaN($=+$))){if($<=0||tt<2)return min$2(_e);if($>=1)return max$2(_e);var tt,rt=(tt-1)*$,nt=Math.floor(rt),it=max$2(quickselect(_e,nt).subarray(0,nt+1)),at=min$2(_e.subarray(nt+1));return it+(at-it)*(rt-nt)}}function quantileSorted(_e,$,et=number$2){if(!(!(tt=_e.length)||isNaN($=+$))){if($<=0||tt<2)return+et(_e[0],0,_e);if($>=1)return+et(_e[tt-1],tt-1,_e);var tt,rt=(tt-1)*$,nt=Math.floor(rt),it=+et(_e[nt],nt,_e),at=+et(_e[nt+1],nt+1,_e);return it+(at-it)*(rt-nt)}}function range$3(_e,$,et){_e=+_e,$=+$,et=(rt=arguments.length)<2?($=_e,_e=0,1):rt<3?1:+et;for(var tt=-1,rt=Math.max(0,Math.ceil(($-_e)/et))|0,nt=new Array(rt);++tt<rt;)nt[tt]=_e+tt*et;return nt}function initRange(_e,$){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range($).domain(_e);break}return this}function initInterpolator(_e,$){switch(arguments.length){case 0:break;case 1:{typeof _e=="function"?this.interpolator(_e):this.range(_e);break}default:{this.domain(_e),typeof $=="function"?this.interpolator($):this.range($);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,$=[],et=[],tt=implicit;function rt(nt){let it=_e.get(nt);if(it===void 0){if(tt!==implicit)return tt;_e.set(nt,it=$.push(nt)-1)}return et[it%et.length]}return rt.domain=function(nt){if(!arguments.length)return $.slice();$=[],_e=new InternMap;for(const it of nt)_e.has(it)||_e.set(it,$.push(it)-1);return rt},rt.range=function(nt){return arguments.length?(et=Array.from(nt),rt):et.slice()},rt.unknown=function(nt){return arguments.length?(tt=nt,rt):tt},rt.copy=function(){return ordinal($,et).unknown(tt)},initRange.apply(rt,arguments),rt}function band(){var _e=ordinal().unknown(void 0),$=_e.domain,et=_e.range,tt=0,rt=1,nt,it,at=!1,st=0,ot=0,lt=.5;delete _e.unknown;function ct(){var ut=$().length,dt=rt<tt,ht=dt?rt:tt,mt=dt?tt:rt;nt=(mt-ht)/Math.max(1,ut-st+ot*2),at&&(nt=Math.floor(nt)),ht+=(mt-ht-nt*(ut-st))*lt,it=nt*(1-st),at&&(ht=Math.round(ht),it=Math.round(it));var pt=range$3(ut).map(function(ft){return ht+nt*ft});return et(dt?pt.reverse():pt)}return _e.domain=function(ut){return arguments.length?($(ut),ct()):$()},_e.range=function(ut){return arguments.length?([tt,rt]=ut,tt=+tt,rt=+rt,ct()):[tt,rt]},_e.rangeRound=function(ut){return[tt,rt]=ut,tt=+tt,rt=+rt,at=!0,ct()},_e.bandwidth=function(){return it},_e.step=function(){return nt},_e.round=function(ut){return arguments.length?(at=!!ut,ct()):at},_e.padding=function(ut){return arguments.length?(st=Math.min(1,ot=+ut),ct()):st},_e.paddingInner=function(ut){return arguments.length?(st=Math.min(1,ut),ct()):st},_e.paddingOuter=function(ut){return arguments.length?(ot=+ut,ct()):ot},_e.align=function(ut){return arguments.length?(lt=Math.max(0,Math.min(1,ut)),ct()):lt},_e.copy=function(){return band($(),[tt,rt]).round(at).paddingInner(st).paddingOuter(ot).align(lt)},initRange.apply(ct(),arguments)}function pointish(_e){var $=_e.copy;return _e.padding=_e.paddingOuter,delete _e.paddingInner,delete _e.paddingOuter,_e.copy=function(){return pointish($())},_e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(_e,$,et){_e.prototype=$.prototype=et,et.constructor=_e}function extend(_e,$){var et=Object.create(_e.prototype);for(var tt in $)et[tt]=$[tt];return et}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color$1,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(_e){var $,et;return _e=(_e+"").trim().toLowerCase(),($=reHex.exec(_e))?(et=$[1].length,$=parseInt($[1],16),et===6?rgbn($):et===3?new Rgb($>>8&15|$>>4&240,$>>4&15|$&240,($&15)<<4|$&15,1):et===8?rgba($>>24&255,$>>16&255,$>>8&255,($&255)/255):et===4?rgba($>>12&15|$>>8&240,$>>8&15|$>>4&240,$>>4&15|$&240,(($&15)<<4|$&15)/255):null):($=reRgbInteger.exec(_e))?new Rgb($[1],$[2],$[3],1):($=reRgbPercent.exec(_e))?new Rgb($[1]*255/100,$[2]*255/100,$[3]*255/100,1):($=reRgbaInteger.exec(_e))?rgba($[1],$[2],$[3],$[4]):($=reRgbaPercent.exec(_e))?rgba($[1]*255/100,$[2]*255/100,$[3]*255/100,$[4]):($=reHslPercent.exec(_e))?hsla($[1],$[2]/100,$[3]/100,1):($=reHslaPercent.exec(_e))?hsla($[1],$[2]/100,$[3]/100,$[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,$,et,tt){return tt<=0&&(_e=$=et=NaN),new Rgb(_e,$,et,tt)}function rgbConvert(_e){return _e instanceof Color$1||(_e=color$1(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,$,et,tt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,$,et,tt??1)}function Rgb(_e,$,et,tt){this.r=+_e,this.g=+$,this.b=+et,this.opacity=+tt}define(Rgb,rgb$1,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}`}function rgb_formatHex8(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}${hex$1((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex$1(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,$,et,tt){return tt<=0?_e=$=et=NaN:et<=0||et>=1?_e=$=NaN:$<=0&&(_e=NaN),new Hsl(_e,$,et,tt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color$1||(_e=color$1(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var $=_e.r/255,et=_e.g/255,tt=_e.b/255,rt=Math.min($,et,tt),nt=Math.max($,et,tt),it=NaN,at=nt-rt,st=(nt+rt)/2;return at?($===nt?it=(et-tt)/at+(et<tt)*6:et===nt?it=(tt-$)/at+2:it=($-et)/at+4,at/=st<.5?nt+rt:2-nt-rt,it*=60):at=st>0&&st<1?0:it,new Hsl(it,at,st,_e.opacity)}function hsl(_e,$,et,tt){return arguments.length===1?hslConvert(_e):new Hsl(_e,$,et,tt??1)}function Hsl(_e,$,et,tt){this.h=+_e,this.s=+$,this.l=+et,this.opacity=+tt}define(Hsl,hsl,extend(Color$1,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,$=isNaN(_e)||isNaN(this.s)?0:this.s,et=this.l,tt=et+(et<.5?et:1-et)*$,rt=2*et-tt;return new Rgb(hsl2rgb$1(_e>=240?_e-240:_e+120,rt,tt),hsl2rgb$1(_e,rt,tt),hsl2rgb$1(_e<120?_e+240:_e-120,rt,tt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb$1(_e,$,et){return(_e<60?$+(et-$)*_e/60:_e<180?et:_e<240?$+(et-$)*(240-_e)/60:$)*255}const constant=_e=>()=>_e;function linear$1(_e,$){return function(et){return _e+et*$}}function exponential(_e,$,et){return _e=Math.pow(_e,et),$=Math.pow($,et)-_e,et=1/et,function(tt){return Math.pow(_e+tt*$,et)}}function gamma(_e){return(_e=+_e)==1?nogamma:function($,et){return et-$?exponential($,et,_e):constant(isNaN($)?et:$)}}function nogamma(_e,$){var et=$-_e;return et?linear$1(_e,et):constant(isNaN(_e)?$:_e)}const rgb=function _e($){var et=gamma($);function tt(rt,nt){var it=et((rt=rgb$1(rt)).r,(nt=rgb$1(nt)).r),at=et(rt.g,nt.g),st=et(rt.b,nt.b),ot=nogamma(rt.opacity,nt.opacity);return function(lt){return rt.r=it(lt),rt.g=at(lt),rt.b=st(lt),rt.opacity=ot(lt),rt+""}}return tt.gamma=_e,tt}(1);function numberArray(_e,$){$||($=[]);var et=_e?Math.min($.length,_e.length):0,tt=$.slice(),rt;return function(nt){for(rt=0;rt<et;++rt)tt[rt]=_e[rt]*(1-nt)+$[rt]*nt;return tt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,$){var et=$?$.length:0,tt=_e?Math.min(et,_e.length):0,rt=new Array(tt),nt=new Array(et),it;for(it=0;it<tt;++it)rt[it]=interpolate$2(_e[it],$[it]);for(;it<et;++it)nt[it]=$[it];return function(at){for(it=0;it<tt;++it)nt[it]=rt[it](at);return nt}}function date$1(_e,$){var et=new Date;return _e=+_e,$=+$,function(tt){return et.setTime(_e*(1-tt)+$*tt),et}}function interpolateNumber$1(_e,$){return _e=+_e,$=+$,function(et){return _e*(1-et)+$*et}}function object(_e,$){var et={},tt={},rt;(_e===null||typeof _e!="object")&&(_e={}),($===null||typeof $!="object")&&($={});for(rt in $)rt in _e?et[rt]=interpolate$2(_e[rt],$[rt]):tt[rt]=$[rt];return function(nt){for(rt in et)tt[rt]=et[rt](nt);return tt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function($){return _e($)+""}}function string(_e,$){var et=reA.lastIndex=reB.lastIndex=0,tt,rt,nt,it=-1,at=[],st=[];for(_e=_e+"",$=$+"";(tt=reA.exec(_e))&&(rt=reB.exec($));)(nt=rt.index)>et&&(nt=$.slice(et,nt),at[it]?at[it]+=nt:at[++it]=nt),(tt=tt[0])===(rt=rt[0])?at[it]?at[it]+=rt:at[++it]=rt:(at[++it]=null,st.push({i:it,x:interpolateNumber$1(tt,rt)})),et=reB.lastIndex;return et<$.length&&(nt=$.slice(et),at[it]?at[it]+=nt:at[++it]=nt),at.length<2?st[0]?one(st[0].x):zero($):($=st.length,function(ot){for(var lt=0,ct;lt<$;++lt)at[(ct=st[lt]).i]=ct.x(ot);return at.join("")})}function interpolate$2(_e,$){var et=typeof $,tt;return $==null||et==="boolean"?constant($):(et==="number"?interpolateNumber$1:et==="string"?(tt=color$1($))?($=tt,rgb):string:$ instanceof color$1?rgb:$ instanceof Date?date$1:isNumberArray($)?numberArray:Array.isArray($)?genericArray:typeof $.valueOf!="function"&&typeof $.toString!="function"||isNaN($)?object:interpolateNumber$1)(_e,$)}function interpolateRound(_e,$){return _e=+_e,$=+$,function(et){return Math.round(_e*(1-et)+$*et)}}function piecewise(_e,$){$===void 0&&($=_e,_e=interpolate$2);for(var et=0,tt=$.length-1,rt=$[0],nt=new Array(tt<0?0:tt);et<tt;)nt[et]=_e(rt,rt=$[++et]);return function(it){var at=Math.max(0,Math.min(tt-1,Math.floor(it*=tt)));return nt[at](it-at)}}function constants(_e){return function(){return _e}}function number$1(_e){return+_e}var unit=[0,1];function identity$6(_e){return _e}function normalize(_e,$){return($-=_e=+_e)?function(et){return(et-_e)/$}:constants(isNaN($)?NaN:.5)}function clamper(_e,$){var et;return _e>$&&(et=_e,_e=$,$=et),function(tt){return Math.max(_e,Math.min($,tt))}}function bimap(_e,$,et){var tt=_e[0],rt=_e[1],nt=$[0],it=$[1];return rt<tt?(tt=normalize(rt,tt),nt=et(it,nt)):(tt=normalize(tt,rt),nt=et(nt,it)),function(at){return nt(tt(at))}}function polymap(_e,$,et){var tt=Math.min(_e.length,$.length)-1,rt=new Array(tt),nt=new Array(tt),it=-1;for(_e[tt]<_e[0]&&(_e=_e.slice().reverse(),$=$.slice().reverse());++it<tt;)rt[it]=normalize(_e[it],_e[it+1]),nt[it]=et($[it],$[it+1]);return function(at){var st=bisectRight(_e,at,1,tt)-1;return nt[st](rt[st](at))}}function copy$1(_e,$){return $.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer$2(){var _e=unit,$=unit,et=interpolate$2,tt,rt,nt,it=identity$6,at,st,ot;function lt(){var ut=Math.min(_e.length,$.length);return it!==identity$6&&(it=clamper(_e[0],_e[ut-1])),at=ut>2?polymap:bimap,st=ot=null,ct}function ct(ut){return ut==null||isNaN(ut=+ut)?nt:(st||(st=at(_e.map(tt),$,et)))(tt(it(ut)))}return ct.invert=function(ut){return it(rt((ot||(ot=at($,_e.map(tt),interpolateNumber$1)))(ut)))},ct.domain=function(ut){return arguments.length?(_e=Array.from(ut,number$1),lt()):_e.slice()},ct.range=function(ut){return arguments.length?($=Array.from(ut),lt()):$.slice()},ct.rangeRound=function(ut){return $=Array.from(ut),et=interpolateRound,lt()},ct.clamp=function(ut){return arguments.length?(it=ut?!0:identity$6,lt()):it!==identity$6},ct.interpolate=function(ut){return arguments.length?(et=ut,lt()):et},ct.unknown=function(ut){return arguments.length?(nt=ut,ct):nt},function(ut,dt){return tt=ut,rt=dt,lt()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,$){if((et=(_e=$?_e.toExponential($-1):_e.toExponential()).indexOf("e"))<0)return null;var et,tt=_e.slice(0,et);return[tt.length>1?tt[0]+tt.slice(2):tt,+_e.slice(et+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,$){return function(et,tt){for(var rt=et.length,nt=[],it=0,at=_e[0],st=0;rt>0&&at>0&&(st+at+1>tt&&(at=Math.max(1,tt-st)),nt.push(et.substring(rt-=at,rt+at)),!((st+=at+1)>tt));)at=_e[it=(it+1)%_e.length];return nt.reverse().join($)}}function formatNumerals(_e){return function($){return $.replace(/[0-9]/g,function(et){return _e[+et]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!($=re.exec(_e)))throw new Error("invalid format: "+_e);var $;return new FormatSpecifier({fill:$[1],align:$[2],sign:$[3],symbol:$[4],zero:$[5],width:$[6],comma:$[7],precision:$[8]&&$[8].slice(1),trim:$[9],type:$[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var $=_e.length,et=1,tt=-1,rt;et<$;++et)switch(_e[et]){case".":tt=rt=et;break;case"0":tt===0&&(tt=et),rt=et;break;default:if(!+_e[et])break e;tt>0&&(tt=0);break}return tt>0?_e.slice(0,tt)+_e.slice(rt+1):_e}var prefixExponent;function formatPrefixAuto(_e,$){var et=formatDecimalParts(_e,$);if(!et)return _e+"";var tt=et[0],rt=et[1],nt=rt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(rt/3)))*3)+1,it=tt.length;return nt===it?tt:nt>it?tt+new Array(nt-it+1).join("0"):nt>0?tt.slice(0,nt)+"."+tt.slice(nt):"0."+new Array(1-nt).join("0")+formatDecimalParts(_e,Math.max(0,$+nt-1))[0]}function formatRounded(_e,$){var et=formatDecimalParts(_e,$);if(!et)return _e+"";var tt=et[0],rt=et[1];return rt<0?"0."+new Array(-rt).join("0")+tt:tt.length>rt+1?tt.slice(0,rt+1)+"."+tt.slice(rt+1):tt+new Array(rt-tt.length+2).join("0")}const formatTypes={"%":(_e,$)=>(_e*100).toFixed($),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,$)=>_e.toExponential($),f:(_e,$)=>_e.toFixed($),g:(_e,$)=>_e.toPrecision($),o:_e=>Math.round(_e).toString(8),p:(_e,$)=>formatRounded(_e*100,$),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity$5(_e){return _e}var map$5=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var $=_e.grouping===void 0||_e.thousands===void 0?identity$5:formatGroup(map$5.call(_e.grouping,Number),_e.thousands+""),et=_e.currency===void 0?"":_e.currency[0]+"",tt=_e.currency===void 0?"":_e.currency[1]+"",rt=_e.decimal===void 0?".":_e.decimal+"",nt=_e.numerals===void 0?identity$5:formatNumerals(map$5.call(_e.numerals,String)),it=_e.percent===void 0?"%":_e.percent+"",at=_e.minus===void 0?"":_e.minus+"",st=_e.nan===void 0?"NaN":_e.nan+"";function ot(ct){ct=formatSpecifier(ct);var ut=ct.fill,dt=ct.align,ht=ct.sign,mt=ct.symbol,pt=ct.zero,ft=ct.width,gt=ct.comma,bt=ct.precision,_t=ct.trim,yt=ct.type;yt==="n"?(gt=!0,yt="g"):formatTypes[yt]||(bt===void 0&&(bt=12),_t=!0,yt="g"),(pt||ut==="0"&&dt==="=")&&(pt=!0,ut="0",dt="=");var vt=mt==="$"?et:mt==="#"&&/[boxX]/.test(yt)?"0"+yt.toLowerCase():"",xt=mt==="$"?tt:/[%p]/.test(yt)?it:"",wt=formatTypes[yt],St=/[defgprs%]/.test(yt);bt=bt===void 0?6:/[gprs]/.test(yt)?Math.max(1,Math.min(21,bt)):Math.max(0,Math.min(20,bt));function Ot(Et){var Tt=vt,It=xt,Wt,Lt,zt;if(yt==="c")It=wt(Et)+It,Et="";else{Et=+Et;var Ft=Et<0||1/Et<0;if(Et=isNaN(Et)?st:wt(Math.abs(Et),bt),_t&&(Et=formatTrim(Et)),Ft&&+Et==0&&ht!=="+"&&(Ft=!1),Tt=(Ft?ht==="("?ht:at:ht==="-"||ht==="("?"":ht)+Tt,It=(yt==="s"?prefixes[8+prefixExponent/3]:"")+It+(Ft&&ht==="("?")":""),St){for(Wt=-1,Lt=Et.length;++Wt<Lt;)if(zt=Et.charCodeAt(Wt),48>zt||zt>57){It=(zt===46?rt+Et.slice(Wt+1):Et.slice(Wt))+It,Et=Et.slice(0,Wt);break}}}gt&&!pt&&(Et=$(Et,1/0));var Rt=Tt.length+Et.length+It.length,jt=Rt<ft?new Array(ft-Rt+1).join(ut):"";switch(gt&&pt&&(Et=$(jt+Et,jt.length?ft-It.length:1/0),jt=""),dt){case"<":Et=Tt+Et+It+jt;break;case"=":Et=Tt+jt+Et+It;break;case"^":Et=jt.slice(0,Rt=jt.length>>1)+Tt+Et+It+jt.slice(Rt);break;default:Et=jt+Tt+Et+It;break}return nt(Et)}return Ot.toString=function(){return ct+""},Ot}function lt(ct,ut){var dt=ot((ct=formatSpecifier(ct),ct.type="f",ct)),ht=Math.max(-8,Math.min(8,Math.floor(exponent(ut)/3)))*3,mt=Math.pow(10,-ht),pt=prefixes[8+ht/3];return function(ft){return dt(mt*ft)+pt}}return{format:ot,formatPrefix:lt}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,$){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent($)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,$){return _e=Math.abs(_e),$=Math.abs($)-_e,Math.max(0,exponent($)-exponent(_e))+1}function tickFormat(_e,$,et,tt){var rt=tickStep(_e,$,et),nt;switch(tt=formatSpecifier(tt??",f"),tt.type){case"s":{var it=Math.max(Math.abs(_e),Math.abs($));return tt.precision==null&&!isNaN(nt=precisionPrefix(rt,it))&&(tt.precision=nt),formatPrefix(tt,it)}case"":case"e":case"g":case"p":case"r":{tt.precision==null&&!isNaN(nt=precisionRound(rt,Math.max(Math.abs(_e),Math.abs($))))&&(tt.precision=nt-(tt.type==="e"));break}case"f":case"%":{tt.precision==null&&!isNaN(nt=precisionFixed(rt))&&(tt.precision=nt-(tt.type==="%")*2);break}}return format(tt)}function linearish(_e){var $=_e.domain;return _e.ticks=function(et){var tt=$();return ticks(tt[0],tt[tt.length-1],et??10)},_e.tickFormat=function(et,tt){var rt=$();return tickFormat(rt[0],rt[rt.length-1],et??10,tt)},_e.nice=function(et){et==null&&(et=10);var tt=$(),rt=0,nt=tt.length-1,it=tt[rt],at=tt[nt],st,ot,lt=10;for(at<it&&(ot=it,it=at,at=ot,ot=rt,rt=nt,nt=ot);lt-- >0;){if(ot=tickIncrement(it,at,et),ot===st)return tt[rt]=it,tt[nt]=at,$(tt);if(ot>0)it=Math.floor(it/ot)*ot,at=Math.ceil(at/ot)*ot;else if(ot<0)it=Math.ceil(it*ot)/ot,at=Math.floor(at*ot)/ot;else break;st=ot}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy$1(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function identity$4(_e){var $;function et(tt){return tt==null||isNaN(tt=+tt)?$:tt}return et.invert=et,et.domain=et.range=function(tt){return arguments.length?(_e=Array.from(tt,number$1),et):_e.slice()},et.unknown=function(tt){return arguments.length?($=tt,et):$},et.copy=function(){return identity$4(_e).unknown($)},_e=arguments.length?Array.from(_e,number$1):[0,1],linearish(et)}function nice(_e,$){_e=_e.slice();var et=0,tt=_e.length-1,rt=_e[et],nt=_e[tt],it;return nt<rt&&(it=et,et=tt,tt=it,it=rt,rt=nt,nt=it),_e[et]=$.floor(rt),_e[tt]=$.ceil(nt),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:$=>Math.pow(_e,$)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),$=>Math.log($)/_e)}function reflect(_e){return($,et)=>-_e(-$,et)}function loggish(_e){const $=_e(transformLog,transformExp),et=$.domain;let tt=10,rt,nt;function it(){return rt=logp(tt),nt=powp(tt),et()[0]<0?(rt=reflect(rt),nt=reflect(nt),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),$}return $.base=function(at){return arguments.length?(tt=+at,it()):tt},$.domain=function(at){return arguments.length?(et(at),it()):et()},$.ticks=at=>{const st=et();let ot=st[0],lt=st[st.length-1];const ct=lt<ot;ct&&([ot,lt]=[lt,ot]);let ut=rt(ot),dt=rt(lt),ht,mt;const pt=at==null?10:+at;let ft=[];if(!(tt%1)&&dt-ut<pt){if(ut=Math.floor(ut),dt=Math.ceil(dt),ot>0){for(;ut<=dt;++ut)for(ht=1;ht<tt;++ht)if(mt=ut<0?ht/nt(-ut):ht*nt(ut),!(mt<ot)){if(mt>lt)break;ft.push(mt)}}else for(;ut<=dt;++ut)for(ht=tt-1;ht>=1;--ht)if(mt=ut>0?ht/nt(-ut):ht*nt(ut),!(mt<ot)){if(mt>lt)break;ft.push(mt)}ft.length*2<pt&&(ft=ticks(ot,lt,pt))}else ft=ticks(ut,dt,Math.min(dt-ut,pt)).map(nt);return ct?ft.reverse():ft},$.tickFormat=(at,st)=>{if(at==null&&(at=10),st==null&&(st=tt===10?"s":","),typeof st!="function"&&(!(tt%1)&&(st=formatSpecifier(st)).precision==null&&(st.trim=!0),st=format(st)),at===1/0)return st;const ot=Math.max(1,tt*at/$.ticks().length);return lt=>{let ct=lt/nt(Math.round(rt(lt)));return ct*tt<tt-.5&&(ct*=tt),ct<=ot?st(lt):""}},$.nice=()=>et(nice(et(),{floor:at=>nt(Math.floor(rt(at))),ceil:at=>nt(Math.ceil(rt(at)))})),$}function log(){const _e=loggish(transformer$2()).domain([1,10]);return _e.copy=()=>copy$1(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}function transformSymlog(_e){return function($){return Math.sign($)*Math.log1p(Math.abs($/_e))}}function transformSymexp(_e){return function($){return Math.sign($)*Math.expm1(Math.abs($))*_e}}function symlogish(_e){var $=1,et=_e(transformSymlog($),transformSymexp($));return et.constant=function(tt){return arguments.length?_e(transformSymlog($=+tt),transformSymexp($)):$},linearish(et)}function symlog(){var _e=symlogish(transformer$2());return _e.copy=function(){return copy$1(_e,symlog()).constant(_e.constant())},initRange.apply(_e,arguments)}function transformPow(_e){return function($){return $<0?-Math.pow(-$,_e):Math.pow($,_e)}}function transformSqrt(_e){return _e<0?-Math.sqrt(-_e):Math.sqrt(_e)}function transformSquare(_e){return _e<0?-_e*_e:_e*_e}function powish(_e){var $=_e(identity$6,identity$6),et=1;function tt(){return et===1?_e(identity$6,identity$6):et===.5?_e(transformSqrt,transformSquare):_e(transformPow(et),transformPow(1/et))}return $.exponent=function(rt){return arguments.length?(et=+rt,tt()):et},linearish($)}function pow(){var _e=powish(transformer$2());return _e.copy=function(){return copy$1(_e,pow()).exponent(_e.exponent())},initRange.apply(_e,arguments),_e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(_e){return Math.sign(_e)*_e*_e}function unsquare(_e){return Math.sign(_e)*Math.sqrt(Math.abs(_e))}function radial(){var _e=continuous(),$=[0,1],et=!1,tt;function rt(nt){var it=unsquare(_e(nt));return isNaN(it)?tt:et?Math.round(it):it}return rt.invert=function(nt){return _e.invert(square(nt))},rt.domain=function(nt){return arguments.length?(_e.domain(nt),rt):_e.domain()},rt.range=function(nt){return arguments.length?(_e.range(($=Array.from(nt,number$1)).map(square)),rt):$.slice()},rt.rangeRound=function(nt){return rt.range(nt).round(!0)},rt.round=function(nt){return arguments.length?(et=!!nt,rt):et},rt.clamp=function(nt){return arguments.length?(_e.clamp(nt),rt):_e.clamp()},rt.unknown=function(nt){return arguments.length?(tt=nt,rt):tt},rt.copy=function(){return radial(_e.domain(),$).round(et).clamp(_e.clamp()).unknown(tt)},initRange.apply(rt,arguments),linearish(rt)}function quantile(){var _e=[],$=[],et=[],tt;function rt(){var it=0,at=Math.max(1,$.length);for(et=new Array(at-1);++it<at;)et[it-1]=quantileSorted(_e,it/at);return nt}function nt(it){return it==null||isNaN(it=+it)?tt:$[bisectRight(et,it)]}return nt.invertExtent=function(it){var at=$.indexOf(it);return at<0?[NaN,NaN]:[at>0?et[at-1]:_e[0],at<et.length?et[at]:_e[_e.length-1]]},nt.domain=function(it){if(!arguments.length)return _e.slice();_e=[];for(let at of it)at!=null&&!isNaN(at=+at)&&_e.push(at);return _e.sort(ascending),rt()},nt.range=function(it){return arguments.length?($=Array.from(it),rt()):$.slice()},nt.unknown=function(it){return arguments.length?(tt=it,nt):tt},nt.quantiles=function(){return et.slice()},nt.copy=function(){return quantile().domain(_e).range($).unknown(tt)},initRange.apply(nt,arguments)}function quantize(){var _e=0,$=1,et=1,tt=[.5],rt=[0,1],nt;function it(st){return st!=null&&st<=st?rt[bisectRight(tt,st,0,et)]:nt}function at(){var st=-1;for(tt=new Array(et);++st<et;)tt[st]=((st+1)*$-(st-et)*_e)/(et+1);return it}return it.domain=function(st){return arguments.length?([_e,$]=st,_e=+_e,$=+$,at()):[_e,$]},it.range=function(st){return arguments.length?(et=(rt=Array.from(st)).length-1,at()):rt.slice()},it.invertExtent=function(st){var ot=rt.indexOf(st);return ot<0?[NaN,NaN]:ot<1?[_e,tt[0]]:ot>=et?[tt[et-1],$]:[tt[ot-1],tt[ot]]},it.unknown=function(st){return arguments.length&&(nt=st),it},it.thresholds=function(){return tt.slice()},it.copy=function(){return quantize().domain([_e,$]).range(rt).unknown(nt)},initRange.apply(linearish(it),arguments)}function threshold(){var _e=[.5],$=[0,1],et,tt=1;function rt(nt){return nt!=null&&nt<=nt?$[bisectRight(_e,nt,0,tt)]:et}return rt.domain=function(nt){return arguments.length?(_e=Array.from(nt),tt=Math.min(_e.length,$.length-1),rt):_e.slice()},rt.range=function(nt){return arguments.length?($=Array.from(nt),tt=Math.min(_e.length,$.length-1),rt):$.slice()},rt.invertExtent=function(nt){var it=$.indexOf(nt);return[_e[it-1],_e[it]]},rt.unknown=function(nt){return arguments.length?(et=nt,rt):et},rt.copy=function(){return threshold().domain(_e).range($).unknown(et)},initRange.apply(rt,arguments)}const t0=new Date,t1=new Date;function timeInterval(_e,$,et,tt){function rt(nt){return _e(nt=arguments.length===0?new Date:new Date(+nt)),nt}return rt.floor=nt=>(_e(nt=new Date(+nt)),nt),rt.ceil=nt=>(_e(nt=new Date(nt-1)),$(nt,1),_e(nt),nt),rt.round=nt=>{const it=rt(nt),at=rt.ceil(nt);return nt-it<at-nt?it:at},rt.offset=(nt,it)=>($(nt=new Date(+nt),it==null?1:Math.floor(it)),nt),rt.range=(nt,it,at)=>{const st=[];if(nt=rt.ceil(nt),at=at==null?1:Math.floor(at),!(nt<it)||!(at>0))return st;let ot;do st.push(ot=new Date(+nt)),$(nt,at),_e(nt);while(ot<nt&&nt<it);return st},rt.filter=nt=>timeInterval(it=>{if(it>=it)for(;_e(it),!nt(it);)it.setTime(it-1)},(it,at)=>{if(it>=it)if(at<0)for(;++at<=0;)for(;$(it,-1),!nt(it););else for(;--at>=0;)for(;$(it,1),!nt(it););}),et&&(rt.count=(nt,it)=>(t0.setTime(+nt),t1.setTime(+it),_e(t0),_e(t1),Math.floor(et(t0,t1))),rt.every=nt=>(nt=Math.floor(nt),!isFinite(nt)||!(nt>0)?null:nt>1?rt.filter(tt?it=>tt(it)%nt===0:it=>rt.count(0,it)%nt===0):rt)),rt}const millisecond=timeInterval(()=>{},(_e,$)=>{_e.setTime(+_e+$)},(_e,$)=>$-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval($=>{$.setTime(Math.floor($/_e)*_e)},($,et)=>{$.setTime(+$+et*_e)},($,et)=>(et-$)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,$)=>{_e.setTime(+_e+$*durationSecond)},(_e,$)=>($-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,$)=>{_e.setTime(+_e+$*durationMinute)},(_e,$)=>($-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,$)=>{_e.setTime(+_e+$*durationMinute)},(_e,$)=>($-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,$)=>{_e.setTime(+_e+$*durationHour)},(_e,$)=>($-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,$)=>{_e.setTime(+_e+$*durationHour)},(_e,$)=>($-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,$)=>_e.setDate(_e.getDate()+$),(_e,$)=>($-_e-($.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCDate(_e.getUTCDate()+$)},(_e,$)=>($-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCDate(_e.getUTCDate()+$)},(_e,$)=>($-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval($=>{$.setDate($.getDate()-($.getDay()+7-_e)%7),$.setHours(0,0,0,0)},($,et)=>{$.setDate($.getDate()+et*7)},($,et)=>(et-$-(et.getTimezoneOffset()-$.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval($=>{$.setUTCDate($.getUTCDate()-($.getUTCDay()+7-_e)%7),$.setUTCHours(0,0,0,0)},($,et)=>{$.setUTCDate($.getUTCDate()+et*7)},($,et)=>(et-$)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,$)=>{_e.setMonth(_e.getMonth()+$)},(_e,$)=>$.getMonth()-_e.getMonth()+($.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCMonth(_e.getUTCMonth()+$)},(_e,$)=>$.getUTCMonth()-_e.getUTCMonth()+($.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,$)=>{_e.setFullYear(_e.getFullYear()+$)},(_e,$)=>$.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval($=>{$.setFullYear(Math.floor($.getFullYear()/_e)*_e),$.setMonth(0,1),$.setHours(0,0,0,0)},($,et)=>{$.setFullYear($.getFullYear()+et*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCFullYear(_e.getUTCFullYear()+$)},(_e,$)=>$.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval($=>{$.setUTCFullYear(Math.floor($.getUTCFullYear()/_e)*_e),$.setUTCMonth(0,1),$.setUTCHours(0,0,0,0)},($,et)=>{$.setUTCFullYear($.getUTCFullYear()+et*_e)});utcYear.range;function ticker(_e,$,et,tt,rt,nt){const it=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[nt,1,durationMinute],[nt,5,5*durationMinute],[nt,15,15*durationMinute],[nt,30,30*durationMinute],[rt,1,durationHour],[rt,3,3*durationHour],[rt,6,6*durationHour],[rt,12,12*durationHour],[tt,1,durationDay],[tt,2,2*durationDay],[et,1,durationWeek],[$,1,durationMonth],[$,3,3*durationMonth],[_e,1,durationYear]];function at(ot,lt,ct){const ut=lt<ot;ut&&([ot,lt]=[lt,ot]);const dt=ct&&typeof ct.range=="function"?ct:st(ot,lt,ct),ht=dt?dt.range(ot,+lt+1):[];return ut?ht.reverse():ht}function st(ot,lt,ct){const ut=Math.abs(lt-ot)/ct,dt=bisector(([,,pt])=>pt).right(it,ut);if(dt===it.length)return _e.every(tickStep(ot/durationYear,lt/durationYear,ct));if(dt===0)return millisecond.every(Math.max(tickStep(ot,lt,ct),1));const[ht,mt]=it[ut/it[dt-1][2]<it[dt][2]/ut?dt-1:dt];return ht.every(mt)}return[at,st]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var $=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return $.setFullYear(_e.y),$}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var $=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return $.setUTCFullYear(_e.y),$}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,$,et){return{y:_e,m:$,d:et,H:0,M:0,S:0,L:0}}function formatLocale(_e){var $=_e.dateTime,et=_e.date,tt=_e.time,rt=_e.periods,nt=_e.days,it=_e.shortDays,at=_e.months,st=_e.shortMonths,ot=formatRe(rt),lt=formatLookup(rt),ct=formatRe(nt),ut=formatLookup(nt),dt=formatRe(it),ht=formatLookup(it),mt=formatRe(at),pt=formatLookup(at),ft=formatRe(st),gt=formatLookup(st),bt={a:Ft,A:Rt,b:jt,B:Ct,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Dt,q:Mt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},_t={a:At,A:Pt,b:Nt,B:Bt,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Vt,q:qt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},yt={a:Ot,A:Et,b:Tt,B:It,c:Wt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:St,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Lt,X:zt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};bt.x=vt(et,bt),bt.X=vt(tt,bt),bt.c=vt($,bt),_t.x=vt(et,_t),_t.X=vt(tt,_t),_t.c=vt($,_t);function vt(Gt,Jt){return function(ar){var Qt=[],fr=-1,hr=0,gr=Gt.length,rr,ir,Ut;for(ar instanceof Date||(ar=new Date(+ar));++fr<gr;)Gt.charCodeAt(fr)===37&&(Qt.push(Gt.slice(hr,fr)),(ir=pads[rr=Gt.charAt(++fr)])!=null?rr=Gt.charAt(++fr):ir=rr==="e"?" ":"0",(Ut=Jt[rr])&&(rr=Ut(ar,ir)),Qt.push(rr),hr=fr+1);return Qt.push(Gt.slice(hr,fr)),Qt.join("")}}function xt(Gt,Jt){return function(ar){var Qt=newDate(1900,void 0,1),fr=wt(Qt,Gt,ar+="",0),hr,gr;if(fr!=ar.length)return null;if("Q"in Qt)return new Date(Qt.Q);if("s"in Qt)return new Date(Qt.s*1e3+("L"in Qt?Qt.L:0));if(Jt&&!("Z"in Qt)&&(Qt.Z=0),"p"in Qt&&(Qt.H=Qt.H%12+Qt.p*12),Qt.m===void 0&&(Qt.m="q"in Qt?Qt.q:0),"V"in Qt){if(Qt.V<1||Qt.V>53)return null;"w"in Qt||(Qt.w=1),"Z"in Qt?(hr=utcDate(newDate(Qt.y,0,1)),gr=hr.getUTCDay(),hr=gr>4||gr===0?utcMonday.ceil(hr):utcMonday(hr),hr=utcDay.offset(hr,(Qt.V-1)*7),Qt.y=hr.getUTCFullYear(),Qt.m=hr.getUTCMonth(),Qt.d=hr.getUTCDate()+(Qt.w+6)%7):(hr=localDate(newDate(Qt.y,0,1)),gr=hr.getDay(),hr=gr>4||gr===0?timeMonday.ceil(hr):timeMonday(hr),hr=timeDay.offset(hr,(Qt.V-1)*7),Qt.y=hr.getFullYear(),Qt.m=hr.getMonth(),Qt.d=hr.getDate()+(Qt.w+6)%7)}else("W"in Qt||"U"in Qt)&&("w"in Qt||(Qt.w="u"in Qt?Qt.u%7:"W"in Qt?1:0),gr="Z"in Qt?utcDate(newDate(Qt.y,0,1)).getUTCDay():localDate(newDate(Qt.y,0,1)).getDay(),Qt.m=0,Qt.d="W"in Qt?(Qt.w+6)%7+Qt.W*7-(gr+5)%7:Qt.w+Qt.U*7-(gr+6)%7);return"Z"in Qt?(Qt.H+=Qt.Z/100|0,Qt.M+=Qt.Z%100,utcDate(Qt)):localDate(Qt)}}function wt(Gt,Jt,ar,Qt){for(var fr=0,hr=Jt.length,gr=ar.length,rr,ir;fr<hr;){if(Qt>=gr)return-1;if(rr=Jt.charCodeAt(fr++),rr===37){if(rr=Jt.charAt(fr++),ir=yt[rr in pads?Jt.charAt(fr++):rr],!ir||(Qt=ir(Gt,ar,Qt))<0)return-1}else if(rr!=ar.charCodeAt(Qt++))return-1}return Qt}function St(Gt,Jt,ar){var Qt=ot.exec(Jt.slice(ar));return Qt?(Gt.p=lt.get(Qt[0].toLowerCase()),ar+Qt[0].length):-1}function Ot(Gt,Jt,ar){var Qt=dt.exec(Jt.slice(ar));return Qt?(Gt.w=ht.get(Qt[0].toLowerCase()),ar+Qt[0].length):-1}function Et(Gt,Jt,ar){var Qt=ct.exec(Jt.slice(ar));return Qt?(Gt.w=ut.get(Qt[0].toLowerCase()),ar+Qt[0].length):-1}function Tt(Gt,Jt,ar){var Qt=ft.exec(Jt.slice(ar));return Qt?(Gt.m=gt.get(Qt[0].toLowerCase()),ar+Qt[0].length):-1}function It(Gt,Jt,ar){var Qt=mt.exec(Jt.slice(ar));return Qt?(Gt.m=pt.get(Qt[0].toLowerCase()),ar+Qt[0].length):-1}function Wt(Gt,Jt,ar){return wt(Gt,$,Jt,ar)}function Lt(Gt,Jt,ar){return wt(Gt,et,Jt,ar)}function zt(Gt,Jt,ar){return wt(Gt,tt,Jt,ar)}function Ft(Gt){return it[Gt.getDay()]}function Rt(Gt){return nt[Gt.getDay()]}function jt(Gt){return st[Gt.getMonth()]}function Ct(Gt){return at[Gt.getMonth()]}function Dt(Gt){return rt[+(Gt.getHours()>=12)]}function Mt(Gt){return 1+~~(Gt.getMonth()/3)}function At(Gt){return it[Gt.getUTCDay()]}function Pt(Gt){return nt[Gt.getUTCDay()]}function Nt(Gt){return st[Gt.getUTCMonth()]}function Bt(Gt){return at[Gt.getUTCMonth()]}function Vt(Gt){return rt[+(Gt.getUTCHours()>=12)]}function qt(Gt){return 1+~~(Gt.getUTCMonth()/3)}return{format:function(Gt){var Jt=vt(Gt+="",bt);return Jt.toString=function(){return Gt},Jt},parse:function(Gt){var Jt=xt(Gt+="",!1);return Jt.toString=function(){return Gt},Jt},utcFormat:function(Gt){var Jt=vt(Gt+="",_t);return Jt.toString=function(){return Gt},Jt},utcParse:function(Gt){var Jt=xt(Gt+="",!0);return Jt.toString=function(){return Gt},Jt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,$,et){var tt=_e<0?"-":"",rt=(tt?-_e:_e)+"",nt=rt.length;return tt+(nt<et?new Array(et-nt+1).join($)+rt:rt)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map(($,et)=>[$.toLowerCase(),et]))}function parseWeekdayNumberSunday(_e,$,et){var tt=numberRe.exec($.slice(et,et+1));return tt?(_e.w=+tt[0],et+tt[0].length):-1}function parseWeekdayNumberMonday(_e,$,et){var tt=numberRe.exec($.slice(et,et+1));return tt?(_e.u=+tt[0],et+tt[0].length):-1}function parseWeekNumberSunday(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.U=+tt[0],et+tt[0].length):-1}function parseWeekNumberISO(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.V=+tt[0],et+tt[0].length):-1}function parseWeekNumberMonday(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.W=+tt[0],et+tt[0].length):-1}function parseFullYear(_e,$,et){var tt=numberRe.exec($.slice(et,et+4));return tt?(_e.y=+tt[0],et+tt[0].length):-1}function parseYear(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.y=+tt[0]+(+tt[0]>68?1900:2e3),et+tt[0].length):-1}function parseZone(_e,$,et){var tt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($.slice(et,et+6));return tt?(_e.Z=tt[1]?0:-(tt[2]+(tt[3]||"00")),et+tt[0].length):-1}function parseQuarter(_e,$,et){var tt=numberRe.exec($.slice(et,et+1));return tt?(_e.q=tt[0]*3-3,et+tt[0].length):-1}function parseMonthNumber(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.m=tt[0]-1,et+tt[0].length):-1}function parseDayOfMonth(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.d=+tt[0],et+tt[0].length):-1}function parseDayOfYear(_e,$,et){var tt=numberRe.exec($.slice(et,et+3));return tt?(_e.m=0,_e.d=+tt[0],et+tt[0].length):-1}function parseHour24(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.H=+tt[0],et+tt[0].length):-1}function parseMinutes(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.M=+tt[0],et+tt[0].length):-1}function parseSeconds(_e,$,et){var tt=numberRe.exec($.slice(et,et+2));return tt?(_e.S=+tt[0],et+tt[0].length):-1}function parseMilliseconds(_e,$,et){var tt=numberRe.exec($.slice(et,et+3));return tt?(_e.L=+tt[0],et+tt[0].length):-1}function parseMicroseconds(_e,$,et){var tt=numberRe.exec($.slice(et,et+6));return tt?(_e.L=Math.floor(tt[0]/1e3),et+tt[0].length):-1}function parseLiteralPercent(_e,$,et){var tt=percentRe.exec($.slice(et,et+1));return tt?et+tt[0].length:-1}function parseUnixTimestamp(_e,$,et){var tt=numberRe.exec($.slice(et));return tt?(_e.Q=+tt[0],et+tt[0].length):-1}function parseUnixTimestampSeconds(_e,$,et){var tt=numberRe.exec($.slice(et));return tt?(_e.s=+tt[0],et+tt[0].length):-1}function formatDayOfMonth(_e,$){return pad(_e.getDate(),$,2)}function formatHour24(_e,$){return pad(_e.getHours(),$,2)}function formatHour12(_e,$){return pad(_e.getHours()%12||12,$,2)}function formatDayOfYear(_e,$){return pad(1+timeDay.count(timeYear(_e),_e),$,3)}function formatMilliseconds(_e,$){return pad(_e.getMilliseconds(),$,3)}function formatMicroseconds(_e,$){return formatMilliseconds(_e,$)+"000"}function formatMonthNumber(_e,$){return pad(_e.getMonth()+1,$,2)}function formatMinutes(_e,$){return pad(_e.getMinutes(),$,2)}function formatSeconds(_e,$){return pad(_e.getSeconds(),$,2)}function formatWeekdayNumberMonday(_e){var $=_e.getDay();return $===0?7:$}function formatWeekNumberSunday(_e,$){return pad(timeSunday.count(timeYear(_e)-1,_e),$,2)}function dISO(_e){var $=_e.getDay();return $>=4||$===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,$){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),$,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,$){return pad(timeMonday.count(timeYear(_e)-1,_e),$,2)}function formatYear(_e,$){return pad(_e.getFullYear()%100,$,2)}function formatYearISO(_e,$){return _e=dISO(_e),pad(_e.getFullYear()%100,$,2)}function formatFullYear(_e,$){return pad(_e.getFullYear()%1e4,$,4)}function formatFullYearISO(_e,$){var et=_e.getDay();return _e=et>=4||et===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,$,4)}function formatZone(_e){var $=_e.getTimezoneOffset();return($>0?"-":($*=-1,"+"))+pad($/60|0,"0",2)+pad($%60,"0",2)}function formatUTCDayOfMonth(_e,$){return pad(_e.getUTCDate(),$,2)}function formatUTCHour24(_e,$){return pad(_e.getUTCHours(),$,2)}function formatUTCHour12(_e,$){return pad(_e.getUTCHours()%12||12,$,2)}function formatUTCDayOfYear(_e,$){return pad(1+utcDay.count(utcYear(_e),_e),$,3)}function formatUTCMilliseconds(_e,$){return pad(_e.getUTCMilliseconds(),$,3)}function formatUTCMicroseconds(_e,$){return formatUTCMilliseconds(_e,$)+"000"}function formatUTCMonthNumber(_e,$){return pad(_e.getUTCMonth()+1,$,2)}function formatUTCMinutes(_e,$){return pad(_e.getUTCMinutes(),$,2)}function formatUTCSeconds(_e,$){return pad(_e.getUTCSeconds(),$,2)}function formatUTCWeekdayNumberMonday(_e){var $=_e.getUTCDay();return $===0?7:$}function formatUTCWeekNumberSunday(_e,$){return pad(utcSunday.count(utcYear(_e)-1,_e),$,2)}function UTCdISO(_e){var $=_e.getUTCDay();return $>=4||$===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,$){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),$,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,$){return pad(utcMonday.count(utcYear(_e)-1,_e),$,2)}function formatUTCYear(_e,$){return pad(_e.getUTCFullYear()%100,$,2)}function formatUTCYearISO(_e,$){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,$,2)}function formatUTCFullYear(_e,$){return pad(_e.getUTCFullYear()%1e4,$,4)}function formatUTCFullYearISO(_e,$){var et=_e.getUTCDay();return _e=et>=4||et===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,$,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,$,et,tt,rt,nt,it,at,st,ot){var lt=continuous(),ct=lt.invert,ut=lt.domain,dt=ot(".%L"),ht=ot(":%S"),mt=ot("%I:%M"),pt=ot("%I %p"),ft=ot("%a %d"),gt=ot("%b %d"),bt=ot("%B"),_t=ot("%Y");function yt(vt){return(st(vt)<vt?dt:at(vt)<vt?ht:it(vt)<vt?mt:nt(vt)<vt?pt:tt(vt)<vt?rt(vt)<vt?ft:gt:et(vt)<vt?bt:_t)(vt)}return lt.invert=function(vt){return new Date(ct(vt))},lt.domain=function(vt){return arguments.length?ut(Array.from(vt,number)):ut().map(date)},lt.ticks=function(vt){var xt=ut();return _e(xt[0],xt[xt.length-1],vt??10)},lt.tickFormat=function(vt,xt){return xt==null?yt:ot(xt)},lt.nice=function(vt){var xt=ut();return(!vt||typeof vt.range!="function")&&(vt=$(xt[0],xt[xt.length-1],vt??10)),vt?ut(nice(xt,vt)):lt},lt.copy=function(){return copy$1(lt,calendar(_e,$,et,tt,rt,nt,it,at,st,ot))},lt}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var _e=0,$=1,et,tt,rt,nt,it=identity$6,at=!1,st;function ot(ct){return ct==null||isNaN(ct=+ct)?st:it(rt===0?.5:(ct=(nt(ct)-et)*rt,at?Math.max(0,Math.min(1,ct)):ct))}ot.domain=function(ct){return arguments.length?([_e,$]=ct,et=nt(_e=+_e),tt=nt($=+$),rt=et===tt?0:1/(tt-et),ot):[_e,$]},ot.clamp=function(ct){return arguments.length?(at=!!ct,ot):at},ot.interpolator=function(ct){return arguments.length?(it=ct,ot):it};function lt(ct){return function(ut){var dt,ht;return arguments.length?([dt,ht]=ut,it=ct(dt,ht),ot):[it(0),it(1)]}}return ot.range=lt(interpolate$2),ot.rangeRound=lt(interpolateRound),ot.unknown=function(ct){return arguments.length?(st=ct,ot):st},function(ct){return nt=ct,et=ct(_e),tt=ct($),rt=et===tt?0:1/(tt-et),ot}}function copy(_e,$){return $.domain(_e.domain()).interpolator(_e.interpolator()).clamp(_e.clamp()).unknown(_e.unknown())}function sequential(){var _e=linearish(transformer$1()(identity$6));return _e.copy=function(){return copy(_e,sequential())},initInterpolator.apply(_e,arguments)}function sequentialLog(){var _e=loggish(transformer$1()).domain([1,10]);return _e.copy=function(){return copy(_e,sequentialLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function sequentialSymlog(){var _e=symlogish(transformer$1());return _e.copy=function(){return copy(_e,sequentialSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function sequentialPow(){var _e=powish(transformer$1());return _e.copy=function(){return copy(_e,sequentialPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var _e=[],$=identity$6;function et(tt){if(tt!=null&&!isNaN(tt=+tt))return $((bisectRight(_e,tt,1)-1)/(_e.length-1))}return et.domain=function(tt){if(!arguments.length)return _e.slice();_e=[];for(let rt of tt)rt!=null&&!isNaN(rt=+rt)&&_e.push(rt);return _e.sort(ascending),et},et.interpolator=function(tt){return arguments.length?($=tt,et):$},et.range=function(){return _e.map((tt,rt)=>$(rt/(_e.length-1)))},et.quantiles=function(tt){return Array.from({length:tt+1},(rt,nt)=>quantile$1(_e,nt/tt))},et.copy=function(){return sequentialQuantile($).domain(_e)},initInterpolator.apply(et,arguments)}function transformer(){var _e=0,$=.5,et=1,tt=1,rt,nt,it,at,st,ot=identity$6,lt,ct=!1,ut;function dt(mt){return isNaN(mt=+mt)?ut:(mt=.5+((mt=+lt(mt))-nt)*(tt*mt<tt*nt?at:st),ot(ct?Math.max(0,Math.min(1,mt)):mt))}dt.domain=function(mt){return arguments.length?([_e,$,et]=mt,rt=lt(_e=+_e),nt=lt($=+$),it=lt(et=+et),at=rt===nt?0:.5/(nt-rt),st=nt===it?0:.5/(it-nt),tt=nt<rt?-1:1,dt):[_e,$,et]},dt.clamp=function(mt){return arguments.length?(ct=!!mt,dt):ct},dt.interpolator=function(mt){return arguments.length?(ot=mt,dt):ot};function ht(mt){return function(pt){var ft,gt,bt;return arguments.length?([ft,gt,bt]=pt,ot=piecewise(mt,[ft,gt,bt]),dt):[ot(0),ot(.5),ot(1)]}}return dt.range=ht(interpolate$2),dt.rangeRound=ht(interpolateRound),dt.unknown=function(mt){return arguments.length?(ut=mt,dt):ut},function(mt){return lt=mt,rt=mt(_e),nt=mt($),it=mt(et),at=rt===nt?0:.5/(nt-rt),st=nt===it?0:.5/(it-nt),tt=nt<rt?-1:1,dt}}function diverging(){var _e=linearish(transformer()(identity$6));return _e.copy=function(){return copy(_e,diverging())},initInterpolator.apply(_e,arguments)}function divergingLog(){var _e=loggish(transformer()).domain([.1,1,10]);return _e.copy=function(){return copy(_e,divergingLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function divergingSymlog(){var _e=symlogish(transformer());return _e.copy=function(){return copy(_e,divergingSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function divergingPow(){var _e=powish(transformer());return _e.copy=function(){return copy(_e,divergingPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(_e,$,et){for(var tt=-1,rt=_e.length;++tt<rt;){var nt=_e[tt],it=$(nt);if(it!=null&&(at===void 0?it===it&&!isSymbol(it):et(it,at)))var at=it,st=nt}return st}var _baseExtremum=baseExtremum$4;function baseGt$2(_e,$){return _e>$}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(_e){return _e&&_e.length?baseExtremum$3(_e,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(_e,$){return _e<$}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(_e){return _e&&_e.length?baseExtremum$2(_e,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$4=isArray_1;function map$4(_e,$){var et=isArray$4(_e)?arrayMap:baseMap;return et(_e,baseIteratee$7($))}var map_1=map$4,baseFlatten=_baseFlatten,map$3=map_1;function flatMap(_e,$){return baseFlatten(map$3(_e,$),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(_e,$){return baseIsEqual(_e,$)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults$1={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var _e=new this.constructor(this);return _e.s&&(_e.s=1),_e};P.comparedTo=P.cmp=function(_e){var $,et,tt,rt,nt=this;if(_e=new nt.constructor(_e),nt.s!==_e.s)return nt.s||-_e.s;if(nt.e!==_e.e)return nt.e>_e.e^nt.s<0?1:-1;for(tt=nt.d.length,rt=_e.d.length,$=0,et=tt<rt?tt:rt;$<et;++$)if(nt.d[$]!==_e.d[$])return nt.d[$]>_e.d[$]^nt.s<0?1:-1;return tt===rt?0:tt>rt^nt.s<0?1:-1};P.decimalPlaces=P.dp=function(){var _e=this,$=_e.d.length-1,et=($-_e.e)*LOG_BASE;if($=_e.d[$],$)for(;$%10==0;$/=10)et--;return et<0?0:et};P.dividedBy=P.div=function(_e){return divide(this,new this.constructor(_e))};P.dividedToIntegerBy=P.idiv=function(_e){var $=this,et=$.constructor;return round$1(divide($,new et(_e),0,1),et.precision)};P.equals=P.eq=function(_e){return!this.cmp(_e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(_e){return this.cmp(_e)>0};P.greaterThanOrEqualTo=P.gte=function(_e){return this.cmp(_e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(_e){return this.cmp(_e)<0};P.lessThanOrEqualTo=P.lte=function(_e){return this.cmp(_e)<1};P.logarithm=P.log=function(_e){var $,et=this,tt=et.constructor,rt=tt.precision,nt=rt+5;if(_e===void 0)_e=new tt(10);else if(_e=new tt(_e),_e.s<1||_e.eq(ONE))throw Error(decimalError+"NaN");if(et.s<1)throw Error(decimalError+(et.s?"NaN":"-Infinity"));return et.eq(ONE)?new tt(0):(external=!1,$=divide(ln(et,nt),ln(_e,nt),nt),external=!0,round$1($,rt))};P.minus=P.sub=function(_e){var $=this;return _e=new $.constructor(_e),$.s==_e.s?subtract($,_e):add($,(_e.s=-_e.s,_e))};P.modulo=P.mod=function(_e){var $,et=this,tt=et.constructor,rt=tt.precision;if(_e=new tt(_e),!_e.s)throw Error(decimalError+"NaN");return et.s?(external=!1,$=divide(et,_e,0,1).times(_e),external=!0,et.minus($)):round$1(new tt(et),rt)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var _e=new this.constructor(this);return _e.s=-_e.s||0,_e};P.plus=P.add=function(_e){var $=this;return _e=new $.constructor(_e),$.s==_e.s?add($,_e):subtract($,(_e.s=-_e.s,_e))};P.precision=P.sd=function(_e){var $,et,tt,rt=this;if(_e!==void 0&&_e!==!!_e&&_e!==1&&_e!==0)throw Error(invalidArgument+_e);if($=getBase10Exponent(rt)+1,tt=rt.d.length-1,et=tt*LOG_BASE+1,tt=rt.d[tt],tt){for(;tt%10==0;tt/=10)et--;for(tt=rt.d[0];tt>=10;tt/=10)et++}return _e&&$>et?$:et};P.squareRoot=P.sqrt=function(){var _e,$,et,tt,rt,nt,it,at=this,st=at.constructor;if(at.s<1){if(!at.s)return new st(0);throw Error(decimalError+"NaN")}for(_e=getBase10Exponent(at),external=!1,rt=Math.sqrt(+at),rt==0||rt==1/0?($=digitsToString(at.d),($.length+_e)%2==0&&($+="0"),rt=Math.sqrt($),_e=mathfloor((_e+1)/2)-(_e<0||_e%2),rt==1/0?$="5e"+_e:($=rt.toExponential(),$=$.slice(0,$.indexOf("e")+1)+_e),tt=new st($)):tt=new st(rt.toString()),et=st.precision,rt=it=et+3;;)if(nt=tt,tt=nt.plus(divide(at,nt,it+2)).times(.5),digitsToString(nt.d).slice(0,it)===($=digitsToString(tt.d)).slice(0,it)){if($=$.slice(it-3,it+1),rt==it&&$=="4999"){if(round$1(nt,et+1,0),nt.times(nt).eq(at)){tt=nt;break}}else if($!="9999")break;it+=4}return external=!0,round$1(tt,et)};P.times=P.mul=function(_e){var $,et,tt,rt,nt,it,at,st,ot,lt=this,ct=lt.constructor,ut=lt.d,dt=(_e=new ct(_e)).d;if(!lt.s||!_e.s)return new ct(0);for(_e.s*=lt.s,et=lt.e+_e.e,st=ut.length,ot=dt.length,st<ot&&(nt=ut,ut=dt,dt=nt,it=st,st=ot,ot=it),nt=[],it=st+ot,tt=it;tt--;)nt.push(0);for(tt=ot;--tt>=0;){for($=0,rt=st+tt;rt>tt;)at=nt[rt]+dt[tt]*ut[rt-tt-1]+$,nt[rt--]=at%BASE|0,$=at/BASE|0;nt[rt]=(nt[rt]+$)%BASE|0}for(;!nt[--it];)nt.pop();return $?++et:nt.shift(),_e.d=nt,_e.e=et,external?round$1(_e,ct.precision):_e};P.toDecimalPlaces=P.todp=function(_e,$){var et=this,tt=et.constructor;return et=new tt(et),_e===void 0?et:(checkInt32(_e,0,MAX_DIGITS),$===void 0?$=tt.rounding:checkInt32($,0,8),round$1(et,_e+getBase10Exponent(et)+1,$))};P.toExponential=function(_e,$){var et,tt=this,rt=tt.constructor;return _e===void 0?et=toString(tt,!0):(checkInt32(_e,0,MAX_DIGITS),$===void 0?$=rt.rounding:checkInt32($,0,8),tt=round$1(new rt(tt),_e+1,$),et=toString(tt,!0,_e+1)),et};P.toFixed=function(_e,$){var et,tt,rt=this,nt=rt.constructor;return _e===void 0?toString(rt):(checkInt32(_e,0,MAX_DIGITS),$===void 0?$=nt.rounding:checkInt32($,0,8),tt=round$1(new nt(rt),_e+getBase10Exponent(rt)+1,$),et=toString(tt.abs(),!1,_e+getBase10Exponent(tt)+1),rt.isneg()&&!rt.isZero()?"-"+et:et)};P.toInteger=P.toint=function(){var _e=this,$=_e.constructor;return round$1(new $(_e),getBase10Exponent(_e)+1,$.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(_e){var $,et,tt,rt,nt,it,at=this,st=at.constructor,ot=12,lt=+(_e=new st(_e));if(!_e.s)return new st(ONE);if(at=new st(at),!at.s){if(_e.s<1)throw Error(decimalError+"Infinity");return at}if(at.eq(ONE))return at;if(tt=st.precision,_e.eq(ONE))return round$1(at,tt);if($=_e.e,et=_e.d.length-1,it=$>=et,nt=at.s,it){if((et=lt<0?-lt:lt)<=MAX_SAFE_INTEGER){for(rt=new st(ONE),$=Math.ceil(tt/LOG_BASE+4),external=!1;et%2&&(rt=rt.times(at),truncate(rt.d,$)),et=mathfloor(et/2),et!==0;)at=at.times(at),truncate(at.d,$);return external=!0,_e.s<0?new st(ONE).div(rt):round$1(rt,tt)}}else if(nt<0)throw Error(decimalError+"NaN");return nt=nt<0&&_e.d[Math.max($,et)]&1?-1:1,at.s=1,external=!1,rt=_e.times(ln(at,tt+ot)),external=!0,rt=exp(rt),rt.s=nt,rt};P.toPrecision=function(_e,$){var et,tt,rt=this,nt=rt.constructor;return _e===void 0?(et=getBase10Exponent(rt),tt=toString(rt,et<=nt.toExpNeg||et>=nt.toExpPos)):(checkInt32(_e,1,MAX_DIGITS),$===void 0?$=nt.rounding:checkInt32($,0,8),rt=round$1(new nt(rt),_e,$),et=getBase10Exponent(rt),tt=toString(rt,_e<=et||et<=nt.toExpNeg,_e)),tt};P.toSignificantDigits=P.tosd=function(_e,$){var et=this,tt=et.constructor;return _e===void 0?(_e=tt.precision,$=tt.rounding):(checkInt32(_e,1,MAX_DIGITS),$===void 0?$=tt.rounding:checkInt32($,0,8)),round$1(new tt(et),_e,$)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var _e=this,$=getBase10Exponent(_e),et=_e.constructor;return toString(_e,$<=et.toExpNeg||$>=et.toExpPos)};function add(_e,$){var et,tt,rt,nt,it,at,st,ot,lt=_e.constructor,ct=lt.precision;if(!_e.s||!$.s)return $.s||($=new lt(_e)),external?round$1($,ct):$;if(st=_e.d,ot=$.d,it=_e.e,rt=$.e,st=st.slice(),nt=it-rt,nt){for(nt<0?(tt=st,nt=-nt,at=ot.length):(tt=ot,rt=it,at=st.length),it=Math.ceil(ct/LOG_BASE),at=it>at?it+1:at+1,nt>at&&(nt=at,tt.length=1),tt.reverse();nt--;)tt.push(0);tt.reverse()}for(at=st.length,nt=ot.length,at-nt<0&&(nt=at,tt=ot,ot=st,st=tt),et=0;nt;)et=(st[--nt]=st[nt]+ot[nt]+et)/BASE|0,st[nt]%=BASE;for(et&&(st.unshift(et),++rt),at=st.length;st[--at]==0;)st.pop();return $.d=st,$.e=rt,external?round$1($,ct):$}function checkInt32(_e,$,et){if(_e!==~~_e||_e<$||_e>et)throw Error(invalidArgument+_e)}function digitsToString(_e){var $,et,tt,rt=_e.length-1,nt="",it=_e[0];if(rt>0){for(nt+=it,$=1;$<rt;$++)tt=_e[$]+"",et=LOG_BASE-tt.length,et&&(nt+=getZeroString(et)),nt+=tt;it=_e[$],tt=it+"",et=LOG_BASE-tt.length,et&&(nt+=getZeroString(et))}else if(it===0)return"0";for(;it%10===0;)it/=10;return nt+it}var divide=function(){function _e(tt,rt){var nt,it=0,at=tt.length;for(tt=tt.slice();at--;)nt=tt[at]*rt+it,tt[at]=nt%BASE|0,it=nt/BASE|0;return it&&tt.unshift(it),tt}function $(tt,rt,nt,it){var at,st;if(nt!=it)st=nt>it?1:-1;else for(at=st=0;at<nt;at++)if(tt[at]!=rt[at]){st=tt[at]>rt[at]?1:-1;break}return st}function et(tt,rt,nt){for(var it=0;nt--;)tt[nt]-=it,it=tt[nt]<rt[nt]?1:0,tt[nt]=it*BASE+tt[nt]-rt[nt];for(;!tt[0]&&tt.length>1;)tt.shift()}return function(tt,rt,nt,it){var at,st,ot,lt,ct,ut,dt,ht,mt,pt,ft,gt,bt,_t,yt,vt,xt,wt,St=tt.constructor,Ot=tt.s==rt.s?1:-1,Et=tt.d,Tt=rt.d;if(!tt.s)return new St(tt);if(!rt.s)throw Error(decimalError+"Division by zero");for(st=tt.e-rt.e,xt=Tt.length,yt=Et.length,dt=new St(Ot),ht=dt.d=[],ot=0;Tt[ot]==(Et[ot]||0);)++ot;if(Tt[ot]>(Et[ot]||0)&&--st,nt==null?gt=nt=St.precision:it?gt=nt+(getBase10Exponent(tt)-getBase10Exponent(rt))+1:gt=nt,gt<0)return new St(0);if(gt=gt/LOG_BASE+2|0,ot=0,xt==1)for(lt=0,Tt=Tt[0],gt++;(ot<yt||lt)&&gt--;ot++)bt=lt*BASE+(Et[ot]||0),ht[ot]=bt/Tt|0,lt=bt%Tt|0;else{for(lt=BASE/(Tt[0]+1)|0,lt>1&&(Tt=_e(Tt,lt),Et=_e(Et,lt),xt=Tt.length,yt=Et.length),_t=xt,mt=Et.slice(0,xt),pt=mt.length;pt<xt;)mt[pt++]=0;wt=Tt.slice(),wt.unshift(0),vt=Tt[0],Tt[1]>=BASE/2&&++vt;do lt=0,at=$(Tt,mt,xt,pt),at<0?(ft=mt[0],xt!=pt&&(ft=ft*BASE+(mt[1]||0)),lt=ft/vt|0,lt>1?(lt>=BASE&&(lt=BASE-1),ct=_e(Tt,lt),ut=ct.length,pt=mt.length,at=$(ct,mt,ut,pt),at==1&&(lt--,et(ct,xt<ut?wt:Tt,ut))):(lt==0&&(at=lt=1),ct=Tt.slice()),ut=ct.length,ut<pt&&ct.unshift(0),et(mt,ct,pt),at==-1&&(pt=mt.length,at=$(Tt,mt,xt,pt),at<1&&(lt++,et(mt,xt<pt?wt:Tt,pt))),pt=mt.length):at===0&&(lt++,mt=[0]),ht[ot++]=lt,at&&mt[0]?mt[pt++]=Et[_t]||0:(mt=[Et[_t]],pt=1);while((_t++<yt||mt[0]!==void 0)&&gt--)}return ht[0]||ht.shift(),dt.e=st,round$1(dt,it?nt+getBase10Exponent(dt)+1:nt)}}();function exp(_e,$){var et,tt,rt,nt,it,at,st=0,ot=0,lt=_e.constructor,ct=lt.precision;if(getBase10Exponent(_e)>16)throw Error(exponentOutOfRange+getBase10Exponent(_e));if(!_e.s)return new lt(ONE);for($==null?(external=!1,at=ct):at=$,it=new lt(.03125);_e.abs().gte(.1);)_e=_e.times(it),ot+=5;for(tt=Math.log(mathpow(2,ot))/Math.LN10*2+5|0,at+=tt,et=rt=nt=new lt(ONE),lt.precision=at;;){if(rt=round$1(rt.times(_e),at),et=et.times(++st),it=nt.plus(divide(rt,et,at)),digitsToString(it.d).slice(0,at)===digitsToString(nt.d).slice(0,at)){for(;ot--;)nt=round$1(nt.times(nt),at);return lt.precision=ct,$==null?(external=!0,round$1(nt,ct)):nt}nt=it}}function getBase10Exponent(_e){for(var $=_e.e*LOG_BASE,et=_e.d[0];et>=10;et/=10)$++;return $}function getLn10(_e,$,et){if($>_e.LN10.sd())throw external=!0,et&&(_e.precision=et),Error(decimalError+"LN10 precision limit exceeded");return round$1(new _e(_e.LN10),$)}function getZeroString(_e){for(var $="";_e--;)$+="0";return $}function ln(_e,$){var et,tt,rt,nt,it,at,st,ot,lt,ct=1,ut=10,dt=_e,ht=dt.d,mt=dt.constructor,pt=mt.precision;if(dt.s<1)throw Error(decimalError+(dt.s?"NaN":"-Infinity"));if(dt.eq(ONE))return new mt(0);if($==null?(external=!1,ot=pt):ot=$,dt.eq(10))return $==null&&(external=!0),getLn10(mt,ot);if(ot+=ut,mt.precision=ot,et=digitsToString(ht),tt=et.charAt(0),nt=getBase10Exponent(dt),Math.abs(nt)<15e14){for(;tt<7&&tt!=1||tt==1&&et.charAt(1)>3;)dt=dt.times(_e),et=digitsToString(dt.d),tt=et.charAt(0),ct++;nt=getBase10Exponent(dt),tt>1?(dt=new mt("0."+et),nt++):dt=new mt(tt+"."+et.slice(1))}else return st=getLn10(mt,ot+2,pt).times(nt+""),dt=ln(new mt(tt+"."+et.slice(1)),ot-ut).plus(st),mt.precision=pt,$==null?(external=!0,round$1(dt,pt)):dt;for(at=it=dt=divide(dt.minus(ONE),dt.plus(ONE),ot),lt=round$1(dt.times(dt),ot),rt=3;;){if(it=round$1(it.times(lt),ot),st=at.plus(divide(it,new mt(rt),ot)),digitsToString(st.d).slice(0,ot)===digitsToString(at.d).slice(0,ot))return at=at.times(2),nt!==0&&(at=at.plus(getLn10(mt,ot+2,pt).times(nt+""))),at=divide(at,new mt(ct),ot),mt.precision=pt,$==null?(external=!0,round$1(at,pt)):at;at=st,rt+=2}}function parseDecimal(_e,$){var et,tt,rt;for((et=$.indexOf("."))>-1&&($=$.replace(".","")),(tt=$.search(/e/i))>0?(et<0&&(et=tt),et+=+$.slice(tt+1),$=$.substring(0,tt)):et<0&&(et=$.length),tt=0;$.charCodeAt(tt)===48;)++tt;for(rt=$.length;$.charCodeAt(rt-1)===48;)--rt;if($=$.slice(tt,rt),$){if(rt-=tt,et=et-tt-1,_e.e=mathfloor(et/LOG_BASE),_e.d=[],tt=(et+1)%LOG_BASE,et<0&&(tt+=LOG_BASE),tt<rt){for(tt&&_e.d.push(+$.slice(0,tt)),rt-=LOG_BASE;tt<rt;)_e.d.push(+$.slice(tt,tt+=LOG_BASE));$=$.slice(tt),tt=LOG_BASE-$.length}else tt-=rt;for(;tt--;)$+="0";if(_e.d.push(+$),external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+et)}else _e.s=0,_e.e=0,_e.d=[0];return _e}function round$1(_e,$,et){var tt,rt,nt,it,at,st,ot,lt,ct=_e.d;for(it=1,nt=ct[0];nt>=10;nt/=10)it++;if(tt=$-it,tt<0)tt+=LOG_BASE,rt=$,ot=ct[lt=0];else{if(lt=Math.ceil((tt+1)/LOG_BASE),nt=ct.length,lt>=nt)return _e;for(ot=nt=ct[lt],it=1;nt>=10;nt/=10)it++;tt%=LOG_BASE,rt=tt-LOG_BASE+it}if(et!==void 0&&(nt=mathpow(10,it-rt-1),at=ot/nt%10|0,st=$<0||ct[lt+1]!==void 0||ot%nt,st=et<4?(at||st)&&(et==0||et==(_e.s<0?3:2)):at>5||at==5&&(et==4||st||et==6&&(tt>0?rt>0?ot/mathpow(10,it-rt):0:ct[lt-1])%10&1||et==(_e.s<0?8:7))),$<1||!ct[0])return st?(nt=getBase10Exponent(_e),ct.length=1,$=$-nt-1,ct[0]=mathpow(10,(LOG_BASE-$%LOG_BASE)%LOG_BASE),_e.e=mathfloor(-$/LOG_BASE)||0):(ct.length=1,ct[0]=_e.e=_e.s=0),_e;if(tt==0?(ct.length=lt,nt=1,lt--):(ct.length=lt+1,nt=mathpow(10,LOG_BASE-tt),ct[lt]=rt>0?(ot/mathpow(10,it-rt)%mathpow(10,rt)|0)*nt:0),st)for(;;)if(lt==0){(ct[0]+=nt)==BASE&&(ct[0]=1,++_e.e);break}else{if(ct[lt]+=nt,ct[lt]!=BASE)break;ct[lt--]=0,nt=1}for(tt=ct.length;ct[--tt]===0;)ct.pop();if(external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(_e));return _e}function subtract(_e,$){var et,tt,rt,nt,it,at,st,ot,lt,ct,ut=_e.constructor,dt=ut.precision;if(!_e.s||!$.s)return $.s?$.s=-$.s:$=new ut(_e),external?round$1($,dt):$;if(st=_e.d,ct=$.d,tt=$.e,ot=_e.e,st=st.slice(),it=ot-tt,it){for(lt=it<0,lt?(et=st,it=-it,at=ct.length):(et=ct,tt=ot,at=st.length),rt=Math.max(Math.ceil(dt/LOG_BASE),at)+2,it>rt&&(it=rt,et.length=1),et.reverse(),rt=it;rt--;)et.push(0);et.reverse()}else{for(rt=st.length,at=ct.length,lt=rt<at,lt&&(at=rt),rt=0;rt<at;rt++)if(st[rt]!=ct[rt]){lt=st[rt]<ct[rt];break}it=0}for(lt&&(et=st,st=ct,ct=et,$.s=-$.s),at=st.length,rt=ct.length-at;rt>0;--rt)st[at++]=0;for(rt=ct.length;rt>it;){if(st[--rt]<ct[rt]){for(nt=rt;nt&&st[--nt]===0;)st[nt]=BASE-1;--st[nt],st[rt]+=BASE}st[rt]-=ct[rt]}for(;st[--at]===0;)st.pop();for(;st[0]===0;st.shift())--tt;return st[0]?($.d=st,$.e=tt,external?round$1($,dt):$):new ut(0)}function toString(_e,$,et){var tt,rt=getBase10Exponent(_e),nt=digitsToString(_e.d),it=nt.length;return $?(et&&(tt=et-it)>0?nt=nt.charAt(0)+"."+nt.slice(1)+getZeroString(tt):it>1&&(nt=nt.charAt(0)+"."+nt.slice(1)),nt=nt+(rt<0?"e":"e+")+rt):rt<0?(nt="0."+getZeroString(-rt-1)+nt,et&&(tt=et-it)>0&&(nt+=getZeroString(tt))):rt>=it?(nt+=getZeroString(rt+1-it),et&&(tt=et-rt-1)>0&&(nt=nt+"."+getZeroString(tt))):((tt=rt+1)<it&&(nt=nt.slice(0,tt)+"."+nt.slice(tt)),et&&(tt=et-it)>0&&(rt+1===it&&(nt+="."),nt+=getZeroString(tt))),_e.s<0?"-"+nt:nt}function truncate(_e,$){if(_e.length>$)return _e.length=$,!0}function clone$2(_e){var $,et,tt;function rt(nt){var it=this;if(!(it instanceof rt))return new rt(nt);if(it.constructor=rt,nt instanceof rt){it.s=nt.s,it.e=nt.e,it.d=(nt=nt.d)?nt.slice():nt;return}if(typeof nt=="number"){if(nt*0!==0)throw Error(invalidArgument+nt);if(nt>0)it.s=1;else if(nt<0)nt=-nt,it.s=-1;else{it.s=0,it.e=0,it.d=[0];return}if(nt===~~nt&&nt<1e7){it.e=0,it.d=[nt];return}return parseDecimal(it,nt.toString())}else if(typeof nt!="string")throw Error(invalidArgument+nt);if(nt.charCodeAt(0)===45?(nt=nt.slice(1),it.s=-1):it.s=1,isDecimal.test(nt))parseDecimal(it,nt);else throw Error(invalidArgument+nt)}if(rt.prototype=P,rt.ROUND_UP=0,rt.ROUND_DOWN=1,rt.ROUND_CEIL=2,rt.ROUND_FLOOR=3,rt.ROUND_HALF_UP=4,rt.ROUND_HALF_DOWN=5,rt.ROUND_HALF_EVEN=6,rt.ROUND_HALF_CEIL=7,rt.ROUND_HALF_FLOOR=8,rt.clone=clone$2,rt.config=rt.set=config,_e===void 0&&(_e={}),_e)for(tt=["precision","rounding","toExpNeg","toExpPos","LN10"],$=0;$<tt.length;)_e.hasOwnProperty(et=tt[$++])||(_e[et]=this[et]);return rt.config(_e),rt}function config(_e){if(!_e||typeof _e!="object")throw Error(decimalError+"Object expected");var $,et,tt,rt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for($=0;$<rt.length;$+=3)if((tt=_e[et=rt[$]])!==void 0)if(mathfloor(tt)===tt&&tt>=rt[$+1]&&tt<=rt[$+2])this[et]=tt;else throw Error(invalidArgument+et+": "+tt);if((tt=_e[et="LN10"])!==void 0)if(tt==Math.LN10)this[et]=new this(tt);else throw Error(invalidArgument+et+": "+tt);return this}var Decimal=clone$2(defaults$1);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(_e){return _arrayWithoutHoles$b(_e)||_iterableToArray$c(_e)||_unsupportedIterableToArray$h(_e)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$h(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$h(_e,$)}}function _iterableToArray$c(_e){if(typeof Symbol<"u"&&Symbol.iterator in Object(_e))return Array.from(_e)}function _arrayWithoutHoles$b(_e){if(Array.isArray(_e))return _arrayLikeToArray$h(_e)}function _arrayLikeToArray$h(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}var identity$1=function _e($){return $},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function _e($){return $===PLACE_HOLDER},curry0=function _e($){return function et(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?et:$.apply(void 0,arguments)}},curryN=function _e($,et){return $===1?et:curry0(function(){for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var it=rt.filter(function(at){return at!==PLACE_HOLDER}).length;return it>=$?et.apply(void 0,rt):_e($-it,curry0(function(){for(var at=arguments.length,st=new Array(at),ot=0;ot<at;ot++)st[ot]=arguments[ot];var lt=rt.map(function(ct){return isPlaceHolder(ct)?st.shift():ct});return et.apply(void 0,_toConsumableArray$b(lt).concat(st))}))})},curry=function _e($){return curryN($.length,$)},range$2=function _e($,et){for(var tt=[],rt=$;rt<et;++rt)tt[rt-$]=rt;return tt},map$2=curry(function(_e,$){return Array.isArray($)?$.map(_e):Object.keys($).map(function(et){return $[et]}).map(_e)}),compose=function _e(){for(var $=arguments.length,et=new Array($),tt=0;tt<$;tt++)et[tt]=arguments[tt];if(!et.length)return identity$1;var rt=et.reverse(),nt=rt[0],it=rt.slice(1);return function(){return it.reduce(function(at,st){return st(at)},nt.apply(void 0,arguments))}},reverse=function _e($){return Array.isArray($)?$.reverse():$.split("").reverse.join("")},memoize=function _e($){var et=null,tt=null;return function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return et&&nt.every(function(at,st){return at===et[st]})||(et=nt,tt=$.apply(void 0,nt)),tt}};function getDigitCount(_e){var $;return _e===0?$=1:$=Math.floor(new Decimal$1(_e).abs().log(10).toNumber())+1,$}function rangeStep(_e,$,et){for(var tt=new Decimal$1(_e),rt=0,nt=[];tt.lt($)&&rt<1e5;)nt.push(tt.toNumber()),tt=tt.add(et),rt++;return nt}var interpolateNumber=curry(function(_e,$,et){var tt=+_e,rt=+$;return tt+et*(rt-tt)}),uninterpolateNumber=curry(function(_e,$,et){var tt=$-+_e;return tt=tt||1/0,(et-_e)/tt}),uninterpolateTruncation=curry(function(_e,$,et){var tt=$-+_e;return tt=tt||1/0,Math.max(0,Math.min(1,(et-_e)/tt))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(_e){return _arrayWithoutHoles$a(_e)||_iterableToArray$b(_e)||_unsupportedIterableToArray$g(_e)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(_e){if(typeof Symbol<"u"&&Symbol.iterator in Object(_e))return Array.from(_e)}function _arrayWithoutHoles$a(_e){if(Array.isArray(_e))return _arrayLikeToArray$g(_e)}function _slicedToArray$8(_e,$){return _arrayWithHoles$9(_e)||_iterableToArrayLimit$8(_e,$)||_unsupportedIterableToArray$g(_e,$)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$g(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$g(_e,$)}}function _arrayLikeToArray$g(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$8(_e,$){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(_e)))){var et=[],tt=!0,rt=!1,nt=void 0;try{for(var it=_e[Symbol.iterator](),at;!(tt=(at=it.next()).done)&&(et.push(at.value),!($&&et.length===$));tt=!0);}catch(st){rt=!0,nt=st}finally{try{!tt&&it.return!=null&&it.return()}finally{if(rt)throw nt}}return et}}function _arrayWithHoles$9(_e){if(Array.isArray(_e))return _e}function getValidInterval(_e){var $=_slicedToArray$8(_e,2),et=$[0],tt=$[1],rt=et,nt=tt;return et>tt&&(rt=tt,nt=et),[rt,nt]}function getFormatStep(_e,$,et){if(_e.lte(0))return new Decimal$1(0);var tt=Arithmetic.getDigitCount(_e.toNumber()),rt=new Decimal$1(10).pow(tt),nt=_e.div(rt),it=tt!==1?.05:.1,at=new Decimal$1(Math.ceil(nt.div(it).toNumber())).add(et).mul(it),st=at.mul(rt);return $?st:new Decimal$1(Math.ceil(st))}function getTickOfSingleValue(_e,$,et){var tt=1,rt=new Decimal$1(_e);if(!rt.isint()&&et){var nt=Math.abs(_e);nt<1?(tt=new Decimal$1(10).pow(Arithmetic.getDigitCount(_e)-1),rt=new Decimal$1(Math.floor(rt.div(tt).toNumber())).mul(tt)):nt>1&&(rt=new Decimal$1(Math.floor(_e)))}else _e===0?rt=new Decimal$1(Math.floor(($-1)/2)):et||(rt=new Decimal$1(Math.floor(_e)));var it=Math.floor(($-1)/2),at=compose(map$2(function(st){return rt.add(new Decimal$1(st-it).mul(tt)).toNumber()}),range$2);return at(0,$)}function calculateStep(_e,$,et,tt){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite(($-_e)/(et-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var nt=getFormatStep(new Decimal$1($).sub(_e).div(et-1),tt,rt),it;_e<=0&&$>=0?it=new Decimal$1(0):(it=new Decimal$1(_e).add($).div(2),it=it.sub(new Decimal$1(it).mod(nt)));var at=Math.ceil(it.sub(_e).div(nt).toNumber()),st=Math.ceil(new Decimal$1($).sub(it).div(nt).toNumber()),ot=at+st+1;return ot>et?calculateStep(_e,$,et,tt,rt+1):(ot<et&&(st=$>0?st+(et-ot):st,at=$>0?at:at+(et-ot)),{step:nt,tickMin:it.sub(new Decimal$1(at).mul(nt)),tickMax:it.add(new Decimal$1(st).mul(nt))})}function getNiceTickValuesFn(_e){var $=_slicedToArray$8(_e,2),et=$[0],tt=$[1],rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,it=Math.max(rt,2),at=getValidInterval([et,tt]),st=_slicedToArray$8(at,2),ot=st[0],lt=st[1];if(ot===-1/0||lt===1/0){var ct=lt===1/0?[ot].concat(_toConsumableArray$a(range$2(0,rt-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$2(0,rt-1).map(function(){return-1/0})),[lt]);return et>tt?reverse(ct):ct}if(ot===lt)return getTickOfSingleValue(ot,rt,nt);var ut=calculateStep(ot,lt,it,nt),dt=ut.step,ht=ut.tickMin,mt=ut.tickMax,pt=Arithmetic.rangeStep(ht,mt.add(new Decimal$1(.1).mul(dt)),dt);return et>tt?reverse(pt):pt}function getTickValuesFixedDomainFn(_e,$){var et=_slicedToArray$8(_e,2),tt=et[0],rt=et[1],nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,it=getValidInterval([tt,rt]),at=_slicedToArray$8(it,2),st=at[0],ot=at[1];if(st===-1/0||ot===1/0)return[tt,rt];if(st===ot)return[st];var lt=Math.max($,2),ct=getFormatStep(new Decimal$1(ot).sub(st).div(lt-1),nt,0),ut=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(st),new Decimal$1(ot).sub(new Decimal$1(.99).mul(ct)),ct)),[ot]);return tt>rt?reverse(ut):ut}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(_e,$){throw new Error(prefix)}var _excluded$d=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$z(_e){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$z(_e)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$o.apply(this,arguments)}function _slicedToArray$7(_e,$){return _arrayWithHoles$8(_e)||_iterableToArrayLimit$7(_e,$)||_unsupportedIterableToArray$f(_e,$)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$f(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$f(_e,$)}}function _arrayLikeToArray$f(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$7(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$8(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$d(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$d(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$d(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _classCallCheck$g(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$y(tt.key),tt)}}function _createClass$g(_e,$,et){return $&&_defineProperties$g(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$d(_e,$,et){return $=_getPrototypeOf$e($),_possibleConstructorReturn$e(_e,_isNativeReflectConstruct$e()?Reflect.construct($,et||[],_getPrototypeOf$e(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$e(_e,$){if($&&(_typeof$z($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(_e)}function _assertThisInitialized$e(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$e(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!_e})()}function _getPrototypeOf$e(_e){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$e(_e)}function _inherits$e(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$e(_e,$)}function _setPrototypeOf$e(_e,$){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$e(_e,$)}function _defineProperty$y(_e,$,et){return $=_toPropertyKey$y($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$y(_e){var $=_toPrimitive$y(_e,"string");return _typeof$z($)=="symbol"?$:$+""}function _toPrimitive$y(_e,$){if(_typeof$z(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$z(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var ErrorBar=function(_e){function $(){return _classCallCheck$g(this,$),_callSuper$d(this,$,arguments)}return _inherits$e($,_e),_createClass$g($,[{key:"render",value:function(){var tt=this.props,rt=tt.offset,nt=tt.layout,it=tt.width,at=tt.dataKey,st=tt.data,ot=tt.dataPointFormatter,lt=tt.xAxis,ct=tt.yAxis,ut=_objectWithoutProperties$d(tt,_excluded$d),dt=filterProps(ut,!1);this.props.direction==="x"&&lt.type!=="number"&&invariant();var ht=st.map(function(mt){var pt=ot(mt,at),ft=pt.x,gt=pt.y,bt=pt.value,_t=pt.errorVal;if(!_t)return null;var yt=[],vt,xt;if(Array.isArray(_t)){var wt=_slicedToArray$7(_t,2);vt=wt[0],xt=wt[1]}else vt=xt=_t;if(nt==="vertical"){var St=lt.scale,Ot=gt+rt,Et=Ot+it,Tt=Ot-it,It=St(bt-vt),Wt=St(bt+xt);yt.push({x1:Wt,y1:Et,x2:Wt,y2:Tt}),yt.push({x1:It,y1:Ot,x2:Wt,y2:Ot}),yt.push({x1:It,y1:Et,x2:It,y2:Tt})}else if(nt==="horizontal"){var Lt=ct.scale,zt=ft+rt,Ft=zt-it,Rt=zt+it,jt=Lt(bt-vt),Ct=Lt(bt+xt);yt.push({x1:Ft,y1:Ct,x2:Rt,y2:Ct}),yt.push({x1:zt,y1:jt,x2:zt,y2:Ct}),yt.push({x1:Ft,y1:jt,x2:Rt,y2:jt})}return React.createElement(Layer,_extends$o({className:"recharts-errorBar",key:"bar-".concat(yt.map(function(Dt){return"".concat(Dt.x1,"-").concat(Dt.x2,"-").concat(Dt.y1,"-").concat(Dt.y2)}))},dt),yt.map(function(Dt){return React.createElement("line",_extends$o({},Dt,{key:"line-".concat(Dt.x1,"-").concat(Dt.x2,"-").concat(Dt.y1,"-").concat(Dt.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},ht)}}])}(React.Component);_defineProperty$y(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$y(ErrorBar,"displayName","ErrorBar");function _typeof$y(_e){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$y(_e)}function ownKeys$u(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$u(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$u(Object(et),!0).forEach(function(tt){_defineProperty$x(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$u(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$x(_e,$,et){return $=_toPropertyKey$x($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$x(_e){var $=_toPrimitive$x(_e,"string");return _typeof$y($)=="symbol"?$:$+""}function _toPrimitive$x(_e,$){if(_typeof$y(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$y(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getLegendProps=function _e($){var et=$.children,tt=$.formattedGraphicalItems,rt=$.legendWidth,nt=$.legendContent,it=findChildByType(et,Legend$1);if(!it)return null;var at=Legend$1.defaultProps,st=at!==void 0?_objectSpread$u(_objectSpread$u({},at),it.props):{},ot;return it.props&&it.props.payload?ot=it.props&&it.props.payload:nt==="children"?ot=(tt||[]).reduce(function(lt,ct){var ut=ct.item,dt=ct.props,ht=dt.sectors||dt.data||[];return lt.concat(ht.map(function(mt){return{type:it.props.iconType||ut.props.legendType,value:mt.name,color:mt.fill,payload:mt}}))},[]):ot=(tt||[]).map(function(lt){var ct=lt.item,ut=ct.type.defaultProps,dt=ut!==void 0?_objectSpread$u(_objectSpread$u({},ut),ct.props):{},ht=dt.dataKey,mt=dt.name,pt=dt.legendType,ft=dt.hide;return{inactive:ft,dataKey:ht,type:st.iconType||pt||"square",color:getMainColorOfGraphicItem(ct),value:mt||ht,payload:dt}}),_objectSpread$u(_objectSpread$u(_objectSpread$u({},st),Legend$1.getWithHeight(it,rt)),{},{payload:ot,item:it})};function _typeof$x(_e){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$x(_e)}function _toConsumableArray$9(_e){return _arrayWithoutHoles$9(_e)||_iterableToArray$a(_e)||_unsupportedIterableToArray$e(_e)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$e(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$e(_e,$)}}function _iterableToArray$a(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$9(_e){if(Array.isArray(_e))return _arrayLikeToArray$e(_e)}function _arrayLikeToArray$e(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function ownKeys$t(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$t(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$t(Object(et),!0).forEach(function(tt){_defineProperty$w(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$t(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$w(_e,$,et){return $=_toPropertyKey$w($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$w(_e){var $=_toPrimitive$w(_e,"string");return _typeof$x($)=="symbol"?$:$+""}function _toPrimitive$w(_e,$){if(_typeof$x(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$x(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function getValueByDataKey(_e,$,et){return isNil$1(_e)||isNil$1($)?et:isNumOrStr($)?get$2(_e,$,et):isFunction$4($)?$(_e):et}function getDomainOfDataByKey(_e,$,et,tt){var rt=flatMap$1(_e,function(at){return getValueByDataKey(at,$)});if(et==="number"){var nt=rt.filter(function(at){return isNumber$1(at)||parseFloat(at)});return nt.length?[min$1(nt),max$1(nt)]:[1/0,-1/0]}var it=tt?rt.filter(function(at){return!isNil$1(at)}):rt;return it.map(function(at){return isNumOrStr(at)||at instanceof Date?at:""})}var calculateActiveTickIndex=function _e($){var et,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=arguments.length>2?arguments[2]:void 0,nt=arguments.length>3?arguments[3]:void 0,it=-1,at=(et=tt==null?void 0:tt.length)!==null&&et!==void 0?et:0;if(at<=1)return 0;if(nt&&nt.axisType==="angleAxis"&&Math.abs(Math.abs(nt.range[1]-nt.range[0])-360)<=1e-6)for(var st=nt.range,ot=0;ot<at;ot++){var lt=ot>0?rt[ot-1].coordinate:rt[at-1].coordinate,ct=rt[ot].coordinate,ut=ot>=at-1?rt[0].coordinate:rt[ot+1].coordinate,dt=void 0;if(mathSign(ct-lt)!==mathSign(ut-ct)){var ht=[];if(mathSign(ut-ct)===mathSign(st[1]-st[0])){dt=ut;var mt=ct+st[1]-st[0];ht[0]=Math.min(mt,(mt+lt)/2),ht[1]=Math.max(mt,(mt+lt)/2)}else{dt=lt;var pt=ut+st[1]-st[0];ht[0]=Math.min(ct,(pt+ct)/2),ht[1]=Math.max(ct,(pt+ct)/2)}var ft=[Math.min(ct,(dt+ct)/2),Math.max(ct,(dt+ct)/2)];if($>ft[0]&&$<=ft[1]||$>=ht[0]&&$<=ht[1]){it=rt[ot].index;break}}else{var gt=Math.min(lt,ut),bt=Math.max(lt,ut);if($>(gt+ct)/2&&$<=(bt+ct)/2){it=rt[ot].index;break}}}else for(var _t=0;_t<at;_t++)if(_t===0&&$<=(tt[_t].coordinate+tt[_t+1].coordinate)/2||_t>0&&_t<at-1&&$>(tt[_t].coordinate+tt[_t-1].coordinate)/2&&$<=(tt[_t].coordinate+tt[_t+1].coordinate)/2||_t===at-1&&$>(tt[_t].coordinate+tt[_t-1].coordinate)/2){it=tt[_t].index;break}return it},getMainColorOfGraphicItem=function _e($){var et,tt=$,rt=tt.type.displayName,nt=(et=$.type)!==null&&et!==void 0&&et.defaultProps?_objectSpread$t(_objectSpread$t({},$.type.defaultProps),$.props):$.props,it=nt.stroke,at=nt.fill,st;switch(rt){case"Line":st=it;break;case"Area":case"Radar":st=it&&it!=="none"?it:at;break;default:st=at;break}return st},getBarSizeList=function _e($){var et=$.barSize,tt=$.totalSize,rt=$.stackGroups,nt=rt===void 0?{}:rt;if(!nt)return{};for(var it={},at=Object.keys(nt),st=0,ot=at.length;st<ot;st++)for(var lt=nt[at[st]].stackGroups,ct=Object.keys(lt),ut=0,dt=ct.length;ut<dt;ut++){var ht=lt[ct[ut]],mt=ht.items,pt=ht.cateAxisId,ft=mt.filter(function(xt){return getDisplayName(xt.type).indexOf("Bar")>=0});if(ft&&ft.length){var gt=ft[0].type.defaultProps,bt=gt!==void 0?_objectSpread$t(_objectSpread$t({},gt),ft[0].props):ft[0].props,_t=bt.barSize,yt=bt[pt];it[yt]||(it[yt]=[]);var vt=isNil$1(_t)?et:_t;it[yt].push({item:ft[0],stackList:ft.slice(1),barSize:isNil$1(vt)?void 0:getPercentValue(vt,tt,0)})}}return it},getBarPosition=function _e($){var et=$.barGap,tt=$.barCategoryGap,rt=$.bandSize,nt=$.sizeList,it=nt===void 0?[]:nt,at=$.maxBarSize,st=it.length;if(st<1)return null;var ot=getPercentValue(et,rt,0,!0),lt,ct=[];if(it[0].barSize===+it[0].barSize){var ut=!1,dt=rt/st,ht=it.reduce(function(_t,yt){return _t+yt.barSize||0},0);ht+=(st-1)*ot,ht>=rt&&(ht-=(st-1)*ot,ot=0),ht>=rt&&dt>0&&(ut=!0,dt*=.9,ht=st*dt);var mt=(rt-ht)/2>>0,pt={offset:mt-ot,size:0};lt=it.reduce(function(_t,yt){var vt={item:yt.item,position:{offset:pt.offset+pt.size+ot,size:ut?dt:yt.barSize}},xt=[].concat(_toConsumableArray$9(_t),[vt]);return pt=xt[xt.length-1].position,yt.stackList&&yt.stackList.length&&yt.stackList.forEach(function(wt){xt.push({item:wt,position:pt})}),xt},ct)}else{var ft=getPercentValue(tt,rt,0,!0);rt-2*ft-(st-1)*ot<=0&&(ot=0);var gt=(rt-2*ft-(st-1)*ot)/st;gt>1&&(gt>>=0);var bt=at===+at?Math.min(gt,at):gt;lt=it.reduce(function(_t,yt,vt){var xt=[].concat(_toConsumableArray$9(_t),[{item:yt.item,position:{offset:ft+(gt+ot)*vt+(gt-bt)/2,size:bt}}]);return yt.stackList&&yt.stackList.length&&yt.stackList.forEach(function(wt){xt.push({item:wt,position:xt[xt.length-1].position})}),xt},ct)}return lt},appendOffsetOfLegend=function _e($,et,tt,rt){var nt=tt.children,it=tt.width,at=tt.margin,st=it-(at.left||0)-(at.right||0),ot=getLegendProps({children:nt,legendWidth:st});if(ot){var lt=rt||{},ct=lt.width,ut=lt.height,dt=ot.align,ht=ot.verticalAlign,mt=ot.layout;if((mt==="vertical"||mt==="horizontal"&&ht==="middle")&&dt!=="center"&&isNumber$1($[dt]))return _objectSpread$t(_objectSpread$t({},$),{},_defineProperty$w({},dt,$[dt]+(ct||0)));if((mt==="horizontal"||mt==="vertical"&&dt==="center")&&ht!=="middle"&&isNumber$1($[ht]))return _objectSpread$t(_objectSpread$t({},$),{},_defineProperty$w({},ht,$[ht]+(ut||0)))}return $},isErrorBarRelevantForAxis=function _e($,et,tt){return isNil$1(et)?!0:$==="horizontal"?et==="yAxis":$==="vertical"||tt==="x"?et==="xAxis":tt==="y"?et==="yAxis":!0},getDomainOfErrorBars=function _e($,et,tt,rt,nt){var it=et.props.children,at=findAllByType(it,ErrorBar).filter(function(ot){return isErrorBarRelevantForAxis(rt,nt,ot.props.direction)});if(at&&at.length){var st=at.map(function(ot){return ot.props.dataKey});return $.reduce(function(ot,lt){var ct=getValueByDataKey(lt,tt);if(isNil$1(ct))return ot;var ut=Array.isArray(ct)?[min$1(ct),max$1(ct)]:[ct,ct],dt=st.reduce(function(ht,mt){var pt=getValueByDataKey(lt,mt,0),ft=ut[0]-Math.abs(Array.isArray(pt)?pt[0]:pt),gt=ut[1]+Math.abs(Array.isArray(pt)?pt[1]:pt);return[Math.min(ft,ht[0]),Math.max(gt,ht[1])]},[1/0,-1/0]);return[Math.min(dt[0],ot[0]),Math.max(dt[1],ot[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function _e($,et,tt,rt,nt){var it=et.map(function(at){return getDomainOfErrorBars($,at,tt,nt,rt)}).filter(function(at){return!isNil$1(at)});return it&&it.length?it.reduce(function(at,st){return[Math.min(at[0],st[0]),Math.max(at[1],st[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function _e($,et,tt,rt,nt){var it=et.map(function(st){var ot=st.props.dataKey;return tt==="number"&&ot&&getDomainOfErrorBars($,st,ot,rt)||getDomainOfDataByKey($,ot,tt,nt)});if(tt==="number")return it.reduce(function(st,ot){return[Math.min(st[0],ot[0]),Math.max(st[1],ot[1])]},[1/0,-1/0]);var at={};return it.reduce(function(st,ot){for(var lt=0,ct=ot.length;lt<ct;lt++)at[ot[lt]]||(at[ot[lt]]=!0,st.push(ot[lt]));return st},[])},isCategoricalAxis=function _e($,et){return $==="horizontal"&&et==="xAxis"||$==="vertical"&&et==="yAxis"||$==="centric"&&et==="angleAxis"||$==="radial"&&et==="radiusAxis"},getCoordinatesOfGrid=function _e($,et,tt,rt){if(rt)return $.map(function(st){return st.coordinate});var nt,it,at=$.map(function(st){return st.coordinate===et&&(nt=!0),st.coordinate===tt&&(it=!0),st.coordinate});return nt||at.push(et),it||at.push(tt),at},getTicksOfAxis=function _e($,et,tt){if(!$)return null;var rt=$.scale,nt=$.duplicateDomain,it=$.type,at=$.range,st=$.realScaleType==="scaleBand"?rt.bandwidth()/2:2,ot=(et||tt)&&it==="category"&&rt.bandwidth?rt.bandwidth()/st:0;if(ot=$.axisType==="angleAxis"&&(at==null?void 0:at.length)>=2?mathSign(at[0]-at[1])*2*ot:ot,et&&($.ticks||$.niceTicks)){var lt=($.ticks||$.niceTicks).map(function(ct){var ut=nt?nt.indexOf(ct):ct;return{coordinate:rt(ut)+ot,value:ct,offset:ot}});return lt.filter(function(ct){return!isNan(ct.coordinate)})}return $.isCategorical&&$.categoricalDomain?$.categoricalDomain.map(function(ct,ut){return{coordinate:rt(ct)+ot,value:ct,index:ut,offset:ot}}):rt.ticks&&!tt?rt.ticks($.tickCount).map(function(ct){return{coordinate:rt(ct)+ot,value:ct,offset:ot}}):rt.domain().map(function(ct,ut){return{coordinate:rt(ct)+ot,value:nt?nt[ct]:ct,index:ut,offset:ot}})},handlerWeakMap=new WeakMap,combineEventHandlers=function _e($,et){if(typeof et!="function")return $;handlerWeakMap.has($)||handlerWeakMap.set($,new WeakMap);var tt=handlerWeakMap.get($);if(tt.has(et))return tt.get(et);var rt=function(){$.apply(void 0,arguments),et.apply(void 0,arguments)};return tt.set(et,rt),rt},parseScale=function _e($,et,tt){var rt=$.scale,nt=$.type,it=$.layout,at=$.axisType;if(rt==="auto")return it==="radial"&&at==="radiusAxis"?{scale:band(),realScaleType:"band"}:it==="radial"&&at==="angleAxis"?{scale:linear(),realScaleType:"linear"}:nt==="category"&&et&&(et.indexOf("LineChart")>=0||et.indexOf("AreaChart")>=0||et.indexOf("ComposedChart")>=0&&!tt)?{scale:point(),realScaleType:"point"}:nt==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(rt)){var st="scale".concat(upperFirst$1(rt));return{scale:(d3Scales[st]||point)(),realScaleType:d3Scales[st]?st:"point"}}return isFunction$4(rt)?{scale:rt}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function _e($){var et=$.domain();if(!(!et||et.length<=2)){var tt=et.length,rt=$.range(),nt=Math.min(rt[0],rt[1])-EPS,it=Math.max(rt[0],rt[1])+EPS,at=$(et[0]),st=$(et[tt-1]);(at<nt||at>it||st<nt||st>it)&&$.domain([et[0],et[tt-1]])}},findPositionOfBar=function _e($,et){if(!$)return null;for(var tt=0,rt=$.length;tt<rt;tt++)if($[tt].item===et)return $[tt].position;return null},truncateByDomain=function _e($,et){if(!et||et.length!==2||!isNumber$1(et[0])||!isNumber$1(et[1]))return $;var tt=Math.min(et[0],et[1]),rt=Math.max(et[0],et[1]),nt=[$[0],$[1]];return(!isNumber$1($[0])||$[0]<tt)&&(nt[0]=tt),(!isNumber$1($[1])||$[1]>rt)&&(nt[1]=rt),nt[0]>rt&&(nt[0]=rt),nt[1]<tt&&(nt[1]=tt),nt},offsetSign=function _e($){var et=$.length;if(!(et<=0))for(var tt=0,rt=$[0].length;tt<rt;++tt)for(var nt=0,it=0,at=0;at<et;++at){var st=isNan($[at][tt][1])?$[at][tt][0]:$[at][tt][1];st>=0?($[at][tt][0]=nt,$[at][tt][1]=nt+st,nt=$[at][tt][1]):($[at][tt][0]=it,$[at][tt][1]=it+st,it=$[at][tt][1])}},offsetPositive=function _e($){var et=$.length;if(!(et<=0))for(var tt=0,rt=$[0].length;tt<rt;++tt)for(var nt=0,it=0;it<et;++it){var at=isNan($[it][tt][1])?$[it][tt][0]:$[it][tt][1];at>=0?($[it][tt][0]=nt,$[it][tt][1]=nt+at,nt=$[it][tt][1]):($[it][tt][0]=0,$[it][tt][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function _e($,et,tt){var rt=et.map(function(at){return at.props.dataKey}),nt=STACK_OFFSET_MAP[tt],it=shapeStack().keys(rt).value(function(at,st){return+getValueByDataKey(at,st,0)}).order(stackOrderNone).offset(nt);return it($)},getStackGroupsByAxisId=function _e($,et,tt,rt,nt,it){if(!$)return null;var at=it?et.reverse():et,st={},ot=at.reduce(function(ct,ut){var dt,ht=(dt=ut.type)!==null&&dt!==void 0&&dt.defaultProps?_objectSpread$t(_objectSpread$t({},ut.type.defaultProps),ut.props):ut.props,mt=ht.stackId,pt=ht.hide;if(pt)return ct;var ft=ht[tt],gt=ct[ft]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(mt)){var bt=gt.stackGroups[mt]||{numericAxisId:tt,cateAxisId:rt,items:[]};bt.items.push(ut),gt.hasStack=!0,gt.stackGroups[mt]=bt}else gt.stackGroups[uniqueId("_stackId_")]={numericAxisId:tt,cateAxisId:rt,items:[ut]};return _objectSpread$t(_objectSpread$t({},ct),{},_defineProperty$w({},ft,gt))},st),lt={};return Object.keys(ot).reduce(function(ct,ut){var dt=ot[ut];if(dt.hasStack){var ht={};dt.stackGroups=Object.keys(dt.stackGroups).reduce(function(mt,pt){var ft=dt.stackGroups[pt];return _objectSpread$t(_objectSpread$t({},mt),{},_defineProperty$w({},pt,{numericAxisId:tt,cateAxisId:rt,items:ft.items,stackedData:getStackedData($,ft.items,nt)}))},ht)}return _objectSpread$t(_objectSpread$t({},ct),{},_defineProperty$w({},ut,dt))},lt)},getTicksOfScale=function _e($,et){var tt=et.realScaleType,rt=et.type,nt=et.tickCount,it=et.originalDomain,at=et.allowDecimals,st=tt||et.scale;if(st!=="auto"&&st!=="linear")return null;if(nt&&rt==="number"&&it&&(it[0]==="auto"||it[1]==="auto")){var ot=$.domain();if(!ot.length)return null;var lt=getNiceTickValues(ot,nt,at);return $.domain([min$1(lt),max$1(lt)]),{niceTicks:lt}}if(nt&&rt==="number"){var ct=$.domain(),ut=getTickValuesFixedDomain(ct,nt,at);return{niceTicks:ut}}return null};function getCateCoordinateOfLine(_e){var $=_e.axis,et=_e.ticks,tt=_e.bandSize,rt=_e.entry,nt=_e.index,it=_e.dataKey;if($.type==="category"){if(!$.allowDuplicatedCategory&&$.dataKey&&!isNil$1(rt[$.dataKey])){var at=findEntryInArray(et,"value",rt[$.dataKey]);if(at)return at.coordinate+tt/2}return et[nt]?et[nt].coordinate+tt/2:null}var st=getValueByDataKey(rt,isNil$1(it)?$.dataKey:it);return isNil$1(st)?null:$.scale(st)}var getCateCoordinateOfBar=function _e($){var et=$.axis,tt=$.ticks,rt=$.offset,nt=$.bandSize,it=$.entry,at=$.index;if(et.type==="category")return tt[at]?tt[at].coordinate+rt:null;var st=getValueByDataKey(it,et.dataKey,et.domain[at]);return isNil$1(st)?null:et.scale(st)-nt/2+rt},getBaseValueOfBar=function _e($){var et=$.numericAxis,tt=et.scale.domain();if(et.type==="number"){var rt=Math.min(tt[0],tt[1]),nt=Math.max(tt[0],tt[1]);return rt<=0&&nt>=0?0:nt<0?nt:rt}return tt[0]},getStackedDataOfItem=function _e($,et){var tt,rt=(tt=$.type)!==null&&tt!==void 0&&tt.defaultProps?_objectSpread$t(_objectSpread$t({},$.type.defaultProps),$.props):$.props,nt=rt.stackId;if(isNumOrStr(nt)){var it=et[nt];if(it){var at=it.items.indexOf($);return at>=0?it.stackedData[at]:null}}return null},getDomainOfSingle=function _e($){return $.reduce(function(et,tt){return[min$1(tt.concat([et[0]]).filter(isNumber$1)),max$1(tt.concat([et[1]]).filter(isNumber$1))]},[1/0,-1/0])},getDomainOfStackGroups=function _e($,et,tt){return Object.keys($).reduce(function(rt,nt){var it=$[nt],at=it.stackedData,st=at.reduce(function(ot,lt){var ct=getDomainOfSingle(lt.slice(et,tt+1));return[Math.min(ot[0],ct[0]),Math.max(ot[1],ct[1])]},[1/0,-1/0]);return[Math.min(st[0],rt[0]),Math.max(st[1],rt[1])]},[1/0,-1/0]).map(function(rt){return rt===1/0||rt===-1/0?0:rt})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function _e($,et,tt){if(isFunction$4($))return $(et,tt);if(!Array.isArray($))return et;var rt=[];if(isNumber$1($[0]))rt[0]=tt?$[0]:Math.min($[0],et[0]);else if(MIN_VALUE_REG.test($[0])){var nt=+MIN_VALUE_REG.exec($[0])[1];rt[0]=et[0]-nt}else isFunction$4($[0])?rt[0]=$[0](et[0]):rt[0]=et[0];if(isNumber$1($[1]))rt[1]=tt?$[1]:Math.max($[1],et[1]);else if(MAX_VALUE_REG.test($[1])){var it=+MAX_VALUE_REG.exec($[1])[1];rt[1]=et[1]+it}else isFunction$4($[1])?rt[1]=$[1](et[1]):rt[1]=et[1];return rt},getBandSizeOfAxis=function _e($,et,tt){if($&&$.scale&&$.scale.bandwidth){var rt=$.scale.bandwidth();if(!tt||rt>0)return rt}if($&&et&&et.length>=2){for(var nt=sortBy$1(et,function(ct){return ct.coordinate}),it=1/0,at=1,st=nt.length;at<st;at++){var ot=nt[at],lt=nt[at-1];it=Math.min((ot.coordinate||0)-(lt.coordinate||0),it)}return it===1/0?0:it}return tt?void 0:0},parseDomainOfCategoryAxis=function _e($,et,tt){return!$||!$.length||isEqual$1($,get$2(tt,"type.defaultProps.domain"))?et:$},getTooltipItem=function _e($,et){var tt=$.type.defaultProps?_objectSpread$t(_objectSpread$t({},$.type.defaultProps),$.props):$.props,rt=tt.dataKey,nt=tt.name,it=tt.unit,at=tt.formatter,st=tt.tooltipType,ot=tt.chartType,lt=tt.hide;return _objectSpread$t(_objectSpread$t({},filterProps($,!1)),{},{dataKey:rt,unit:it,formatter:at,name:nt||rt,color:getMainColorOfGraphicItem($),value:getValueByDataKey(et,rt),type:st,payload:et,chartType:ot,hide:lt})};function _typeof$w(_e){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$w(_e)}function ownKeys$s(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$s(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$s(Object(et),!0).forEach(function(tt){_defineProperty$v(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$s(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$v(_e,$,et){return $=_toPropertyKey$v($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$v(_e){var $=_toPrimitive$v(_e,"string");return _typeof$w($)=="symbol"?$:$+""}function _toPrimitive$v(_e,$){if(_typeof$w(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$w(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$6(_e,$){return _arrayWithHoles$7(_e)||_iterableToArrayLimit$6(_e,$)||_unsupportedIterableToArray$d(_e,$)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$d(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$d(_e,$)}}function _arrayLikeToArray$d(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$6(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$7(_e){if(Array.isArray(_e))return _e}var RADIAN$1=Math.PI/180,radianToDegree=function _e($){return $*180/Math.PI},polarToCartesian=function _e($,et,tt,rt){return{x:$+Math.cos(-RADIAN$1*rt)*tt,y:et+Math.sin(-RADIAN$1*rt)*tt}},getMaxRadius=function _e($,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs($-(tt.left||0)-(tt.right||0)),Math.abs(et-(tt.top||0)-(tt.bottom||0)))/2},formatAxisMap$1=function _e($,et,tt,rt,nt){var it=$.width,at=$.height,st=$.startAngle,ot=$.endAngle,lt=getPercentValue($.cx,it,it/2),ct=getPercentValue($.cy,at,at/2),ut=getMaxRadius(it,at,tt),dt=getPercentValue($.innerRadius,ut,0),ht=getPercentValue($.outerRadius,ut,ut*.8),mt=Object.keys(et);return mt.reduce(function(pt,ft){var gt=et[ft],bt=gt.domain,_t=gt.reversed,yt;if(isNil$1(gt.range))rt==="angleAxis"?yt=[st,ot]:rt==="radiusAxis"&&(yt=[dt,ht]),_t&&(yt=[yt[1],yt[0]]);else{yt=gt.range;var vt=yt,xt=_slicedToArray$6(vt,2);st=xt[0],ot=xt[1]}var wt=parseScale(gt,nt),St=wt.realScaleType,Ot=wt.scale;Ot.domain(bt).range(yt),checkDomainOfScale(Ot);var Et=getTicksOfScale(Ot,_objectSpread$s(_objectSpread$s({},gt),{},{realScaleType:St})),Tt=_objectSpread$s(_objectSpread$s(_objectSpread$s({},gt),Et),{},{range:yt,radius:ht,realScaleType:St,scale:Ot,cx:lt,cy:ct,innerRadius:dt,outerRadius:ht,startAngle:st,endAngle:ot});return _objectSpread$s(_objectSpread$s({},pt),{},_defineProperty$v({},ft,Tt))},{})},distanceBetweenPoints$1=function _e($,et){var tt=$.x,rt=$.y,nt=et.x,it=et.y;return Math.sqrt(Math.pow(tt-nt,2)+Math.pow(rt-it,2))},getAngleOfPoint=function _e($,et){var tt=$.x,rt=$.y,nt=et.cx,it=et.cy,at=distanceBetweenPoints$1({x:tt,y:rt},{x:nt,y:it});if(at<=0)return{radius:at};var st=(tt-nt)/at,ot=Math.acos(st);return rt>it&&(ot=2*Math.PI-ot),{radius:at,angle:radianToDegree(ot),angleInRadian:ot}},formatAngleOfSector=function _e($){var et=$.startAngle,tt=$.endAngle,rt=Math.floor(et/360),nt=Math.floor(tt/360),it=Math.min(rt,nt);return{startAngle:et-it*360,endAngle:tt-it*360}},reverseFormatAngleOfSetor=function _e($,et){var tt=et.startAngle,rt=et.endAngle,nt=Math.floor(tt/360),it=Math.floor(rt/360),at=Math.min(nt,it);return $+at*360},inRangeOfSector=function _e($,et){var tt=$.x,rt=$.y,nt=getAngleOfPoint({x:tt,y:rt},et),it=nt.radius,at=nt.angle,st=et.innerRadius,ot=et.outerRadius;if(it<st||it>ot)return!1;if(it===0)return!0;var lt=formatAngleOfSector(et),ct=lt.startAngle,ut=lt.endAngle,dt=at,ht;if(ct<=ut){for(;dt>ut;)dt-=360;for(;dt<ct;)dt+=360;ht=dt>=ct&&dt<=ut}else{for(;dt>ct;)dt-=360;for(;dt<ut;)dt+=360;ht=dt>=ut&&dt<=ct}return ht?_objectSpread$s(_objectSpread$s({},et),{},{radius:it,angle:reverseFormatAngleOfSetor(dt,et)}):null},getTickClassName=function _e($){return!reactExports.isValidElement($)&&!isFunction$4($)&&typeof $!="boolean"?$.className:""};function _typeof$v(_e){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$v(_e)}var _excluded$c=["offset"];function _toConsumableArray$8(_e){return _arrayWithoutHoles$8(_e)||_iterableToArray$9(_e)||_unsupportedIterableToArray$c(_e)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$c(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$c(_e,$)}}function _iterableToArray$9(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$8(_e){if(Array.isArray(_e))return _arrayLikeToArray$c(_e)}function _arrayLikeToArray$c(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _objectWithoutProperties$c(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$c(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$c(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function ownKeys$r(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$r(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$r(Object(et),!0).forEach(function(tt){_defineProperty$u(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$r(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$u(_e,$,et){return $=_toPropertyKey$u($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$u(_e){var $=_toPrimitive$u(_e,"string");return _typeof$v($)=="symbol"?$:$+""}function _toPrimitive$u(_e,$){if(_typeof$v(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$v(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$n.apply(this,arguments)}var getLabel=function _e($){var et=$.value,tt=$.formatter,rt=isNil$1($.children)?et:$.children;return isFunction$4(tt)?tt(rt):rt},getDeltaAngle$1=function _e($,et){var tt=mathSign(et-$),rt=Math.min(Math.abs(et-$),360);return tt*rt},renderRadialLabel=function _e($,et,tt){var rt=$.position,nt=$.viewBox,it=$.offset,at=$.className,st=nt,ot=st.cx,lt=st.cy,ct=st.innerRadius,ut=st.outerRadius,dt=st.startAngle,ht=st.endAngle,mt=st.clockWise,pt=(ct+ut)/2,ft=getDeltaAngle$1(dt,ht),gt=ft>=0?1:-1,bt,_t;rt==="insideStart"?(bt=dt+gt*it,_t=mt):rt==="insideEnd"?(bt=ht-gt*it,_t=!mt):rt==="end"&&(bt=ht+gt*it,_t=mt),_t=ft<=0?_t:!_t;var yt=polarToCartesian(ot,lt,pt,bt),vt=polarToCartesian(ot,lt,pt,bt+(_t?1:-1)*359),xt="M".concat(yt.x,",").concat(yt.y,`
    A`).concat(pt,",").concat(pt,",0,1,").concat(_t?0:1,`,
    `).concat(vt.x,",").concat(vt.y),wt=isNil$1($.id)?uniqueId("recharts-radial-line-"):$.id;return React.createElement("text",_extends$n({},tt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",at)}),React.createElement("defs",null,React.createElement("path",{id:wt,d:xt})),React.createElement("textPath",{xlinkHref:"#".concat(wt)},et))},getAttrsOfPolarLabel=function _e($){var et=$.viewBox,tt=$.offset,rt=$.position,nt=et,it=nt.cx,at=nt.cy,st=nt.innerRadius,ot=nt.outerRadius,lt=nt.startAngle,ct=nt.endAngle,ut=(lt+ct)/2;if(rt==="outside"){var dt=polarToCartesian(it,at,ot+tt,ut),ht=dt.x,mt=dt.y;return{x:ht,y:mt,textAnchor:ht>=it?"start":"end",verticalAnchor:"middle"}}if(rt==="center")return{x:it,y:at,textAnchor:"middle",verticalAnchor:"middle"};if(rt==="centerTop")return{x:it,y:at,textAnchor:"middle",verticalAnchor:"start"};if(rt==="centerBottom")return{x:it,y:at,textAnchor:"middle",verticalAnchor:"end"};var pt=(st+ot)/2,ft=polarToCartesian(it,at,pt,ut),gt=ft.x,bt=ft.y;return{x:gt,y:bt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function _e($){var et=$.viewBox,tt=$.parentViewBox,rt=$.offset,nt=$.position,it=et,at=it.x,st=it.y,ot=it.width,lt=it.height,ct=lt>=0?1:-1,ut=ct*rt,dt=ct>0?"end":"start",ht=ct>0?"start":"end",mt=ot>=0?1:-1,pt=mt*rt,ft=mt>0?"end":"start",gt=mt>0?"start":"end";if(nt==="top"){var bt={x:at+ot/2,y:st-ct*rt,textAnchor:"middle",verticalAnchor:dt};return _objectSpread$r(_objectSpread$r({},bt),tt?{height:Math.max(st-tt.y,0),width:ot}:{})}if(nt==="bottom"){var _t={x:at+ot/2,y:st+lt+ut,textAnchor:"middle",verticalAnchor:ht};return _objectSpread$r(_objectSpread$r({},_t),tt?{height:Math.max(tt.y+tt.height-(st+lt),0),width:ot}:{})}if(nt==="left"){var yt={x:at-pt,y:st+lt/2,textAnchor:ft,verticalAnchor:"middle"};return _objectSpread$r(_objectSpread$r({},yt),tt?{width:Math.max(yt.x-tt.x,0),height:lt}:{})}if(nt==="right"){var vt={x:at+ot+pt,y:st+lt/2,textAnchor:gt,verticalAnchor:"middle"};return _objectSpread$r(_objectSpread$r({},vt),tt?{width:Math.max(tt.x+tt.width-vt.x,0),height:lt}:{})}var xt=tt?{width:ot,height:lt}:{};return nt==="insideLeft"?_objectSpread$r({x:at+pt,y:st+lt/2,textAnchor:gt,verticalAnchor:"middle"},xt):nt==="insideRight"?_objectSpread$r({x:at+ot-pt,y:st+lt/2,textAnchor:ft,verticalAnchor:"middle"},xt):nt==="insideTop"?_objectSpread$r({x:at+ot/2,y:st+ut,textAnchor:"middle",verticalAnchor:ht},xt):nt==="insideBottom"?_objectSpread$r({x:at+ot/2,y:st+lt-ut,textAnchor:"middle",verticalAnchor:dt},xt):nt==="insideTopLeft"?_objectSpread$r({x:at+pt,y:st+ut,textAnchor:gt,verticalAnchor:ht},xt):nt==="insideTopRight"?_objectSpread$r({x:at+ot-pt,y:st+ut,textAnchor:ft,verticalAnchor:ht},xt):nt==="insideBottomLeft"?_objectSpread$r({x:at+pt,y:st+lt-ut,textAnchor:gt,verticalAnchor:dt},xt):nt==="insideBottomRight"?_objectSpread$r({x:at+ot-pt,y:st+lt-ut,textAnchor:ft,verticalAnchor:dt},xt):isObject$9(nt)&&(isNumber$1(nt.x)||isPercent(nt.x))&&(isNumber$1(nt.y)||isPercent(nt.y))?_objectSpread$r({x:at+getPercentValue(nt.x,ot),y:st+getPercentValue(nt.y,lt),textAnchor:"end",verticalAnchor:"end"},xt):_objectSpread$r({x:at+ot/2,y:st+lt/2,textAnchor:"middle",verticalAnchor:"middle"},xt)},isPolar=function _e($){return"cx"in $&&isNumber$1($.cx)};function Label(_e){var $=_e.offset,et=$===void 0?5:$,tt=_objectWithoutProperties$c(_e,_excluded$c),rt=_objectSpread$r({offset:et},tt),nt=rt.viewBox,it=rt.position,at=rt.value,st=rt.children,ot=rt.content,lt=rt.className,ct=lt===void 0?"":lt,ut=rt.textBreakAll;if(!nt||isNil$1(at)&&isNil$1(st)&&!reactExports.isValidElement(ot)&&!isFunction$4(ot))return null;if(reactExports.isValidElement(ot))return reactExports.cloneElement(ot,rt);var dt;if(isFunction$4(ot)){if(dt=reactExports.createElement(ot,rt),reactExports.isValidElement(dt))return dt}else dt=getLabel(rt);var ht=isPolar(nt),mt=filterProps(rt,!0);if(ht&&(it==="insideStart"||it==="insideEnd"||it==="end"))return renderRadialLabel(rt,dt,mt);var pt=ht?getAttrsOfPolarLabel(rt):getAttrsOfCartesianLabel(rt);return React.createElement(Text,_extends$n({className:clsx("recharts-label",ct)},mt,pt,{breakAll:ut}),dt)}Label.displayName="Label";var parseViewBox=function _e($){var et=$.cx,tt=$.cy,rt=$.angle,nt=$.startAngle,it=$.endAngle,at=$.r,st=$.radius,ot=$.innerRadius,lt=$.outerRadius,ct=$.x,ut=$.y,dt=$.top,ht=$.left,mt=$.width,pt=$.height,ft=$.clockWise,gt=$.labelViewBox;if(gt)return gt;if(isNumber$1(mt)&&isNumber$1(pt)){if(isNumber$1(ct)&&isNumber$1(ut))return{x:ct,y:ut,width:mt,height:pt};if(isNumber$1(dt)&&isNumber$1(ht))return{x:dt,y:ht,width:mt,height:pt}}return isNumber$1(ct)&&isNumber$1(ut)?{x:ct,y:ut,width:0,height:0}:isNumber$1(et)&&isNumber$1(tt)?{cx:et,cy:tt,startAngle:nt||rt||0,endAngle:it||rt||0,innerRadius:ot||0,outerRadius:lt||st||at||0,clockWise:ft}:$.viewBox?$.viewBox:{}},parseLabel=function _e($,et){return $?$===!0?React.createElement(Label,{key:"label-implicit",viewBox:et}):isNumOrStr($)?React.createElement(Label,{key:"label-implicit",viewBox:et,value:$}):reactExports.isValidElement($)?$.type===Label?reactExports.cloneElement($,{key:"label-implicit",viewBox:et}):React.createElement(Label,{key:"label-implicit",content:$,viewBox:et}):isFunction$4($)?React.createElement(Label,{key:"label-implicit",content:$,viewBox:et}):isObject$9($)?React.createElement(Label,_extends$n({viewBox:et},$,{key:"label-implicit"})):null:null},renderCallByParent$1=function _e($,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!$||!$.children&&tt&&!$.label)return null;var rt=$.children,nt=parseViewBox($),it=findAllByType(rt,Label).map(function(st,ot){return reactExports.cloneElement(st,{viewBox:et||nt,key:"label-".concat(ot)})});if(!tt)return it;var at=parseLabel($.label,et||nt);return[at].concat(_toConsumableArray$8(it))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(_e){var $=_e==null?0:_e.length;return $?_e[$-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$u(_e){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$u(_e)}var _excluded$b=["valueAccessor"],_excluded2$5=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(_e){return _arrayWithoutHoles$7(_e)||_iterableToArray$8(_e)||_unsupportedIterableToArray$b(_e)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$b(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$b(_e,$)}}function _iterableToArray$8(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$7(_e){if(Array.isArray(_e))return _arrayLikeToArray$b(_e)}function _arrayLikeToArray$b(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$m.apply(this,arguments)}function ownKeys$q(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$q(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$q(Object(et),!0).forEach(function(tt){_defineProperty$t(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$q(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$t(_e,$,et){return $=_toPropertyKey$t($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$t(_e){var $=_toPrimitive$t(_e,"string");return _typeof$u($)=="symbol"?$:$+""}function _toPrimitive$t(_e,$){if(_typeof$u(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$u(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$b(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$b(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$b(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}var defaultAccessor=function _e($){return Array.isArray($.value)?last$1($.value):$.value};function LabelList(_e){var $=_e.valueAccessor,et=$===void 0?defaultAccessor:$,tt=_objectWithoutProperties$b(_e,_excluded$b),rt=tt.data,nt=tt.dataKey,it=tt.clockWise,at=tt.id,st=tt.textBreakAll,ot=_objectWithoutProperties$b(tt,_excluded2$5);return!rt||!rt.length?null:React.createElement(Layer,{className:"recharts-label-list"},rt.map(function(lt,ct){var ut=isNil$1(nt)?et(lt,ct):getValueByDataKey(lt&&lt.payload,nt),dt=isNil$1(at)?{}:{id:"".concat(at,"-").concat(ct)};return React.createElement(Label,_extends$m({},filterProps(lt,!0),ot,dt,{parentViewBox:lt.parentViewBox,value:ut,textBreakAll:st,viewBox:Label.parseViewBox(isNil$1(it)?lt:_objectSpread$q(_objectSpread$q({},lt),{},{clockWise:it})),key:"label-".concat(ct),index:ct}))}))}LabelList.displayName="LabelList";function parseLabelList(_e,$){return _e?_e===!0?React.createElement(LabelList,{key:"labelList-implicit",data:$}):React.isValidElement(_e)||isFunction$4(_e)?React.createElement(LabelList,{key:"labelList-implicit",data:$,content:_e}):isObject$9(_e)?React.createElement(LabelList,_extends$m({data:$},_e,{key:"labelList-implicit"})):null:null}function renderCallByParent(_e,$){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!_e||!_e.children&&et&&!_e.label)return null;var tt=_e.children,rt=findAllByType(tt,LabelList).map(function(it,at){return reactExports.cloneElement(it,{data:$,key:"labelList-".concat(at)})});if(!et)return rt;var nt=parseLabelList(_e.label,$);return[nt].concat(_toConsumableArray$7(rt))}LabelList.renderCallByParent=renderCallByParent;function _typeof$t(_e){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$t(_e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$l.apply(this,arguments)}function ownKeys$p(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$p(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$p(Object(et),!0).forEach(function(tt){_defineProperty$s(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$p(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$s(_e,$,et){return $=_toPropertyKey$s($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$s(_e){var $=_toPrimitive$s(_e,"string");return _typeof$t($)=="symbol"?$:$+""}function _toPrimitive$s(_e,$){if(_typeof$t(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$t(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getDeltaAngle=function _e($,et){var tt=mathSign(et-$),rt=Math.min(Math.abs(et-$),359.999);return tt*rt},getTangentCircle=function _e($){var et=$.cx,tt=$.cy,rt=$.radius,nt=$.angle,it=$.sign,at=$.isExternal,st=$.cornerRadius,ot=$.cornerIsExternal,lt=st*(at?1:-1)+rt,ct=Math.asin(st/lt)/RADIAN$1,ut=ot?nt:nt+it*ct,dt=polarToCartesian(et,tt,lt,ut),ht=polarToCartesian(et,tt,rt,ut),mt=ot?nt-it*ct:nt,pt=polarToCartesian(et,tt,lt*Math.cos(ct*RADIAN$1),mt);return{center:dt,circleTangency:ht,lineTangency:pt,theta:ct}},getSectorPath=function _e($){var et=$.cx,tt=$.cy,rt=$.innerRadius,nt=$.outerRadius,it=$.startAngle,at=$.endAngle,st=getDeltaAngle(it,at),ot=it+st,lt=polarToCartesian(et,tt,nt,it),ct=polarToCartesian(et,tt,nt,ot),ut="M ".concat(lt.x,",").concat(lt.y,`
    A `).concat(nt,",").concat(nt,`,0,
    `).concat(+(Math.abs(st)>180),",").concat(+(it>ot),`,
    `).concat(ct.x,",").concat(ct.y,`
  `);if(rt>0){var dt=polarToCartesian(et,tt,rt,it),ht=polarToCartesian(et,tt,rt,ot);ut+="L ".concat(ht.x,",").concat(ht.y,`
            A `).concat(rt,",").concat(rt,`,0,
            `).concat(+(Math.abs(st)>180),",").concat(+(it<=ot),`,
            `).concat(dt.x,",").concat(dt.y," Z")}else ut+="L ".concat(et,",").concat(tt," Z");return ut},getSectorWithCorner=function _e($){var et=$.cx,tt=$.cy,rt=$.innerRadius,nt=$.outerRadius,it=$.cornerRadius,at=$.forceCornerRadius,st=$.cornerIsExternal,ot=$.startAngle,lt=$.endAngle,ct=mathSign(lt-ot),ut=getTangentCircle({cx:et,cy:tt,radius:nt,angle:ot,sign:ct,cornerRadius:it,cornerIsExternal:st}),dt=ut.circleTangency,ht=ut.lineTangency,mt=ut.theta,pt=getTangentCircle({cx:et,cy:tt,radius:nt,angle:lt,sign:-ct,cornerRadius:it,cornerIsExternal:st}),ft=pt.circleTangency,gt=pt.lineTangency,bt=pt.theta,_t=st?Math.abs(ot-lt):Math.abs(ot-lt)-mt-bt;if(_t<0)return at?"M ".concat(ht.x,",").concat(ht.y,`
        a`).concat(it,",").concat(it,",0,0,1,").concat(it*2,`,0
        a`).concat(it,",").concat(it,",0,0,1,").concat(-it*2,`,0
      `):getSectorPath({cx:et,cy:tt,innerRadius:rt,outerRadius:nt,startAngle:ot,endAngle:lt});var yt="M ".concat(ht.x,",").concat(ht.y,`
    A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(dt.x,",").concat(dt.y,`
    A`).concat(nt,",").concat(nt,",0,").concat(+(_t>180),",").concat(+(ct<0),",").concat(ft.x,",").concat(ft.y,`
    A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(gt.x,",").concat(gt.y,`
  `);if(rt>0){var vt=getTangentCircle({cx:et,cy:tt,radius:rt,angle:ot,sign:ct,isExternal:!0,cornerRadius:it,cornerIsExternal:st}),xt=vt.circleTangency,wt=vt.lineTangency,St=vt.theta,Ot=getTangentCircle({cx:et,cy:tt,radius:rt,angle:lt,sign:-ct,isExternal:!0,cornerRadius:it,cornerIsExternal:st}),Et=Ot.circleTangency,Tt=Ot.lineTangency,It=Ot.theta,Wt=st?Math.abs(ot-lt):Math.abs(ot-lt)-St-It;if(Wt<0&&it===0)return"".concat(yt,"L").concat(et,",").concat(tt,"Z");yt+="L".concat(Tt.x,",").concat(Tt.y,`
      A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(Et.x,",").concat(Et.y,`
      A`).concat(rt,",").concat(rt,",0,").concat(+(Wt>180),",").concat(+(ct>0),",").concat(xt.x,",").concat(xt.y,`
      A`).concat(it,",").concat(it,",0,0,").concat(+(ct<0),",").concat(wt.x,",").concat(wt.y,"Z")}else yt+="L".concat(et,",").concat(tt,"Z");return yt},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function _e($){var et=_objectSpread$p(_objectSpread$p({},defaultProps$3),$),tt=et.cx,rt=et.cy,nt=et.innerRadius,it=et.outerRadius,at=et.cornerRadius,st=et.forceCornerRadius,ot=et.cornerIsExternal,lt=et.startAngle,ct=et.endAngle,ut=et.className;if(it<nt||lt===ct)return null;var dt=clsx("recharts-sector",ut),ht=it-nt,mt=getPercentValue(at,ht,0,!0),pt;return mt>0&&Math.abs(lt-ct)<360?pt=getSectorWithCorner({cx:tt,cy:rt,innerRadius:nt,outerRadius:it,cornerRadius:Math.min(mt,ht/2),forceCornerRadius:st,cornerIsExternal:ot,startAngle:lt,endAngle:ct}):pt=getSectorPath({cx:tt,cy:rt,innerRadius:nt,outerRadius:it,startAngle:lt,endAngle:ct}),React.createElement("path",_extends$l({},filterProps(et,!0),{className:dt,d:pt,role:"img"}))};function _typeof$s(_e){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$s(_e)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$k.apply(this,arguments)}function ownKeys$o(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$o(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$o(Object(et),!0).forEach(function(tt){_defineProperty$r(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$o(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$r(_e,$,et){return $=_toPropertyKey$r($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$r(_e){var $=_toPrimitive$r(_e,"string");return _typeof$s($)=="symbol"?$:$+""}function _toPrimitive$r(_e,$){if(_typeof$s(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$s(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined$1=function _e($){return $.x===+$.x&&$.y===+$.y},getX=function _e($){return $.x},getY=function _e($){return $.y},getCurveFactory=function _e($,et){if(isFunction$4($))return $;var tt="curve".concat(upperFirst$1($));return(tt==="curveMonotone"||tt==="curveBump")&&et?CURVE_FACTORIES["".concat(tt).concat(et==="vertical"?"Y":"X")]:CURVE_FACTORIES[tt]||curveLinear},getPath$1=function _e($){var et=$.type,tt=et===void 0?"linear":et,rt=$.points,nt=rt===void 0?[]:rt,it=$.baseLine,at=$.layout,st=$.connectNulls,ot=st===void 0?!1:st,lt=getCurveFactory(tt,at),ct=ot?nt.filter(function(mt){return defined$1(mt)}):nt,ut;if(Array.isArray(it)){var dt=ot?it.filter(function(mt){return defined$1(mt)}):it,ht=ct.map(function(mt,pt){return _objectSpread$o(_objectSpread$o({},mt),{},{base:dt[pt]})});return at==="vertical"?ut=shapeArea().y(getY).x1(getX).x0(function(mt){return mt.base.x}):ut=shapeArea().x(getX).y1(getY).y0(function(mt){return mt.base.y}),ut.defined(defined$1).curve(lt),ut(ht)}return at==="vertical"&&isNumber$1(it)?ut=shapeArea().y(getY).x1(getX).x0(it):isNumber$1(it)?ut=shapeArea().x(getX).y1(getY).y0(it):ut=shapeLine().x(getX).y(getY),ut.defined(defined$1).curve(lt),ut(ct)},Curve=function _e($){var et=$.className,tt=$.points,rt=$.path,nt=$.pathRef;if((!tt||!tt.length)&&!rt)return null;var it=tt&&tt.length?getPath$1($):rt;return React.createElement("path",_extends$k({},filterProps($,!1),adaptEventHandlers($),{className:clsx("recharts-curve",et),d:it,ref:nt}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(tt,rt,nt,it,at,st){if(st!==ReactPropTypesSecret){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}_e.isRequired=_e;function $(){return _e}var et={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:$,element:_e,elementType:_e,instanceOf:$,node:_e,objectOf:$,oneOf:$,oneOfType:$,shape:$,exact:$,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(_e,$){return function(tt,rt,nt){return _e(tt,rt,nt)&&$(tt,rt,nt)}}function createIsCircular(_e){return function(et,tt,rt){if(!et||!tt||typeof et!="object"||typeof tt!="object")return _e(et,tt,rt);var nt=rt.cache,it=nt.get(et),at=nt.get(tt);if(it&&at)return it===tt&&at===et;nt.set(et,tt),nt.set(tt,et);var st=_e(et,tt,rt);return nt.delete(et),nt.delete(tt),st}}function getStrictProperties(_e){return getOwnPropertyNames(_e).concat(getOwnPropertySymbols(_e))}var hasOwn=Object.hasOwn||function(_e,$){return hasOwnProperty$1.call(_e,$)};function sameValueZeroEqual(_e,$){return _e||$?_e===$:_e===$||_e!==_e&&$!==$}var OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(_e,$,et){var tt=_e.length;if($.length!==tt)return!1;for(;tt-- >0;)if(!et.equals(_e[tt],$[tt],tt,tt,_e,$,et))return!1;return!0}function areDatesEqual(_e,$){return sameValueZeroEqual(_e.getTime(),$.getTime())}function areMapsEqual(_e,$,et){if(_e.size!==$.size)return!1;for(var tt={},rt=_e.entries(),nt=0,it,at;(it=rt.next())&&!it.done;){for(var st=$.entries(),ot=!1,lt=0;(at=st.next())&&!at.done;){var ct=it.value,ut=ct[0],dt=ct[1],ht=at.value,mt=ht[0],pt=ht[1];!ot&&!tt[lt]&&(ot=et.equals(ut,mt,nt,lt,_e,$,et)&&et.equals(dt,pt,ut,mt,_e,$,et))&&(tt[lt]=!0),lt++}if(!ot)return!1;nt++}return!0}function areObjectsEqual(_e,$,et){var tt=keys$1(_e),rt=tt.length;if(keys$1($).length!==rt)return!1;for(var nt;rt-- >0;)if(nt=tt[rt],nt===OWNER&&(_e.$$typeof||$.$$typeof)&&_e.$$typeof!==$.$$typeof||!hasOwn($,nt)||!et.equals(_e[nt],$[nt],nt,nt,_e,$,et))return!1;return!0}function areObjectsEqualStrict(_e,$,et){var tt=getStrictProperties(_e),rt=tt.length;if(getStrictProperties($).length!==rt)return!1;for(var nt,it,at;rt-- >0;)if(nt=tt[rt],nt===OWNER&&(_e.$$typeof||$.$$typeof)&&_e.$$typeof!==$.$$typeof||!hasOwn($,nt)||!et.equals(_e[nt],$[nt],nt,nt,_e,$,et)||(it=getOwnPropertyDescriptor(_e,nt),at=getOwnPropertyDescriptor($,nt),(it||at)&&(!it||!at||it.configurable!==at.configurable||it.enumerable!==at.enumerable||it.writable!==at.writable)))return!1;return!0}function arePrimitiveWrappersEqual(_e,$){return sameValueZeroEqual(_e.valueOf(),$.valueOf())}function areRegExpsEqual(_e,$){return _e.source===$.source&&_e.flags===$.flags}function areSetsEqual(_e,$,et){if(_e.size!==$.size)return!1;for(var tt={},rt=_e.values(),nt,it;(nt=rt.next())&&!nt.done;){for(var at=$.values(),st=!1,ot=0;(it=at.next())&&!it.done;)!st&&!tt[ot]&&(st=et.equals(nt.value,it.value,nt.value,it.value,_e,$,et))&&(tt[ot]=!0),ot++;if(!st)return!1}return!0}function areTypedArraysEqual(_e,$){var et=_e.length;if($.length!==et)return!1;for(;et-- >0;)if(_e[et]!==$[et])return!1;return!0}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",isArray$3=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(_e){var $=_e.areArraysEqual,et=_e.areDatesEqual,tt=_e.areMapsEqual,rt=_e.areObjectsEqual,nt=_e.arePrimitiveWrappersEqual,it=_e.areRegExpsEqual,at=_e.areSetsEqual,st=_e.areTypedArraysEqual;return function(lt,ct,ut){if(lt===ct)return!0;if(lt==null||ct==null||typeof lt!="object"||typeof ct!="object")return lt!==lt&&ct!==ct;var dt=lt.constructor;if(dt!==ct.constructor)return!1;if(dt===Object)return rt(lt,ct,ut);if(isArray$3(lt))return $(lt,ct,ut);if(isTypedArray!=null&&isTypedArray(lt))return st(lt,ct,ut);if(dt===Date)return et(lt,ct,ut);if(dt===RegExp)return it(lt,ct,ut);if(dt===Map)return tt(lt,ct,ut);if(dt===Set)return at(lt,ct,ut);var ht=getTag(lt);return ht===DATE_TAG?et(lt,ct,ut):ht===REG_EXP_TAG?it(lt,ct,ut):ht===MAP_TAG?tt(lt,ct,ut):ht===SET_TAG?at(lt,ct,ut):ht===OBJECT_TAG?typeof lt.then!="function"&&typeof ct.then!="function"&&rt(lt,ct,ut):ht===ARGUMENTS_TAG?rt(lt,ct,ut):ht===BOOLEAN_TAG||ht===NUMBER_TAG||ht===STRING_TAG?nt(lt,ct,ut):!1}}function createEqualityComparatorConfig(_e){var $=_e.circular,et=_e.createCustomConfig,tt=_e.strict,rt={areArraysEqual:tt?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areMapsEqual:tt?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areObjectsEqual:tt?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:tt?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:tt?areObjectsEqualStrict:areTypedArraysEqual};if(et&&(rt=assign({},rt,et(rt))),$){var nt=createIsCircular(rt.areArraysEqual),it=createIsCircular(rt.areMapsEqual),at=createIsCircular(rt.areObjectsEqual),st=createIsCircular(rt.areSetsEqual);rt=assign({},rt,{areArraysEqual:nt,areMapsEqual:it,areObjectsEqual:at,areSetsEqual:st})}return rt}function createInternalEqualityComparator(_e){return function($,et,tt,rt,nt,it,at){return _e($,et,at)}}function createIsEqual(_e){var $=_e.circular,et=_e.comparator,tt=_e.createState,rt=_e.equals,nt=_e.strict;if(tt)return function(st,ot){var lt=tt(),ct=lt.cache,ut=ct===void 0?$?new WeakMap:void 0:ct,dt=lt.meta;return et(st,ot,{cache:ut,equals:rt,meta:dt,strict:nt})};if($)return function(st,ot){return et(st,ot,{cache:new WeakMap,equals:rt,meta:void 0,strict:nt})};var it={cache:void 0,equals:rt,meta:void 0,strict:nt};return function(st,ot){return et(st,ot,it)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(_e){_e===void 0&&(_e={});var $=_e.circular,et=$===void 0?!1:$,tt=_e.createInternalComparator,rt=_e.createState,nt=_e.strict,it=nt===void 0?!1:nt,at=createEqualityComparatorConfig(_e),st=createEqualityComparator(at),ot=tt?tt(st):createInternalEqualityComparator(st);return createIsEqual({circular:et,comparator:st,createState:rt,equals:ot,strict:it})}function safeRequestAnimationFrame(_e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(_e)}function setRafTimeout(_e){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=-1,tt=function rt(nt){et<0&&(et=nt),nt-et>$?(_e(nt),et=-1):safeRequestAnimationFrame(rt)};requestAnimationFrame(tt)}function _typeof$r(_e){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$r(_e)}function _toArray(_e){return _arrayWithHoles$6(_e)||_iterableToArray$7(_e)||_unsupportedIterableToArray$a(_e)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$a(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$a(_e,$)}}function _arrayLikeToArray$a(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArray$7(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithHoles$6(_e){if(Array.isArray(_e))return _e}function createAnimateManager(){var _e={},$=function(){return null},et=!1,tt=function rt(nt){if(!et){if(Array.isArray(nt)){if(!nt.length)return;var it=nt,at=_toArray(it),st=at[0],ot=at.slice(1);if(typeof st=="number"){setRafTimeout(rt.bind(null,ot),st);return}rt(st),setRafTimeout(rt.bind(null,ot));return}_typeof$r(nt)==="object"&&(_e=nt,$(_e)),typeof nt=="function"&&nt()}};return{stop:function(){et=!0},start:function(nt){et=!1,tt(nt)},subscribe:function(nt){return $=nt,function(){$=function(){return null}}}}}function _typeof$q(_e){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$q(_e)}function ownKeys$n(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$n(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$n(Object(et),!0).forEach(function(tt){_defineProperty$q(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$n(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$q(_e,$,et){return $=_toPropertyKey$q($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$q(_e){var $=_toPrimitive$q(_e,"string");return _typeof$q($)==="symbol"?$:String($)}function _toPrimitive$q(_e,$){if(_typeof$q(_e)!=="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$q(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getIntersectionKeys=function _e($,et){return[Object.keys($),Object.keys(et)].reduce(function(tt,rt){return tt.filter(function(nt){return rt.includes(nt)})})},identity=function _e($){return $},getDashCase=function _e($){return $.replace(/([A-Z])/g,function(et){return"-".concat(et.toLowerCase())})},mapObject=function _e($,et){return Object.keys(et).reduce(function(tt,rt){return _objectSpread$n(_objectSpread$n({},tt),{},_defineProperty$q({},rt,$(rt,et[rt])))},{})},getTransitionVal=function _e($,et,tt){return $.map(function(rt){return"".concat(getDashCase(rt)," ").concat(et,"ms ").concat(tt)}).join(",")};function _slicedToArray$5(_e,$){return _arrayWithHoles$5(_e)||_iterableToArrayLimit$5(_e,$)||_unsupportedIterableToArray$9(_e,$)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$5(_e){if(Array.isArray(_e))return _e}function _toConsumableArray$6(_e){return _arrayWithoutHoles$6(_e)||_iterableToArray$6(_e)||_unsupportedIterableToArray$9(_e)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$9(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$9(_e,$)}}function _iterableToArray$6(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$6(_e){if(Array.isArray(_e))return _arrayLikeToArray$9(_e)}function _arrayLikeToArray$9(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}var ACCURACY=1e-4,cubicBezierFactor=function _e($,et){return[0,3*$,3*et-6*$,3*$-3*et+1]},multyTime=function _e($,et){return $.map(function(tt,rt){return tt*Math.pow(et,rt)}).reduce(function(tt,rt){return tt+rt})},cubicBezier=function _e($,et){return function(tt){var rt=cubicBezierFactor($,et);return multyTime(rt,tt)}},derivativeCubicBezier=function _e($,et){return function(tt){var rt=cubicBezierFactor($,et),nt=[].concat(_toConsumableArray$6(rt.map(function(it,at){return it*at}).slice(1)),[0]);return multyTime(nt,tt)}},configBezier=function _e(){for(var $=arguments.length,et=new Array($),tt=0;tt<$;tt++)et[tt]=arguments[tt];var rt=et[0],nt=et[1],it=et[2],at=et[3];if(et.length===1)switch(et[0]){case"linear":rt=0,nt=0,it=1,at=1;break;case"ease":rt=.25,nt=.1,it=.25,at=1;break;case"ease-in":rt=.42,nt=0,it=1,at=1;break;case"ease-out":rt=.42,nt=0,it=.58,at=1;break;case"ease-in-out":rt=0,nt=0,it=.58,at=1;break;default:{var st=et[0].split("(");if(st[0]==="cubic-bezier"&&st[1].split(")")[0].split(",").length===4){var ot=st[1].split(")")[0].split(",").map(function(pt){return parseFloat(pt)}),lt=_slicedToArray$5(ot,4);rt=lt[0],nt=lt[1],it=lt[2],at=lt[3]}}}var ct=cubicBezier(rt,it),ut=cubicBezier(nt,at),dt=derivativeCubicBezier(rt,it),ht=function(ft){return ft>1?1:ft<0?0:ft},mt=function(ft){for(var gt=ft>1?1:ft,bt=gt,_t=0;_t<8;++_t){var yt=ct(bt)-gt,vt=dt(bt);if(Math.abs(yt-gt)<ACCURACY||vt<ACCURACY)return ut(bt);bt=ht(bt-yt/vt)}return ut(bt)};return mt.isStepper=!1,mt},configSpring=function _e(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=$.stiff,tt=et===void 0?100:et,rt=$.damping,nt=rt===void 0?8:rt,it=$.dt,at=it===void 0?17:it,st=function(lt,ct,ut){var dt=-(lt-ct)*tt,ht=ut*nt,mt=ut+(dt-ht)*at/1e3,pt=ut*at/1e3+lt;return Math.abs(pt-ct)<ACCURACY&&Math.abs(mt)<ACCURACY?[ct,0]:[pt,mt]};return st.isStepper=!0,st.dt=at,st},configEasing=function _e(){for(var $=arguments.length,et=new Array($),tt=0;tt<$;tt++)et[tt]=arguments[tt];var rt=et[0];if(typeof rt=="string")switch(rt){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(rt);case"spring":return configSpring();default:if(rt.split("(")[0]==="cubic-bezier")return configBezier(rt)}return typeof rt=="function"?rt:null};function _typeof$p(_e){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$p(_e)}function _toConsumableArray$5(_e){return _arrayWithoutHoles$5(_e)||_iterableToArray$5(_e)||_unsupportedIterableToArray$8(_e)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$5(_e){if(Array.isArray(_e))return _arrayLikeToArray$8(_e)}function ownKeys$m(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$m(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$m(Object(et),!0).forEach(function(tt){_defineProperty$p(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$m(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$p(_e,$,et){return $=_toPropertyKey$p($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$p(_e){var $=_toPrimitive$p(_e,"string");return _typeof$p($)==="symbol"?$:String($)}function _toPrimitive$p(_e,$){if(_typeof$p(_e)!=="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$p(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$4(_e,$){return _arrayWithHoles$4(_e)||_iterableToArrayLimit$4(_e,$)||_unsupportedIterableToArray$8(_e,$)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$8(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$8(_e,$)}}function _arrayLikeToArray$8(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$4(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$4(_e){if(Array.isArray(_e))return _e}var alpha$1=function _e($,et,tt){return $+(et-$)*tt},needContinue=function _e($){var et=$.from,tt=$.to;return et!==tt},calStepperVals=function _e($,et,tt){var rt=mapObject(function(nt,it){if(needContinue(it)){var at=$(it.from,it.to,it.velocity),st=_slicedToArray$4(at,2),ot=st[0],lt=st[1];return _objectSpread$m(_objectSpread$m({},it),{},{from:ot,velocity:lt})}return it},et);return tt<1?mapObject(function(nt,it){return needContinue(it)?_objectSpread$m(_objectSpread$m({},it),{},{velocity:alpha$1(it.velocity,rt[nt].velocity,tt),from:alpha$1(it.from,rt[nt].from,tt)}):it},et):_e($,rt,tt-1)};const configUpdate=function(_e,$,et,tt,rt){var nt=getIntersectionKeys(_e,$),it=nt.reduce(function(pt,ft){return _objectSpread$m(_objectSpread$m({},pt),{},_defineProperty$p({},ft,[_e[ft],$[ft]]))},{}),at=nt.reduce(function(pt,ft){return _objectSpread$m(_objectSpread$m({},pt),{},_defineProperty$p({},ft,{from:_e[ft],velocity:0,to:$[ft]}))},{}),st=-1,ot,lt,ct=function(){return null},ut=function(){return mapObject(function(ft,gt){return gt.from},at)},dt=function(){return!Object.values(at).filter(needContinue).length},ht=function(ft){ot||(ot=ft);var gt=ft-ot,bt=gt/et.dt;at=calStepperVals(et,at,bt),rt(_objectSpread$m(_objectSpread$m(_objectSpread$m({},_e),$),ut())),ot=ft,dt()||(st=requestAnimationFrame(ct))},mt=function(ft){lt||(lt=ft);var gt=(ft-lt)/tt,bt=mapObject(function(yt,vt){return alpha$1.apply(void 0,_toConsumableArray$5(vt).concat([et(gt)]))},it);if(rt(_objectSpread$m(_objectSpread$m(_objectSpread$m({},_e),$),bt)),gt<1)st=requestAnimationFrame(ct);else{var _t=mapObject(function(yt,vt){return alpha$1.apply(void 0,_toConsumableArray$5(vt).concat([et(1)]))},it);rt(_objectSpread$m(_objectSpread$m(_objectSpread$m({},_e),$),_t))}};return ct=et.isStepper?ht:mt,function(){return requestAnimationFrame(ct),function(){cancelAnimationFrame(st)}}};function _typeof$o(_e){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$o(_e)}var _excluded$a=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$a(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$a(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$a(_e,$){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!($.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function _toConsumableArray$4(_e){return _arrayWithoutHoles$4(_e)||_iterableToArray$4(_e)||_unsupportedIterableToArray$7(_e)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$7(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$7(_e,$)}}function _iterableToArray$4(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$4(_e){if(Array.isArray(_e))return _arrayLikeToArray$7(_e)}function _arrayLikeToArray$7(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function ownKeys$l(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$l(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$l(Object(et),!0).forEach(function(tt){_defineProperty$o(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$l(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$o(_e,$,et){return $=_toPropertyKey$o($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _classCallCheck$f(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$o(tt.key),tt)}}function _createClass$f(_e,$,et){return $&&_defineProperties$f(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _toPropertyKey$o(_e){var $=_toPrimitive$o(_e,"string");return _typeof$o($)==="symbol"?$:String($)}function _toPrimitive$o(_e,$){if(_typeof$o(_e)!=="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$o(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _inherits$d(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$d(_e,$)}function _setPrototypeOf$d(_e,$){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$d(_e,$)}function _createSuper(_e){var $=_isNativeReflectConstruct$d();return function(){var tt=_getPrototypeOf$d(_e),rt;if($){var nt=_getPrototypeOf$d(this).constructor;rt=Reflect.construct(tt,arguments,nt)}else rt=tt.apply(this,arguments);return _possibleConstructorReturn$d(this,rt)}}function _possibleConstructorReturn$d(_e,$){if($&&(_typeof$o($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(_e)}function _assertThisInitialized$d(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$d(_e){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$d(_e)}var Animate=function(_e){_inherits$d(et,_e);var $=_createSuper(et);function et(tt,rt){var nt;_classCallCheck$f(this,et),nt=$.call(this,tt,rt);var it=nt.props,at=it.isActive,st=it.attributeName,ot=it.from,lt=it.to,ct=it.steps,ut=it.children,dt=it.duration;if(nt.handleStyleChange=nt.handleStyleChange.bind(_assertThisInitialized$d(nt)),nt.changeStyle=nt.changeStyle.bind(_assertThisInitialized$d(nt)),!at||dt<=0)return nt.state={style:{}},typeof ut=="function"&&(nt.state={style:lt}),_possibleConstructorReturn$d(nt);if(ct&&ct.length)nt.state={style:ct[0].style};else if(ot){if(typeof ut=="function")return nt.state={style:ot},_possibleConstructorReturn$d(nt);nt.state={style:st?_defineProperty$o({},st,ot):ot}}else nt.state={style:{}};return nt}return _createClass$f(et,[{key:"componentDidMount",value:function(){var rt=this.props,nt=rt.isActive,it=rt.canBegin;this.mounted=!0,!(!nt||!it)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(rt){var nt=this.props,it=nt.isActive,at=nt.canBegin,st=nt.attributeName,ot=nt.shouldReAnimate,lt=nt.to,ct=nt.from,ut=this.state.style;if(at){if(!it){var dt={style:st?_defineProperty$o({},st,lt):lt};this.state&&ut&&(st&&ut[st]!==lt||!st&&ut!==lt)&&this.setState(dt);return}if(!(deepEqual(rt.to,lt)&&rt.canBegin&&rt.isActive)){var ht=!rt.canBegin||!rt.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var mt=ht||ot?ct:rt.to;if(this.state&&ut){var pt={style:st?_defineProperty$o({},st,mt):mt};(st&&ut[st]!==mt||!st&&ut!==mt)&&this.setState(pt)}this.runAnimation(_objectSpread$l(_objectSpread$l({},this.props),{},{from:mt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var rt=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),rt&&rt()}},{key:"handleStyleChange",value:function(rt){this.changeStyle(rt)}},{key:"changeStyle",value:function(rt){this.mounted&&this.setState({style:rt})}},{key:"runJSAnimation",value:function(rt){var nt=this,it=rt.from,at=rt.to,st=rt.duration,ot=rt.easing,lt=rt.begin,ct=rt.onAnimationEnd,ut=rt.onAnimationStart,dt=configUpdate(it,at,configEasing(ot),st,this.changeStyle),ht=function(){nt.stopJSAnimation=dt()};this.manager.start([ut,lt,ht,st,ct])}},{key:"runStepAnimation",value:function(rt){var nt=this,it=rt.steps,at=rt.begin,st=rt.onAnimationStart,ot=it[0],lt=ot.style,ct=ot.duration,ut=ct===void 0?0:ct,dt=function(mt,pt,ft){if(ft===0)return mt;var gt=pt.duration,bt=pt.easing,_t=bt===void 0?"ease":bt,yt=pt.style,vt=pt.properties,xt=pt.onAnimationEnd,wt=ft>0?it[ft-1]:pt,St=vt||Object.keys(yt);if(typeof _t=="function"||_t==="spring")return[].concat(_toConsumableArray$4(mt),[nt.runJSAnimation.bind(nt,{from:wt.style,to:yt,duration:gt,easing:_t}),gt]);var Ot=getTransitionVal(St,gt,_t),Et=_objectSpread$l(_objectSpread$l(_objectSpread$l({},wt.style),yt),{},{transition:Ot});return[].concat(_toConsumableArray$4(mt),[Et,gt,xt]).filter(identity)};return this.manager.start([st].concat(_toConsumableArray$4(it.reduce(dt,[lt,Math.max(ut,at)])),[rt.onAnimationEnd]))}},{key:"runAnimation",value:function(rt){this.manager||(this.manager=createAnimateManager());var nt=rt.begin,it=rt.duration,at=rt.attributeName,st=rt.to,ot=rt.easing,lt=rt.onAnimationStart,ct=rt.onAnimationEnd,ut=rt.steps,dt=rt.children,ht=this.manager;if(this.unSubscribe=ht.subscribe(this.handleStyleChange),typeof ot=="function"||typeof dt=="function"||ot==="spring"){this.runJSAnimation(rt);return}if(ut.length>1){this.runStepAnimation(rt);return}var mt=at?_defineProperty$o({},at,st):st,pt=getTransitionVal(Object.keys(mt),it,ot);ht.start([lt,nt,_objectSpread$l(_objectSpread$l({},mt),{},{transition:pt}),it,ct])}},{key:"render",value:function(){var rt=this.props,nt=rt.children;rt.begin;var it=rt.duration;rt.attributeName,rt.easing;var at=rt.isActive;rt.steps,rt.from,rt.to,rt.canBegin,rt.onAnimationEnd,rt.shouldReAnimate,rt.onAnimationReStart;var st=_objectWithoutProperties$a(rt,_excluded$a),ot=reactExports.Children.count(nt),lt=this.state.style;if(typeof nt=="function")return nt(lt);if(!at||ot===0||it<=0)return nt;var ct=function(dt){var ht=dt.props,mt=ht.style,pt=mt===void 0?{}:mt,ft=ht.className,gt=reactExports.cloneElement(dt,_objectSpread$l(_objectSpread$l({},st),{},{style:_objectSpread$l(_objectSpread$l({},pt),lt),className:ft}));return gt};return ot===1?ct(reactExports.Children.only(nt)):React.createElement("div",null,reactExports.Children.map(nt,function(ut){return ct(ut)}))}}]),et}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function _e(){},onAnimationStart:function _e(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$n(_e){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$n(_e)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$j.apply(this,arguments)}function _slicedToArray$3(_e,$){return _arrayWithHoles$3(_e)||_iterableToArrayLimit$3(_e,$)||_unsupportedIterableToArray$6(_e,$)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$6(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$6(_e,$)}}function _arrayLikeToArray$6(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$3(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$3(_e){if(Array.isArray(_e))return _e}function ownKeys$k(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$k(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$k(Object(et),!0).forEach(function(tt){_defineProperty$n(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$k(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$n(_e,$,et){return $=_toPropertyKey$n($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$n(_e){var $=_toPrimitive$n(_e,"string");return _typeof$n($)=="symbol"?$:$+""}function _toPrimitive$n(_e,$){if(_typeof$n(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$n(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getRectanglePath=function _e($,et,tt,rt,nt){var it=Math.min(Math.abs(tt)/2,Math.abs(rt)/2),at=rt>=0?1:-1,st=tt>=0?1:-1,ot=rt>=0&&tt>=0||rt<0&&tt<0?1:0,lt;if(it>0&&nt instanceof Array){for(var ct=[0,0,0,0],ut=0,dt=4;ut<dt;ut++)ct[ut]=nt[ut]>it?it:nt[ut];lt="M".concat($,",").concat(et+at*ct[0]),ct[0]>0&&(lt+="A ".concat(ct[0],",").concat(ct[0],",0,0,").concat(ot,",").concat($+st*ct[0],",").concat(et)),lt+="L ".concat($+tt-st*ct[1],",").concat(et),ct[1]>0&&(lt+="A ".concat(ct[1],",").concat(ct[1],",0,0,").concat(ot,`,
        `).concat($+tt,",").concat(et+at*ct[1])),lt+="L ".concat($+tt,",").concat(et+rt-at*ct[2]),ct[2]>0&&(lt+="A ".concat(ct[2],",").concat(ct[2],",0,0,").concat(ot,`,
        `).concat($+tt-st*ct[2],",").concat(et+rt)),lt+="L ".concat($+st*ct[3],",").concat(et+rt),ct[3]>0&&(lt+="A ".concat(ct[3],",").concat(ct[3],",0,0,").concat(ot,`,
        `).concat($,",").concat(et+rt-at*ct[3])),lt+="Z"}else if(it>0&&nt===+nt&&nt>0){var ht=Math.min(it,nt);lt="M ".concat($,",").concat(et+at*ht,`
            A `).concat(ht,",").concat(ht,",0,0,").concat(ot,",").concat($+st*ht,",").concat(et,`
            L `).concat($+tt-st*ht,",").concat(et,`
            A `).concat(ht,",").concat(ht,",0,0,").concat(ot,",").concat($+tt,",").concat(et+at*ht,`
            L `).concat($+tt,",").concat(et+rt-at*ht,`
            A `).concat(ht,",").concat(ht,",0,0,").concat(ot,",").concat($+tt-st*ht,",").concat(et+rt,`
            L `).concat($+st*ht,",").concat(et+rt,`
            A `).concat(ht,",").concat(ht,",0,0,").concat(ot,",").concat($,",").concat(et+rt-at*ht," Z")}else lt="M ".concat($,",").concat(et," h ").concat(tt," v ").concat(rt," h ").concat(-tt," Z");return lt},isInRectangle=function _e($,et){if(!$||!et)return!1;var tt=$.x,rt=$.y,nt=et.x,it=et.y,at=et.width,st=et.height;if(Math.abs(at)>0&&Math.abs(st)>0){var ot=Math.min(nt,nt+at),lt=Math.max(nt,nt+at),ct=Math.min(it,it+st),ut=Math.max(it,it+st);return tt>=ot&&tt<=lt&&rt>=ct&&rt<=ut}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function _e($){var et=_objectSpread$k(_objectSpread$k({},defaultProps$2),$),tt=reactExports.useRef(),rt=reactExports.useState(-1),nt=_slicedToArray$3(rt,2),it=nt[0],at=nt[1];reactExports.useEffect(function(){if(tt.current&&tt.current.getTotalLength)try{var _t=tt.current.getTotalLength();_t&&at(_t)}catch{}},[]);var st=et.x,ot=et.y,lt=et.width,ct=et.height,ut=et.radius,dt=et.className,ht=et.animationEasing,mt=et.animationDuration,pt=et.animationBegin,ft=et.isAnimationActive,gt=et.isUpdateAnimationActive;if(st!==+st||ot!==+ot||lt!==+lt||ct!==+ct||lt===0||ct===0)return null;var bt=clsx("recharts-rectangle",dt);return gt?React.createElement(Animate,{canBegin:it>0,from:{width:lt,height:ct,x:st,y:ot},to:{width:lt,height:ct,x:st,y:ot},duration:mt,animationEasing:ht,isActive:gt},function(_t){var yt=_t.width,vt=_t.height,xt=_t.x,wt=_t.y;return React.createElement(Animate,{canBegin:it>0,from:"0px ".concat(it===-1?1:it,"px"),to:"".concat(it,"px 0px"),attributeName:"strokeDasharray",begin:pt,duration:mt,isActive:ft,easing:ht},React.createElement("path",_extends$j({},filterProps(et,!0),{className:bt,d:getRectanglePath(xt,wt,yt,vt,ut),ref:tt})))}):React.createElement("path",_extends$j({},filterProps(et,!0),{className:bt,d:getRectanglePath(st,ot,lt,ct,ut)}))},_excluded$9=["points","className","baseLinePoints","connectNulls"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$i.apply(this,arguments)}function _objectWithoutProperties$9(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$9(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$9(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _toConsumableArray$3(_e){return _arrayWithoutHoles$3(_e)||_iterableToArray$3(_e)||_unsupportedIterableToArray$5(_e)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$5(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$5(_e,$)}}function _iterableToArray$3(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$3(_e){if(Array.isArray(_e))return _arrayLikeToArray$5(_e)}function _arrayLikeToArray$5(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}var isValidatePoint=function _e($){return $&&$.x===+$.x&&$.y===+$.y},getParsedPoints=function _e(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],et=[[]];return $.forEach(function(tt){isValidatePoint(tt)?et[et.length-1].push(tt):et[et.length-1].length>0&&et.push([])}),isValidatePoint($[0])&&et[et.length-1].push($[0]),et[et.length-1].length<=0&&(et=et.slice(0,-1)),et},getSinglePolygonPath=function _e($,et){var tt=getParsedPoints($);et&&(tt=[tt.reduce(function(nt,it){return[].concat(_toConsumableArray$3(nt),_toConsumableArray$3(it))},[])]);var rt=tt.map(function(nt){return nt.reduce(function(it,at,st){return"".concat(it).concat(st===0?"M":"L").concat(at.x,",").concat(at.y)},"")}).join("");return tt.length===1?"".concat(rt,"Z"):rt},getRanglePath=function _e($,et,tt){var rt=getSinglePolygonPath($,tt);return"".concat(rt.slice(-1)==="Z"?rt.slice(0,-1):rt,"L").concat(getSinglePolygonPath(et.reverse(),tt).slice(1))},Polygon=function _e($){var et=$.points,tt=$.className,rt=$.baseLinePoints,nt=$.connectNulls,it=_objectWithoutProperties$9($,_excluded$9);if(!et||!et.length)return null;var at=clsx("recharts-polygon",tt);if(rt&&rt.length){var st=it.stroke&&it.stroke!=="none",ot=getRanglePath(et,rt,nt);return React.createElement("g",{className:at},React.createElement("path",_extends$i({},filterProps(it,!0),{fill:ot.slice(-1)==="Z"?it.fill:"none",stroke:"none",d:ot})),st?React.createElement("path",_extends$i({},filterProps(it,!0),{fill:"none",d:getSinglePolygonPath(et,nt)})):null,st?React.createElement("path",_extends$i({},filterProps(it,!0),{fill:"none",d:getSinglePolygonPath(rt,nt)})):null)}var lt=getSinglePolygonPath(et,nt);return React.createElement("path",_extends$i({},filterProps(it,!0),{fill:lt.slice(-1)==="Z"?it.fill:"none",className:at,d:lt}))};function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$h.apply(this,arguments)}var Dot=function _e($){var et=$.cx,tt=$.cy,rt=$.r,nt=$.className,it=clsx("recharts-dot",nt);return et===+et&&tt===+tt&&rt===+rt?React.createElement("circle",_extends$h({},filterProps($,!1),adaptEventHandlers($),{className:it,cx:et,cy:tt,r:rt})):null};function _typeof$m(_e){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$m(_e)}var _excluded$8=["x","y","top","left","width","height","className"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$g.apply(this,arguments)}function ownKeys$j(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$j(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$j(Object(et),!0).forEach(function(tt){_defineProperty$m(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$j(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$m(_e,$,et){return $=_toPropertyKey$m($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$m(_e){var $=_toPrimitive$m(_e,"string");return _typeof$m($)=="symbol"?$:$+""}function _toPrimitive$m(_e,$){if(_typeof$m(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$m(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$8(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$8(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$8(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}var getPath=function _e($,et,tt,rt,nt,it){return"M".concat($,",").concat(nt,"v").concat(rt,"M").concat(it,",").concat(et,"h").concat(tt)},Cross=function _e($){var et=$.x,tt=et===void 0?0:et,rt=$.y,nt=rt===void 0?0:rt,it=$.top,at=it===void 0?0:it,st=$.left,ot=st===void 0?0:st,lt=$.width,ct=lt===void 0?0:lt,ut=$.height,dt=ut===void 0?0:ut,ht=$.className,mt=_objectWithoutProperties$8($,_excluded$8),pt=_objectSpread$j({x:tt,y:nt,top:at,left:ot,width:ct,height:dt},mt);return!isNumber$1(tt)||!isNumber$1(nt)||!isNumber$1(ct)||!isNumber$1(dt)||!isNumber$1(at)||!isNumber$1(ot)?null:React.createElement("path",_extends$g({},filterProps(pt,!0),{className:clsx("recharts-cross",ht),d:getPath(tt,nt,ct,dt,at,ot)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;function maxBy(_e,$){return _e&&_e.length?baseExtremum$1(_e,baseIteratee$6($),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;function minBy(_e,$){return _e&&_e.length?baseExtremum(_e,baseIteratee$5($),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$7=["cx","cy","angle","ticks","axisLine"],_excluded2$4=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$l(_e){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$l(_e)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$f.apply(this,arguments)}function ownKeys$i(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$i(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$i(Object(et),!0).forEach(function(tt){_defineProperty$l(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$i(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _objectWithoutProperties$7(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$7(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$7(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _classCallCheck$e(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$l(tt.key),tt)}}function _createClass$e(_e,$,et){return $&&_defineProperties$e(_e.prototype,$),et&&_defineProperties$e(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$c(_e,$,et){return $=_getPrototypeOf$c($),_possibleConstructorReturn$c(_e,_isNativeReflectConstruct$c()?Reflect.construct($,et||[],_getPrototypeOf$c(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$c(_e,$){if($&&(_typeof$l($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(_e)}function _assertThisInitialized$c(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$c(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!_e})()}function _getPrototypeOf$c(_e){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$c(_e)}function _inherits$c(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$c(_e,$)}function _setPrototypeOf$c(_e,$){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$c(_e,$)}function _defineProperty$l(_e,$,et){return $=_toPropertyKey$l($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$l(_e){var $=_toPrimitive$l(_e,"string");return _typeof$l($)=="symbol"?$:$+""}function _toPrimitive$l(_e,$){if(_typeof$l(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$l(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var PolarRadiusAxis=function(_e){function $(){return _classCallCheck$e(this,$),_callSuper$c(this,$,arguments)}return _inherits$c($,_e),_createClass$e($,[{key:"getTickValueCoord",value:function(tt){var rt=tt.coordinate,nt=this.props,it=nt.angle,at=nt.cx,st=nt.cy;return polarToCartesian(at,st,rt,it)}},{key:"getTickTextAnchor",value:function(){var tt=this.props.orientation,rt;switch(tt){case"left":rt="end";break;case"right":rt="start";break;default:rt="middle";break}return rt}},{key:"getViewBox",value:function(){var tt=this.props,rt=tt.cx,nt=tt.cy,it=tt.angle,at=tt.ticks,st=maxBy$1(at,function(lt){return lt.coordinate||0}),ot=minBy$1(at,function(lt){return lt.coordinate||0});return{cx:rt,cy:nt,startAngle:it,endAngle:it,innerRadius:ot.coordinate||0,outerRadius:st.coordinate||0}}},{key:"renderAxisLine",value:function(){var tt=this.props,rt=tt.cx,nt=tt.cy,it=tt.angle,at=tt.ticks,st=tt.axisLine,ot=_objectWithoutProperties$7(tt,_excluded$7),lt=at.reduce(function(ht,mt){return[Math.min(ht[0],mt.coordinate),Math.max(ht[1],mt.coordinate)]},[1/0,-1/0]),ct=polarToCartesian(rt,nt,lt[0],it),ut=polarToCartesian(rt,nt,lt[1],it),dt=_objectSpread$i(_objectSpread$i(_objectSpread$i({},filterProps(ot,!1)),{},{fill:"none"},filterProps(st,!1)),{},{x1:ct.x,y1:ct.y,x2:ut.x,y2:ut.y});return React.createElement("line",_extends$f({className:"recharts-polar-radius-axis-line"},dt))}},{key:"renderTicks",value:function(){var tt=this,rt=this.props,nt=rt.ticks,it=rt.tick,at=rt.angle,st=rt.tickFormatter,ot=rt.stroke,lt=_objectWithoutProperties$7(rt,_excluded2$4),ct=this.getTickTextAnchor(),ut=filterProps(lt,!1),dt=filterProps(it,!1),ht=nt.map(function(mt,pt){var ft=tt.getTickValueCoord(mt),gt=_objectSpread$i(_objectSpread$i(_objectSpread$i(_objectSpread$i({textAnchor:ct,transform:"rotate(".concat(90-at,", ").concat(ft.x,", ").concat(ft.y,")")},ut),{},{stroke:"none",fill:ot},dt),{},{index:pt},ft),{},{payload:mt});return React.createElement(Layer,_extends$f({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(it)),key:"tick-".concat(mt.coordinate)},adaptEventsOfChild(tt.props,mt,pt)),$.renderTickItem(it,gt,st?st(mt.value,pt):mt.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},ht)}},{key:"render",value:function(){var tt=this.props,rt=tt.ticks,nt=tt.axisLine,it=tt.tick;return!rt||!rt.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},nt&&this.renderAxisLine(),it&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(tt,rt,nt){var it;return React.isValidElement(tt)?it=React.cloneElement(tt,rt):isFunction$4(tt)?it=tt(rt):it=React.createElement(Text,_extends$f({},rt,{className:"recharts-polar-radius-axis-tick-value"}),nt),it}}])}(reactExports.PureComponent);_defineProperty$l(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$l(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$l(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$k(_e){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$k(_e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$e.apply(this,arguments)}function ownKeys$h(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$h(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$h(Object(et),!0).forEach(function(tt){_defineProperty$k(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$h(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$d(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$k(tt.key),tt)}}function _createClass$d(_e,$,et){return $&&_defineProperties$d(_e.prototype,$),et&&_defineProperties$d(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$b(_e,$,et){return $=_getPrototypeOf$b($),_possibleConstructorReturn$b(_e,_isNativeReflectConstruct$b()?Reflect.construct($,et||[],_getPrototypeOf$b(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$b(_e,$){if($&&(_typeof$k($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(_e)}function _assertThisInitialized$b(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$b(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!_e})()}function _getPrototypeOf$b(_e){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$b(_e)}function _inherits$b(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$b(_e,$)}function _setPrototypeOf$b(_e,$){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$b(_e,$)}function _defineProperty$k(_e,$,et){return $=_toPropertyKey$k($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$k(_e){var $=_toPrimitive$k(_e,"string");return _typeof$k($)=="symbol"?$:$+""}function _toPrimitive$k(_e,$){if(_typeof$k(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$k(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(_e){function $(){return _classCallCheck$d(this,$),_callSuper$b(this,$,arguments)}return _inherits$b($,_e),_createClass$d($,[{key:"getTickLineCoord",value:function(tt){var rt=this.props,nt=rt.cx,it=rt.cy,at=rt.radius,st=rt.orientation,ot=rt.tickSize,lt=ot||8,ct=polarToCartesian(nt,it,at,tt.coordinate),ut=polarToCartesian(nt,it,at+(st==="inner"?-1:1)*lt,tt.coordinate);return{x1:ct.x,y1:ct.y,x2:ut.x,y2:ut.y}}},{key:"getTickTextAnchor",value:function(tt){var rt=this.props.orientation,nt=Math.cos(-tt.coordinate*RADIAN),it;return nt>eps?it=rt==="outer"?"start":"end":nt<-eps?it=rt==="outer"?"end":"start":it="middle",it}},{key:"renderAxisLine",value:function(){var tt=this.props,rt=tt.cx,nt=tt.cy,it=tt.radius,at=tt.axisLine,st=tt.axisLineType,ot=_objectSpread$h(_objectSpread$h({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(at,!1));if(st==="circle")return React.createElement(Dot,_extends$e({className:"recharts-polar-angle-axis-line"},ot,{cx:rt,cy:nt,r:it}));var lt=this.props.ticks,ct=lt.map(function(ut){return polarToCartesian(rt,nt,it,ut.coordinate)});return React.createElement(Polygon,_extends$e({className:"recharts-polar-angle-axis-line"},ot,{points:ct}))}},{key:"renderTicks",value:function(){var tt=this,rt=this.props,nt=rt.ticks,it=rt.tick,at=rt.tickLine,st=rt.tickFormatter,ot=rt.stroke,lt=filterProps(this.props,!1),ct=filterProps(it,!1),ut=_objectSpread$h(_objectSpread$h({},lt),{},{fill:"none"},filterProps(at,!1)),dt=nt.map(function(ht,mt){var pt=tt.getTickLineCoord(ht),ft=tt.getTickTextAnchor(ht),gt=_objectSpread$h(_objectSpread$h(_objectSpread$h({textAnchor:ft},lt),{},{stroke:"none",fill:ot},ct),{},{index:mt,payload:ht,x:pt.x2,y:pt.y2});return React.createElement(Layer,_extends$e({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(it)),key:"tick-".concat(ht.coordinate)},adaptEventsOfChild(tt.props,ht,mt)),at&&React.createElement("line",_extends$e({className:"recharts-polar-angle-axis-tick-line"},ut,pt)),it&&$.renderTickItem(it,gt,st?st(ht.value,mt):ht.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},dt)}},{key:"render",value:function(){var tt=this.props,rt=tt.ticks,nt=tt.radius,it=tt.axisLine;return nt<=0||!rt||!rt.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},it&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(tt,rt,nt){var it;return React.isValidElement(tt)?it=React.cloneElement(tt,rt):isFunction$4(tt)?it=tt(rt):it=React.createElement(Text,_extends$e({},rt,{className:"recharts-polar-angle-axis-tick-value"}),nt),it}}])}(reactExports.PureComponent);_defineProperty$k(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$k(PolarAngleAxis,"axisType","angleAxis");_defineProperty$k(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(_e){if(!isObjectLike$1(_e)||baseGetTag$1(_e)!=objectTag)return!1;var $=getPrototype(_e);if($===null)return!0;var et=hasOwnProperty.call($,"constructor")&&$.constructor;return typeof et=="function"&&et instanceof et&&funcToString.call(et)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(_e){return _e===!0||_e===!1||isObjectLike(_e)&&baseGetTag(_e)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$j(_e){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$j(_e)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$d.apply(this,arguments)}function _slicedToArray$2(_e,$){return _arrayWithHoles$2(_e)||_iterableToArrayLimit$2(_e,$)||_unsupportedIterableToArray$4(_e,$)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$4(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$4(_e,$)}}function _arrayLikeToArray$4(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$2(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$2(_e){if(Array.isArray(_e))return _e}function ownKeys$g(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$g(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$g(Object(et),!0).forEach(function(tt){_defineProperty$j(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$g(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$j(_e,$,et){return $=_toPropertyKey$j($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$j(_e){var $=_toPrimitive$j(_e,"string");return _typeof$j($)=="symbol"?$:$+""}function _toPrimitive$j(_e,$){if(_typeof$j(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$j(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getTrapezoidPath=function _e($,et,tt,rt,nt){var it=tt-rt,at;return at="M ".concat($,",").concat(et),at+="L ".concat($+tt,",").concat(et),at+="L ".concat($+tt-it/2,",").concat(et+nt),at+="L ".concat($+tt-it/2-rt,",").concat(et+nt),at+="L ".concat($,",").concat(et," Z"),at},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function _e($){var et=_objectSpread$g(_objectSpread$g({},defaultProps$1),$),tt=reactExports.useRef(),rt=reactExports.useState(-1),nt=_slicedToArray$2(rt,2),it=nt[0],at=nt[1];reactExports.useEffect(function(){if(tt.current&&tt.current.getTotalLength)try{var bt=tt.current.getTotalLength();bt&&at(bt)}catch{}},[]);var st=et.x,ot=et.y,lt=et.upperWidth,ct=et.lowerWidth,ut=et.height,dt=et.className,ht=et.animationEasing,mt=et.animationDuration,pt=et.animationBegin,ft=et.isUpdateAnimationActive;if(st!==+st||ot!==+ot||lt!==+lt||ct!==+ct||ut!==+ut||lt===0&&ct===0||ut===0)return null;var gt=clsx("recharts-trapezoid",dt);return ft?React.createElement(Animate,{canBegin:it>0,from:{upperWidth:0,lowerWidth:0,height:ut,x:st,y:ot},to:{upperWidth:lt,lowerWidth:ct,height:ut,x:st,y:ot},duration:mt,animationEasing:ht,isActive:ft},function(bt){var _t=bt.upperWidth,yt=bt.lowerWidth,vt=bt.height,xt=bt.x,wt=bt.y;return React.createElement(Animate,{canBegin:it>0,from:"0px ".concat(it===-1?1:it,"px"),to:"".concat(it,"px 0px"),attributeName:"strokeDasharray",begin:pt,duration:mt,easing:ht},React.createElement("path",_extends$d({},filterProps(et,!0),{className:gt,d:getTrapezoidPath(xt,wt,_t,yt,vt),ref:tt})))}):React.createElement("g",null,React.createElement("path",_extends$d({},filterProps(et,!0),{className:gt,d:getTrapezoidPath(st,ot,lt,ct,ut)})))},_excluded$6=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$i(_e){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$i(_e)}function _objectWithoutProperties$6(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$6(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$6(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function ownKeys$f(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$f(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$f(Object(et),!0).forEach(function(tt){_defineProperty$i(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$f(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$i(_e,$,et){return $=_toPropertyKey$i($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$i(_e){var $=_toPrimitive$i(_e,"string");return _typeof$i($)=="symbol"?$:$+""}function _toPrimitive$i(_e,$){if(_typeof$i(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$i(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function defaultPropTransformer(_e,$){return _objectSpread$f(_objectSpread$f({},$),_e)}function isSymbolsProps(_e,$){return _e==="symbols"}function ShapeSelector(_e){var $=_e.shapeType,et=_e.elementProps;switch($){case"rectangle":return React.createElement(Rectangle,et);case"trapezoid":return React.createElement(Trapezoid,et);case"sector":return React.createElement(Sector,et);case"symbols":if(isSymbolsProps($))return React.createElement(Symbols,et);break;default:return null}}function getPropsFromShapeOption(_e){return reactExports.isValidElement(_e)?_e.props:_e}function Shape(_e){var $=_e.option,et=_e.shapeType,tt=_e.propTransformer,rt=tt===void 0?defaultPropTransformer:tt,nt=_e.activeClassName,it=nt===void 0?"recharts-active-shape":nt,at=_e.isActive,st=_objectWithoutProperties$6(_e,_excluded$6),ot;if(reactExports.isValidElement($))ot=reactExports.cloneElement($,_objectSpread$f(_objectSpread$f({},st),getPropsFromShapeOption($)));else if(isFunction$4($))ot=$(st);else if(isPlainObject$1($)&&!isBoolean$1($)){var lt=rt($,st);ot=React.createElement(ShapeSelector,{shapeType:et,elementProps:lt})}else{var ct=st;ot=React.createElement(ShapeSelector,{shapeType:et,elementProps:ct})}return at?React.createElement(Layer,{className:it},ot):ot}function isFunnel(_e,$){return $!=null&&"trapezoids"in _e.props}function isPie(_e,$){return $!=null&&"sectors"in _e.props}function isScatter(_e,$){return $!=null&&"points"in _e.props}function compareFunnel(_e,$){var et,tt,rt=_e.x===($==null||(et=$.labelViewBox)===null||et===void 0?void 0:et.x)||_e.x===$.x,nt=_e.y===($==null||(tt=$.labelViewBox)===null||tt===void 0?void 0:tt.y)||_e.y===$.y;return rt&&nt}function comparePie(_e,$){var et=_e.endAngle===$.endAngle,tt=_e.startAngle===$.startAngle;return et&&tt}function compareScatter(_e,$){var et=_e.x===$.x,tt=_e.y===$.y,rt=_e.z===$.z;return et&&tt&&rt}function getComparisonFn(_e,$){var et;return isFunnel(_e,$)?et=compareFunnel:isPie(_e,$)?et=comparePie:isScatter(_e,$)&&(et=compareScatter),et}function getShapeDataKey(_e,$){var et;return isFunnel(_e,$)?et="trapezoids":isPie(_e,$)?et="sectors":isScatter(_e,$)&&(et="points"),et}function getActiveShapeTooltipPayload(_e,$){if(isFunnel(_e,$)){var et;return(et=$.tooltipPayload)===null||et===void 0||(et=et[0])===null||et===void 0||(et=et.payload)===null||et===void 0?void 0:et.payload}if(isPie(_e,$)){var tt;return(tt=$.tooltipPayload)===null||tt===void 0||(tt=tt[0])===null||tt===void 0||(tt=tt.payload)===null||tt===void 0?void 0:tt.payload}return isScatter(_e,$)?$.payload:{}}function getActiveShapeIndexForTooltip(_e){var $=_e.activeTooltipItem,et=_e.graphicalItem,tt=_e.itemData,rt=getShapeDataKey(et,$),nt=getActiveShapeTooltipPayload(et,$),it=tt.filter(function(st,ot){var lt=isEqual$1(nt,st),ct=et.props[rt].filter(function(ht){var mt=getComparisonFn(et,$);return mt(ht,$)}),ut=et.props[rt].indexOf(ct[ct.length-1]),dt=ot===ut;return lt&&dt}),at=tt.indexOf(it[it.length-1]);return at}var _Pie;function _typeof$h(_e){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$h(_e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$c.apply(this,arguments)}function ownKeys$e(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$e(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$e(Object(et),!0).forEach(function(tt){_defineProperty$h(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$e(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$c(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$h(tt.key),tt)}}function _createClass$c(_e,$,et){return $&&_defineProperties$c(_e.prototype,$),et&&_defineProperties$c(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$a(_e,$,et){return $=_getPrototypeOf$a($),_possibleConstructorReturn$a(_e,_isNativeReflectConstruct$a()?Reflect.construct($,et||[],_getPrototypeOf$a(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$a(_e,$){if($&&(_typeof$h($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(_e)}function _assertThisInitialized$a(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$a(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!_e})()}function _getPrototypeOf$a(_e){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$a(_e)}function _inherits$a(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$a(_e,$)}function _setPrototypeOf$a(_e,$){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$a(_e,$)}function _defineProperty$h(_e,$,et){return $=_toPropertyKey$h($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$h(_e){var $=_toPrimitive$h(_e,"string");return _typeof$h($)=="symbol"?$:$+""}function _toPrimitive$h(_e,$){if(_typeof$h(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$h(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var Pie=function(_e){function $(et){var tt;return _classCallCheck$c(this,$),tt=_callSuper$a(this,$,[et]),_defineProperty$h(tt,"pieRef",null),_defineProperty$h(tt,"sectorRefs",[]),_defineProperty$h(tt,"id",uniqueId("recharts-pie-")),_defineProperty$h(tt,"handleAnimationEnd",function(){var rt=tt.props.onAnimationEnd;tt.setState({isAnimationFinished:!0}),isFunction$4(rt)&&rt()}),_defineProperty$h(tt,"handleAnimationStart",function(){var rt=tt.props.onAnimationStart;tt.setState({isAnimationFinished:!1}),isFunction$4(rt)&&rt()}),tt.state={isAnimationFinished:!et.isAnimationActive,prevIsAnimationActive:et.isAnimationActive,prevAnimationId:et.animationId,sectorToFocus:0},tt}return _inherits$a($,_e),_createClass$c($,[{key:"isActiveIndex",value:function(tt){var rt=this.props.activeIndex;return Array.isArray(rt)?rt.indexOf(tt)!==-1:tt===rt}},{key:"hasActiveIndex",value:function(){var tt=this.props.activeIndex;return Array.isArray(tt)?tt.length!==0:tt||tt===0}},{key:"renderLabels",value:function(tt){var rt=this.props.isAnimationActive;if(rt&&!this.state.isAnimationFinished)return null;var nt=this.props,it=nt.label,at=nt.labelLine,st=nt.dataKey,ot=nt.valueKey,lt=filterProps(this.props,!1),ct=filterProps(it,!1),ut=filterProps(at,!1),dt=it&&it.offsetRadius||20,ht=tt.map(function(mt,pt){var ft=(mt.startAngle+mt.endAngle)/2,gt=polarToCartesian(mt.cx,mt.cy,mt.outerRadius+dt,ft),bt=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},lt),mt),{},{stroke:"none"},ct),{},{index:pt,textAnchor:$.getTextAnchor(gt.x,mt.cx)},gt),_t=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},lt),mt),{},{fill:"none",stroke:mt.fill},ut),{},{index:pt,points:[polarToCartesian(mt.cx,mt.cy,mt.outerRadius,ft),gt]}),yt=st;return isNil$1(st)&&isNil$1(ot)?yt="value":isNil$1(st)&&(yt=ot),React.createElement(Layer,{key:"label-".concat(mt.startAngle,"-").concat(mt.endAngle,"-").concat(mt.midAngle,"-").concat(pt)},at&&$.renderLabelLineItem(at,_t,"line"),$.renderLabelItem(it,bt,getValueByDataKey(mt,yt)))});return React.createElement(Layer,{className:"recharts-pie-labels"},ht)}},{key:"renderSectorsStatically",value:function(tt){var rt=this,nt=this.props,it=nt.activeShape,at=nt.blendStroke,st=nt.inactiveShape;return tt.map(function(ot,lt){if((ot==null?void 0:ot.startAngle)===0&&(ot==null?void 0:ot.endAngle)===0&&tt.length!==1)return null;var ct=rt.isActiveIndex(lt),ut=st&&rt.hasActiveIndex()?st:null,dt=ct?it:ut,ht=_objectSpread$e(_objectSpread$e({},ot),{},{stroke:at?ot.fill:ot.stroke,tabIndex:-1});return React.createElement(Layer,_extends$c({ref:function(pt){pt&&!rt.sectorRefs.includes(pt)&&rt.sectorRefs.push(pt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(rt.props,ot,lt),{key:"sector-".concat(ot==null?void 0:ot.startAngle,"-").concat(ot==null?void 0:ot.endAngle,"-").concat(ot.midAngle,"-").concat(lt)}),React.createElement(Shape,_extends$c({option:dt,isActive:ct,shapeType:"sector"},ht)))})}},{key:"renderSectorsWithAnimation",value:function(){var tt=this,rt=this.props,nt=rt.sectors,it=rt.isAnimationActive,at=rt.animationBegin,st=rt.animationDuration,ot=rt.animationEasing,lt=rt.animationId,ct=this.state,ut=ct.prevSectors,dt=ct.prevIsAnimationActive;return React.createElement(Animate,{begin:at,duration:st,isActive:it,easing:ot,from:{t:0},to:{t:1},key:"pie-".concat(lt,"-").concat(dt),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(ht){var mt=ht.t,pt=[],ft=nt&&nt[0],gt=ft.startAngle;return nt.forEach(function(bt,_t){var yt=ut&&ut[_t],vt=_t>0?get$2(bt,"paddingAngle",0):0;if(yt){var xt=interpolateNumber$2(yt.endAngle-yt.startAngle,bt.endAngle-bt.startAngle),wt=_objectSpread$e(_objectSpread$e({},bt),{},{startAngle:gt+vt,endAngle:gt+xt(mt)+vt});pt.push(wt),gt=wt.endAngle}else{var St=bt.endAngle,Ot=bt.startAngle,Et=interpolateNumber$2(0,St-Ot),Tt=Et(mt),It=_objectSpread$e(_objectSpread$e({},bt),{},{startAngle:gt+vt,endAngle:gt+Tt+vt});pt.push(It),gt=It.endAngle}}),React.createElement(Layer,null,tt.renderSectorsStatically(pt))})}},{key:"attachKeyboardHandlers",value:function(tt){var rt=this;tt.onkeydown=function(nt){if(!nt.altKey)switch(nt.key){case"ArrowLeft":{var it=++rt.state.sectorToFocus%rt.sectorRefs.length;rt.sectorRefs[it].focus(),rt.setState({sectorToFocus:it});break}case"ArrowRight":{var at=--rt.state.sectorToFocus<0?rt.sectorRefs.length-1:rt.state.sectorToFocus%rt.sectorRefs.length;rt.sectorRefs[at].focus(),rt.setState({sectorToFocus:at});break}case"Escape":{rt.sectorRefs[rt.state.sectorToFocus].blur(),rt.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var tt=this.props,rt=tt.sectors,nt=tt.isAnimationActive,it=this.state.prevSectors;return nt&&rt&&rt.length&&(!it||!isEqual$1(it,rt))?this.renderSectorsWithAnimation():this.renderSectorsStatically(rt)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var tt=this,rt=this.props,nt=rt.hide,it=rt.sectors,at=rt.className,st=rt.label,ot=rt.cx,lt=rt.cy,ct=rt.innerRadius,ut=rt.outerRadius,dt=rt.isAnimationActive,ht=this.state.isAnimationFinished;if(nt||!it||!it.length||!isNumber$1(ot)||!isNumber$1(lt)||!isNumber$1(ct)||!isNumber$1(ut))return null;var mt=clsx("recharts-pie",at);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:mt,ref:function(ft){tt.pieRef=ft}},this.renderSectors(),st&&this.renderLabels(it),Label.renderCallByParent(this.props,null,!1),(!dt||ht)&&LabelList.renderCallByParent(this.props,it,!1))}}],[{key:"getDerivedStateFromProps",value:function(tt,rt){return rt.prevIsAnimationActive!==tt.isAnimationActive?{prevIsAnimationActive:tt.isAnimationActive,prevAnimationId:tt.animationId,curSectors:tt.sectors,prevSectors:[],isAnimationFinished:!0}:tt.isAnimationActive&&tt.animationId!==rt.prevAnimationId?{prevAnimationId:tt.animationId,curSectors:tt.sectors,prevSectors:rt.curSectors,isAnimationFinished:!0}:tt.sectors!==rt.curSectors?{curSectors:tt.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(tt,rt){return tt>rt?"start":tt<rt?"end":"middle"}},{key:"renderLabelLineItem",value:function(tt,rt,nt){if(React.isValidElement(tt))return React.cloneElement(tt,rt);if(isFunction$4(tt))return tt(rt);var it=clsx("recharts-pie-label-line",typeof tt!="boolean"?tt.className:"");return React.createElement(Curve,_extends$c({},rt,{key:nt,type:"linear",className:it}))}},{key:"renderLabelItem",value:function(tt,rt,nt){if(React.isValidElement(tt))return React.cloneElement(tt,rt);var it=nt;if(isFunction$4(tt)&&(it=tt(rt),React.isValidElement(it)))return it;var at=clsx("recharts-pie-label-text",typeof tt!="boolean"&&!isFunction$4(tt)?tt.className:"");return React.createElement(Text,_extends$c({},rt,{alignmentBaseline:"middle",className:at}),it)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$h(Pie,"displayName","Pie");_defineProperty$h(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$h(Pie,"parseDeltaAngle",function(_e,$){var et=mathSign($-_e),tt=Math.min(Math.abs($-_e),360);return et*tt});_defineProperty$h(Pie,"getRealPieData",function(_e){var $=_e.data,et=_e.children,tt=filterProps(_e,!1),rt=findAllByType(et,Cell);return $&&$.length?$.map(function(nt,it){return _objectSpread$e(_objectSpread$e(_objectSpread$e({payload:nt},tt),nt),rt&&rt[it]&&rt[it].props)}):rt&&rt.length?rt.map(function(nt){return _objectSpread$e(_objectSpread$e({},tt),nt.props)}):[]});_defineProperty$h(Pie,"parseCoordinateOfPie",function(_e,$){var et=$.top,tt=$.left,rt=$.width,nt=$.height,it=getMaxRadius(rt,nt),at=tt+getPercentValue(_e.cx,rt,rt/2),st=et+getPercentValue(_e.cy,nt,nt/2),ot=getPercentValue(_e.innerRadius,it,0),lt=getPercentValue(_e.outerRadius,it,it*.8),ct=_e.maxRadius||Math.sqrt(rt*rt+nt*nt)/2;return{cx:at,cy:st,innerRadius:ot,outerRadius:lt,maxRadius:ct}});_defineProperty$h(Pie,"getComposedData",function(_e){var $=_e.item,et=_e.offset,tt=$.type.defaultProps!==void 0?_objectSpread$e(_objectSpread$e({},$.type.defaultProps),$.props):$.props,rt=_Pie.getRealPieData(tt);if(!rt||!rt.length)return null;var nt=tt.cornerRadius,it=tt.startAngle,at=tt.endAngle,st=tt.paddingAngle,ot=tt.dataKey,lt=tt.nameKey,ct=tt.valueKey,ut=tt.tooltipType,dt=Math.abs(tt.minAngle),ht=_Pie.parseCoordinateOfPie(tt,et),mt=_Pie.parseDeltaAngle(it,at),pt=Math.abs(mt),ft=ot;isNil$1(ot)&&isNil$1(ct)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),ft="value"):isNil$1(ot)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),ft=ct);var gt=rt.filter(function(wt){return getValueByDataKey(wt,ft,0)!==0}).length,bt=(pt>=360?gt:gt-1)*st,_t=pt-gt*dt-bt,yt=rt.reduce(function(wt,St){var Ot=getValueByDataKey(St,ft,0);return wt+(isNumber$1(Ot)?Ot:0)},0),vt;if(yt>0){var xt;vt=rt.map(function(wt,St){var Ot=getValueByDataKey(wt,ft,0),Et=getValueByDataKey(wt,lt,St),Tt=(isNumber$1(Ot)?Ot:0)/yt,It;St?It=xt.endAngle+mathSign(mt)*st*(Ot!==0?1:0):It=it;var Wt=It+mathSign(mt)*((Ot!==0?dt:0)+Tt*_t),Lt=(It+Wt)/2,zt=(ht.innerRadius+ht.outerRadius)/2,Ft=[{name:Et,value:Ot,payload:wt,dataKey:ft,type:ut}],Rt=polarToCartesian(ht.cx,ht.cy,zt,Lt);return xt=_objectSpread$e(_objectSpread$e(_objectSpread$e({percent:Tt,cornerRadius:nt,name:Et,tooltipPayload:Ft,midAngle:Lt,middleRadius:zt,tooltipPosition:Rt},wt),ht),{},{value:getValueByDataKey(wt,ft),startAngle:It,endAngle:Wt,payload:wt,paddingAngle:mathSign(mt)*st}),xt})}return _objectSpread$e(_objectSpread$e({},ht),{},{sectors:vt,data:rt})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(_e,$,et,tt){for(var rt=-1,nt=nativeMax$1(nativeCeil(($-_e)/(et||1)),0),it=Array(nt);nt--;)it[tt?nt:++rt]=_e,_e+=et;return it}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(_e){if(!_e)return _e===0?_e:0;if(_e=toNumber(_e),_e===INFINITY$1||_e===-INFINITY$1){var $=_e<0?-1:1;return $*MAX_INTEGER}return _e===_e?_e:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(_e){return function($,et,tt){return tt&&typeof tt!="number"&&isIterateeCall$2($,et,tt)&&(et=tt=void 0),$=toFinite$1($),et===void 0?(et=$,$=0):et=toFinite$1(et),tt=tt===void 0?$<et?1:-1:toFinite$1(tt),baseRange($,et,tt,_e)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$g(_e){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$g(_e)}function ownKeys$d(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$d(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$d(Object(et),!0).forEach(function(tt){_defineProperty$g(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$d(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$g(_e,$,et){return $=_toPropertyKey$g($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$g(_e){var $=_toPrimitive$g(_e,"string");return _typeof$g($)=="symbol"?$:$+""}function _toPrimitive$g(_e,$){if(_typeof$g(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$g(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function _e($,et){var tt=$.replace(/(\w)/,function(nt){return nt.toUpperCase()}),rt=PREFIX_LIST.reduce(function(nt,it){return _objectSpread$d(_objectSpread$d({},nt),{},_defineProperty$g({},it+tt,et))},{});return rt[$]=et,rt};function _typeof$f(_e){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$f(_e)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$b.apply(this,arguments)}function ownKeys$c(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$c(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$c(Object(et),!0).forEach(function(tt){_defineProperty$f(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$c(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$b(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$f(tt.key),tt)}}function _createClass$b(_e,$,et){return $&&_defineProperties$b(_e.prototype,$),et&&_defineProperties$b(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$9(_e,$,et){return $=_getPrototypeOf$9($),_possibleConstructorReturn$9(_e,_isNativeReflectConstruct$9()?Reflect.construct($,et||[],_getPrototypeOf$9(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$9(_e,$){if($&&(_typeof$f($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(_e)}function _assertThisInitialized$9(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$9(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!_e})()}function _getPrototypeOf$9(_e){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$9(_e)}function _inherits$9(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$9(_e,$)}function _setPrototypeOf$9(_e,$){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$9(_e,$)}function _defineProperty$f(_e,$,et){return $=_toPropertyKey$f($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$f(_e){var $=_toPrimitive$f(_e,"string");return _typeof$f($)=="symbol"?$:$+""}function _toPrimitive$f(_e,$){if(_typeof$f(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$f(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var createScale=function _e($){var et=$.data,tt=$.startIndex,rt=$.endIndex,nt=$.x,it=$.width,at=$.travellerWidth;if(!et||!et.length)return{};var st=et.length,ot=point().domain(range$1(0,st)).range([nt,nt+it-at]),lt=ot.domain().map(function(ct){return ot(ct)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:ot(tt),endX:ot(rt),scale:ot,scaleValues:lt}},isTouch=function _e($){return $.changedTouches&&!!$.changedTouches.length},Brush=function(_e){function $(et){var tt;return _classCallCheck$b(this,$),tt=_callSuper$9(this,$,[et]),_defineProperty$f(tt,"handleDrag",function(rt){tt.leaveTimer&&(clearTimeout(tt.leaveTimer),tt.leaveTimer=null),tt.state.isTravellerMoving?tt.handleTravellerMove(rt):tt.state.isSlideMoving&&tt.handleSlideDrag(rt)}),_defineProperty$f(tt,"handleTouchMove",function(rt){rt.changedTouches!=null&&rt.changedTouches.length>0&&tt.handleDrag(rt.changedTouches[0])}),_defineProperty$f(tt,"handleDragEnd",function(){tt.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var rt=tt.props,nt=rt.endIndex,it=rt.onDragEnd,at=rt.startIndex;it==null||it({endIndex:nt,startIndex:at})}),tt.detachDragEndListener()}),_defineProperty$f(tt,"handleLeaveWrapper",function(){(tt.state.isTravellerMoving||tt.state.isSlideMoving)&&(tt.leaveTimer=window.setTimeout(tt.handleDragEnd,tt.props.leaveTimeOut))}),_defineProperty$f(tt,"handleEnterSlideOrTraveller",function(){tt.setState({isTextActive:!0})}),_defineProperty$f(tt,"handleLeaveSlideOrTraveller",function(){tt.setState({isTextActive:!1})}),_defineProperty$f(tt,"handleSlideDragStart",function(rt){var nt=isTouch(rt)?rt.changedTouches[0]:rt;tt.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:nt.pageX}),tt.attachDragEndListener()}),tt.travellerDragStartHandlers={startX:tt.handleTravellerDragStart.bind(tt,"startX"),endX:tt.handleTravellerDragStart.bind(tt,"endX")},tt.state={},tt}return _inherits$9($,_e),_createClass$b($,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(tt){var rt=tt.startX,nt=tt.endX,it=this.state.scaleValues,at=this.props,st=at.gap,ot=at.data,lt=ot.length-1,ct=Math.min(rt,nt),ut=Math.max(rt,nt),dt=$.getIndexInRange(it,ct),ht=$.getIndexInRange(it,ut);return{startIndex:dt-dt%st,endIndex:ht===lt?lt:ht-ht%st}}},{key:"getTextOfTick",value:function(tt){var rt=this.props,nt=rt.data,it=rt.tickFormatter,at=rt.dataKey,st=getValueByDataKey(nt[tt],at,tt);return isFunction$4(it)?it(st,tt):st}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(tt){var rt=this.state,nt=rt.slideMoveStartX,it=rt.startX,at=rt.endX,st=this.props,ot=st.x,lt=st.width,ct=st.travellerWidth,ut=st.startIndex,dt=st.endIndex,ht=st.onChange,mt=tt.pageX-nt;mt>0?mt=Math.min(mt,ot+lt-ct-at,ot+lt-ct-it):mt<0&&(mt=Math.max(mt,ot-it,ot-at));var pt=this.getIndex({startX:it+mt,endX:at+mt});(pt.startIndex!==ut||pt.endIndex!==dt)&&ht&&ht(pt),this.setState({startX:it+mt,endX:at+mt,slideMoveStartX:tt.pageX})}},{key:"handleTravellerDragStart",value:function(tt,rt){var nt=isTouch(rt)?rt.changedTouches[0]:rt;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:tt,brushMoveStartX:nt.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(tt){var rt=this.state,nt=rt.brushMoveStartX,it=rt.movingTravellerId,at=rt.endX,st=rt.startX,ot=this.state[it],lt=this.props,ct=lt.x,ut=lt.width,dt=lt.travellerWidth,ht=lt.onChange,mt=lt.gap,pt=lt.data,ft={startX:this.state.startX,endX:this.state.endX},gt=tt.pageX-nt;gt>0?gt=Math.min(gt,ct+ut-dt-ot):gt<0&&(gt=Math.max(gt,ct-ot)),ft[it]=ot+gt;var bt=this.getIndex(ft),_t=bt.startIndex,yt=bt.endIndex,vt=function(){var wt=pt.length-1;return it==="startX"&&(at>st?_t%mt===0:yt%mt===0)||at<st&&yt===wt||it==="endX"&&(at>st?yt%mt===0:_t%mt===0)||at>st&&yt===wt};this.setState(_defineProperty$f(_defineProperty$f({},it,ot+gt),"brushMoveStartX",tt.pageX),function(){ht&&vt()&&ht(bt)})}},{key:"handleTravellerMoveKeyboard",value:function(tt,rt){var nt=this,it=this.state,at=it.scaleValues,st=it.startX,ot=it.endX,lt=this.state[rt],ct=at.indexOf(lt);if(ct!==-1){var ut=ct+tt;if(!(ut===-1||ut>=at.length)){var dt=at[ut];rt==="startX"&&dt>=ot||rt==="endX"&&dt<=st||this.setState(_defineProperty$f({},rt,dt),function(){nt.props.onChange(nt.getIndex({startX:nt.state.startX,endX:nt.state.endX}))})}}}},{key:"renderBackground",value:function(){var tt=this.props,rt=tt.x,nt=tt.y,it=tt.width,at=tt.height,st=tt.fill,ot=tt.stroke;return React.createElement("rect",{stroke:ot,fill:st,x:rt,y:nt,width:it,height:at})}},{key:"renderPanorama",value:function(){var tt=this.props,rt=tt.x,nt=tt.y,it=tt.width,at=tt.height,st=tt.data,ot=tt.children,lt=tt.padding,ct=reactExports.Children.only(ot);return ct?React.cloneElement(ct,{x:rt,y:nt,width:it,height:at,margin:lt,compact:!0,data:st}):null}},{key:"renderTravellerLayer",value:function(tt,rt){var nt,it,at=this,st=this.props,ot=st.y,lt=st.travellerWidth,ct=st.height,ut=st.traveller,dt=st.ariaLabel,ht=st.data,mt=st.startIndex,pt=st.endIndex,ft=Math.max(tt,this.props.x),gt=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:ft,y:ot,width:lt,height:ct}),bt=dt||"Min value: ".concat((nt=ht[mt])===null||nt===void 0?void 0:nt.name,", Max value: ").concat((it=ht[pt])===null||it===void 0?void 0:it.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":bt,"aria-valuenow":tt,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[rt],onTouchStart:this.travellerDragStartHandlers[rt],onKeyDown:function(yt){["ArrowLeft","ArrowRight"].includes(yt.key)&&(yt.preventDefault(),yt.stopPropagation(),at.handleTravellerMoveKeyboard(yt.key==="ArrowRight"?1:-1,rt))},onFocus:function(){at.setState({isTravellerFocused:!0})},onBlur:function(){at.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},$.renderTraveller(ut,gt))}},{key:"renderSlide",value:function(tt,rt){var nt=this.props,it=nt.y,at=nt.height,st=nt.stroke,ot=nt.travellerWidth,lt=Math.min(tt,rt)+ot,ct=Math.max(Math.abs(rt-tt)-ot,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:st,fillOpacity:.2,x:lt,y:it,width:ct,height:at})}},{key:"renderText",value:function(){var tt=this.props,rt=tt.startIndex,nt=tt.endIndex,it=tt.y,at=tt.height,st=tt.travellerWidth,ot=tt.stroke,lt=this.state,ct=lt.startX,ut=lt.endX,dt=5,ht={pointerEvents:"none",fill:ot};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(ct,ut)-dt,y:it+at/2},ht),this.getTextOfTick(rt)),React.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(ct,ut)+st+dt,y:it+at/2},ht),this.getTextOfTick(nt)))}},{key:"render",value:function(){var tt=this.props,rt=tt.data,nt=tt.className,it=tt.children,at=tt.x,st=tt.y,ot=tt.width,lt=tt.height,ct=tt.alwaysShowText,ut=this.state,dt=ut.startX,ht=ut.endX,mt=ut.isTextActive,pt=ut.isSlideMoving,ft=ut.isTravellerMoving,gt=ut.isTravellerFocused;if(!rt||!rt.length||!isNumber$1(at)||!isNumber$1(st)||!isNumber$1(ot)||!isNumber$1(lt)||ot<=0||lt<=0)return null;var bt=clsx("recharts-brush",nt),_t=React.Children.count(it)===1,yt=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:bt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:yt},this.renderBackground(),_t&&this.renderPanorama(),this.renderSlide(dt,ht),this.renderTravellerLayer(dt,"startX"),this.renderTravellerLayer(ht,"endX"),(mt||pt||ft||gt||ct)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(tt){var rt=tt.x,nt=tt.y,it=tt.width,at=tt.height,st=tt.stroke,ot=Math.floor(nt+at/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:rt,y:nt,width:it,height:at,fill:st,stroke:"none"}),React.createElement("line",{x1:rt+1,y1:ot,x2:rt+it-1,y2:ot,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:rt+1,y1:ot+2,x2:rt+it-1,y2:ot+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(tt,rt){var nt;return React.isValidElement(tt)?nt=React.cloneElement(tt,rt):isFunction$4(tt)?nt=tt(rt):nt=$.renderDefaultTraveller(rt),nt}},{key:"getDerivedStateFromProps",value:function(tt,rt){var nt=tt.data,it=tt.width,at=tt.x,st=tt.travellerWidth,ot=tt.updateId,lt=tt.startIndex,ct=tt.endIndex;if(nt!==rt.prevData||ot!==rt.prevUpdateId)return _objectSpread$c({prevData:nt,prevTravellerWidth:st,prevUpdateId:ot,prevX:at,prevWidth:it},nt&&nt.length?createScale({data:nt,width:it,x:at,travellerWidth:st,startIndex:lt,endIndex:ct}):{scale:null,scaleValues:null});if(rt.scale&&(it!==rt.prevWidth||at!==rt.prevX||st!==rt.prevTravellerWidth)){rt.scale.range([at,at+it-st]);var ut=rt.scale.domain().map(function(dt){return rt.scale(dt)});return{prevData:nt,prevTravellerWidth:st,prevUpdateId:ot,prevX:at,prevWidth:it,startX:rt.scale(tt.startIndex),endX:rt.scale(tt.endIndex),scaleValues:ut}}return null}},{key:"getIndexInRange",value:function(tt,rt){for(var nt=tt.length,it=0,at=nt-1;at-it>1;){var st=Math.floor((it+at)/2);tt[st]>rt?at=st:it=st}return rt>=tt[at]?at:it}}])}(reactExports.PureComponent);_defineProperty$f(Brush,"displayName","Brush");_defineProperty$f(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(_e,$){var et;return baseEach$1(_e,function(tt,rt,nt){return et=$(tt,rt,nt),!et}),!!et}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$2=isArray_1,isIterateeCall$1=_isIterateeCall;function some(_e,$,et){var tt=isArray$2(_e)?arraySome:baseSome;return et&&isIterateeCall$1(_e,$,et)&&($=void 0),tt(_e,baseIteratee$4($))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function _e($,et){var tt=$.alwaysShow,rt=$.ifOverflow;return tt&&(rt="extendDomain"),rt===et},defineProperty=_defineProperty$F;function baseAssignValue$1(_e,$,et){$=="__proto__"&&defineProperty?defineProperty(_e,$,{configurable:!0,enumerable:!0,value:et,writable:!0}):_e[$]=et}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(_e,$){var et={};return $=baseIteratee$3($),baseForOwn(_e,function(tt,rt,nt){baseAssignValue(et,rt,$(tt,rt,nt))}),et}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(_e,$){for(var et=-1,tt=_e==null?0:_e.length;++et<tt;)if(!$(_e[et],et,_e))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(_e,$){var et=!0;return baseEach(_e,function(tt,rt,nt){return et=!!$(tt,rt,nt),et}),et}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray$1=isArray_1,isIterateeCall=_isIterateeCall;function every(_e,$,et){var tt=isArray$1(_e)?arrayEvery:baseEvery;return et&&isIterateeCall(_e,$,et)&&($=void 0),tt(_e,baseIteratee$2($))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$5=["x","y"];function _typeof$e(_e){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$e(_e)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$a.apply(this,arguments)}function ownKeys$b(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$b(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$b(Object(et),!0).forEach(function(tt){_defineProperty$e(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$b(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$e(_e,$,et){return $=_toPropertyKey$e($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$e(_e){var $=_toPrimitive$e(_e,"string");return _typeof$e($)=="symbol"?$:$+""}function _toPrimitive$e(_e,$){if(_typeof$e(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$e(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$5(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$5(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$5(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function typeguardBarRectangleProps(_e,$){var et=_e.x,tt=_e.y,rt=_objectWithoutProperties$5(_e,_excluded$5),nt="".concat(et),it=parseInt(nt,10),at="".concat(tt),st=parseInt(at,10),ot="".concat($.height||rt.height),lt=parseInt(ot,10),ct="".concat($.width||rt.width),ut=parseInt(ct,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},$),rt),it?{x:it}:{}),st?{y:st}:{}),{},{height:lt,width:ut,name:$.name,radius:$.radius})}function BarRectangle(_e){return React.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},_e))}var minPointSizeCallback=function _e($){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(tt,rt){if(typeof $=="number")return $;var nt=typeof tt=="number";return nt?$(tt,rt):(nt||invariant(),et)}},_excluded$4=["value","background"],_Bar;function _typeof$d(_e){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$d(_e)}function _objectWithoutProperties$4(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$4(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$4(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$9.apply(this,arguments)}function ownKeys$a(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$a(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$a(Object(et),!0).forEach(function(tt){_defineProperty$d(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$a(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$a(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$d(tt.key),tt)}}function _createClass$a(_e,$,et){return $&&_defineProperties$a(_e.prototype,$),et&&_defineProperties$a(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$8(_e,$,et){return $=_getPrototypeOf$8($),_possibleConstructorReturn$8(_e,_isNativeReflectConstruct$8()?Reflect.construct($,et||[],_getPrototypeOf$8(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$8(_e,$){if($&&(_typeof$d($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(_e)}function _assertThisInitialized$8(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$8(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!_e})()}function _getPrototypeOf$8(_e){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$8(_e)}function _inherits$8(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$8(_e,$)}function _setPrototypeOf$8(_e,$){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$8(_e,$)}function _defineProperty$d(_e,$,et){return $=_toPropertyKey$d($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$d(_e){var $=_toPrimitive$d(_e,"string");return _typeof$d($)=="symbol"?$:$+""}function _toPrimitive$d(_e,$){if(_typeof$d(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$d(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var Bar=function(_e){function $(){var et;_classCallCheck$a(this,$);for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];return et=_callSuper$8(this,$,[].concat(rt)),_defineProperty$d(et,"state",{isAnimationFinished:!1}),_defineProperty$d(et,"id",uniqueId("recharts-bar-")),_defineProperty$d(et,"handleAnimationEnd",function(){var it=et.props.onAnimationEnd;et.setState({isAnimationFinished:!0}),it&&it()}),_defineProperty$d(et,"handleAnimationStart",function(){var it=et.props.onAnimationStart;et.setState({isAnimationFinished:!1}),it&&it()}),et}return _inherits$8($,_e),_createClass$a($,[{key:"renderRectanglesStatically",value:function(tt){var rt=this,nt=this.props,it=nt.shape,at=nt.dataKey,st=nt.activeIndex,ot=nt.activeBar,lt=filterProps(this.props,!1);return tt&&tt.map(function(ct,ut){var dt=ut===st,ht=dt?ot:it,mt=_objectSpread$a(_objectSpread$a(_objectSpread$a({},lt),ct),{},{isActive:dt,option:ht,index:ut,dataKey:at,onAnimationStart:rt.handleAnimationStart,onAnimationEnd:rt.handleAnimationEnd});return React.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(rt.props,ct,ut),{key:"rectangle-".concat(ct==null?void 0:ct.x,"-").concat(ct==null?void 0:ct.y,"-").concat(ct==null?void 0:ct.value)}),React.createElement(BarRectangle,mt))})}},{key:"renderRectanglesWithAnimation",value:function(){var tt=this,rt=this.props,nt=rt.data,it=rt.layout,at=rt.isAnimationActive,st=rt.animationBegin,ot=rt.animationDuration,lt=rt.animationEasing,ct=rt.animationId,ut=this.state.prevData;return React.createElement(Animate,{begin:st,duration:ot,isActive:at,easing:lt,from:{t:0},to:{t:1},key:"bar-".concat(ct),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(dt){var ht=dt.t,mt=nt.map(function(pt,ft){var gt=ut&&ut[ft];if(gt){var bt=interpolateNumber$2(gt.x,pt.x),_t=interpolateNumber$2(gt.y,pt.y),yt=interpolateNumber$2(gt.width,pt.width),vt=interpolateNumber$2(gt.height,pt.height);return _objectSpread$a(_objectSpread$a({},pt),{},{x:bt(ht),y:_t(ht),width:yt(ht),height:vt(ht)})}if(it==="horizontal"){var xt=interpolateNumber$2(0,pt.height),wt=xt(ht);return _objectSpread$a(_objectSpread$a({},pt),{},{y:pt.y+pt.height-wt,height:wt})}var St=interpolateNumber$2(0,pt.width),Ot=St(ht);return _objectSpread$a(_objectSpread$a({},pt),{},{width:Ot})});return React.createElement(Layer,null,tt.renderRectanglesStatically(mt))})}},{key:"renderRectangles",value:function(){var tt=this.props,rt=tt.data,nt=tt.isAnimationActive,it=this.state.prevData;return nt&&rt&&rt.length&&(!it||!isEqual$1(it,rt))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(rt)}},{key:"renderBackground",value:function(){var tt=this,rt=this.props,nt=rt.data,it=rt.dataKey,at=rt.activeIndex,st=filterProps(this.props.background,!1);return nt.map(function(ot,lt){ot.value;var ct=ot.background,ut=_objectWithoutProperties$4(ot,_excluded$4);if(!ct)return null;var dt=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},ut),{},{fill:"#eee"},ct),st),adaptEventsOfChild(tt.props,ot,lt)),{},{onAnimationStart:tt.handleAnimationStart,onAnimationEnd:tt.handleAnimationEnd,dataKey:it,index:lt,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(lt),option:tt.props.background,isActive:lt===at},dt))})}},{key:"renderErrorBar",value:function(tt,rt){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var nt=this.props,it=nt.data,at=nt.xAxis,st=nt.yAxis,ot=nt.layout,lt=nt.children,ct=findAllByType(lt,ErrorBar);if(!ct)return null;var ut=ot==="vertical"?it[0].height/2:it[0].width/2,dt=function(pt,ft){var gt=Array.isArray(pt.value)?pt.value[1]:pt.value;return{x:pt.x,y:pt.y,value:gt,errorVal:getValueByDataKey(pt,ft)}},ht={clipPath:tt?"url(#clipPath-".concat(rt,")"):null};return React.createElement(Layer,ht,ct.map(function(mt){return React.cloneElement(mt,{key:"error-bar-".concat(rt,"-").concat(mt.props.dataKey),data:it,xAxis:at,yAxis:st,layout:ot,offset:ut,dataPointFormatter:dt})}))}},{key:"render",value:function(){var tt=this.props,rt=tt.hide,nt=tt.data,it=tt.className,at=tt.xAxis,st=tt.yAxis,ot=tt.left,lt=tt.top,ct=tt.width,ut=tt.height,dt=tt.isAnimationActive,ht=tt.background,mt=tt.id;if(rt||!nt||!nt.length)return null;var pt=this.state.isAnimationFinished,ft=clsx("recharts-bar",it),gt=at&&at.allowDataOverflow,bt=st&&st.allowDataOverflow,_t=gt||bt,yt=isNil$1(mt)?this.id:mt;return React.createElement(Layer,{className:ft},gt||bt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(yt)},React.createElement("rect",{x:gt?ot:ot-ct/2,y:bt?lt:lt-ut/2,width:gt?ct:ct*2,height:bt?ut:ut*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:_t?"url(#clipPath-".concat(yt,")"):null},ht?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_t,yt),(!dt||pt)&&LabelList.renderCallByParent(this.props,nt))}}],[{key:"getDerivedStateFromProps",value:function(tt,rt){return tt.animationId!==rt.prevAnimationId?{prevAnimationId:tt.animationId,curData:tt.data,prevData:rt.curData}:tt.data!==rt.curData?{curData:tt.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$d(Bar,"displayName","Bar");_defineProperty$d(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$d(Bar,"getComposedData",function(_e){var $=_e.props,et=_e.item,tt=_e.barPosition,rt=_e.bandSize,nt=_e.xAxis,it=_e.yAxis,at=_e.xAxisTicks,st=_e.yAxisTicks,ot=_e.stackedData,lt=_e.dataStartIndex,ct=_e.displayedData,ut=_e.offset,dt=findPositionOfBar(tt,et);if(!dt)return null;var ht=$.layout,mt=et.type.defaultProps,pt=mt!==void 0?_objectSpread$a(_objectSpread$a({},mt),et.props):et.props,ft=pt.dataKey,gt=pt.children,bt=pt.minPointSize,_t=ht==="horizontal"?it:nt,yt=ot?_t.scale.domain():null,vt=getBaseValueOfBar({numericAxis:_t}),xt=findAllByType(gt,Cell),wt=ct.map(function(St,Ot){var Et,Tt,It,Wt,Lt,zt;ot?Et=truncateByDomain(ot[lt+Ot],yt):(Et=getValueByDataKey(St,ft),Array.isArray(Et)||(Et=[vt,Et]));var Ft=minPointSizeCallback(bt,_Bar.defaultProps.minPointSize)(Et[1],Ot);if(ht==="horizontal"){var Rt,jt=[it.scale(Et[0]),it.scale(Et[1])],Ct=jt[0],Dt=jt[1];Tt=getCateCoordinateOfBar({axis:nt,ticks:at,bandSize:rt,offset:dt.offset,entry:St,index:Ot}),It=(Rt=Dt??Ct)!==null&&Rt!==void 0?Rt:void 0,Wt=dt.size;var Mt=Ct-Dt;if(Lt=Number.isNaN(Mt)?0:Mt,zt={x:Tt,y:it.y,width:Wt,height:it.height},Math.abs(Ft)>0&&Math.abs(Lt)<Math.abs(Ft)){var At=mathSign(Lt||Ft)*(Math.abs(Ft)-Math.abs(Lt));It-=At,Lt+=At}}else{var Pt=[nt.scale(Et[0]),nt.scale(Et[1])],Nt=Pt[0],Bt=Pt[1];if(Tt=Nt,It=getCateCoordinateOfBar({axis:it,ticks:st,bandSize:rt,offset:dt.offset,entry:St,index:Ot}),Wt=Bt-Nt,Lt=dt.size,zt={x:nt.x,y:It,width:nt.width,height:Lt},Math.abs(Ft)>0&&Math.abs(Wt)<Math.abs(Ft)){var Vt=mathSign(Wt||Ft)*(Math.abs(Ft)-Math.abs(Wt));Wt+=Vt}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},St),{},{x:Tt,y:It,width:Wt,height:Lt,value:ot?Et:Et[1],payload:St,background:zt},xt&&xt[Ot]&&xt[Ot].props),{},{tooltipPayload:[getTooltipItem(et,St)],tooltipPosition:{x:Tt+Wt/2,y:It+Lt/2}})});return _objectSpread$a({data:wt,layout:ht},ut)});function _typeof$c(_e){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$c(_e)}function _classCallCheck$9(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$c(tt.key),tt)}}function _createClass$9(_e,$,et){return $&&_defineProperties$9(_e.prototype,$),et&&_defineProperties$9(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function ownKeys$9(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$9(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$9(Object(et),!0).forEach(function(tt){_defineProperty$c(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$9(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$c(_e,$,et){return $=_toPropertyKey$c($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$c(_e){var $=_toPrimitive$c(_e,"string");return _typeof$c($)=="symbol"?$:$+""}function _toPrimitive$c(_e,$){if(_typeof$c(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$c(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var formatAxisMap=function _e($,et,tt,rt,nt){var it=$.width,at=$.height,st=$.layout,ot=$.children,lt=Object.keys(et),ct={left:tt.left,leftMirror:tt.left,right:it-tt.right,rightMirror:it-tt.right,top:tt.top,topMirror:tt.top,bottom:at-tt.bottom,bottomMirror:at-tt.bottom},ut=!!findChildByType(ot,Bar);return lt.reduce(function(dt,ht){var mt=et[ht],pt=mt.orientation,ft=mt.domain,gt=mt.padding,bt=gt===void 0?{}:gt,_t=mt.mirror,yt=mt.reversed,vt="".concat(pt).concat(_t?"Mirror":""),xt,wt,St,Ot,Et;if(mt.type==="number"&&(mt.padding==="gap"||mt.padding==="no-gap")){var Tt=ft[1]-ft[0],It=1/0,Wt=mt.categoricalDomain.sort();if(Wt.forEach(function(Pt,Nt){Nt>0&&(It=Math.min((Pt||0)-(Wt[Nt-1]||0),It))}),Number.isFinite(It)){var Lt=It/Tt,zt=mt.layout==="vertical"?tt.height:tt.width;if(mt.padding==="gap"&&(xt=Lt*zt/2),mt.padding==="no-gap"){var Ft=getPercentValue($.barCategoryGap,Lt*zt),Rt=Lt*zt/2;xt=Rt-Ft-(Rt-Ft)/zt*Ft}}}rt==="xAxis"?wt=[tt.left+(bt.left||0)+(xt||0),tt.left+tt.width-(bt.right||0)-(xt||0)]:rt==="yAxis"?wt=st==="horizontal"?[tt.top+tt.height-(bt.bottom||0),tt.top+(bt.top||0)]:[tt.top+(bt.top||0)+(xt||0),tt.top+tt.height-(bt.bottom||0)-(xt||0)]:wt=mt.range,yt&&(wt=[wt[1],wt[0]]);var jt=parseScale(mt,nt,ut),Ct=jt.scale,Dt=jt.realScaleType;Ct.domain(ft).range(wt),checkDomainOfScale(Ct);var Mt=getTicksOfScale(Ct,_objectSpread$9(_objectSpread$9({},mt),{},{realScaleType:Dt}));rt==="xAxis"?(Et=pt==="top"&&!_t||pt==="bottom"&&_t,St=tt.left,Ot=ct[vt]-Et*mt.height):rt==="yAxis"&&(Et=pt==="left"&&!_t||pt==="right"&&_t,St=ct[vt]-Et*mt.width,Ot=tt.top);var At=_objectSpread$9(_objectSpread$9(_objectSpread$9({},mt),Mt),{},{realScaleType:Dt,x:St,y:Ot,scale:Ct,width:rt==="xAxis"?tt.width:mt.width,height:rt==="yAxis"?tt.height:mt.height});return At.bandSize=getBandSizeOfAxis(At,Mt),!mt.hide&&rt==="xAxis"?ct[vt]+=(Et?-1:1)*At.height:mt.hide||(ct[vt]+=(Et?-1:1)*At.width),_objectSpread$9(_objectSpread$9({},dt),{},_defineProperty$c({},ht,At))},{})},rectWithPoints=function _e($,et){var tt=$.x,rt=$.y,nt=et.x,it=et.y;return{x:Math.min(tt,nt),y:Math.min(rt,it),width:Math.abs(nt-tt),height:Math.abs(it-rt)}},rectWithCoords=function _e($){var et=$.x1,tt=$.y1,rt=$.x2,nt=$.y2;return rectWithPoints({x:et,y:tt},{x:rt,y:nt})},ScaleHelper=function(){function _e($){_classCallCheck$9(this,_e),this.scale=$}return _createClass$9(_e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=tt.bandAware,nt=tt.position;if(et!==void 0){if(nt)switch(nt){case"start":return this.scale(et);case"middle":{var it=this.bandwidth?this.bandwidth()/2:0;return this.scale(et)+it}case"end":{var at=this.bandwidth?this.bandwidth():0;return this.scale(et)+at}default:return this.scale(et)}if(rt){var st=this.bandwidth?this.bandwidth()/2:0;return this.scale(et)+st}return this.scale(et)}}},{key:"isInRange",value:function(et){var tt=this.range(),rt=tt[0],nt=tt[tt.length-1];return rt<=nt?et>=rt&&et<=nt:et>=nt&&et<=rt}}],[{key:"create",value:function(et){return new _e(et)}}])}();_defineProperty$c(ScaleHelper,"EPS",1e-4);var createLabeledScales=function _e($){var et=Object.keys($).reduce(function(tt,rt){return _objectSpread$9(_objectSpread$9({},tt),{},_defineProperty$c({},rt,ScaleHelper.create($[rt])))},{});return _objectSpread$9(_objectSpread$9({},et),{},{apply:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=nt.bandAware,at=nt.position;return mapValues$1(rt,function(st,ot){return et[ot].apply(st,{bandAware:it,position:at})})},isInRange:function(rt){return every$1(rt,function(nt,it){return et[it].isInRange(nt)})}})};function normalizeAngle(_e){return(_e%180+180)%180}var getAngledRectangleWidth=function _e($){var et=$.width,tt=$.height,rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,nt=normalizeAngle(rt),it=nt*Math.PI/180,at=Math.atan(tt/et),st=it>at&&it<Math.PI-at?tt/Math.sin(it):et/Math.cos(it);return Math.abs(st)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(_e){return function($,et,tt){var rt=Object($);if(!isArrayLike($)){var nt=baseIteratee$1(et);$=keys($),et=function(at){return nt(rt[at],at,rt)}}var it=_e($,et,tt);return it>-1?rt[nt?$[it]:it]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(_e){var $=toFinite(_e),et=$%1;return $===$?et?$-et:$:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(_e,$,et){var tt=_e==null?0:_e.length;if(!tt)return-1;var rt=et==null?0:toInteger(et);return rt<0&&(rt=nativeMax(tt+rt,0)),baseFindIndex(_e,baseIteratee($),rt)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(_e){return{x:_e.left,y:_e.top,width:_e.width,height:_e.height}},function(_e){return["l",_e.left,"t",_e.top,"w",_e.width,"h",_e.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function _e($){var et=$.state,tt=et.xAxisMap,rt=et.yAxisMap,nt=et.offset,it=$.clipPathId,at=$.children,st=$.width,ot=$.height,lt=calculateViewBox(nt);return React.createElement(XAxisContext.Provider,{value:tt},React.createElement(YAxisContext.Provider,{value:rt},React.createElement(OffsetContext.Provider,{value:nt},React.createElement(ViewBoxContext.Provider,{value:lt},React.createElement(ClipPathIdContext.Provider,{value:it},React.createElement(ChartHeightContext.Provider,{value:ot},React.createElement(ChartWidthContext.Provider,{value:st},at)))))))},useClipPathId=function _e(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function _e($){var et=reactExports.useContext(XAxisContext);et==null&&invariant();var tt=et[$];return tt==null&&invariant(),tt},useArbitraryXAxis=function _e(){var $=reactExports.useContext(XAxisContext);return getAnyElementOfObject($)},useYAxisWithFiniteDomainOrRandom=function _e(){var $=reactExports.useContext(YAxisContext),et=find$1($,function(tt){return every$1(tt.domain,Number.isFinite)});return et||getAnyElementOfObject($)},useYAxisOrThrow=function _e($){var et=reactExports.useContext(YAxisContext);et==null&&invariant();var tt=et[$];return tt==null&&invariant(),tt},useViewBox=function _e(){var $=reactExports.useContext(ViewBoxContext);return $},useOffset=function _e(){return reactExports.useContext(OffsetContext)},useChartWidth=function _e(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function _e(){return reactExports.useContext(ChartHeightContext)};function _typeof$b(_e){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$b(_e)}function _classCallCheck$8(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$b(tt.key),tt)}}function _createClass$8(_e,$,et){return $&&_defineProperties$8(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$7(_e,$,et){return $=_getPrototypeOf$7($),_possibleConstructorReturn$7(_e,_isNativeReflectConstruct$7()?Reflect.construct($,et||[],_getPrototypeOf$7(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$7(_e,$){if($&&(_typeof$b($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(_e)}function _assertThisInitialized$7(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$7(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!_e})()}function _getPrototypeOf$7(_e){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$7(_e)}function _inherits$7(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$7(_e,$)}function _setPrototypeOf$7(_e,$){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$7(_e,$)}function ownKeys$8(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$8(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$8(Object(et),!0).forEach(function(tt){_defineProperty$b(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$8(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$b(_e,$,et){return $=_toPropertyKey$b($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$b(_e){var $=_toPrimitive$b(_e,"string");return _typeof$b($)=="symbol"?$:$+""}function _toPrimitive$b(_e,$){if(_typeof$b(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$b(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$1(_e,$){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,$)||_unsupportedIterableToArray$3(_e,$)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$3(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$3(_e,$)}}function _arrayLikeToArray$3(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$1(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$8.apply(this,arguments)}var renderLine=function _e($,et){var tt;return React.isValidElement($)?tt=React.cloneElement($,et):isFunction$4($)?tt=$(et):tt=React.createElement("line",_extends$8({},et,{className:"recharts-reference-line-line"})),tt},getEndPoints=function _e($,et,tt,rt,nt,it,at,st,ot){var lt=nt.x,ct=nt.y,ut=nt.width,dt=nt.height;if(tt){var ht=ot.y,mt=$.y.apply(ht,{position:it});if(ifOverflowMatches(ot,"discard")&&!$.y.isInRange(mt))return null;var pt=[{x:lt+ut,y:mt},{x:lt,y:mt}];return st==="left"?pt.reverse():pt}if(et){var ft=ot.x,gt=$.x.apply(ft,{position:it});if(ifOverflowMatches(ot,"discard")&&!$.x.isInRange(gt))return null;var bt=[{x:gt,y:ct+dt},{x:gt,y:ct}];return at==="top"?bt.reverse():bt}if(rt){var _t=ot.segment,yt=_t.map(function(vt){return $.apply(vt,{position:it})});return ifOverflowMatches(ot,"discard")&&some$1(yt,function(vt){return!$.isInRange(vt)})?null:yt}return null};function ReferenceLineImpl(_e){var $=_e.x,et=_e.y,tt=_e.segment,rt=_e.xAxisId,nt=_e.yAxisId,it=_e.shape,at=_e.className,st=_e.alwaysShow,ot=useClipPathId(),lt=useXAxisOrThrow(rt),ct=useYAxisOrThrow(nt),ut=useViewBox();if(!ot||!ut)return null;warn(st===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var dt=createLabeledScales({x:lt.scale,y:ct.scale}),ht=isNumOrStr($),mt=isNumOrStr(et),pt=tt&&tt.length===2,ft=getEndPoints(dt,ht,mt,pt,ut,_e.position,lt.orientation,ct.orientation,_e);if(!ft)return null;var gt=_slicedToArray$1(ft,2),bt=gt[0],_t=bt.x,yt=bt.y,vt=gt[1],xt=vt.x,wt=vt.y,St=ifOverflowMatches(_e,"hidden")?"url(#".concat(ot,")"):void 0,Ot=_objectSpread$8(_objectSpread$8({clipPath:St},filterProps(_e,!0)),{},{x1:_t,y1:yt,x2:xt,y2:wt});return React.createElement(Layer,{className:clsx("recharts-reference-line",at)},renderLine(it,Ot),Label.renderCallByParent(_e,rectWithCoords({x1:_t,y1:yt,x2:xt,y2:wt})))}var ReferenceLine=function(_e){function $(){return _classCallCheck$8(this,$),_callSuper$7(this,$,arguments)}return _inherits$7($,_e),_createClass$8($,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$b(ReferenceLine,"displayName","ReferenceLine");_defineProperty$b(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$7.apply(this,arguments)}function _typeof$a(_e){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$a(_e)}function ownKeys$7(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$7(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$7(Object(et),!0).forEach(function(tt){_defineProperty$a(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$7(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$7(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$a(tt.key),tt)}}function _createClass$7(_e,$,et){return $&&_defineProperties$7(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$6(_e,$,et){return $=_getPrototypeOf$6($),_possibleConstructorReturn$6(_e,_isNativeReflectConstruct$6()?Reflect.construct($,et||[],_getPrototypeOf$6(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$6(_e,$){if($&&(_typeof$a($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(_e)}function _assertThisInitialized$6(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$6(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!_e})()}function _getPrototypeOf$6(_e){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$6(_e)}function _inherits$6(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$6(_e,$)}function _setPrototypeOf$6(_e,$){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$6(_e,$)}function _defineProperty$a(_e,$,et){return $=_toPropertyKey$a($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$a(_e){var $=_toPrimitive$a(_e,"string");return _typeof$a($)=="symbol"?$:$+""}function _toPrimitive$a(_e,$){if(_typeof$a(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$a(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getCoordinate=function _e($){var et=$.x,tt=$.y,rt=$.xAxis,nt=$.yAxis,it=createLabeledScales({x:rt.scale,y:nt.scale}),at=it.apply({x:et,y:tt},{bandAware:!0});return ifOverflowMatches($,"discard")&&!it.isInRange(at)?null:at},ReferenceDot=function(_e){function $(){return _classCallCheck$7(this,$),_callSuper$6(this,$,arguments)}return _inherits$6($,_e),_createClass$7($,[{key:"render",value:function(){var tt=this.props,rt=tt.x,nt=tt.y,it=tt.r,at=tt.alwaysShow,st=tt.clipPathId,ot=isNumOrStr(rt),lt=isNumOrStr(nt);if(warn(at===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!ot||!lt)return null;var ct=getCoordinate(this.props);if(!ct)return null;var ut=ct.x,dt=ct.y,ht=this.props,mt=ht.shape,pt=ht.className,ft=ifOverflowMatches(this.props,"hidden")?"url(#".concat(st,")"):void 0,gt=_objectSpread$7(_objectSpread$7({clipPath:ft},filterProps(this.props,!0)),{},{cx:ut,cy:dt});return React.createElement(Layer,{className:clsx("recharts-reference-dot",pt)},$.renderDot(mt,gt),Label.renderCallByParent(this.props,{x:ut-it,y:dt-it,width:2*it,height:2*it}))}}])}(React.Component);_defineProperty$a(ReferenceDot,"displayName","ReferenceDot");_defineProperty$a(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$a(ReferenceDot,"renderDot",function(_e,$){var et;return React.isValidElement(_e)?et=React.cloneElement(_e,$):isFunction$4(_e)?et=_e($):et=React.createElement(Dot,_extends$7({},$,{cx:$.cx,cy:$.cy,className:"recharts-reference-dot-dot"})),et});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$6.apply(this,arguments)}function _typeof$9(_e){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$9(_e)}function ownKeys$6(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$6(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$6(Object(et),!0).forEach(function(tt){_defineProperty$9(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$6(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _classCallCheck$6(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$9(tt.key),tt)}}function _createClass$6(_e,$,et){return $&&_defineProperties$6(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$5(_e,$,et){return $=_getPrototypeOf$5($),_possibleConstructorReturn$5(_e,_isNativeReflectConstruct$5()?Reflect.construct($,et||[],_getPrototypeOf$5(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$5(_e,$){if($&&(_typeof$9($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(_e)}function _assertThisInitialized$5(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$5(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!_e})()}function _getPrototypeOf$5(_e){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$5(_e)}function _inherits$5(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$5(_e,$)}function _setPrototypeOf$5(_e,$){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$5(_e,$)}function _defineProperty$9(_e,$,et){return $=_toPropertyKey$9($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$9(_e){var $=_toPrimitive$9(_e,"string");return _typeof$9($)=="symbol"?$:$+""}function _toPrimitive$9(_e,$){if(_typeof$9(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$9(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getRect=function _e($,et,tt,rt,nt){var it=nt.x1,at=nt.x2,st=nt.y1,ot=nt.y2,lt=nt.xAxis,ct=nt.yAxis;if(!lt||!ct)return null;var ut=createLabeledScales({x:lt.scale,y:ct.scale}),dt={x:$?ut.x.apply(it,{position:"start"}):ut.x.rangeMin,y:tt?ut.y.apply(st,{position:"start"}):ut.y.rangeMin},ht={x:et?ut.x.apply(at,{position:"end"}):ut.x.rangeMax,y:rt?ut.y.apply(ot,{position:"end"}):ut.y.rangeMax};return ifOverflowMatches(nt,"discard")&&(!ut.isInRange(dt)||!ut.isInRange(ht))?null:rectWithPoints(dt,ht)},ReferenceArea=function(_e){function $(){return _classCallCheck$6(this,$),_callSuper$5(this,$,arguments)}return _inherits$5($,_e),_createClass$6($,[{key:"render",value:function(){var tt=this.props,rt=tt.x1,nt=tt.x2,it=tt.y1,at=tt.y2,st=tt.className,ot=tt.alwaysShow,lt=tt.clipPathId;warn(ot===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ct=isNumOrStr(rt),ut=isNumOrStr(nt),dt=isNumOrStr(it),ht=isNumOrStr(at),mt=this.props.shape;if(!ct&&!ut&&!dt&&!ht&&!mt)return null;var pt=getRect(ct,ut,dt,ht,this.props);if(!pt&&!mt)return null;var ft=ifOverflowMatches(this.props,"hidden")?"url(#".concat(lt,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",st)},$.renderRect(mt,_objectSpread$6(_objectSpread$6({clipPath:ft},filterProps(this.props,!0)),pt)),Label.renderCallByParent(this.props,pt))}}])}(React.Component);_defineProperty$9(ReferenceArea,"displayName","ReferenceArea");_defineProperty$9(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$9(ReferenceArea,"renderRect",function(_e,$){var et;return React.isValidElement(_e)?et=React.cloneElement(_e,$):isFunction$4(_e)?et=_e($):et=React.createElement(Rectangle,_extends$6({},$,{className:"recharts-reference-area-rect"})),et});function getEveryNthWithCondition(_e,$,et){if($<1)return[];if($===1&&et===void 0)return _e;for(var tt=[],rt=0;rt<_e.length;rt+=$)tt.push(_e[rt]);return tt}function getAngledTickWidth(_e,$,et){var tt={width:_e.width+$.width,height:_e.height+$.height};return getAngledRectangleWidth(tt,et)}function getTickBoundaries(_e,$,et){var tt=et==="width",rt=_e.x,nt=_e.y,it=_e.width,at=_e.height;return $===1?{start:tt?rt:nt,end:tt?rt+it:nt+at}:{start:tt?rt+it:nt+at,end:tt?rt:nt}}function isVisible(_e,$,et,tt,rt){if(_e*$<_e*tt||_e*$>_e*rt)return!1;var nt=et();return _e*($-_e*nt/2-tt)>=0&&_e*($+_e*nt/2-rt)<=0}function getNumberIntervalTicks(_e,$){return getEveryNthWithCondition(_e,$+1)}function getEquidistantTicks(_e,$,et,tt,rt){for(var nt=(tt||[]).slice(),it=$.start,at=$.end,st=0,ot=1,lt=it,ct=function(){var ht=tt==null?void 0:tt[st];if(ht===void 0)return{v:getEveryNthWithCondition(tt,ot)};var mt=st,pt,ft=function(){return pt===void 0&&(pt=et(ht,mt)),pt},gt=ht.coordinate,bt=st===0||isVisible(_e,gt,ft,lt,at);bt||(st=0,lt=it,ot+=1),bt&&(lt=gt+_e*(ft()/2+rt),st+=ot)},ut;ot<=nt.length;)if(ut=ct(),ut)return ut.v;return[]}function _typeof$8(_e){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$8(_e)}function ownKeys$5(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$5(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$5(Object(et),!0).forEach(function(tt){_defineProperty$8(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$5(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$8(_e,$,et){return $=_toPropertyKey$8($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$8(_e){var $=_toPrimitive$8(_e,"string");return _typeof$8($)=="symbol"?$:$+""}function _toPrimitive$8(_e,$){if(_typeof$8(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$8(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function getTicksEnd(_e,$,et,tt,rt){for(var nt=(tt||[]).slice(),it=nt.length,at=$.start,st=$.end,ot=function(ut){var dt=nt[ut],ht,mt=function(){return ht===void 0&&(ht=et(dt,ut)),ht};if(ut===it-1){var pt=_e*(dt.coordinate+_e*mt()/2-st);nt[ut]=dt=_objectSpread$5(_objectSpread$5({},dt),{},{tickCoord:pt>0?dt.coordinate-pt*_e:dt.coordinate})}else nt[ut]=dt=_objectSpread$5(_objectSpread$5({},dt),{},{tickCoord:dt.coordinate});var ft=isVisible(_e,dt.tickCoord,mt,at,st);ft&&(st=dt.tickCoord-_e*(mt()/2+rt),nt[ut]=_objectSpread$5(_objectSpread$5({},dt),{},{isShow:!0}))},lt=it-1;lt>=0;lt--)ot(lt);return nt}function getTicksStart(_e,$,et,tt,rt,nt){var it=(tt||[]).slice(),at=it.length,st=$.start,ot=$.end;if(nt){var lt=tt[at-1],ct=et(lt,at-1),ut=_e*(lt.coordinate+_e*ct/2-ot);it[at-1]=lt=_objectSpread$5(_objectSpread$5({},lt),{},{tickCoord:ut>0?lt.coordinate-ut*_e:lt.coordinate});var dt=isVisible(_e,lt.tickCoord,function(){return ct},st,ot);dt&&(ot=lt.tickCoord-_e*(ct/2+rt),it[at-1]=_objectSpread$5(_objectSpread$5({},lt),{},{isShow:!0}))}for(var ht=nt?at-1:at,mt=function(gt){var bt=it[gt],_t,yt=function(){return _t===void 0&&(_t=et(bt,gt)),_t};if(gt===0){var vt=_e*(bt.coordinate-_e*yt()/2-st);it[gt]=bt=_objectSpread$5(_objectSpread$5({},bt),{},{tickCoord:vt<0?bt.coordinate-vt*_e:bt.coordinate})}else it[gt]=bt=_objectSpread$5(_objectSpread$5({},bt),{},{tickCoord:bt.coordinate});var xt=isVisible(_e,bt.tickCoord,yt,st,ot);xt&&(st=bt.tickCoord+_e*(yt()/2+rt),it[gt]=_objectSpread$5(_objectSpread$5({},bt),{},{isShow:!0}))},pt=0;pt<ht;pt++)mt(pt);return it}function getTicks(_e,$,et){var tt=_e.tick,rt=_e.ticks,nt=_e.viewBox,it=_e.minTickGap,at=_e.orientation,st=_e.interval,ot=_e.tickFormatter,lt=_e.unit,ct=_e.angle;if(!rt||!rt.length||!tt)return[];if(isNumber$1(st)||Global.isSsr)return getNumberIntervalTicks(rt,typeof st=="number"&&isNumber$1(st)?st:0);var ut=[],dt=at==="top"||at==="bottom"?"width":"height",ht=lt&&dt==="width"?getStringSize(lt,{fontSize:$,letterSpacing:et}):{width:0,height:0},mt=function(bt,_t){var yt=isFunction$4(ot)?ot(bt.value,_t):bt.value;return dt==="width"?getAngledTickWidth(getStringSize(yt,{fontSize:$,letterSpacing:et}),ht,ct):getStringSize(yt,{fontSize:$,letterSpacing:et})[dt]},pt=rt.length>=2?mathSign(rt[1].coordinate-rt[0].coordinate):1,ft=getTickBoundaries(nt,pt,dt);return st==="equidistantPreserveStart"?getEquidistantTicks(pt,ft,mt,rt,it):(st==="preserveStart"||st==="preserveStartEnd"?ut=getTicksStart(pt,ft,mt,rt,it,st==="preserveStartEnd"):ut=getTicksEnd(pt,ft,mt,rt,it),ut.filter(function(gt){return gt.isShow}))}var _excluded$3=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$7(_e){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$7(_e)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$5.apply(this,arguments)}function ownKeys$4(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$4(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$4(Object(et),!0).forEach(function(tt){_defineProperty$7(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$4(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _objectWithoutProperties$3(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$3(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$3(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _classCallCheck$5(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$7(tt.key),tt)}}function _createClass$5(_e,$,et){return $&&_defineProperties$5(_e.prototype,$),et&&_defineProperties$5(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$4(_e,$,et){return $=_getPrototypeOf$4($),_possibleConstructorReturn$4(_e,_isNativeReflectConstruct$4()?Reflect.construct($,et||[],_getPrototypeOf$4(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$4(_e,$){if($&&(_typeof$7($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(_e)}function _assertThisInitialized$4(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$4(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!_e})()}function _getPrototypeOf$4(_e){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$4(_e)}function _inherits$4(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$4(_e,$)}function _setPrototypeOf$4(_e,$){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$4(_e,$)}function _defineProperty$7(_e,$,et){return $=_toPropertyKey$7($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$7(_e){var $=_toPrimitive$7(_e,"string");return _typeof$7($)=="symbol"?$:$+""}function _toPrimitive$7(_e,$){if(_typeof$7(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$7(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var CartesianAxis=function(_e){function $(et){var tt;return _classCallCheck$5(this,$),tt=_callSuper$4(this,$,[et]),tt.state={fontSize:"",letterSpacing:""},tt}return _inherits$4($,_e),_createClass$5($,[{key:"shouldComponentUpdate",value:function(tt,rt){var nt=tt.viewBox,it=_objectWithoutProperties$3(tt,_excluded$3),at=this.props,st=at.viewBox,ot=_objectWithoutProperties$3(at,_excluded2$3);return!shallowEqual(nt,st)||!shallowEqual(it,ot)||!shallowEqual(rt,this.state)}},{key:"componentDidMount",value:function(){var tt=this.layerReference;if(tt){var rt=tt.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];rt&&this.setState({fontSize:window.getComputedStyle(rt).fontSize,letterSpacing:window.getComputedStyle(rt).letterSpacing})}}},{key:"getTickLineCoord",value:function(tt){var rt=this.props,nt=rt.x,it=rt.y,at=rt.width,st=rt.height,ot=rt.orientation,lt=rt.tickSize,ct=rt.mirror,ut=rt.tickMargin,dt,ht,mt,pt,ft,gt,bt=ct?-1:1,_t=tt.tickSize||lt,yt=isNumber$1(tt.tickCoord)?tt.tickCoord:tt.coordinate;switch(ot){case"top":dt=ht=tt.coordinate,pt=it+ +!ct*st,mt=pt-bt*_t,gt=mt-bt*ut,ft=yt;break;case"left":mt=pt=tt.coordinate,ht=nt+ +!ct*at,dt=ht-bt*_t,ft=dt-bt*ut,gt=yt;break;case"right":mt=pt=tt.coordinate,ht=nt+ +ct*at,dt=ht+bt*_t,ft=dt+bt*ut,gt=yt;break;default:dt=ht=tt.coordinate,pt=it+ +ct*st,mt=pt+bt*_t,gt=mt+bt*ut,ft=yt;break}return{line:{x1:dt,y1:mt,x2:ht,y2:pt},tick:{x:ft,y:gt}}}},{key:"getTickTextAnchor",value:function(){var tt=this.props,rt=tt.orientation,nt=tt.mirror,it;switch(rt){case"left":it=nt?"start":"end";break;case"right":it=nt?"end":"start";break;default:it="middle";break}return it}},{key:"getTickVerticalAnchor",value:function(){var tt=this.props,rt=tt.orientation,nt=tt.mirror,it="end";switch(rt){case"left":case"right":it="middle";break;case"top":it=nt?"start":"end";break;default:it=nt?"end":"start";break}return it}},{key:"renderAxisLine",value:function(){var tt=this.props,rt=tt.x,nt=tt.y,it=tt.width,at=tt.height,st=tt.orientation,ot=tt.mirror,lt=tt.axisLine,ct=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(lt,!1)),{},{fill:"none"});if(st==="top"||st==="bottom"){var ut=+(st==="top"&&!ot||st==="bottom"&&ot);ct=_objectSpread$4(_objectSpread$4({},ct),{},{x1:rt,y1:nt+ut*at,x2:rt+it,y2:nt+ut*at})}else{var dt=+(st==="left"&&!ot||st==="right"&&ot);ct=_objectSpread$4(_objectSpread$4({},ct),{},{x1:rt+dt*it,y1:nt,x2:rt+dt*it,y2:nt+at})}return React.createElement("line",_extends$5({},ct,{className:clsx("recharts-cartesian-axis-line",get$2(lt,"className"))}))}},{key:"renderTicks",value:function(tt,rt,nt){var it=this,at=this.props,st=at.tickLine,ot=at.stroke,lt=at.tick,ct=at.tickFormatter,ut=at.unit,dt=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:tt}),rt,nt),ht=this.getTickTextAnchor(),mt=this.getTickVerticalAnchor(),pt=filterProps(this.props,!1),ft=filterProps(lt,!1),gt=_objectSpread$4(_objectSpread$4({},pt),{},{fill:"none"},filterProps(st,!1)),bt=dt.map(function(_t,yt){var vt=it.getTickLineCoord(_t),xt=vt.line,wt=vt.tick,St=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:ht,verticalAnchor:mt},pt),{},{stroke:"none",fill:ot},ft),wt),{},{index:yt,payload:_t,visibleTicksCount:dt.length,tickFormatter:ct});return React.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_t.value,"-").concat(_t.coordinate,"-").concat(_t.tickCoord)},adaptEventsOfChild(it.props,_t,yt)),st&&React.createElement("line",_extends$5({},gt,xt,{className:clsx("recharts-cartesian-axis-tick-line",get$2(st,"className"))})),lt&&$.renderTickItem(lt,St,"".concat(isFunction$4(ct)?ct(_t.value,yt):_t.value).concat(ut||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},bt)}},{key:"render",value:function(){var tt=this,rt=this.props,nt=rt.axisLine,it=rt.width,at=rt.height,st=rt.ticksGenerator,ot=rt.className,lt=rt.hide;if(lt)return null;var ct=this.props,ut=ct.ticks,dt=_objectWithoutProperties$3(ct,_excluded3),ht=ut;return isFunction$4(st)&&(ht=ut&&ut.length>0?st(this.props):st(dt)),it<=0||at<=0||!ht||!ht.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",ot),ref:function(pt){tt.layerReference=pt}},nt&&this.renderAxisLine(),this.renderTicks(ht,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(tt,rt,nt){var it;return React.isValidElement(tt)?it=React.cloneElement(tt,rt):isFunction$4(tt)?it=tt(rt):it=React.createElement(Text,_extends$5({},rt,{className:"recharts-cartesian-axis-tick-value"}),nt),it}}])}(reactExports.Component);_defineProperty$7(CartesianAxis,"displayName","CartesianAxis");_defineProperty$7(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$2=["x1","y1","x2","y2","key"],_excluded2$2=["offset"];function _typeof$6(_e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$6(_e)}function ownKeys$3(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$3(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$3(Object(et),!0).forEach(function(tt){_defineProperty$6(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$3(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$6(_e,$,et){return $=_toPropertyKey$6($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$6(_e){var $=_toPrimitive$6(_e,"string");return _typeof$6($)=="symbol"?$:$+""}function _toPrimitive$6(_e,$){if(_typeof$6(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$6(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$4.apply(this,arguments)}function _objectWithoutProperties$2(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$2(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$2(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}var Background=function _e($){var et=$.fill;if(!et||et==="none")return null;var tt=$.fillOpacity,rt=$.x,nt=$.y,it=$.width,at=$.height,st=$.ry;return React.createElement("rect",{x:rt,y:nt,ry:st,width:it,height:at,stroke:"none",fill:et,fillOpacity:tt,className:"recharts-cartesian-grid-bg"})};function renderLineItem(_e,$){var et;if(React.isValidElement(_e))et=React.cloneElement(_e,$);else if(isFunction$4(_e))et=_e($);else{var tt=$.x1,rt=$.y1,nt=$.x2,it=$.y2,at=$.key,st=_objectWithoutProperties$2($,_excluded$2),ot=filterProps(st,!1);ot.offset;var lt=_objectWithoutProperties$2(ot,_excluded2$2);et=React.createElement("line",_extends$4({},lt,{x1:tt,y1:rt,x2:nt,y2:it,fill:"none",key:at}))}return et}function HorizontalGridLines(_e){var $=_e.x,et=_e.width,tt=_e.horizontal,rt=tt===void 0?!0:tt,nt=_e.horizontalPoints;if(!rt||!nt||!nt.length)return null;var it=nt.map(function(at,st){var ot=_objectSpread$3(_objectSpread$3({},_e),{},{x1:$,y1:at,x2:$+et,y2:at,key:"line-".concat(st),index:st});return renderLineItem(rt,ot)});return React.createElement("g",{className:"recharts-cartesian-grid-horizontal"},it)}function VerticalGridLines(_e){var $=_e.y,et=_e.height,tt=_e.vertical,rt=tt===void 0?!0:tt,nt=_e.verticalPoints;if(!rt||!nt||!nt.length)return null;var it=nt.map(function(at,st){var ot=_objectSpread$3(_objectSpread$3({},_e),{},{x1:at,y1:$,x2:at,y2:$+et,key:"line-".concat(st),index:st});return renderLineItem(rt,ot)});return React.createElement("g",{className:"recharts-cartesian-grid-vertical"},it)}function HorizontalStripes(_e){var $=_e.horizontalFill,et=_e.fillOpacity,tt=_e.x,rt=_e.y,nt=_e.width,it=_e.height,at=_e.horizontalPoints,st=_e.horizontal,ot=st===void 0?!0:st;if(!ot||!$||!$.length)return null;var lt=at.map(function(ut){return Math.round(ut+rt-rt)}).sort(function(ut,dt){return ut-dt});rt!==lt[0]&&lt.unshift(0);var ct=lt.map(function(ut,dt){var ht=!lt[dt+1],mt=ht?rt+it-ut:lt[dt+1]-ut;if(mt<=0)return null;var pt=dt%$.length;return React.createElement("rect",{key:"react-".concat(dt),y:ut,x:tt,height:mt,width:nt,stroke:"none",fill:$[pt],fillOpacity:et,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},ct)}function VerticalStripes(_e){var $=_e.vertical,et=$===void 0?!0:$,tt=_e.verticalFill,rt=_e.fillOpacity,nt=_e.x,it=_e.y,at=_e.width,st=_e.height,ot=_e.verticalPoints;if(!et||!tt||!tt.length)return null;var lt=ot.map(function(ut){return Math.round(ut+nt-nt)}).sort(function(ut,dt){return ut-dt});nt!==lt[0]&&lt.unshift(0);var ct=lt.map(function(ut,dt){var ht=!lt[dt+1],mt=ht?nt+at-ut:lt[dt+1]-ut;if(mt<=0)return null;var pt=dt%tt.length;return React.createElement("rect",{key:"react-".concat(dt),x:ut,y:it,width:mt,height:st,stroke:"none",fill:tt[pt],fillOpacity:rt,className:"recharts-cartesian-grid-bg"})});return React.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},ct)}var defaultVerticalCoordinatesGenerator=function _e($,et){var tt=$.xAxis,rt=$.width,nt=$.height,it=$.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),tt),{},{ticks:getTicksOfAxis(tt,!0),viewBox:{x:0,y:0,width:rt,height:nt}})),it.left,it.left+it.width,et)},defaultHorizontalCoordinatesGenerator=function _e($,et){var tt=$.yAxis,rt=$.width,nt=$.height,it=$.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),tt),{},{ticks:getTicksOfAxis(tt,!0),viewBox:{x:0,y:0,width:rt,height:nt}})),it.top,it.top+it.height,et)},defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(_e){var $,et,tt,rt,nt,it,at=useChartWidth(),st=useChartHeight(),ot=useOffset(),lt=_objectSpread$3(_objectSpread$3({},_e),{},{stroke:($=_e.stroke)!==null&&$!==void 0?$:defaultProps.stroke,fill:(et=_e.fill)!==null&&et!==void 0?et:defaultProps.fill,horizontal:(tt=_e.horizontal)!==null&&tt!==void 0?tt:defaultProps.horizontal,horizontalFill:(rt=_e.horizontalFill)!==null&&rt!==void 0?rt:defaultProps.horizontalFill,vertical:(nt=_e.vertical)!==null&&nt!==void 0?nt:defaultProps.vertical,verticalFill:(it=_e.verticalFill)!==null&&it!==void 0?it:defaultProps.verticalFill,x:isNumber$1(_e.x)?_e.x:ot.left,y:isNumber$1(_e.y)?_e.y:ot.top,width:isNumber$1(_e.width)?_e.width:ot.width,height:isNumber$1(_e.height)?_e.height:ot.height}),ct=lt.x,ut=lt.y,dt=lt.width,ht=lt.height,mt=lt.syncWithTicks,pt=lt.horizontalValues,ft=lt.verticalValues,gt=useArbitraryXAxis(),bt=useYAxisWithFiniteDomainOrRandom();if(!isNumber$1(dt)||dt<=0||!isNumber$1(ht)||ht<=0||!isNumber$1(ct)||ct!==+ct||!isNumber$1(ut)||ut!==+ut)return null;var _t=lt.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,yt=lt.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,vt=lt.horizontalPoints,xt=lt.verticalPoints;if((!vt||!vt.length)&&isFunction$4(yt)){var wt=pt&&pt.length,St=yt({yAxis:bt?_objectSpread$3(_objectSpread$3({},bt),{},{ticks:wt?pt:bt.ticks}):void 0,width:at,height:st,offset:ot},wt?!0:mt);warn(Array.isArray(St),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(St),"]")),Array.isArray(St)&&(vt=St)}if((!xt||!xt.length)&&isFunction$4(_t)){var Ot=ft&&ft.length,Et=_t({xAxis:gt?_objectSpread$3(_objectSpread$3({},gt),{},{ticks:Ot?ft:gt.ticks}):void 0,width:at,height:st,offset:ot},Ot?!0:mt);warn(Array.isArray(Et),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$6(Et),"]")),Array.isArray(Et)&&(xt=Et)}return React.createElement("g",{className:"recharts-cartesian-grid"},React.createElement(Background,{fill:lt.fill,fillOpacity:lt.fillOpacity,x:lt.x,y:lt.y,width:lt.width,height:lt.height,ry:lt.ry}),React.createElement(HorizontalGridLines,_extends$4({},lt,{offset:ot,horizontalPoints:vt,xAxis:gt,yAxis:bt})),React.createElement(VerticalGridLines,_extends$4({},lt,{offset:ot,verticalPoints:xt,xAxis:gt,yAxis:bt})),React.createElement(HorizontalStripes,_extends$4({},lt,{horizontalPoints:vt})),React.createElement(VerticalStripes,_extends$4({},lt,{verticalPoints:xt})))}CartesianGrid.displayName="CartesianGrid";var _excluded$1=["type","layout","connectNulls","ref"],_excluded2$1=["key"];function _typeof$5(_e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$5(_e)}function _objectWithoutProperties$1(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$1(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$1(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$3.apply(this,arguments)}function ownKeys$2(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$2(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty$5(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _toConsumableArray$2(_e){return _arrayWithoutHoles$2(_e)||_iterableToArray$2(_e)||_unsupportedIterableToArray$2(_e)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$2(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$2(_e,$)}}function _iterableToArray$2(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$2(_e){if(Array.isArray(_e))return _arrayLikeToArray$2(_e)}function _arrayLikeToArray$2(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function _classCallCheck$4(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$5(tt.key),tt)}}function _createClass$4(_e,$,et){return $&&_defineProperties$4(_e.prototype,$),et&&_defineProperties$4(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$3(_e,$,et){return $=_getPrototypeOf$3($),_possibleConstructorReturn$3(_e,_isNativeReflectConstruct$3()?Reflect.construct($,et||[],_getPrototypeOf$3(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$3(_e,$){if($&&(_typeof$5($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(_e)}function _assertThisInitialized$3(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$3(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!_e})()}function _getPrototypeOf$3(_e){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$3(_e)}function _inherits$3(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$3(_e,$)}function _setPrototypeOf$3(_e,$){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$3(_e,$)}function _defineProperty$5(_e,$,et){return $=_toPropertyKey$5($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$5(_e){var $=_toPrimitive$5(_e,"string");return _typeof$5($)=="symbol"?$:$+""}function _toPrimitive$5(_e,$){if(_typeof$5(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$5(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var Line$1=function(_e){function $(){var et;_classCallCheck$4(this,$);for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];return et=_callSuper$3(this,$,[].concat(rt)),_defineProperty$5(et,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$5(et,"generateSimpleStrokeDasharray",function(it,at){return"".concat(at,"px ").concat(it-at,"px")}),_defineProperty$5(et,"getStrokeDasharray",function(it,at,st){var ot=st.reduce(function(ft,gt){return ft+gt});if(!ot)return et.generateSimpleStrokeDasharray(at,it);for(var lt=Math.floor(it/ot),ct=it%ot,ut=at-it,dt=[],ht=0,mt=0;ht<st.length;mt+=st[ht],++ht)if(mt+st[ht]>ct){dt=[].concat(_toConsumableArray$2(st.slice(0,ht)),[ct-mt]);break}var pt=dt.length%2===0?[0,ut]:[ut];return[].concat(_toConsumableArray$2($.repeat(st,lt)),_toConsumableArray$2(dt),pt).map(function(ft){return"".concat(ft,"px")}).join(", ")}),_defineProperty$5(et,"id",uniqueId("recharts-line-")),_defineProperty$5(et,"pathRef",function(it){et.mainCurve=it}),_defineProperty$5(et,"handleAnimationEnd",function(){et.setState({isAnimationFinished:!0}),et.props.onAnimationEnd&&et.props.onAnimationEnd()}),_defineProperty$5(et,"handleAnimationStart",function(){et.setState({isAnimationFinished:!1}),et.props.onAnimationStart&&et.props.onAnimationStart()}),et}return _inherits$3($,_e),_createClass$4($,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var tt=this.getTotalLength();this.setState({totalLength:tt})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var tt=this.getTotalLength();tt!==this.state.totalLength&&this.setState({totalLength:tt})}}},{key:"getTotalLength",value:function(){var tt=this.mainCurve;try{return tt&&tt.getTotalLength&&tt.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(tt,rt){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var nt=this.props,it=nt.points,at=nt.xAxis,st=nt.yAxis,ot=nt.layout,lt=nt.children,ct=findAllByType(lt,ErrorBar);if(!ct)return null;var ut=function(mt,pt){return{x:mt.x,y:mt.y,value:mt.value,errorVal:getValueByDataKey(mt.payload,pt)}},dt={clipPath:tt?"url(#clipPath-".concat(rt,")"):null};return React.createElement(Layer,dt,ct.map(function(ht){return React.cloneElement(ht,{key:"bar-".concat(ht.props.dataKey),data:it,xAxis:at,yAxis:st,layout:ot,dataPointFormatter:ut})}))}},{key:"renderDots",value:function(tt,rt,nt){var it=this.props.isAnimationActive;if(it&&!this.state.isAnimationFinished)return null;var at=this.props,st=at.dot,ot=at.points,lt=at.dataKey,ct=filterProps(this.props,!1),ut=filterProps(st,!0),dt=ot.map(function(mt,pt){var ft=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(pt),r:3},ct),ut),{},{value:mt.value,dataKey:lt,cx:mt.x,cy:mt.y,index:pt,payload:mt.payload});return $.renderDotItem(st,ft)}),ht={clipPath:tt?"url(#clipPath-".concat(rt?"":"dots-").concat(nt,")"):null};return React.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},ht),dt)}},{key:"renderCurveStatically",value:function(tt,rt,nt,it){var at=this.props,st=at.type,ot=at.layout,lt=at.connectNulls;at.ref;var ct=_objectWithoutProperties$1(at,_excluded$1),ut=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(ct,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:rt?"url(#clipPath-".concat(nt,")"):null,points:tt},it),{},{type:st,layout:ot,connectNulls:lt});return React.createElement(Curve,_extends$3({},ut,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(tt,rt){var nt=this,it=this.props,at=it.points,st=it.strokeDasharray,ot=it.isAnimationActive,lt=it.animationBegin,ct=it.animationDuration,ut=it.animationEasing,dt=it.animationId,ht=it.animateNewValues,mt=it.width,pt=it.height,ft=this.state,gt=ft.prevPoints,bt=ft.totalLength;return React.createElement(Animate,{begin:lt,duration:ct,isActive:ot,easing:ut,from:{t:0},to:{t:1},key:"line-".concat(dt),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_t){var yt=_t.t;if(gt){var vt=gt.length/at.length,xt=at.map(function(Tt,It){var Wt=Math.floor(It*vt);if(gt[Wt]){var Lt=gt[Wt],zt=interpolateNumber$2(Lt.x,Tt.x),Ft=interpolateNumber$2(Lt.y,Tt.y);return _objectSpread$2(_objectSpread$2({},Tt),{},{x:zt(yt),y:Ft(yt)})}if(ht){var Rt=interpolateNumber$2(mt*2,Tt.x),jt=interpolateNumber$2(pt/2,Tt.y);return _objectSpread$2(_objectSpread$2({},Tt),{},{x:Rt(yt),y:jt(yt)})}return _objectSpread$2(_objectSpread$2({},Tt),{},{x:Tt.x,y:Tt.y})});return nt.renderCurveStatically(xt,tt,rt)}var wt=interpolateNumber$2(0,bt),St=wt(yt),Ot;if(st){var Et="".concat(st).split(/[,\s]+/gim).map(function(Tt){return parseFloat(Tt)});Ot=nt.getStrokeDasharray(St,bt,Et)}else Ot=nt.generateSimpleStrokeDasharray(bt,St);return nt.renderCurveStatically(at,tt,rt,{strokeDasharray:Ot})})}},{key:"renderCurve",value:function(tt,rt){var nt=this.props,it=nt.points,at=nt.isAnimationActive,st=this.state,ot=st.prevPoints,lt=st.totalLength;return at&&it&&it.length&&(!ot&&lt>0||!isEqual$1(ot,it))?this.renderCurveWithAnimation(tt,rt):this.renderCurveStatically(it,tt,rt)}},{key:"render",value:function(){var tt,rt=this.props,nt=rt.hide,it=rt.dot,at=rt.points,st=rt.className,ot=rt.xAxis,lt=rt.yAxis,ct=rt.top,ut=rt.left,dt=rt.width,ht=rt.height,mt=rt.isAnimationActive,pt=rt.id;if(nt||!at||!at.length)return null;var ft=this.state.isAnimationFinished,gt=at.length===1,bt=clsx("recharts-line",st),_t=ot&&ot.allowDataOverflow,yt=lt&&lt.allowDataOverflow,vt=_t||yt,xt=isNil$1(pt)?this.id:pt,wt=(tt=filterProps(it,!1))!==null&&tt!==void 0?tt:{r:3,strokeWidth:2},St=wt.r,Ot=St===void 0?3:St,Et=wt.strokeWidth,Tt=Et===void 0?2:Et,It=hasClipDot(it)?it:{},Wt=It.clipDot,Lt=Wt===void 0?!0:Wt,zt=Ot*2+Tt;return React.createElement(Layer,{className:bt},_t||yt?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(xt)},React.createElement("rect",{x:_t?ut:ut-dt/2,y:yt?ct:ct-ht/2,width:_t?dt:dt*2,height:yt?ht:ht*2})),!Lt&&React.createElement("clipPath",{id:"clipPath-dots-".concat(xt)},React.createElement("rect",{x:ut-zt/2,y:ct-zt/2,width:dt+zt,height:ht+zt}))):null,!gt&&this.renderCurve(vt,xt),this.renderErrorBar(vt,xt),(gt||it)&&this.renderDots(vt,Lt,xt),(!mt||ft)&&LabelList.renderCallByParent(this.props,at))}}],[{key:"getDerivedStateFromProps",value:function(tt,rt){return tt.animationId!==rt.prevAnimationId?{prevAnimationId:tt.animationId,curPoints:tt.points,prevPoints:rt.curPoints}:tt.points!==rt.curPoints?{curPoints:tt.points}:null}},{key:"repeat",value:function(tt,rt){for(var nt=tt.length%2!==0?[].concat(_toConsumableArray$2(tt),[0]):tt,it=[],at=0;at<rt;++at)it=[].concat(_toConsumableArray$2(it),_toConsumableArray$2(nt));return it}},{key:"renderDotItem",value:function(tt,rt){var nt;if(React.isValidElement(tt))nt=React.cloneElement(tt,rt);else if(isFunction$4(tt))nt=tt(rt);else{var it=rt.key,at=_objectWithoutProperties$1(rt,_excluded2$1),st=clsx("recharts-line-dot",typeof tt!="boolean"?tt.className:"");nt=React.createElement(Dot,_extends$3({key:it},at,{className:st}))}return nt}}])}(reactExports.PureComponent);_defineProperty$5(Line$1,"displayName","Line");_defineProperty$5(Line$1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$5(Line$1,"getComposedData",function(_e){var $=_e.props,et=_e.xAxis,tt=_e.yAxis,rt=_e.xAxisTicks,nt=_e.yAxisTicks,it=_e.dataKey,at=_e.bandSize,st=_e.displayedData,ot=_e.offset,lt=$.layout,ct=st.map(function(ut,dt){var ht=getValueByDataKey(ut,it);return lt==="horizontal"?{x:getCateCoordinateOfLine({axis:et,ticks:rt,bandSize:at,entry:ut,index:dt}),y:isNil$1(ht)?null:tt.scale(ht),value:ht,payload:ut}:{x:isNil$1(ht)?null:et.scale(ht),y:getCateCoordinateOfLine({axis:tt,ticks:nt,bandSize:at,entry:ut,index:dt}),value:ht,payload:ut}});return _objectSpread$2({points:ct,layout:lt},ot)});function _typeof$4(_e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$4(_e)}function _classCallCheck$3(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$4(tt.key),tt)}}function _createClass$3(_e,$,et){return $&&_defineProperties$3(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$2(_e,$,et){return $=_getPrototypeOf$2($),_possibleConstructorReturn$2(_e,_isNativeReflectConstruct$2()?Reflect.construct($,et||[],_getPrototypeOf$2(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$2(_e,$){if($&&(_typeof$4($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(_e)}function _assertThisInitialized$2(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$2(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!_e})()}function _getPrototypeOf$2(_e){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$2(_e)}function _inherits$2(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$2(_e,$)}function _setPrototypeOf$2(_e,$){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$2(_e,$)}function _defineProperty$4(_e,$,et){return $=_toPropertyKey$4($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$4(_e){var $=_toPrimitive$4(_e,"string");return _typeof$4($)=="symbol"?$:$+""}function _toPrimitive$4(_e,$){if(_typeof$4(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$4(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$2.apply(this,arguments)}function XAxisImpl(_e){var $=_e.xAxisId,et=useChartWidth(),tt=useChartHeight(),rt=useXAxisOrThrow($);return rt==null?null:React.createElement(CartesianAxis,_extends$2({},rt,{className:clsx("recharts-".concat(rt.axisType," ").concat(rt.axisType),rt.className),viewBox:{x:0,y:0,width:et,height:tt},ticksGenerator:function(it){return getTicksOfAxis(it,!0)}}))}var XAxis=function(_e){function $(){return _classCallCheck$3(this,$),_callSuper$2(this,$,arguments)}return _inherits$2($,_e),_createClass$3($,[{key:"render",value:function(){return React.createElement(XAxisImpl,this.props)}}])}(React.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(_e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$3(_e)}function _classCallCheck$2(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$3(tt.key),tt)}}function _createClass$2(_e,$,et){return $&&_defineProperties$2(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$1(_e,$,et){return $=_getPrototypeOf$1($),_possibleConstructorReturn$1(_e,_isNativeReflectConstruct$1()?Reflect.construct($,et||[],_getPrototypeOf$1(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn$1(_e,$){if($&&(_typeof$3($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(_e)}function _assertThisInitialized$1(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$1(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!_e})()}function _getPrototypeOf$1(_e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$1(_e)}function _inherits$1(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$1(_e,$)}function _setPrototypeOf$1(_e,$){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$1(_e,$)}function _defineProperty$3(_e,$,et){return $=_toPropertyKey$3($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$3(_e){var $=_toPrimitive$3(_e,"string");return _typeof$3($)=="symbol"?$:$+""}function _toPrimitive$3(_e,$){if(_typeof$3(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$3(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$1.apply(this,arguments)}var YAxisImpl=function _e($){var et=$.yAxisId,tt=useChartWidth(),rt=useChartHeight(),nt=useYAxisOrThrow(et);return nt==null?null:React.createElement(CartesianAxis,_extends$1({},nt,{className:clsx("recharts-".concat(nt.axisType," ").concat(nt.axisType),nt.className),viewBox:{x:0,y:0,width:tt,height:rt},ticksGenerator:function(at){return getTicksOfAxis(at,!0)}}))},YAxis=function(_e){function $(){return _classCallCheck$2(this,$),_callSuper$1(this,$,arguments)}return _inherits$1($,_e),_createClass$2($,[{key:"render",value:function(){return React.createElement(YAxisImpl,this.props)}}])}(React.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$1(_e,$)}}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function _arrayLikeToArray$1(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}var detectReferenceElementsDomain=function _e($,et,tt,rt,nt){var it=findAllByType($,ReferenceLine),at=findAllByType($,ReferenceDot),st=[].concat(_toConsumableArray$1(it),_toConsumableArray$1(at)),ot=findAllByType($,ReferenceArea),lt="".concat(rt,"Id"),ct=rt[0],ut=et;if(st.length&&(ut=st.reduce(function(mt,pt){if(pt.props[lt]===tt&&ifOverflowMatches(pt.props,"extendDomain")&&isNumber$1(pt.props[ct])){var ft=pt.props[ct];return[Math.min(mt[0],ft),Math.max(mt[1],ft)]}return mt},ut)),ot.length){var dt="".concat(ct,"1"),ht="".concat(ct,"2");ut=ot.reduce(function(mt,pt){if(pt.props[lt]===tt&&ifOverflowMatches(pt.props,"extendDomain")&&isNumber$1(pt.props[dt])&&isNumber$1(pt.props[ht])){var ft=pt.props[dt],gt=pt.props[ht];return[Math.min(mt[0],ft,gt),Math.max(mt[1],ft,gt)]}return mt},ut)}return nt&&nt.length&&(ut=nt.reduce(function(mt,pt){return isNumber$1(pt)?[Math.min(mt[0],pt),Math.max(mt[1],pt)]:mt},ut)),ut},eventemitter3={exports:{}};(function(_e){var $=Object.prototype.hasOwnProperty,et="~";function tt(){}Object.create&&(tt.prototype=Object.create(null),new tt().__proto__||(et=!1));function rt(st,ot,lt){this.fn=st,this.context=ot,this.once=lt||!1}function nt(st,ot,lt,ct,ut){if(typeof lt!="function")throw new TypeError("The listener must be a function");var dt=new rt(lt,ct||st,ut),ht=et?et+ot:ot;return st._events[ht]?st._events[ht].fn?st._events[ht]=[st._events[ht],dt]:st._events[ht].push(dt):(st._events[ht]=dt,st._eventsCount++),st}function it(st,ot){--st._eventsCount===0?st._events=new tt:delete st._events[ot]}function at(){this._events=new tt,this._eventsCount=0}at.prototype.eventNames=function(){var ot=[],lt,ct;if(this._eventsCount===0)return ot;for(ct in lt=this._events)$.call(lt,ct)&&ot.push(et?ct.slice(1):ct);return Object.getOwnPropertySymbols?ot.concat(Object.getOwnPropertySymbols(lt)):ot},at.prototype.listeners=function(ot){var lt=et?et+ot:ot,ct=this._events[lt];if(!ct)return[];if(ct.fn)return[ct.fn];for(var ut=0,dt=ct.length,ht=new Array(dt);ut<dt;ut++)ht[ut]=ct[ut].fn;return ht},at.prototype.listenerCount=function(ot){var lt=et?et+ot:ot,ct=this._events[lt];return ct?ct.fn?1:ct.length:0},at.prototype.emit=function(ot,lt,ct,ut,dt,ht){var mt=et?et+ot:ot;if(!this._events[mt])return!1;var pt=this._events[mt],ft=arguments.length,gt,bt;if(pt.fn){switch(pt.once&&this.removeListener(ot,pt.fn,void 0,!0),ft){case 1:return pt.fn.call(pt.context),!0;case 2:return pt.fn.call(pt.context,lt),!0;case 3:return pt.fn.call(pt.context,lt,ct),!0;case 4:return pt.fn.call(pt.context,lt,ct,ut),!0;case 5:return pt.fn.call(pt.context,lt,ct,ut,dt),!0;case 6:return pt.fn.call(pt.context,lt,ct,ut,dt,ht),!0}for(bt=1,gt=new Array(ft-1);bt<ft;bt++)gt[bt-1]=arguments[bt];pt.fn.apply(pt.context,gt)}else{var _t=pt.length,yt;for(bt=0;bt<_t;bt++)switch(pt[bt].once&&this.removeListener(ot,pt[bt].fn,void 0,!0),ft){case 1:pt[bt].fn.call(pt[bt].context);break;case 2:pt[bt].fn.call(pt[bt].context,lt);break;case 3:pt[bt].fn.call(pt[bt].context,lt,ct);break;case 4:pt[bt].fn.call(pt[bt].context,lt,ct,ut);break;default:if(!gt)for(yt=1,gt=new Array(ft-1);yt<ft;yt++)gt[yt-1]=arguments[yt];pt[bt].fn.apply(pt[bt].context,gt)}}return!0},at.prototype.on=function(ot,lt,ct){return nt(this,ot,lt,ct,!1)},at.prototype.once=function(ot,lt,ct){return nt(this,ot,lt,ct,!0)},at.prototype.removeListener=function(ot,lt,ct,ut){var dt=et?et+ot:ot;if(!this._events[dt])return this;if(!lt)return it(this,dt),this;var ht=this._events[dt];if(ht.fn)ht.fn===lt&&(!ut||ht.once)&&(!ct||ht.context===ct)&&it(this,dt);else{for(var mt=0,pt=[],ft=ht.length;mt<ft;mt++)(ht[mt].fn!==lt||ut&&!ht[mt].once||ct&&ht[mt].context!==ct)&&pt.push(ht[mt]);pt.length?this._events[dt]=pt.length===1?pt[0]:pt:it(this,dt)}return this},at.prototype.removeAllListeners=function(ot){var lt;return ot?(lt=et?et+ot:ot,this._events[lt]&&it(this,lt)):(this._events=new tt,this._eventsCount=0),this},at.prototype.off=at.prototype.removeListener,at.prototype.addListener=at.prototype.on,at.prefixed=et,at.EventEmitter=at,_e.exports=at})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(_e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$2(_e)}function _classCallCheck$1(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$2(tt.key),tt)}}function _createClass$1(_e,$,et){return $&&_defineProperties$1(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _defineProperty$2(_e,$,et){return $=_toPropertyKey$2($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$2(_e){var $=_toPrimitive$2(_e,"string");return _typeof$2($)=="symbol"?$:$+""}function _toPrimitive$2(_e,$){if(_typeof$2(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$);if(_typeof$2(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}var AccessibilityManager=function(){function _e(){_classCallCheck$1(this,_e),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(_e,[{key:"setDetails",value:function(et){var tt,rt=et.coordinateList,nt=rt===void 0?null:rt,it=et.container,at=it===void 0?null:it,st=et.layout,ot=st===void 0?null:st,lt=et.offset,ct=lt===void 0?null:lt,ut=et.mouseHandlerCallback,dt=ut===void 0?null:ut;this.coordinateList=(tt=nt??this.coordinateList)!==null&&tt!==void 0?tt:[],this.container=at??this.container,this.layout=ot??this.layout,this.offset=ct??this.offset,this.mouseHandlerCallback=dt??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(et){if(this.coordinateList.length!==0)switch(et.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(et){this.activeIndex=et}},{key:"spoofMouse",value:function(){var et,tt;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var rt=this.container.getBoundingClientRect(),nt=rt.x,it=rt.y,at=rt.height,st=this.coordinateList[this.activeIndex].coordinate,ot=((et=window)===null||et===void 0?void 0:et.scrollX)||0,lt=((tt=window)===null||tt===void 0?void 0:tt.scrollY)||0,ct=nt+st+ot,ut=it+this.offset.top+at/2+lt;this.mouseHandlerCallback({pageX:ct,pageY:ut})}}}])}();function isDomainSpecifiedByUser(_e,$,et){if(et==="number"&&$===!0&&Array.isArray(_e)){var tt=_e==null?void 0:_e[0],rt=_e==null?void 0:_e[1];if(tt&&rt&&isNumber$1(tt)&&isNumber$1(rt))return!0}return!1}function getCursorRectangle(_e,$,et,tt){var rt=tt/2;return{stroke:"none",fill:"#ccc",x:_e==="horizontal"?$.x-rt:et.left+.5,y:_e==="horizontal"?et.top+.5:$.y-rt,width:_e==="horizontal"?tt:et.width-1,height:_e==="horizontal"?et.height-1:tt}}function getRadialCursorPoints(_e){var $=_e.cx,et=_e.cy,tt=_e.radius,rt=_e.startAngle,nt=_e.endAngle,it=polarToCartesian($,et,tt,rt),at=polarToCartesian($,et,tt,nt);return{points:[it,at],cx:$,cy:et,radius:tt,startAngle:rt,endAngle:nt}}function getCursorPoints(_e,$,et){var tt,rt,nt,it;if(_e==="horizontal")tt=$.x,nt=tt,rt=et.top,it=et.top+et.height;else if(_e==="vertical")rt=$.y,it=rt,tt=et.left,nt=et.left+et.width;else if($.cx!=null&&$.cy!=null)if(_e==="centric"){var at=$.cx,st=$.cy,ot=$.innerRadius,lt=$.outerRadius,ct=$.angle,ut=polarToCartesian(at,st,ot,ct),dt=polarToCartesian(at,st,lt,ct);tt=ut.x,rt=ut.y,nt=dt.x,it=dt.y}else return getRadialCursorPoints($);return[{x:tt,y:rt},{x:nt,y:it}]}function _typeof$1(_e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$1(_e)}function ownKeys$1(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$1(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$1(_e,$,et){return $=_toPropertyKey$1($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey$1(_e){var $=_toPrimitive$1(_e,"string");return _typeof$1($)=="symbol"?$:$+""}function _toPrimitive$1(_e,$){if(_typeof$1(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$1(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Cursor(_e){var $,et,tt=_e.element,rt=_e.tooltipEventType,nt=_e.isActive,it=_e.activeCoordinate,at=_e.activePayload,st=_e.offset,ot=_e.activeTooltipIndex,lt=_e.tooltipAxisBandSize,ct=_e.layout,ut=_e.chartName,dt=($=tt.props.cursor)!==null&&$!==void 0?$:(et=tt.type.defaultProps)===null||et===void 0?void 0:et.cursor;if(!tt||!dt||!nt||!it||ut!=="ScatterChart"&&rt!=="axis")return null;var ht,mt=Curve;if(ut==="ScatterChart")ht=it,mt=Cross;else if(ut==="BarChart")ht=getCursorRectangle(ct,it,st,lt),mt=Rectangle;else if(ct==="radial"){var pt=getRadialCursorPoints(it),ft=pt.cx,gt=pt.cy,bt=pt.radius,_t=pt.startAngle,yt=pt.endAngle;ht={cx:ft,cy:gt,startAngle:_t,endAngle:yt,innerRadius:bt,outerRadius:bt},mt=Sector}else ht={points:getCursorPoints(ct,it,st)},mt=Curve;var vt=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},st),ht),filterProps(dt,!1)),{},{payload:at,payloadIndex:ot,className:clsx("recharts-tooltip-cursor",dt.className)});return reactExports.isValidElement(dt)?reactExports.cloneElement(dt,vt):reactExports.createElement(mt,vt)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(_e)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends.apply(this,arguments)}function _slicedToArray(_e,$){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,$)||_unsupportedIterableToArray(_e,$)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(_e,$){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],st=!0,ot=!1;try{if(nt=(et=et.call(_e)).next,$!==0)for(;!(st=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==$);st=!0);}catch(lt){ot=!0,rt=lt}finally{try{if(!st&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ot)throw rt}}return at}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties(_e,$){if(_e==null)return{};var et=_objectWithoutPropertiesLoose(_e,$),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!($.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if($.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _classCallCheck(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_e,$){for(var et=0;et<$.length;et++){var tt=$[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey(tt.key),tt)}}function _createClass(_e,$,et){return $&&_defineProperties(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper(_e,$,et){return $=_getPrototypeOf($),_possibleConstructorReturn(_e,_isNativeReflectConstruct()?Reflect.construct($,et||[],_getPrototypeOf(_e).constructor):$.apply(_e,et))}function _possibleConstructorReturn(_e,$){if($&&(_typeof($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(_e)}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!_e})()}function _getPrototypeOf(_e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf(_e)}function _inherits(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf(_e,$)}function _setPrototypeOf(_e,$){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf(_e,$)}function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,$);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray(_e,$)}}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _arrayLikeToArray(_e,$){($==null||$>_e.length)&&($=_e.length);for(var et=0,tt=new Array($);et<$;et++)tt[et]=_e[et];return tt}function ownKeys(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty(_e,$,et){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return _typeof($)=="symbol"?$:$+""}function _toPrimitive(_e,$){if(_typeof(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(_e){return _e}var calculateTooltipPos=function _e($,et){return et==="horizontal"?$.x:et==="vertical"?$.y:et==="centric"?$.angle:$.radius},getActiveCoordinate=function _e($,et,tt,rt){var nt=et.find(function(lt){return lt&&lt.index===tt});if(nt){if($==="horizontal")return{x:nt.coordinate,y:rt.y};if($==="vertical")return{x:rt.x,y:nt.coordinate};if($==="centric"){var it=nt.coordinate,at=rt.radius;return _objectSpread(_objectSpread(_objectSpread({},rt),polarToCartesian(rt.cx,rt.cy,at,it)),{},{angle:it,radius:at})}var st=nt.coordinate,ot=rt.angle;return _objectSpread(_objectSpread(_objectSpread({},rt),polarToCartesian(rt.cx,rt.cy,st,ot)),{},{angle:ot,radius:st})}return originCoordinate},getDisplayedData=function _e($,et){var tt=et.graphicalItems,rt=et.dataStartIndex,nt=et.dataEndIndex,it=(tt??[]).reduce(function(at,st){var ot=st.props.data;return ot&&ot.length?[].concat(_toConsumableArray(at),_toConsumableArray(ot)):at},[]);return it.length>0?it:$&&$.length&&isNumber$1(rt)&&isNumber$1(nt)?$.slice(rt,nt+1):[]};function getDefaultDomainByAxisType(_e){return _e==="number"?[0,"auto"]:void 0}var getTooltipContent=function _e($,et,tt,rt){var nt=$.graphicalItems,it=$.tooltipAxis,at=getDisplayedData(et,$);return tt<0||!nt||!nt.length||tt>=at.length?null:nt.reduce(function(st,ot){var lt,ct=(lt=ot.props.data)!==null&&lt!==void 0?lt:et;ct&&$.dataStartIndex+$.dataEndIndex!==0&&$.dataEndIndex-$.dataStartIndex>=tt&&(ct=ct.slice($.dataStartIndex,$.dataEndIndex+1));var ut;if(it.dataKey&&!it.allowDuplicatedCategory){var dt=ct===void 0?at:ct;ut=findEntryInArray(dt,it.dataKey,rt)}else ut=ct&&ct[tt]||at[tt];return ut?[].concat(_toConsumableArray(st),[getTooltipItem(ot,ut)]):st},[])},getTooltipData=function _e($,et,tt,rt){var nt=rt||{x:$.chartX,y:$.chartY},it=calculateTooltipPos(nt,tt),at=$.orderedTooltipTicks,st=$.tooltipAxis,ot=$.tooltipTicks,lt=calculateActiveTickIndex(it,at,ot,st);if(lt>=0&&ot){var ct=ot[lt]&&ot[lt].value,ut=getTooltipContent($,et,lt,ct),dt=getActiveCoordinate(tt,at,lt,nt);return{activeTooltipIndex:lt,activeLabel:ct,activePayload:ut,activeCoordinate:dt}}return null},getAxisMapByAxes=function _e($,et){var tt=et.axes,rt=et.graphicalItems,nt=et.axisType,it=et.axisIdKey,at=et.stackGroups,st=et.dataStartIndex,ot=et.dataEndIndex,lt=$.layout,ct=$.children,ut=$.stackOffset,dt=isCategoricalAxis(lt,nt);return tt.reduce(function(ht,mt){var pt,ft=mt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},mt.type.defaultProps),mt.props):mt.props,gt=ft.type,bt=ft.dataKey,_t=ft.allowDataOverflow,yt=ft.allowDuplicatedCategory,vt=ft.scale,xt=ft.ticks,wt=ft.includeHidden,St=ft[it];if(ht[St])return ht;var Ot=getDisplayedData($.data,{graphicalItems:rt.filter(function(Mt){var At,Pt=it in Mt.props?Mt.props[it]:(At=Mt.type.defaultProps)===null||At===void 0?void 0:At[it];return Pt===St}),dataStartIndex:st,dataEndIndex:ot}),Et=Ot.length,Tt,It,Wt;isDomainSpecifiedByUser(ft.domain,_t,gt)&&(Tt=parseSpecifiedDomain(ft.domain,null,_t),dt&&(gt==="number"||vt!=="auto")&&(Wt=getDomainOfDataByKey(Ot,bt,"category")));var Lt=getDefaultDomainByAxisType(gt);if(!Tt||Tt.length===0){var zt,Ft=(zt=ft.domain)!==null&&zt!==void 0?zt:Lt;if(bt){if(Tt=getDomainOfDataByKey(Ot,bt,gt),gt==="category"&&dt){var Rt=hasDuplicate(Tt);yt&&Rt?(It=Tt,Tt=range$1(0,Et)):yt||(Tt=parseDomainOfCategoryAxis(Ft,Tt,mt).reduce(function(Mt,At){return Mt.indexOf(At)>=0?Mt:[].concat(_toConsumableArray(Mt),[At])},[]))}else if(gt==="category")yt?Tt=Tt.filter(function(Mt){return Mt!==""&&!isNil$1(Mt)}):Tt=parseDomainOfCategoryAxis(Ft,Tt,mt).reduce(function(Mt,At){return Mt.indexOf(At)>=0||At===""||isNil$1(At)?Mt:[].concat(_toConsumableArray(Mt),[At])},[]);else if(gt==="number"){var jt=parseErrorBarsOfAxis(Ot,rt.filter(function(Mt){var At,Pt,Nt=it in Mt.props?Mt.props[it]:(At=Mt.type.defaultProps)===null||At===void 0?void 0:At[it],Bt="hide"in Mt.props?Mt.props.hide:(Pt=Mt.type.defaultProps)===null||Pt===void 0?void 0:Pt.hide;return Nt===St&&(wt||!Bt)}),bt,nt,lt);jt&&(Tt=jt)}dt&&(gt==="number"||vt!=="auto")&&(Wt=getDomainOfDataByKey(Ot,bt,"category"))}else dt?Tt=range$1(0,Et):at&&at[St]&&at[St].hasStack&&gt==="number"?Tt=ut==="expand"?[0,1]:getDomainOfStackGroups(at[St].stackGroups,st,ot):Tt=getDomainOfItemsWithSameAxis(Ot,rt.filter(function(Mt){var At=it in Mt.props?Mt.props[it]:Mt.type.defaultProps[it],Pt="hide"in Mt.props?Mt.props.hide:Mt.type.defaultProps.hide;return At===St&&(wt||!Pt)}),gt,lt,!0);if(gt==="number")Tt=detectReferenceElementsDomain(ct,Tt,St,nt,xt),Ft&&(Tt=parseSpecifiedDomain(Ft,Tt,_t));else if(gt==="category"&&Ft){var Ct=Ft,Dt=Tt.every(function(Mt){return Ct.indexOf(Mt)>=0});Dt&&(Tt=Ct)}}return _objectSpread(_objectSpread({},ht),{},_defineProperty({},St,_objectSpread(_objectSpread({},ft),{},{axisType:nt,domain:Tt,categoricalDomain:Wt,duplicateDomain:It,originalDomain:(pt=ft.domain)!==null&&pt!==void 0?pt:Lt,isCategorical:dt,layout:lt})))},{})},getAxisMapByItems=function _e($,et){var tt=et.graphicalItems,rt=et.Axis,nt=et.axisType,it=et.axisIdKey,at=et.stackGroups,st=et.dataStartIndex,ot=et.dataEndIndex,lt=$.layout,ct=$.children,ut=getDisplayedData($.data,{graphicalItems:tt,dataStartIndex:st,dataEndIndex:ot}),dt=ut.length,ht=isCategoricalAxis(lt,nt),mt=-1;return tt.reduce(function(pt,ft){var gt=ft.type.defaultProps!==void 0?_objectSpread(_objectSpread({},ft.type.defaultProps),ft.props):ft.props,bt=gt[it],_t=getDefaultDomainByAxisType("number");if(!pt[bt]){mt++;var yt;return ht?yt=range$1(0,dt):at&&at[bt]&&at[bt].hasStack?(yt=getDomainOfStackGroups(at[bt].stackGroups,st,ot),yt=detectReferenceElementsDomain(ct,yt,bt,nt)):(yt=parseSpecifiedDomain(_t,getDomainOfItemsWithSameAxis(ut,tt.filter(function(vt){var xt,wt,St=it in vt.props?vt.props[it]:(xt=vt.type.defaultProps)===null||xt===void 0?void 0:xt[it],Ot="hide"in vt.props?vt.props.hide:(wt=vt.type.defaultProps)===null||wt===void 0?void 0:wt.hide;return St===bt&&!Ot}),"number",lt),rt.defaultProps.allowDataOverflow),yt=detectReferenceElementsDomain(ct,yt,bt,nt)),_objectSpread(_objectSpread({},pt),{},_defineProperty({},bt,_objectSpread(_objectSpread({axisType:nt},rt.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(nt,".").concat(mt%2),null),domain:yt,originalDomain:_t,isCategorical:ht,layout:lt})))}return pt},{})},getAxisMap=function _e($,et){var tt=et.axisType,rt=tt===void 0?"xAxis":tt,nt=et.AxisComp,it=et.graphicalItems,at=et.stackGroups,st=et.dataStartIndex,ot=et.dataEndIndex,lt=$.children,ct="".concat(rt,"Id"),ut=findAllByType(lt,nt),dt={};return ut&&ut.length?dt=getAxisMapByAxes($,{axes:ut,graphicalItems:it,axisType:rt,axisIdKey:ct,stackGroups:at,dataStartIndex:st,dataEndIndex:ot}):it&&it.length&&(dt=getAxisMapByItems($,{Axis:nt,graphicalItems:it,axisType:rt,axisIdKey:ct,stackGroups:at,dataStartIndex:st,dataEndIndex:ot})),dt},tooltipTicksGenerator=function _e($){var et=getAnyElementOfObject($),tt=getTicksOfAxis(et,!1,!0);return{tooltipTicks:tt,orderedTooltipTicks:sortBy$1(tt,function(rt){return rt.coordinate}),tooltipAxis:et,tooltipAxisBandSize:getBandSizeOfAxis(et,tt)}},createDefaultState=function _e($){var et=$.children,tt=$.defaultShowTooltip,rt=findChildByType(et,Brush),nt=0,it=0;return $.data&&$.data.length!==0&&(it=$.data.length-1),rt&&rt.props&&(rt.props.startIndex>=0&&(nt=rt.props.startIndex),rt.props.endIndex>=0&&(it=rt.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:nt,dataEndIndex:it,activeTooltipIndex:-1,isTooltipActive:!!tt}},hasGraphicalBarItem=function _e($){return!$||!$.length?!1:$.some(function(et){var tt=getDisplayName(et&&et.type);return tt&&tt.indexOf("Bar")>=0})},getAxisNameByLayout=function _e($){return $==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:$==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:$==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function _e($,et){var tt=$.props,rt=$.graphicalItems,nt=$.xAxisMap,it=nt===void 0?{}:nt,at=$.yAxisMap,st=at===void 0?{}:at,ot=tt.width,lt=tt.height,ct=tt.children,ut=tt.margin||{},dt=findChildByType(ct,Brush),ht=findChildByType(ct,Legend$1),mt=Object.keys(st).reduce(function(yt,vt){var xt=st[vt],wt=xt.orientation;return!xt.mirror&&!xt.hide?_objectSpread(_objectSpread({},yt),{},_defineProperty({},wt,yt[wt]+xt.width)):yt},{left:ut.left||0,right:ut.right||0}),pt=Object.keys(it).reduce(function(yt,vt){var xt=it[vt],wt=xt.orientation;return!xt.mirror&&!xt.hide?_objectSpread(_objectSpread({},yt),{},_defineProperty({},wt,get$2(yt,"".concat(wt))+xt.height)):yt},{top:ut.top||0,bottom:ut.bottom||0}),ft=_objectSpread(_objectSpread({},pt),mt),gt=ft.bottom;dt&&(ft.bottom+=dt.props.height||Brush.defaultProps.height),ht&&et&&(ft=appendOffsetOfLegend(ft,rt,tt,et));var bt=ot-ft.left-ft.right,_t=lt-ft.top-ft.bottom;return _objectSpread(_objectSpread({brushBottom:gt},ft),{},{width:Math.max(bt,0),height:Math.max(_t,0)})},getCartesianAxisSize=function _e($,et){if(et==="xAxis")return $[et].width;if(et==="yAxis")return $[et].height},generateCategoricalChart=function _e($){var et=$.chartName,tt=$.GraphicalChild,rt=$.defaultTooltipEventType,nt=rt===void 0?"axis":rt,it=$.validateTooltipEventTypes,at=it===void 0?["axis"]:it,st=$.axisComponents,ot=$.legendContent,lt=$.formatAxisMap,ct=$.defaultProps,ut=function(ft,gt){var bt=gt.graphicalItems,_t=gt.stackGroups,yt=gt.offset,vt=gt.updateId,xt=gt.dataStartIndex,wt=gt.dataEndIndex,St=ft.barSize,Ot=ft.layout,Et=ft.barGap,Tt=ft.barCategoryGap,It=ft.maxBarSize,Wt=getAxisNameByLayout(Ot),Lt=Wt.numericAxisName,zt=Wt.cateAxisName,Ft=hasGraphicalBarItem(bt),Rt=[];return bt.forEach(function(jt,Ct){var Dt=getDisplayedData(ft.data,{graphicalItems:[jt],dataStartIndex:xt,dataEndIndex:wt}),Mt=jt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},jt.type.defaultProps),jt.props):jt.props,At=Mt.dataKey,Pt=Mt.maxBarSize,Nt=Mt["".concat(Lt,"Id")],Bt=Mt["".concat(zt,"Id")],Vt={},qt=st.reduce(function(sr,pr){var xr=gt["".concat(pr.axisType,"Map")],br=Mt["".concat(pr.axisType,"Id")];xr&&xr[br]||pr.axisType==="zAxis"||invariant();var nr=xr[br];return _objectSpread(_objectSpread({},sr),{},_defineProperty(_defineProperty({},pr.axisType,nr),"".concat(pr.axisType,"Ticks"),getTicksOfAxis(nr)))},Vt),Gt=qt[zt],Jt=qt["".concat(zt,"Ticks")],ar=_t&&_t[Nt]&&_t[Nt].hasStack&&getStackedDataOfItem(jt,_t[Nt].stackGroups),Qt=getDisplayName(jt.type).indexOf("Bar")>=0,fr=getBandSizeOfAxis(Gt,Jt),hr=[],gr=Ft&&getBarSizeList({barSize:St,stackGroups:_t,totalSize:getCartesianAxisSize(qt,zt)});if(Qt){var rr,ir,Ut=isNil$1(Pt)?It:Pt,Yt=(rr=(ir=getBandSizeOfAxis(Gt,Jt,!0))!==null&&ir!==void 0?ir:Ut)!==null&&rr!==void 0?rr:0;hr=getBarPosition({barGap:Et,barCategoryGap:Tt,bandSize:Yt!==fr?Yt:fr,sizeList:gr[Bt],maxBarSize:Ut}),Yt!==fr&&(hr=hr.map(function(sr){return _objectSpread(_objectSpread({},sr),{},{position:_objectSpread(_objectSpread({},sr.position),{},{offset:sr.position.offset-Yt/2})})}))}var tr=jt&&jt.type&&jt.type.getComposedData;tr&&Rt.push({props:_objectSpread(_objectSpread({},tr(_objectSpread(_objectSpread({},qt),{},{displayedData:Dt,props:ft,dataKey:At,item:jt,bandSize:fr,barPosition:hr,offset:yt,stackedData:ar,layout:Ot,dataStartIndex:xt,dataEndIndex:wt}))),{},_defineProperty(_defineProperty(_defineProperty({key:jt.key||"item-".concat(Ct)},Lt,qt[Lt]),zt,qt[zt]),"animationId",vt)),childIndex:parseChildIndex(jt,ft.children),item:jt})}),Rt},dt=function(ft,gt){var bt=ft.props,_t=ft.dataStartIndex,yt=ft.dataEndIndex,vt=ft.updateId;if(!validateWidthHeight({props:bt}))return null;var xt=bt.children,wt=bt.layout,St=bt.stackOffset,Ot=bt.data,Et=bt.reverseStackOrder,Tt=getAxisNameByLayout(wt),It=Tt.numericAxisName,Wt=Tt.cateAxisName,Lt=findAllByType(xt,tt),zt=getStackGroupsByAxisId(Ot,Lt,"".concat(It,"Id"),"".concat(Wt,"Id"),St,Et),Ft=st.reduce(function(Mt,At){var Pt="".concat(At.axisType,"Map");return _objectSpread(_objectSpread({},Mt),{},_defineProperty({},Pt,getAxisMap(bt,_objectSpread(_objectSpread({},At),{},{graphicalItems:Lt,stackGroups:At.axisType===It&&zt,dataStartIndex:_t,dataEndIndex:yt}))))},{}),Rt=calculateOffset(_objectSpread(_objectSpread({},Ft),{},{props:bt,graphicalItems:Lt}),gt==null?void 0:gt.legendBBox);Object.keys(Ft).forEach(function(Mt){Ft[Mt]=lt(bt,Ft[Mt],Rt,Mt.replace("Map",""),et)});var jt=Ft["".concat(Wt,"Map")],Ct=tooltipTicksGenerator(jt),Dt=ut(bt,_objectSpread(_objectSpread({},Ft),{},{dataStartIndex:_t,dataEndIndex:yt,updateId:vt,graphicalItems:Lt,stackGroups:zt,offset:Rt}));return _objectSpread(_objectSpread({formattedGraphicalItems:Dt,graphicalItems:Lt,offset:Rt,stackGroups:zt},Ct),Ft)},ht=function(pt){function ft(gt){var bt,_t,yt;return _classCallCheck(this,ft),yt=_callSuper(this,ft,[gt]),_defineProperty(yt,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(yt,"accessibilityManager",new AccessibilityManager),_defineProperty(yt,"handleLegendBBoxUpdate",function(vt){if(vt){var xt=yt.state,wt=xt.dataStartIndex,St=xt.dataEndIndex,Ot=xt.updateId;yt.setState(_objectSpread({legendBBox:vt},dt({props:yt.props,dataStartIndex:wt,dataEndIndex:St,updateId:Ot},_objectSpread(_objectSpread({},yt.state),{},{legendBBox:vt}))))}}),_defineProperty(yt,"handleReceiveSyncEvent",function(vt,xt,wt){if(yt.props.syncId===vt){if(wt===yt.eventEmitterSymbol&&typeof yt.props.syncMethod!="function")return;yt.applySyncEvent(xt)}}),_defineProperty(yt,"handleBrushChange",function(vt){var xt=vt.startIndex,wt=vt.endIndex;if(xt!==yt.state.dataStartIndex||wt!==yt.state.dataEndIndex){var St=yt.state.updateId;yt.setState(function(){return _objectSpread({dataStartIndex:xt,dataEndIndex:wt},dt({props:yt.props,dataStartIndex:xt,dataEndIndex:wt,updateId:St},yt.state))}),yt.triggerSyncEvent({dataStartIndex:xt,dataEndIndex:wt})}}),_defineProperty(yt,"handleMouseEnter",function(vt){var xt=yt.getMouseInfo(vt);if(xt){var wt=_objectSpread(_objectSpread({},xt),{},{isTooltipActive:!0});yt.setState(wt),yt.triggerSyncEvent(wt);var St=yt.props.onMouseEnter;isFunction$4(St)&&St(wt,vt)}}),_defineProperty(yt,"triggeredAfterMouseMove",function(vt){var xt=yt.getMouseInfo(vt),wt=xt?_objectSpread(_objectSpread({},xt),{},{isTooltipActive:!0}):{isTooltipActive:!1};yt.setState(wt),yt.triggerSyncEvent(wt);var St=yt.props.onMouseMove;isFunction$4(St)&&St(wt,vt)}),_defineProperty(yt,"handleItemMouseEnter",function(vt){yt.setState(function(){return{isTooltipActive:!0,activeItem:vt,activePayload:vt.tooltipPayload,activeCoordinate:vt.tooltipPosition||{x:vt.cx,y:vt.cy}}})}),_defineProperty(yt,"handleItemMouseLeave",function(){yt.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(yt,"handleMouseMove",function(vt){vt.persist(),yt.throttleTriggeredAfterMouseMove(vt)}),_defineProperty(yt,"handleMouseLeave",function(vt){yt.throttleTriggeredAfterMouseMove.cancel();var xt={isTooltipActive:!1};yt.setState(xt),yt.triggerSyncEvent(xt);var wt=yt.props.onMouseLeave;isFunction$4(wt)&&wt(xt,vt)}),_defineProperty(yt,"handleOuterEvent",function(vt){var xt=getReactEventByType(vt),wt=get$2(yt.props,"".concat(xt));if(xt&&isFunction$4(wt)){var St,Ot;/.*touch.*/i.test(xt)?Ot=yt.getMouseInfo(vt.changedTouches[0]):Ot=yt.getMouseInfo(vt),wt((St=Ot)!==null&&St!==void 0?St:{},vt)}}),_defineProperty(yt,"handleClick",function(vt){var xt=yt.getMouseInfo(vt);if(xt){var wt=_objectSpread(_objectSpread({},xt),{},{isTooltipActive:!0});yt.setState(wt),yt.triggerSyncEvent(wt);var St=yt.props.onClick;isFunction$4(St)&&St(wt,vt)}}),_defineProperty(yt,"handleMouseDown",function(vt){var xt=yt.props.onMouseDown;if(isFunction$4(xt)){var wt=yt.getMouseInfo(vt);xt(wt,vt)}}),_defineProperty(yt,"handleMouseUp",function(vt){var xt=yt.props.onMouseUp;if(isFunction$4(xt)){var wt=yt.getMouseInfo(vt);xt(wt,vt)}}),_defineProperty(yt,"handleTouchMove",function(vt){vt.changedTouches!=null&&vt.changedTouches.length>0&&yt.throttleTriggeredAfterMouseMove(vt.changedTouches[0])}),_defineProperty(yt,"handleTouchStart",function(vt){vt.changedTouches!=null&&vt.changedTouches.length>0&&yt.handleMouseDown(vt.changedTouches[0])}),_defineProperty(yt,"handleTouchEnd",function(vt){vt.changedTouches!=null&&vt.changedTouches.length>0&&yt.handleMouseUp(vt.changedTouches[0])}),_defineProperty(yt,"handleDoubleClick",function(vt){var xt=yt.props.onDoubleClick;if(isFunction$4(xt)){var wt=yt.getMouseInfo(vt);xt(wt,vt)}}),_defineProperty(yt,"handleContextMenu",function(vt){var xt=yt.props.onContextMenu;if(isFunction$4(xt)){var wt=yt.getMouseInfo(vt);xt(wt,vt)}}),_defineProperty(yt,"triggerSyncEvent",function(vt){yt.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,yt.props.syncId,vt,yt.eventEmitterSymbol)}),_defineProperty(yt,"applySyncEvent",function(vt){var xt=yt.props,wt=xt.layout,St=xt.syncMethod,Ot=yt.state.updateId,Et=vt.dataStartIndex,Tt=vt.dataEndIndex;if(vt.dataStartIndex!==void 0||vt.dataEndIndex!==void 0)yt.setState(_objectSpread({dataStartIndex:Et,dataEndIndex:Tt},dt({props:yt.props,dataStartIndex:Et,dataEndIndex:Tt,updateId:Ot},yt.state)));else if(vt.activeTooltipIndex!==void 0){var It=vt.chartX,Wt=vt.chartY,Lt=vt.activeTooltipIndex,zt=yt.state,Ft=zt.offset,Rt=zt.tooltipTicks;if(!Ft)return;if(typeof St=="function")Lt=St(Rt,vt);else if(St==="value"){Lt=-1;for(var jt=0;jt<Rt.length;jt++)if(Rt[jt].value===vt.activeLabel){Lt=jt;break}}var Ct=_objectSpread(_objectSpread({},Ft),{},{x:Ft.left,y:Ft.top}),Dt=Math.min(It,Ct.x+Ct.width),Mt=Math.min(Wt,Ct.y+Ct.height),At=Rt[Lt]&&Rt[Lt].value,Pt=getTooltipContent(yt.state,yt.props.data,Lt),Nt=Rt[Lt]?{x:wt==="horizontal"?Rt[Lt].coordinate:Dt,y:wt==="horizontal"?Mt:Rt[Lt].coordinate}:originCoordinate;yt.setState(_objectSpread(_objectSpread({},vt),{},{activeLabel:At,activeCoordinate:Nt,activePayload:Pt,activeTooltipIndex:Lt}))}else yt.setState(vt)}),_defineProperty(yt,"renderCursor",function(vt){var xt,wt=yt.state,St=wt.isTooltipActive,Ot=wt.activeCoordinate,Et=wt.activePayload,Tt=wt.offset,It=wt.activeTooltipIndex,Wt=wt.tooltipAxisBandSize,Lt=yt.getTooltipEventType(),zt=(xt=vt.props.active)!==null&&xt!==void 0?xt:St,Ft=yt.props.layout,Rt=vt.key||"_recharts-cursor";return React.createElement(Cursor,{key:Rt,activeCoordinate:Ot,activePayload:Et,activeTooltipIndex:It,chartName:et,element:vt,isActive:zt,layout:Ft,offset:Tt,tooltipAxisBandSize:Wt,tooltipEventType:Lt})}),_defineProperty(yt,"renderPolarAxis",function(vt,xt,wt){var St=get$2(vt,"type.axisType"),Ot=get$2(yt.state,"".concat(St,"Map")),Et=vt.type.defaultProps,Tt=Et!==void 0?_objectSpread(_objectSpread({},Et),vt.props):vt.props,It=Ot&&Ot[Tt["".concat(St,"Id")]];return reactExports.cloneElement(vt,_objectSpread(_objectSpread({},It),{},{className:clsx(St,It.className),key:vt.key||"".concat(xt,"-").concat(wt),ticks:getTicksOfAxis(It,!0)}))}),_defineProperty(yt,"renderPolarGrid",function(vt){var xt=vt.props,wt=xt.radialLines,St=xt.polarAngles,Ot=xt.polarRadius,Et=yt.state,Tt=Et.radiusAxisMap,It=Et.angleAxisMap,Wt=getAnyElementOfObject(Tt),Lt=getAnyElementOfObject(It),zt=Lt.cx,Ft=Lt.cy,Rt=Lt.innerRadius,jt=Lt.outerRadius;return reactExports.cloneElement(vt,{polarAngles:Array.isArray(St)?St:getTicksOfAxis(Lt,!0).map(function(Ct){return Ct.coordinate}),polarRadius:Array.isArray(Ot)?Ot:getTicksOfAxis(Wt,!0).map(function(Ct){return Ct.coordinate}),cx:zt,cy:Ft,innerRadius:Rt,outerRadius:jt,key:vt.key||"polar-grid",radialLines:wt})}),_defineProperty(yt,"renderLegend",function(){var vt=yt.state.formattedGraphicalItems,xt=yt.props,wt=xt.children,St=xt.width,Ot=xt.height,Et=yt.props.margin||{},Tt=St-(Et.left||0)-(Et.right||0),It=getLegendProps({children:wt,formattedGraphicalItems:vt,legendWidth:Tt,legendContent:ot});if(!It)return null;var Wt=It.item,Lt=_objectWithoutProperties(It,_excluded);return reactExports.cloneElement(Wt,_objectSpread(_objectSpread({},Lt),{},{chartWidth:St,chartHeight:Ot,margin:Et,onBBoxUpdate:yt.handleLegendBBoxUpdate}))}),_defineProperty(yt,"renderTooltip",function(){var vt,xt=yt.props,wt=xt.children,St=xt.accessibilityLayer,Ot=findChildByType(wt,Tooltip$1);if(!Ot)return null;var Et=yt.state,Tt=Et.isTooltipActive,It=Et.activeCoordinate,Wt=Et.activePayload,Lt=Et.activeLabel,zt=Et.offset,Ft=(vt=Ot.props.active)!==null&&vt!==void 0?vt:Tt;return reactExports.cloneElement(Ot,{viewBox:_objectSpread(_objectSpread({},zt),{},{x:zt.left,y:zt.top}),active:Ft,label:Lt,payload:Ft?Wt:[],coordinate:It,accessibilityLayer:St})}),_defineProperty(yt,"renderBrush",function(vt){var xt=yt.props,wt=xt.margin,St=xt.data,Ot=yt.state,Et=Ot.offset,Tt=Ot.dataStartIndex,It=Ot.dataEndIndex,Wt=Ot.updateId;return reactExports.cloneElement(vt,{key:vt.key||"_recharts-brush",onChange:combineEventHandlers(yt.handleBrushChange,vt.props.onChange),data:St,x:isNumber$1(vt.props.x)?vt.props.x:Et.left,y:isNumber$1(vt.props.y)?vt.props.y:Et.top+Et.height+Et.brushBottom-(wt.bottom||0),width:isNumber$1(vt.props.width)?vt.props.width:Et.width,startIndex:Tt,endIndex:It,updateId:"brush-".concat(Wt)})}),_defineProperty(yt,"renderReferenceElement",function(vt,xt,wt){if(!vt)return null;var St=yt,Ot=St.clipPathId,Et=yt.state,Tt=Et.xAxisMap,It=Et.yAxisMap,Wt=Et.offset,Lt=vt.type.defaultProps||{},zt=vt.props,Ft=zt.xAxisId,Rt=Ft===void 0?Lt.xAxisId:Ft,jt=zt.yAxisId,Ct=jt===void 0?Lt.yAxisId:jt;return reactExports.cloneElement(vt,{key:vt.key||"".concat(xt,"-").concat(wt),xAxis:Tt[Rt],yAxis:It[Ct],viewBox:{x:Wt.left,y:Wt.top,width:Wt.width,height:Wt.height},clipPathId:Ot})}),_defineProperty(yt,"renderActivePoints",function(vt){var xt=vt.item,wt=vt.activePoint,St=vt.basePoint,Ot=vt.childIndex,Et=vt.isRange,Tt=[],It=xt.props.key,Wt=xt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},xt.item.type.defaultProps),xt.item.props):xt.item.props,Lt=Wt.activeDot,zt=Wt.dataKey,Ft=_objectSpread(_objectSpread({index:Ot,dataKey:zt,cx:wt.x,cy:wt.y,r:4,fill:getMainColorOfGraphicItem(xt.item),strokeWidth:2,stroke:"#fff",payload:wt.payload,value:wt.value},filterProps(Lt,!1)),adaptEventHandlers(Lt));return Tt.push(ft.renderActiveDot(Lt,Ft,"".concat(It,"-activePoint-").concat(Ot))),St?Tt.push(ft.renderActiveDot(Lt,_objectSpread(_objectSpread({},Ft),{},{cx:St.x,cy:St.y}),"".concat(It,"-basePoint-").concat(Ot))):Et&&Tt.push(null),Tt}),_defineProperty(yt,"renderGraphicChild",function(vt,xt,wt){var St=yt.filterFormatItem(vt,xt,wt);if(!St)return null;var Ot=yt.getTooltipEventType(),Et=yt.state,Tt=Et.isTooltipActive,It=Et.tooltipAxis,Wt=Et.activeTooltipIndex,Lt=Et.activeLabel,zt=yt.props.children,Ft=findChildByType(zt,Tooltip$1),Rt=St.props,jt=Rt.points,Ct=Rt.isRange,Dt=Rt.baseLine,Mt=St.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},St.item.type.defaultProps),St.item.props):St.item.props,At=Mt.activeDot,Pt=Mt.hide,Nt=Mt.activeBar,Bt=Mt.activeShape,Vt=!!(!Pt&&Tt&&Ft&&(At||Nt||Bt)),qt={};Ot!=="axis"&&Ft&&Ft.props.trigger==="click"?qt={onClick:combineEventHandlers(yt.handleItemMouseEnter,vt.props.onClick)}:Ot!=="axis"&&(qt={onMouseLeave:combineEventHandlers(yt.handleItemMouseLeave,vt.props.onMouseLeave),onMouseEnter:combineEventHandlers(yt.handleItemMouseEnter,vt.props.onMouseEnter)});var Gt=reactExports.cloneElement(vt,_objectSpread(_objectSpread({},St.props),qt));function Jt(pr){return typeof It.dataKey=="function"?It.dataKey(pr.payload):null}if(Vt)if(Wt>=0){var ar,Qt;if(It.dataKey&&!It.allowDuplicatedCategory){var fr=typeof It.dataKey=="function"?Jt:"payload.".concat(It.dataKey.toString());ar=findEntryInArray(jt,fr,Lt),Qt=Ct&&Dt&&findEntryInArray(Dt,fr,Lt)}else ar=jt==null?void 0:jt[Wt],Qt=Ct&&Dt&&Dt[Wt];if(Bt||Nt){var hr=vt.props.activeIndex!==void 0?vt.props.activeIndex:Wt;return[reactExports.cloneElement(vt,_objectSpread(_objectSpread(_objectSpread({},St.props),qt),{},{activeIndex:hr})),null,null]}if(!isNil$1(ar))return[Gt].concat(_toConsumableArray(yt.renderActivePoints({item:St,activePoint:ar,basePoint:Qt,childIndex:Wt,isRange:Ct})))}else{var gr,rr=(gr=yt.getItemByXY(yt.state.activeCoordinate))!==null&&gr!==void 0?gr:{graphicalItem:Gt},ir=rr.graphicalItem,Ut=ir.item,Yt=Ut===void 0?vt:Ut,tr=ir.childIndex,sr=_objectSpread(_objectSpread(_objectSpread({},St.props),qt),{},{activeIndex:tr});return[reactExports.cloneElement(Yt,sr),null,null]}return Ct?[Gt,null,null]:[Gt,null]}),_defineProperty(yt,"renderCustomized",function(vt,xt,wt){return reactExports.cloneElement(vt,_objectSpread(_objectSpread({key:"recharts-customized-".concat(wt)},yt.props),yt.state))}),_defineProperty(yt,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:yt.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:yt.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:yt.renderBrush,once:!0},Bar:{handler:yt.renderGraphicChild},Line:{handler:yt.renderGraphicChild},Area:{handler:yt.renderGraphicChild},Radar:{handler:yt.renderGraphicChild},RadialBar:{handler:yt.renderGraphicChild},Scatter:{handler:yt.renderGraphicChild},Pie:{handler:yt.renderGraphicChild},Funnel:{handler:yt.renderGraphicChild},Tooltip:{handler:yt.renderCursor,once:!0},PolarGrid:{handler:yt.renderPolarGrid,once:!0},PolarAngleAxis:{handler:yt.renderPolarAxis},PolarRadiusAxis:{handler:yt.renderPolarAxis},Customized:{handler:yt.renderCustomized}}),yt.clipPathId="".concat((bt=gt.id)!==null&&bt!==void 0?bt:uniqueId("recharts"),"-clip"),yt.throttleTriggeredAfterMouseMove=throttle$1(yt.triggeredAfterMouseMove,(_t=gt.throttleDelay)!==null&&_t!==void 0?_t:1e3/60),yt.state={},yt}return _inherits(ft,pt),_createClass(ft,[{key:"componentDidMount",value:function(){var bt,_t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(bt=this.props.margin.left)!==null&&bt!==void 0?bt:0,top:(_t=this.props.margin.top)!==null&&_t!==void 0?_t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var bt=this.props,_t=bt.children,yt=bt.data,vt=bt.height,xt=bt.layout,wt=findChildByType(_t,Tooltip$1);if(wt){var St=wt.props.defaultIndex;if(!(typeof St!="number"||St<0||St>this.state.tooltipTicks.length-1)){var Ot=this.state.tooltipTicks[St]&&this.state.tooltipTicks[St].value,Et=getTooltipContent(this.state,yt,St,Ot),Tt=this.state.tooltipTicks[St].coordinate,It=(this.state.offset.top+vt)/2,Wt=xt==="horizontal",Lt=Wt?{x:Tt,y:It}:{y:Tt,x:It},zt=this.state.formattedGraphicalItems.find(function(Rt){var jt=Rt.item;return jt.type.name==="Scatter"});zt&&(Lt=_objectSpread(_objectSpread({},Lt),zt.props.points[St].tooltipPosition),Et=zt.props.points[St].tooltipPayload);var Ft={activeTooltipIndex:St,isTooltipActive:!0,activeLabel:Ot,activePayload:Et,activeCoordinate:Lt};this.setState(Ft),this.renderCursor(wt),this.accessibilityManager.setIndex(St)}}}},{key:"getSnapshotBeforeUpdate",value:function(bt,_t){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==bt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==bt.margin){var yt,vt;this.accessibilityManager.setDetails({offset:{left:(yt=this.props.margin.left)!==null&&yt!==void 0?yt:0,top:(vt=this.props.margin.top)!==null&&vt!==void 0?vt:0}})}return null}},{key:"componentDidUpdate",value:function(bt){isChildrenEqual([findChildByType(bt.children,Tooltip$1)],[findChildByType(this.props.children,Tooltip$1)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var bt=findChildByType(this.props.children,Tooltip$1);if(bt&&typeof bt.props.shared=="boolean"){var _t=bt.props.shared?"axis":"item";return at.indexOf(_t)>=0?_t:nt}return nt}},{key:"getMouseInfo",value:function(bt){if(!this.container)return null;var _t=this.container,yt=_t.getBoundingClientRect(),vt=getOffset(yt),xt={chartX:Math.round(bt.pageX-vt.left),chartY:Math.round(bt.pageY-vt.top)},wt=yt.width/_t.offsetWidth||1,St=this.inRange(xt.chartX,xt.chartY,wt);if(!St)return null;var Ot=this.state,Et=Ot.xAxisMap,Tt=Ot.yAxisMap,It=this.getTooltipEventType();if(It!=="axis"&&Et&&Tt){var Wt=getAnyElementOfObject(Et).scale,Lt=getAnyElementOfObject(Tt).scale,zt=Wt&&Wt.invert?Wt.invert(xt.chartX):null,Ft=Lt&&Lt.invert?Lt.invert(xt.chartY):null;return _objectSpread(_objectSpread({},xt),{},{xValue:zt,yValue:Ft})}var Rt=getTooltipData(this.state,this.props.data,this.props.layout,St);return Rt?_objectSpread(_objectSpread({},xt),Rt):null}},{key:"inRange",value:function(bt,_t){var yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,vt=this.props.layout,xt=bt/yt,wt=_t/yt;if(vt==="horizontal"||vt==="vertical"){var St=this.state.offset,Ot=xt>=St.left&&xt<=St.left+St.width&&wt>=St.top&&wt<=St.top+St.height;return Ot?{x:xt,y:wt}:null}var Et=this.state,Tt=Et.angleAxisMap,It=Et.radiusAxisMap;if(Tt&&It){var Wt=getAnyElementOfObject(Tt);return inRangeOfSector({x:xt,y:wt},Wt)}return null}},{key:"parseEventsOfWrapper",value:function(){var bt=this.props.children,_t=this.getTooltipEventType(),yt=findChildByType(bt,Tooltip$1),vt={};yt&&_t==="axis"&&(yt.props.trigger==="click"?vt={onClick:this.handleClick}:vt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var xt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},xt),vt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(bt,_t,yt){for(var vt=this.state.formattedGraphicalItems,xt=0,wt=vt.length;xt<wt;xt++){var St=vt[xt];if(St.item===bt||St.props.key===bt.key||_t===getDisplayName(St.item.type)&&yt===St.childIndex)return St}return null}},{key:"renderClipPath",value:function(){var bt=this.clipPathId,_t=this.state.offset,yt=_t.left,vt=_t.top,xt=_t.height,wt=_t.width;return React.createElement("defs",null,React.createElement("clipPath",{id:bt},React.createElement("rect",{x:yt,y:vt,height:xt,width:wt})))}},{key:"getXScales",value:function(){var bt=this.state.xAxisMap;return bt?Object.entries(bt).reduce(function(_t,yt){var vt=_slicedToArray(yt,2),xt=vt[0],wt=vt[1];return _objectSpread(_objectSpread({},_t),{},_defineProperty({},xt,wt.scale))},{}):null}},{key:"getYScales",value:function(){var bt=this.state.yAxisMap;return bt?Object.entries(bt).reduce(function(_t,yt){var vt=_slicedToArray(yt,2),xt=vt[0],wt=vt[1];return _objectSpread(_objectSpread({},_t),{},_defineProperty({},xt,wt.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(bt){var _t;return(_t=this.state.xAxisMap)===null||_t===void 0||(_t=_t[bt])===null||_t===void 0?void 0:_t.scale}},{key:"getYScaleByAxisId",value:function(bt){var _t;return(_t=this.state.yAxisMap)===null||_t===void 0||(_t=_t[bt])===null||_t===void 0?void 0:_t.scale}},{key:"getItemByXY",value:function(bt){var _t=this.state,yt=_t.formattedGraphicalItems,vt=_t.activeItem;if(yt&&yt.length)for(var xt=0,wt=yt.length;xt<wt;xt++){var St=yt[xt],Ot=St.props,Et=St.item,Tt=Et.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Et.type.defaultProps),Et.props):Et.props,It=getDisplayName(Et.type);if(It==="Bar"){var Wt=(Ot.data||[]).find(function(Rt){return isInRectangle(bt,Rt)});if(Wt)return{graphicalItem:St,payload:Wt}}else if(It==="RadialBar"){var Lt=(Ot.data||[]).find(function(Rt){return inRangeOfSector(bt,Rt)});if(Lt)return{graphicalItem:St,payload:Lt}}else if(isFunnel(St,vt)||isPie(St,vt)||isScatter(St,vt)){var zt=getActiveShapeIndexForTooltip({graphicalItem:St,activeTooltipItem:vt,itemData:Tt.data}),Ft=Tt.activeIndex===void 0?zt:Tt.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},St),{},{childIndex:Ft}),payload:isScatter(St,vt)?Tt.data[zt]:St.props.data[zt]}}}return null}},{key:"render",value:function(){var bt=this;if(!validateWidthHeight(this))return null;var _t=this.props,yt=_t.children,vt=_t.className,xt=_t.width,wt=_t.height,St=_t.style,Ot=_t.compact,Et=_t.title,Tt=_t.desc,It=_objectWithoutProperties(_t,_excluded2),Wt=filterProps(It,!1);if(Ot)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},Wt,{width:xt,height:wt,title:Et,desc:Tt}),this.renderClipPath(),renderByOrder(yt,this.renderMap)));if(this.props.accessibilityLayer){var Lt,zt;Wt.tabIndex=(Lt=this.props.tabIndex)!==null&&Lt!==void 0?Lt:0,Wt.role=(zt=this.props.role)!==null&&zt!==void 0?zt:"application",Wt.onKeyDown=function(Rt){bt.accessibilityManager.keyboardEvent(Rt)},Wt.onFocus=function(){bt.accessibilityManager.focus()}}var Ft=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",vt),style:_objectSpread({position:"relative",cursor:"default",width:xt,height:wt},St)},Ft,{ref:function(jt){bt.container=jt}}),React.createElement(Surface,_extends({},Wt,{width:xt,height:wt,title:Et,desc:Tt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(yt,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(ht,"displayName",et),_defineProperty(ht,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},ct)),_defineProperty(ht,"getDerivedStateFromProps",function(pt,ft){var gt=pt.dataKey,bt=pt.data,_t=pt.children,yt=pt.width,vt=pt.height,xt=pt.layout,wt=pt.stackOffset,St=pt.margin,Ot=ft.dataStartIndex,Et=ft.dataEndIndex;if(ft.updateId===void 0){var Tt=createDefaultState(pt);return _objectSpread(_objectSpread(_objectSpread({},Tt),{},{updateId:0},dt(_objectSpread(_objectSpread({props:pt},Tt),{},{updateId:0}),ft)),{},{prevDataKey:gt,prevData:bt,prevWidth:yt,prevHeight:vt,prevLayout:xt,prevStackOffset:wt,prevMargin:St,prevChildren:_t})}if(gt!==ft.prevDataKey||bt!==ft.prevData||yt!==ft.prevWidth||vt!==ft.prevHeight||xt!==ft.prevLayout||wt!==ft.prevStackOffset||!shallowEqual(St,ft.prevMargin)){var It=createDefaultState(pt),Wt={chartX:ft.chartX,chartY:ft.chartY,isTooltipActive:ft.isTooltipActive},Lt=_objectSpread(_objectSpread({},getTooltipData(ft,bt,xt)),{},{updateId:ft.updateId+1}),zt=_objectSpread(_objectSpread(_objectSpread({},It),Wt),Lt);return _objectSpread(_objectSpread(_objectSpread({},zt),dt(_objectSpread({props:pt},zt),ft)),{},{prevDataKey:gt,prevData:bt,prevWidth:yt,prevHeight:vt,prevLayout:xt,prevStackOffset:wt,prevMargin:St,prevChildren:_t})}if(!isChildrenEqual(_t,ft.prevChildren)){var Ft,Rt,jt,Ct,Dt=findChildByType(_t,Brush),Mt=Dt&&(Ft=(Rt=Dt.props)===null||Rt===void 0?void 0:Rt.startIndex)!==null&&Ft!==void 0?Ft:Ot,At=Dt&&(jt=(Ct=Dt.props)===null||Ct===void 0?void 0:Ct.endIndex)!==null&&jt!==void 0?jt:Et,Pt=Mt!==Ot||At!==Et,Nt=!isNil$1(bt),Bt=Nt&&!Pt?ft.updateId:ft.updateId+1;return _objectSpread(_objectSpread({updateId:Bt},dt(_objectSpread(_objectSpread({props:pt},ft),{},{updateId:Bt,dataStartIndex:Mt,dataEndIndex:At}),ft)),{},{prevChildren:_t,dataStartIndex:Mt,dataEndIndex:At})}return null}),_defineProperty(ht,"renderActiveDot",function(pt,ft,gt){var bt;return reactExports.isValidElement(pt)?bt=reactExports.cloneElement(pt,ft):isFunction$4(pt)?bt=pt(ft):bt=React.createElement(Dot,ft),React.createElement(Layer,{className:"recharts-active-dot",key:gt},bt)});var mt=reactExports.forwardRef(function(ft,gt){return React.createElement(ht,_extends({},ft,{ref:gt}))});return mt.displayName=ht.displayName,mt},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line$1,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const COLORS=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];function Analytics(){const[_e,$]=reactExports.useState([]),[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(!0),{users:it}=useUsers(),[at,st]=reactExports.useState({expenses:0,prevExpenses:0,income:0,prevIncome:0,budgetUsed:0,savingsRate:0});reactExports.useEffect(()=>{it.length>0&&ot()},[it]);const ot=async()=>{try{const lt=it[0];if(!lt)throw new Error("No user found");console.log("Current user:",lt.id);const ct=new Date,ut=startOfMonth(ct),dt=startOfMonth(new Date(ct.getFullYear(),ct.getMonth()-1)),{data:ht,error:mt}=await supabase.from("purchases").select("amount, date").gte("date",ut.toISOString()).lte("date",endOfMonth(ct).toISOString()).eq("user_id",lt.id);console.log("Current month expenses:",ht,"Error:",mt);const{data:pt,error:ft}=await supabase.from("purchases").select("amount, date").gte("date",dt.toISOString()).lte("date",endOfMonth(dt).toISOString()).eq("user_id",lt.id);console.log("Previous month expenses:",pt,"Error:",ft);const{data:gt,error:bt}=await supabase.from("users").select("monthly_income").eq("id",lt.id).single();console.log("Base income:",gt,"Error:",bt);const{data:_t,error:yt}=await supabase.from("monthly_income_overrides").select("amount").eq("user_id",lt.id).eq("month",format$1(ct,"yyyy-MM")).single();console.log("Income override:",_t,"Error:",yt);const{data:vt,error:xt}=await supabase.from("budgets").select("*").eq("month",format$1(ct,"yyyy-MM"));console.log("Budgets:",vt,"Error:",xt);const wt=(ht==null?void 0:ht.reduce((Ct,Dt)=>Ct+(Dt.amount||0),0))??0,St=(pt==null?void 0:pt.reduce((Ct,Dt)=>Ct+(Dt.amount||0),0))??0,Ot=(_t==null?void 0:_t.amount)??(gt==null?void 0:gt.monthly_income)??0,Et=(gt==null?void 0:gt.monthly_income)??0,Tt=(vt==null?void 0:vt.reduce((Ct,Dt)=>Ct+(Dt.amount||0),0))??0;console.log("Calculated totals:",{currentExpensesTotal:wt,prevExpensesTotal:St,currentIncome:Ot,prevIncome:Et,totalBudget:Tt}),st({expenses:wt,prevExpenses:St,income:Ot,prevIncome:Et,budgetUsed:Tt>0?wt/Tt*100:0,savingsRate:Ot>0?(Ot-wt)/Ot*100:0});const{data:It,error:Wt}=await supabase.from("purchases").select("amount, category").gte("date",ut.toISOString()).lte("date",endOfMonth(ct).toISOString()).eq("user_id",lt.id);console.log("Recent purchases:",It,"Error:",Wt);const Lt=(It==null?void 0:It.reduce((Ct,Dt)=>(Dt.category&&Dt.amount&&(Ct[Dt.category]=(Ct[Dt.category]||0)+Dt.amount),Ct),{}))||{},zt=Object.values(Lt).reduce((Ct,Dt)=>Ct+Dt,0),Ft=Object.entries(Lt).map(([Ct,Dt])=>{const Mt=vt==null?void 0:vt.find(At=>At.category===Ct);return{category:Ct,amount:Dt,budgeted:(Mt==null?void 0:Mt.amount)||0,percentage:zt>0?Dt/zt*100:0}});console.log("Category stats:",Ft),tt(Ft.sort((Ct,Dt)=>Dt.amount-Ct.amount));const Rt=Array.from({length:7},(Ct,Dt)=>{const Mt=new Date(ct.getFullYear(),ct.getMonth()-Dt,1);return{start:startOfMonth(Mt),end:endOfMonth(Mt),month:format$1(Mt,"MMM yyyy")}}).reverse(),jt=await Promise.all(Rt.map(async({start:Ct,end:Dt,month:Mt})=>{const{data:At}=await supabase.from("purchases").select("amount").gte("date",Ct.toISOString()).lte("date",Dt.toISOString()).eq("user_id",lt.id),{data:Pt}=await supabase.from("monthly_income_overrides").select("amount").eq("user_id",lt.id).eq("month",format$1(Ct,"yyyy-MM")).single(),Nt=(Pt==null?void 0:Pt.amount)??(gt==null?void 0:gt.monthly_income)??0,Bt=(At==null?void 0:At.reduce((Vt,qt)=>Vt+(qt.amount||0),0))??0;return{month:Mt,income:Nt,expenses:Bt,savings:Nt-Bt}}));console.log("Monthly stats:",jt),$(jt),nt(!1)}catch(lt){console.error("Error fetching analytics data:",lt),nt(!1)}};return rt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading analytics..."}):jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Monthly Expenses"}),jsxRuntimeExports.jsxs("div",{className:`flex items-center ${at.expenses>at.prevExpenses?"text-red-500":"text-green-500"}`,children:[at.expenses>at.prevExpenses?jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5"}),jsxRuntimeExports.jsxs("span",{className:"ml-1",children:[Math.abs((at.expenses-at.prevExpenses)/at.prevExpenses*100).toFixed(1),"%"]})]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:["",at.expenses.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"vs last month"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Monthly Income"}),jsxRuntimeExports.jsxs("div",{className:`flex items-center ${at.income>at.prevIncome?"text-green-500":"text-red-500"}`,children:[at.income>at.prevIncome?jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5"}):jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5"}),jsxRuntimeExports.jsxs("span",{className:"ml-1",children:[Math.abs((at.income-at.prevIncome)/at.prevIncome*100).toFixed(1),"%"]})]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:["",at.income.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"vs last month"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Savings Rate"}),jsxRuntimeExports.jsx(PiggyBank,{className:"h-6 w-6 text-blue-500"})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:[at.savingsRate.toFixed(1),"%"]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"of income saved"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Budget Status"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-6 w-6 text-blue-500"})]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:[at.budgetUsed.toFixed(1),"%"]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"of total budget used"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Income vs Expenses Trend"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(LineChart,{data:_e,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip$1,{formatter:lt=>`${Number(lt).toFixed(2)}`}),jsxRuntimeExports.jsx(Legend$1,{}),jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"income",stroke:"#0088FE",name:"Income"}),jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"expenses",stroke:"#FF8042",name:"Expenses"}),jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"savings",stroke:"#00C49F",name:"Savings"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Top Spending Categories"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:et.slice(0,5),dataKey:"amount",nameKey:"category",cx:"50%",cy:"50%",outerRadius:80,label:({name:lt,percent:ct})=>`${lt} (${(ct*100).toFixed(0)}%)`,children:et.slice(0,5).map((lt,ct)=>jsxRuntimeExports.jsx(Cell,{fill:COLORS[ct%COLORS.length]},`cell-${ct}`))}),jsxRuntimeExports.jsx(Tooltip$1,{formatter:lt=>`${Number(lt).toFixed(2)}`}),jsxRuntimeExports.jsx(Legend$1,{})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Budget vs Actual Spending"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:et,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"category"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip$1,{formatter:lt=>`${Number(lt).toFixed(2)}`}),jsxRuntimeExports.jsx(Legend$1,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"budgeted",name:"Budget",fill:"#0088FE"}),jsxRuntimeExports.jsx(Bar,{dataKey:"amount",name:"Actual",fill:"#FF8042"})]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Category Details"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spent"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budgeted"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:et.map((lt,ct)=>jsxRuntimeExports.jsxs("tr",{className:ct%2===0?"bg-white":"bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:lt.category}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",lt.amount.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",lt.budgeted.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[lt.percentage.toFixed(1),"%"]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${lt.amount>lt.budgeted?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:lt.amount>lt.budgeted?"Over Budget":"Within Budget"})})]},lt.category))})]})})]})]})}const CategoryManagement=({type:_e})=>{const{categories:$,loading:et,fetchCategories:tt}=useCategories(),[rt,nt]=reactExports.useState(""),it=async ot=>{ot.preventDefault();const lt=rt.split(",").map(ut=>ut.trim()).filter(ut=>ut.length>0);if(lt.length===0){kt.error("Category name cannot be empty");return}const ct=lt.filter(ut=>$.some(dt=>dt.name.toLowerCase()===ut.toLowerCase()));if(ct.length>0){kt.error(`Categories already exist: ${ct.join(", ")}`);return}try{const ut=lt.map(ht=>({name:ht,type:_e})),{error:dt}=await supabase.from("categories").insert(ut);if(dt)throw dt;nt(""),await tt(),kt.success(lt.length===1?"Category added successfully":`${lt.length} categories added successfully`)}catch(ut){console.error("Error adding categories:",ut),kt.error("Failed to add categories")}},at=async ot=>{try{const{error:lt,status:ct}=await supabase.from("categories").delete().eq("id",ot);if(lt)throw lt;if(ct===204)await tt(),kt.success("Category deleted successfully");else throw new Error("Unexpected response from server")}catch(lt){console.error("Error deleting category:",lt),kt.error("Failed to delete category")}},st=$.filter(ot=>ot.type===_e);return et?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-4",children:[_e==="fixed"?"Fixed":"Flexible"," Categories"]}),jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading categories..."})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-4",children:[_e==="fixed"?"Fixed":"Flexible"," Categories"]}),jsxRuntimeExports.jsx("form",{onSubmit:it,className:"mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:_e==="fixed"?"Category name":"Category names (comma-separated)",value:rt,onChange:ot=>nt(ot.target.value),className:"flex-1 rounded-md border border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 px-4 py-2",required:!0}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors whitespace-nowrap",children:["Add ",_e==="fixed"?"Category":"Categories"]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[st.map(ot=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-2 px-4 bg-gray-50 rounded-md",children:[jsxRuntimeExports.jsx("span",{children:ot.name}),jsxRuntimeExports.jsx("button",{onClick:()=>at(ot.id),className:"text-red-600 hover:text-red-800 transition-colors p-2 rounded hover:bg-red-50",title:"Delete category",children:jsxRuntimeExports.jsx(Trash2,{size:18})})]},ot.id)),st.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-gray-500 text-center py-4",children:["No ",_e," categories added yet"]})]})]})};function useSalaryHistory(_e){const[$,et]=reactExports.useState([]),[tt,rt]=reactExports.useState(!0),[nt,it]=reactExports.useState(null);return reactExports.useEffect(()=>{const st=async()=>{try{const{data:lt,error:ct}=await supabase.from("salary_history").select("*").eq("user_id",_e).order("year",{ascending:!1}).order("month",{ascending:!1});if(ct)throw ct;et(lt||[])}catch(lt){console.error("Error fetching salary history:",lt),it(lt),kt.error("Failed to load salary history")}finally{rt(!1)}};st();const ot=supabase.channel("salary_history_changes").on("postgres_changes",{event:"*",schema:"public",table:"salary_history",filter:`user_id=eq.${_e}`},lt=>{st()}).subscribe();return()=>{ot.unsubscribe()}},[_e]),{salaryHistory:$,loading:tt,error:nt,addSalaryEntry:async st=>{try{const{error:ot}=await supabase.from("salary_history").insert({...st,user_id:_e});if(ot)throw ot;kt.success("Salary entry added successfully")}catch(ot){throw console.error("Error adding salary entry:",ot),kt.error("Failed to add salary entry"),ot}}}}const SalaryHistoryForm=({userId:_e,onEntryAdded:$})=>{const{addSalaryEntry:et}=useSalaryHistory(_e),[tt,rt]=reactExports.useState({amount:0,month:new Date().getMonth()+1,year:new Date().getFullYear(),notes:null}),nt=async at=>{at.preventDefault();try{await et(tt),rt({amount:0,month:new Date().getMonth()+1,year:new Date().getFullYear(),notes:null}),$==null||$()}catch(st){console.error("Error submitting salary entry:",st)}},it=["January","February","March","April","May","June","July","August","September","October","November","December"];return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-blue-500"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Add Salary Entry"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),jsxRuntimeExports.jsx("select",{value:tt.month,onChange:at=>rt({...tt,month:parseInt(at.target.value)}),className:"w-full p-2 border rounded-md",required:!0,children:it.map((at,st)=>jsxRuntimeExports.jsx("option",{value:st+1,children:at},at))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),jsxRuntimeExports.jsx("input",{type:"number",value:tt.year,onChange:at=>rt({...tt,year:parseInt(at.target.value)}),className:"w-full p-2 border rounded-md",min:"2000",max:new Date().getFullYear(),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),jsxRuntimeExports.jsx("input",{type:"number",value:tt.amount,onChange:at=>rt({...tt,amount:Number(at.target.value)}),className:"w-full p-2 border rounded-md",step:"0.01",min:"0",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),jsxRuntimeExports.jsx("textarea",{value:tt.notes||"",onChange:at=>rt({...tt,notes:at.target.value||null}),className:"w-full p-2 border rounded-md",rows:2})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Add Salary Entry"})]})]})},SalaryHistoryList=({userId:_e})=>{const{salaryHistory:$,loading:et}=useSalaryHistory(_e);if(et)return jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:jsxRuntimeExports.jsx("div",{className:"animate-pulse text-gray-600",children:"Loading salary history..."})});const rt=(st=>st.reduce((ot,lt)=>(ot[lt.year]||(ot[lt.year]=[]),ot[lt.year].push(lt),ot),{}))($),nt=Object.keys(rt).sort((st,ot)=>Number(ot)-Number(st)),it=st=>`${st.toLocaleString("de-DE",{minimumFractionDigits:2})}`,at=st=>format$1(new Date(2e3,st-1),"MMMM");return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[nt.map(st=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-50 px-6 py-3",children:jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:st})}),jsxRuntimeExports.jsx("div",{className:"divide-y divide-gray-200",children:rt[Number(st)].sort((ot,lt)=>lt.month-ot.month).map(ot=>jsxRuntimeExports.jsx("div",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-900",children:at(ot.month)}),ot.notes&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ot.notes})]}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:it(ot.amount)})]})},ot.id))})]},st)),$.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No salary history available"})]})},UserList=({users:_e,onEdit:$,onDelete:et,onSelectSalaryHistory:tt})=>jsxRuntimeExports.jsx("div",{className:"space-y-4",children:_e.map(rt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:rt.name}),rt.card_number&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"}),rt.card_number]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{children:rt.type}),rt.monthly_income>0&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Wallet,{className:"h-4 w-4"}),"",rt.monthly_income.toLocaleString("de-DE",{minimumFractionDigits:2})]}),rt.email&&jsxRuntimeExports.jsx("span",{children:rt.email})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>$(rt),className:"p-2 text-blue-600 hover:text-blue-800",title:"Edit user",children:jsxRuntimeExports.jsx(Pencil,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>tt(rt.id),className:"p-2 text-green-600 hover:text-green-800",title:"View salary history",children:jsxRuntimeExports.jsx(Wallet,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>et(rt.id),className:"p-2 text-red-600 hover:text-red-800",title:"Delete user",children:jsxRuntimeExports.jsx(Trash2,{className:"h-5 w-5"})})]})]},rt.id))}),UserForm=({initialData:_e,onSubmit:$})=>{const[et,tt]=reactExports.useState({name:(_e==null?void 0:_e.name)??"",email:(_e==null?void 0:_e.email)??"",type:(_e==null?void 0:_e.type)??"Adult",monthly_income:(_e==null?void 0:_e.monthly_income)??0,card_number:(_e==null?void 0:_e.card_number)??""}),rt=async nt=>{nt.preventDefault();const it={...et,email:et.email.trim()||null,card_number:et.card_number.trim()||null};await $(it),_e||tt({name:"",email:"",type:"Adult",monthly_income:0,card_number:""})};return jsxRuntimeExports.jsxs("form",{onSubmit:rt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:et.name,onChange:nt=>tt({...et,name:nt.target.value}),className:"w-full p-2 border rounded-md",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),jsxRuntimeExports.jsx("input",{type:"email",value:et.email,onChange:nt=>tt({...et,email:nt.target.value}),className:"w-full p-2 border rounded-md",placeholder:"Optional"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),jsxRuntimeExports.jsxs("select",{value:et.type,onChange:nt=>tt({...et,type:nt.target.value}),className:"w-full p-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{value:"Adult",children:"Adult"}),jsxRuntimeExports.jsx("option",{value:"Child",children:"Child"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Income"}),jsxRuntimeExports.jsx("input",{type:"number",value:et.monthly_income,onChange:nt=>tt({...et,monthly_income:Number(nt.target.value)}),className:"w-full p-2 border rounded-md",min:"0",step:"0.01",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number (Last 4 digits)"}),jsxRuntimeExports.jsx("input",{type:"text",value:et.card_number,onChange:nt=>{const it=nt.target.value.replace(/\D/g,"").slice(0,4);tt({...et,card_number:it})},className:"w-full p-2 border rounded-md",placeholder:"e.g. 3840",maxLength:4,pattern:"[0-9]{4}"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:_e?"Update User":"Add User"})]})},UserManagement=()=>{const{users:_e,loading:$,refreshUsers:et}=useUsers(),[tt,rt]=reactExports.useState(null),[nt,it]=reactExports.useState(null);console.log("UserManagement render:",{users:_e,loading:$});const at=async lt=>{try{const{error:ct}=await supabase.from("users").insert(lt);if(ct)throw ct;await et(),kt.success("User added successfully")}catch(ct){console.error("Error adding user:",ct),kt.error("Failed to add user")}},st=async lt=>{if(tt)try{const{error:ct}=await supabase.from("users").update(lt).eq("id",tt.id);if(ct)throw ct;rt(null),await et(),kt.success("User updated successfully")}catch(ct){console.error("Error updating user:",ct),kt.error("Failed to update user")}},ot=async lt=>{try{const{error:ct}=await supabase.from("users").delete().eq("id",lt);if(ct)throw ct;await et(),kt.success("User deleted successfully")}catch(ct){console.error("Error deleting user:",ct),kt.error("Failed to delete user")}};return $?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading users..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:tt?"Edit User":"Add New User"}),jsxRuntimeExports.jsx(UserForm,{initialData:tt??void 0,onSubmit:tt?st:at})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User List"}),jsxRuntimeExports.jsx(UserList,{users:_e,onEdit:rt,onDelete:ot,onSelectSalaryHistory:it})]}),nt&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(SalaryHistoryForm,{userId:nt,onEntryAdded:et}),jsxRuntimeExports.jsx(SalaryHistoryList,{userId:nt})]})]})};function UserSharing(){const[_e,$]=React.useState([]),[et,tt]=React.useState(""),[rt,nt]=React.useState(!0),it=async()=>{try{const{data:ot,error:lt}=await supabase.from("shared_users").select("*").order("created_at",{ascending:!1});if(lt)throw lt;$(ot||[])}catch(ot){console.error("Error fetching shared users:",ot),kt.error("Failed to load shared users")}finally{nt(!1)}};React.useEffect(()=>{it()},[]);const at=async ot=>{var lt;if(ot.preventDefault(),!!et)try{const{error:ct}=await supabase.from("shared_users").insert([{owner_id:(lt=(await supabase.auth.getUser()).data.user)==null?void 0:lt.id,shared_with_email:et.toLowerCase()}]);if(ct)throw ct;kt.success("User added successfully"),tt(""),it()}catch(ct){console.error("Error adding user:",ct),kt.error(ct.message==="duplicate key value violates unique constraint"?"This email has already been added":"Failed to add user")}},st=async ot=>{try{const{error:lt}=await supabase.from("shared_users").delete().eq("id",ot);if(lt)throw lt;kt.success("User removed successfully"),it()}catch(lt){console.error("Error removing user:",lt),kt.error("Failed to remove user")}};return rt?jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading shared users..."}):jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Share Your Budget"}),jsxRuntimeExports.jsx("form",{onSubmit:at,className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"email",value:et,onChange:ot=>tt(ot.target.value),placeholder:"Enter email address",className:"flex-1 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add User"]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Shared With"}),_e.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No users shared with yet"}):jsxRuntimeExports.jsx("ul",{className:"divide-y",children:_e.map(ot=>jsxRuntimeExports.jsxs("li",{className:"py-3 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-900",children:ot.shared_with_email}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Added ",new Date(ot.created_at).toLocaleDateString()]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>st(ot.id),className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-red-50",title:"Remove user",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]},ot.id))})]})]})}function Settings(){return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:jsxRuntimeExports.jsx(UserManagement,{})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:jsxRuntimeExports.jsx(UserSharing,{})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:jsxRuntimeExports.jsx(CategoryManagement,{type:"fixed"})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:jsxRuntimeExports.jsx(CategoryManagement,{type:"flexible"})})]})]})}function Login(){const[_e,$]=reactExports.useState(""),[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(!0),{signIn:it,signUp:at}=useAuthContext(),st=useNavigate(),ot=async lt=>{lt.preventDefault();try{rt?await it(_e,et):await at(_e,et),st("/")}catch(ct){console.error("Authentication error:",ct),kt.error(rt?"Login failed":"Sign up failed")}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{className:"text-center text-3xl font-extrabold text-gray-900",children:rt?"Sign in to your account":"Create a new account"})}),jsxRuntimeExports.jsxs("form",{className:"mt-8 space-y-6",onSubmit:ot,children:[jsxRuntimeExports.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),jsxRuntimeExports.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:_e,onChange:lt=>$(lt.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),jsxRuntimeExports.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:et,onChange:lt=>tt(lt.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:rt?"Sign in":"Sign up"})}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>nt(!rt),className:"text-sm text-blue-600 hover:text-blue-500",children:rt?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(_e,$){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var rt in tt)tt.hasOwnProperty(rt)&&(et[rt]=tt[rt])},extendStatics(_e,$)};function __extends(_e,$){extendStatics(_e,$);function et(){this.constructor=_e}_e.prototype=$===null?Object.create($):(et.prototype=$.prototype,new et)}var VIEWBOX_WIDTH=100,VIEWBOX_HEIGHT=100,VIEWBOX_HEIGHT_HALF=50,VIEWBOX_CENTER_X=50,VIEWBOX_CENTER_Y=50;function Path(_e){var $=_e.className,et=_e.counterClockwise,tt=_e.dashRatio,rt=_e.pathRadius,nt=_e.strokeWidth,it=_e.style;return reactExports.createElement("path",{className:$,style:Object.assign({},it,getDashStyle({pathRadius:rt,dashRatio:tt,counterClockwise:et})),d:getPathDescription({pathRadius:rt,counterClockwise:et}),strokeWidth:nt,fillOpacity:0})}function getPathDescription(_e){var $=_e.pathRadius,et=_e.counterClockwise,tt=$,rt=et?1:0;return`
      M `+VIEWBOX_CENTER_X+","+VIEWBOX_CENTER_Y+`
      m 0,-`+tt+`
      a `+tt+","+tt+" "+rt+" 1 1 0,"+2*tt+`
      a `+tt+","+tt+" "+rt+" 1 1 0,-"+2*tt+`
    `}function getDashStyle(_e){var $=_e.counterClockwise,et=_e.dashRatio,tt=_e.pathRadius,rt=Math.PI*2*tt,nt=(1-et)*rt;return{strokeDasharray:rt+"px "+rt+"px",strokeDashoffset:($?-nt:nt)+"px"}}var CircularProgressbar=function(_e){__extends($,_e);function $(){return _e!==null&&_e.apply(this,arguments)||this}return $.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},$.prototype.getPathRadius=function(){return VIEWBOX_HEIGHT_HALF-this.props.strokeWidth/2-this.getBackgroundPadding()},$.prototype.getPathRatio=function(){var et=this.props,tt=et.value,rt=et.minValue,nt=et.maxValue,it=Math.min(Math.max(tt,rt),nt);return(it-rt)/(nt-rt)},$.prototype.render=function(){var et=this.props,tt=et.circleRatio,rt=et.className,nt=et.classes,it=et.counterClockwise,at=et.styles,st=et.strokeWidth,ot=et.text,lt=this.getPathRadius(),ct=this.getPathRatio();return reactExports.createElement("svg",{className:nt.root+" "+rt,style:at.root,viewBox:"0 0 "+VIEWBOX_WIDTH+" "+VIEWBOX_HEIGHT,"data-test-id":"CircularProgressbar"},this.props.background?reactExports.createElement("circle",{className:nt.background,style:at.background,cx:VIEWBOX_CENTER_X,cy:VIEWBOX_CENTER_Y,r:VIEWBOX_HEIGHT_HALF}):null,reactExports.createElement(Path,{className:nt.trail,counterClockwise:it,dashRatio:tt,pathRadius:lt,strokeWidth:st,style:at.trail}),reactExports.createElement(Path,{className:nt.path,counterClockwise:it,dashRatio:ct*tt,pathRadius:lt,strokeWidth:st,style:at.path}),ot?reactExports.createElement("text",{className:nt.text,style:at.text,x:VIEWBOX_CENTER_X,y:VIEWBOX_CENTER_Y},ot):null)},$.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},$}(reactExports.Component);function buildStyles(_e){var $=_e.rotation,et=_e.strokeLinecap,tt=_e.textColor,rt=_e.textSize,nt=_e.pathColor,it=_e.pathTransition,at=_e.pathTransitionDuration,st=_e.trailColor,ot=_e.backgroundColor,lt=$==null?void 0:"rotate("+$+"turn)",ct=$==null?void 0:"center center";return{root:{},path:removeUndefinedValues({stroke:nt,strokeLinecap:et,transform:lt,transformOrigin:ct,transition:it,transitionDuration:at==null?void 0:at+"s"}),trail:removeUndefinedValues({stroke:st,strokeLinecap:et,transform:lt,transformOrigin:ct}),text:removeUndefinedValues({fill:tt,fontSize:rt}),background:removeUndefinedValues({fill:ot})}}function removeUndefinedValues(_e){return Object.keys(_e).forEach(function($){_e[$]==null&&delete _e[$]}),_e}function YearlyBudget({initialYear:_e=new Date().getFullYear().toString()}){const{categories:$}=useCategories(),[et,tt]=React.useState(_e),[rt,nt]=React.useState({}),[it,at]=React.useState({}),[st,ot]=React.useState({}),[lt,ct]=React.useState(!0),[ut,dt]=React.useState({}),[ht,mt]=React.useState({}),[pt,ft]=React.useState("budget"),[gt,bt]=React.useState(null),[_t,yt]=React.useState(!1),[vt,xt]=React.useState(null),[wt,St]=React.useState(0),Ot=async()=>{try{const{data:Ct,error:Dt}=await supabase.from("savings_accounts").select("balance");if(Dt)throw Dt;const Mt=(Ct==null?void 0:Ct.reduce((At,Pt)=>At+Number(Pt.balance),0))||0;St(Mt)}catch(Ct){console.error("Error fetching savings:",Ct)}},Et=async()=>{try{const{data:Ct,error:Dt}=await supabase.from("yearly_budgets").select("*").eq("year",et);if(Dt)throw Dt;const{data:Mt,error:At}=await supabase.from("yearly_budgets").select("*").eq("year",et).eq("category","Income");if(At)throw At;const Pt={},Nt={};Ct==null||Ct.forEach(Bt=>{Bt.category!=="Income"&&(Pt[Bt.category]||(Pt[Bt.category]={}),Pt[Bt.category][Bt.month]=Number(Bt.amount))}),Mt==null||Mt.forEach(Bt=>{Nt[Bt.month]=Number(Bt.amount)}),at(Pt),ot(Nt)}catch(Ct){console.error("Error fetching budget data:",Ct),kt.error("Failed to load budget data")}},Tt=async()=>{try{const Ct=`${et}-01-01`,Dt=`${et}-12-31`,{data:Mt,error:At}=await supabase.from("purchases").select("amount, category, date").gte("date",Ct).lte("date",Dt);if(At)throw At;const Pt={},Nt={},Bt={};Mt==null||Mt.forEach(Vt=>{const qt=format$1(new Date(Vt.date),"MMMM"),Gt=Number(Vt.amount);Pt[Vt.category]||(Pt[Vt.category]={}),Pt[Vt.category][qt]=(Pt[Vt.category][qt]||0)+Gt,Gt>0&&(Nt[qt]=(Nt[qt]||0)+Gt),Vt.category==="Savings"&&(Bt[qt]=(Bt[qt]||0)+Math.abs(Gt))}),nt(Pt),dt(Nt),mt(Bt)}catch(Ct){console.error("Error fetching actual data:",Ct),kt.error("Failed to load actual spending data")}},It=async(Ct,Dt,Mt,At)=>{const Pt=parseFloat(Mt);if(isNaN(Pt)){kt.error("Please enter a valid number");return}try{At==="income"?(await Wt("Income",Dt,Pt),ot(Bt=>({...Bt,[Dt]:Pt}))):await Wt(Ct,Dt,Pt),Rt.indexOf(Dt)<Rt.length-1&&(xt({category:Ct,month:Dt,value:Pt}),yt(!0))}catch(Nt){console.error("Error updating budget:",Nt),kt.error("Failed to update budget")}},Wt=async(Ct,Dt,Mt)=>{const{error:At}=await supabase.from("yearly_budgets").upsert({year:et,month:Dt,category:Ct,amount:Mt},{onConflict:"year,month,category"});if(At)throw At;at(Pt=>({...Pt,[Ct]:{...Pt[Ct]||{},[Dt]:Mt}})),bt(null),kt.success("Budget updated")},Lt=async Ct=>{if(!vt||!Ct){yt(!1),xt(null);return}const Dt=Rt.indexOf(vt.month)+1;try{const Mt=Rt.slice(Dt).map(At=>Wt(vt.category,At,vt.value));await Promise.all(Mt),kt.success("Updated remaining months")}catch(Mt){console.error("Error filling months:",Mt),kt.error("Failed to fill remaining months")}yt(!1),xt(null)},zt=(Ct,Dt)=>{const Mt=pt==="budget"?it:rt;return Ct.reduce((At,Pt)=>{var Nt;return At+Math.abs(((Nt=Mt[Pt])==null?void 0:Nt[Dt])||0)},0)},Ft=Ct=>{let Dt=0,Mt=0;return Rt.forEach(At=>{const Pt=zt(Ct,At);Pt>0&&(Dt+=Pt,Mt++)}),Mt>0?Dt/Mt:0},Rt=["January","February","March","April","May","June","July","August","September","October","November","December"],jt=pt==="budget"?it:rt;return React.useEffect(()=>{(async()=>{ct(!0),await Promise.all([Et(),Tt(),Ot()]),ct(!1)})()},[et,$]),React.useMemo(()=>{const Ct=$.filter(Mt=>Mt.type==="fixed").map(Mt=>Mt.name),Dt=$.filter(Mt=>Mt.type==="flexible").map(Mt=>Mt.name);return{fixedCategories:Ct,flexibleCategories:Dt}},[$]),lt?jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading yearly data..."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("select",{value:et,onChange:Ct=>tt(Ct.target.value),className:"px-3 py-2 border rounded-md text-sm",children:Array.from({length:5},(Ct,Dt)=>new Date().getFullYear()-2+Dt).map(Ct=>jsxRuntimeExports.jsx("option",{value:Ct.toString(),children:Ct},Ct))}),jsxRuntimeExports.jsxs("div",{className:"flex rounded-md shadow-sm",role:"group",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ft("budget"),className:`px-4 py-2 text-sm font-medium rounded-l-lg border ${pt==="budget"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Budget"}),jsxRuntimeExports.jsx("button",{onClick:()=>ft("actual"),className:`px-4 py-2 text-sm font-medium rounded-r-lg border-t border-b border-r ${pt==="actual"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Actual"})]})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"border p-2 sticky left-0 bg-gray-100",children:"Category"}),Rt.map(Ct=>jsxRuntimeExports.jsx("th",{className:"border p-2 text-right min-w-[100px]",children:Ct},Ct)),jsxRuntimeExports.jsx("th",{className:"border p-2 text-right",children:"Average"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsx("tr",{className:"bg-gray-50",children:jsxRuntimeExports.jsx("td",{colSpan:14,className:"border p-2 font-semibold",children:"Fixed Expenses"})}),$.filter(Ct=>Ct.type==="fixed").map(Ct=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-white",children:Ct.name}),Rt.map(Dt=>{var Mt;return jsxRuntimeExports.jsx("td",{className:"border p-2 text-right text-red-600",children:(gt==null?void 0:gt.category)===Ct.name&&(gt==null?void 0:gt.month)===Dt?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:gt.value,onChange:At=>bt({...gt,value:At.target.value}),onBlur:()=>It(Ct.name,Dt,gt.value),onKeyDown:At=>{At.key==="Enter"?It(Ct.name,Dt,gt.value):At.key==="Escape"&&bt(null)},className:"w-full px-2 py-1 text-right border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:`${pt==="budget"?"cursor-pointer hover:bg-gray-50 transition-colors duration-150":""} 
                                  ${pt==="budget"?"relative group":""}`,onClick:()=>{var At;pt==="budget"&&bt({category:Ct.name,month:Dt,value:(((At=jt[Ct.name])==null?void 0:At[Dt])||"0").toString()})},children:[(Mt=jt[Ct.name])!=null&&Mt[Dt]?`${Math.abs(jt[Ct.name][Dt]).toFixed(2)}`:pt==="budget"?"0.00":"",pt==="budget"&&jsxRuntimeExports.jsx("div",{className:"hidden group-hover:block absolute top-1/2 right-2 transform -translate-y-1/2",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4 text-gray-400"})})]})},Dt)}),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right",children:["",Ft([Ct.name]).toFixed(2)]})]},Ct.name)),jsxRuntimeExports.jsxs("tr",{className:"font-semibold bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-gray-50",children:"TOTAL (fixed)"}),Rt.map(Ct=>jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right text-red-600",children:["",zt($.filter(Dt=>Dt.type==="fixed").map(Dt=>Dt.name),Ct).toFixed(2)]},Ct)),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right",children:["",Ft($.filter(Ct=>Ct.type==="fixed").map(Ct=>Ct.name)).toFixed(2)]})]}),jsxRuntimeExports.jsx("tr",{className:"bg-gray-50",children:jsxRuntimeExports.jsx("td",{colSpan:14,className:"border p-2 font-semibold",children:"Flexible Expenses"})}),$.filter(Ct=>Ct.type==="flexible").map(Ct=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-white",children:Ct.name}),Rt.map(Dt=>{var Mt;return jsxRuntimeExports.jsx("td",{className:"border p-2 text-right",children:(gt==null?void 0:gt.category)===Ct.name&&(gt==null?void 0:gt.month)===Dt?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:gt.value,onChange:At=>bt({...gt,value:At.target.value}),onBlur:()=>It(Ct.name,Dt,gt.value),onKeyDown:At=>{At.key==="Enter"?It(Ct.name,Dt,gt.value):At.key==="Escape"&&bt(null)},className:"w-full px-2 py-1 text-right border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:`${pt==="budget"?"cursor-pointer hover:bg-gray-50 transition-colors duration-150":""} 
                                  ${pt==="budget"?"relative group":""}`,onClick:()=>{var At;pt==="budget"&&bt({category:Ct.name,month:Dt,value:(((At=jt[Ct.name])==null?void 0:At[Dt])||"0").toString()})},children:[(Mt=jt[Ct.name])!=null&&Mt[Dt]?`${Math.abs(jt[Ct.name][Dt]).toFixed(2)}`:pt==="budget"?"0.00":"",pt==="budget"&&jsxRuntimeExports.jsx("div",{className:"hidden group-hover:block absolute top-1/2 right-2 transform -translate-y-1/2",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4 text-gray-400"})})]})},Dt)}),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right",children:["",Ft([Ct.name]).toFixed(2)]})]},Ct.name)),jsxRuntimeExports.jsxs("tr",{className:"font-semibold bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-gray-50",children:"TOTAL (flexible)"}),Rt.map(Ct=>jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right text-red-600",children:["",zt($.filter(Dt=>Dt.type==="flexible").map(Dt=>Dt.name),Ct).toFixed(2)]},Ct)),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right",children:["",Ft($.filter(Ct=>Ct.type==="flexible").map(Ct=>Ct.name)).toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"font-semibold",children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-white",children:"Income"}),Rt.map(Ct=>jsxRuntimeExports.jsx("td",{className:"border p-2 text-right text-green-600",children:pt==="budget"?(gt==null?void 0:gt.type)==="income"&&(gt==null?void 0:gt.month)===Ct?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:gt.value,onChange:Dt=>bt({...gt,value:Dt.target.value}),onBlur:()=>It("Income",Ct,gt.value,"income"),onKeyDown:Dt=>{Dt.key==="Enter"?It("Income",Ct,gt.value,"income"):Dt.key==="Escape"&&bt(null)},className:"w-full px-2 py-1 text-right border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:"cursor-pointer hover:bg-gray-50 transition-colors duration-150",onClick:()=>bt({category:"Income",month:Ct,value:(st[Ct]||"0").toString(),type:"income"}),children:["",(st[Ct]||0).toFixed(2)]}):`${(ut[Ct]||0).toFixed(2)}`},Ct)),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right text-green-600",children:["",pt==="budget"?(Object.values(st).reduce((Ct,Dt)=>Ct+Dt,0)/Math.max(Object.keys(st).length,1)).toFixed(2):(Object.values(ut).reduce((Ct,Dt)=>Ct+Dt,0)/Math.max(Object.keys(ut).length,1)).toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"font-semibold",children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-white",children:"Expenses"}),Rt.map(Ct=>{const Dt=pt==="budget"?zt([...$.filter(Mt=>Mt.type==="fixed").map(Mt=>Mt.name),...$.filter(Mt=>Mt.type==="flexible").map(Mt=>Mt.name)],Ct):Object.entries(jt).filter(([Mt])=>Mt!=="Income").reduce((Mt,[At,Pt])=>Mt+Math.abs(Pt[Ct]||0),0);return jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right text-red-600",children:["",Dt.toFixed(2)]},Ct)}),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right text-red-600",children:["",Ft([...$.filter(Ct=>Ct.type==="fixed").map(Ct=>Ct.name),...$.filter(Ct=>Ct.type==="flexible").map(Ct=>Ct.name)]).toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"font-semibold",children:[jsxRuntimeExports.jsx("td",{className:"border p-2 sticky left-0 bg-white",children:"Savings"}),Rt.map(Ct=>{const Dt=pt==="budget"?st[Ct]||0:ut[Ct]||0,Mt=pt==="budget"?zt([...$.filter(Pt=>Pt.type==="fixed").map(Pt=>Pt.name),...$.filter(Pt=>Pt.type==="flexible").map(Pt=>Pt.name)],Ct):Object.entries(jt).filter(([Pt])=>Pt!=="Income").reduce((Pt,[Nt,Bt])=>Pt+Math.abs(Bt[Ct]||0),0),At=Dt-Mt;return jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right",children:["",At.toFixed(2)]},Ct)}),jsxRuntimeExports.jsxs("td",{className:"border p-2 text-right",children:["",pt==="budget"?(Object.values(st).reduce((Ct,Dt)=>Ct+Dt,0)-Ft([...$.filter(Ct=>Ct.type==="fixed").map(Ct=>Ct.name),...$.filter(Ct=>Ct.type==="flexible").map(Ct=>Ct.name)])*12).toFixed(2):(Object.values(ht).reduce((Ct,Dt)=>Ct+Dt,0)/Math.max(Object.keys(ht).length,1)).toFixed(2)]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 p-6 bg-white rounded-lg shadow",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Savings Projection"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Beginning Balance ",et]}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold",children:["",wt.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["End Balance ",et]}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold",children:["",(wt+(pt==="budget"?Object.values(st).reduce((Ct,Dt)=>Ct+Dt,0)-Ft([...$.filter(Ct=>Ct.type==="fixed").map(Ct=>Ct.name),...$.filter(Ct=>Ct.type==="flexible").map(Ct=>Ct.name)])*12:Object.values(ht).reduce((Ct,Dt)=>Ct+Dt,0))).toFixed(2)]})]})]})]}),_t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fill Remaining Months"}),jsxRuntimeExports.jsxs("p",{className:"mb-4",children:["Would you like to use ",vt==null?void 0:vt.value.toFixed(2)," for ",vt==null?void 0:vt.category," for the remaining months of ",et,"?"]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Lt(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:"No, Thanks"}),jsxRuntimeExports.jsx("button",{onClick:()=>Lt(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Yes, Fill All"})]})]})})]})}function BudgetManagement(){const{categories:_e}=useCategories(),[$,et]=reactExports.useState([]),[tt,rt]=reactExports.useState(null),[nt,it]=reactExports.useState(new Date().toISOString().slice(0,7)),[at,st]=reactExports.useState(!0),[ot,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(!1),[dt,ht]=reactExports.useState({}),[mt,pt]=reactExports.useState(!1),[ft,gt]=reactExports.useState([]),[bt,_t]=reactExports.useState(!1),[yt,vt]=reactExports.useState("monthly"),xt=async()=>{try{const[Rt,jt]=nt.split("-"),Ct=new Date(parseInt(Rt),parseInt(jt)-1,1),Dt=new Date(parseInt(Rt),parseInt(jt),0),Mt=format$1(Ct,"yyyy-MM-dd"),At=format$1(Dt,"yyyy-MM-dd");console.log("Fetching budget spending for:",{selectedMonth:nt,startStr:Mt,endStr:At});const{data:Pt,error:Nt}=await supabase.from("purchases").select("amount, category").gte("date",Mt).lte("date",At);if(Nt)throw Nt;console.log("Budget purchase data:",Pt);const Bt=Pt==null?void 0:Pt.reduce((Vt,qt)=>{const Gt=qt.category;return Vt[Gt]=(Vt[Gt]||0)+Number(qt.amount),Vt},{});console.log("Calculated spending:",Bt),ht(Bt||{})}catch(Rt){console.error("Error fetching spending data:",Rt),kt.error("Failed to load spending data")}};reactExports.useEffect(()=>{(async()=>{st(!0);try{const{error:jt}=await supabase.from("budgets").select("id").limit(1);if(jt){ut(!1),st(!1);return}ut(!0);const[Ct,Dt]=nt.split("-"),Mt=new Date(parseInt(Ct),parseInt(Dt)-1,1).toLocaleString("default",{month:"long"}),{data:At,error:Pt}=await supabase.from("yearly_budgets").select("*").eq("year",Ct).eq("month",Mt);if(!Pt&&At&&At.length>0){const Nt=await Promise.all(At.map(async Bt=>{var Jt;const{data:Vt}=await supabase.from("budgets").select("*").eq("month",nt).eq("category",Bt.category).single();if(Vt)return Vt;const{data:qt,error:Gt}=await supabase.from("budgets").insert({category:Bt.category,amount:Bt.amount,type:((Jt=_e.find(ar=>ar.name===Bt.category))==null?void 0:Jt.type)||"flexible",month:nt}).select().single();return Gt?(console.error("Error creating monthly budget:",Gt),null):qt}));et(Nt.filter(Boolean))}else{const{data:Nt,error:Bt}=await supabase.from("budgets").select("*").eq("month",nt);if(Bt)throw Bt;et(Nt||[])}await xt()}catch(jt){console.error("Error:",jt),kt.error("Failed to load budget data")}finally{st(!1)}})()},[nt,_e]),reactExports.useEffect(()=>{const Rt=supabase.channel("purchases_channel").on("postgres_changes",{event:"*",schema:"public",table:"purchases"},jt=>{console.log("Purchase change detected:",jt),xt()}).subscribe();return()=>{Rt.unsubscribe()}},[nt]);const wt=async(Rt,jt)=>{if(!ct){kt.error("Budget table not yet created. Please run the migration first.");return}try{const{data:Ct,error:Dt}=await supabase.from("budgets").insert({category:Rt,amount:0,type:jt,month:nt}).select().single();if(Dt)throw Dt;Ct&&(et(Mt=>[...Mt,Ct]),rt(Ct.id),lt("0"),kt.success("Budget category added"))}catch(Ct){console.error("Error:",Ct),kt.error("Failed to add budget category")}},St=async Rt=>{const jt=parseFloat(ot);if(isNaN(jt)||jt<0){kt.error("Please enter a valid amount");return}try{const{error:Ct}=await supabase.from("budgets").update({amount:jt}).eq("id",Rt);if(Ct)throw Ct;et($.map(Dt=>Dt.id===Rt?{...Dt,amount:jt}:Dt)),kt.success("Budget updated successfully"),rt(null)}catch(Ct){console.error("Error:",Ct),kt.error("Failed to update budget")}},Ot=async()=>{if(ft.length===0){kt.error("Please select at least one month");return}_t(!0);try{const{data:Rt,error:jt}=await supabase.from("budgets").select("*").eq("month",nt);if(jt)throw jt;for(const Ct of ft){const Dt=Rt==null?void 0:Rt.map(At=>({category:At.category,amount:At.amount,type:At.type,month:Ct})),{error:Mt}=await supabase.from("budgets").upsert(Dt||[],{onConflict:"category,month",ignoreDuplicates:!1});if(Mt)throw Mt}kt.success("Budget copied successfully"),pt(!1),gt([])}catch(Rt){console.error("Error copying budget:",Rt),kt.error("Failed to copy budget")}finally{_t(!1)}},Et=(Rt=12)=>{const jt=[],Ct=new Date(nt+"-01");for(let Dt=1;Dt<=Rt;Dt++){const Mt=new Date(Ct);Mt.setMonth(Ct.getMonth()+Dt),jt.push(Mt.toISOString().slice(0,7))}return jt},Tt=Rt=>{gt(jt=>jt.includes(Rt)?jt.filter(Ct=>Ct!==Rt):[...jt,Rt])},It=Rt=>{const jt=Math.abs(dt[Rt.category]||0),Ct=Rt.amount>0?jt/Rt.amount*100:0,Dt=Rt.amount-jt,Mt=jt>Rt.amount;return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-lg",children:Rt.category}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:Rt.type==="fixed"?"Fixed Expense":"Flexible Expense"})]}),jsxRuntimeExports.jsx("div",{className:"w-20 h-20",children:jsxRuntimeExports.jsx(CircularProgressbar,{value:Math.min(Ct,100),text:`${Math.round(Ct)}%`,styles:buildStyles({pathColor:Mt?"#ef4444":"#3b82f6",textColor:Mt?"#ef4444":"#3b82f6",trailColor:"#e5e7eb"})})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Budget:"}),tt===Rt.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",value:ot,onChange:At=>lt(At.target.value),className:"w-24 px-2 py-1 border rounded text-sm",min:"0",step:"0.01",autoFocus:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>St(Rt.id),className:"p-1 text-blue-600 hover:text-blue-800",children:jsxRuntimeExports.jsx(Save,{className:"h-4 w-4"})})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["",Rt.amount.toFixed(2)]}),jsxRuntimeExports.jsx("button",{onClick:()=>{rt(Rt.id),lt(Rt.amount.toString())},className:"p-1 text-gray-600 hover:text-gray-800",children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Spent:"}),jsxRuntimeExports.jsxs("span",{className:`font-medium ${Mt?"text-red-600":""}`,children:["",jt.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Remaining:"}),jsxRuntimeExports.jsxs("span",{className:`font-medium ${Mt?"text-red-600":"text-green-600"}`,children:[Mt?"-":"","",Math.abs(Dt).toFixed(2)]})]})]})]},Rt.id)},Wt=Rt=>{const jt=new Set($.map(Ct=>Ct.category));return _e.filter(Ct=>Ct.type===Rt&&!jt.has(Ct.name))};if(!ct)return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx(AlertCircle,{className:"h-5 w-5 text-yellow-400"})}),jsxRuntimeExports.jsx("div",{className:"ml-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-yellow-700",children:"The budget table hasn't been created yet. Please run the migration in your Supabase SQL editor."})})]})})});const Lt=$.reduce((Rt,jt)=>Rt+jt.amount,0),zt=Object.values(dt).reduce((Rt,jt)=>Rt+Math.abs(jt||0),0),Ft=Lt-zt;return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold",children:"Budget Management"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex rounded-md shadow-sm",role:"group",children:[jsxRuntimeExports.jsx("button",{onClick:()=>vt("monthly"),className:`px-4 py-2 text-sm font-medium rounded-l-lg border ${yt==="monthly"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Monthly"}),jsxRuntimeExports.jsx("button",{onClick:()=>vt("yearly"),className:`px-4 py-2 text-sm font-medium rounded-r-lg border-t border-b border-r ${yt==="yearly"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Yearly"})]}),yt==="monthly"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"month",value:nt,onChange:Rt=>it(Rt.target.value),className:"px-3 py-2 border rounded-lg"}),jsxRuntimeExports.jsx("button",{onClick:()=>pt(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:"Copy Budget"})]})]})]}),yt==="monthly"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-blue-700 font-medium",children:"Total Budget"}),jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-blue-700"})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-blue-700 mt-2",children:["",Lt.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-green-700 font-medium",children:"Total Spent"}),jsxRuntimeExports.jsx(Target,{className:"h-5 w-5 text-green-700"})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-green-700 mt-2",children:["",Object.values(dt).reduce((Rt,jt)=>Rt+Math.abs(jt||0),0).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:`${Ft>=0?"bg-blue-50":"bg-red-50"} rounded-lg p-4`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:`${Ft>=0?"text-blue-700":"text-red-700"} font-medium`,children:"Remaining"}),jsxRuntimeExports.jsx(Bell,{className:`h-5 w-5 ${Ft>=0?"text-blue-700":"text-red-700"}`})]}),jsxRuntimeExports.jsxs("p",{className:`text-2xl font-bold ${Ft>=0?"text-blue-700":"text-red-700"} mt-2`,children:["",Math.abs(Ft).toFixed(2),Ft<0&&" over budget"]})]})]})]}),yt==="monthly"?jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium",children:"Fixed Expenses"}),Wt("fixed").length>0&&jsxRuntimeExports.jsxs("select",{onChange:Rt=>{Rt.target.value&&(wt(Rt.target.value,"fixed"),Rt.target.value="")},className:"px-3 py-2 border rounded-lg text-sm",defaultValue:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Add Fixed Expense"}),Wt("fixed").map(Rt=>jsxRuntimeExports.jsx("option",{value:Rt.name,children:Rt.name},Rt.id))]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.filter(Rt=>Rt.type==="fixed").map(It)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium",children:"Flexible Expenses"}),Wt("flexible").length>0&&jsxRuntimeExports.jsxs("select",{onChange:Rt=>{Rt.target.value&&(wt(Rt.target.value,"flexible"),Rt.target.value="")},className:"px-3 py-2 border rounded-lg text-sm",defaultValue:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Add Flexible Expense"}),Wt("flexible").map(Rt=>jsxRuntimeExports.jsx("option",{value:Rt.name,children:Rt.name},Rt.id))]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.filter(Rt=>Rt.type==="flexible").map(It)})]})]}):jsxRuntimeExports.jsx(YearlyBudget,{year:nt.slice(0,4)}),mt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Copy Budget to Future Months"}),jsxRuntimeExports.jsx("button",{onClick:()=>pt(!1),className:"text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(X,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Select the months you want to copy the current budget to:"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:Et().map(Rt=>jsxRuntimeExports.jsxs("label",{className:`
                    flex items-center gap-2 p-3 rounded-lg border cursor-pointer
                    ${ft.includes(Rt)?"border-blue-500 bg-blue-50":"border-gray-200"}
                  `,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ft.includes(Rt),onChange:()=>Tt(Rt),className:"h-4 w-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:new Date(Rt+"-01").toLocaleDateString("default",{month:"long",year:"numeric"})})]},Rt))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>pt(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-50",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Ot,disabled:bt||ft.length===0,className:`
                  px-4 py-2 rounded-md text-white
                  ${bt||ft.length===0?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}
                `,children:bt?"Copying...":"Copy Budget"})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(_e){return _e+.5|0}const lim=(_e,$,et)=>Math.max(Math.min(_e,et),$);function p2b(_e){return lim(round(_e*2.55),0,255)}function n2b(_e){return lim(round(_e*255),0,255)}function b2n(_e){return lim(round(_e/2.55)/100,0,1)}function n2p(_e){return lim(round(_e*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=_e=>hex[_e&15],h2=_e=>hex[(_e&240)>>4]+hex[_e&15],eq=_e=>(_e&240)>>4===(_e&15),isShort=_e=>eq(_e.r)&&eq(_e.g)&&eq(_e.b)&&eq(_e.a);function hexParse(_e){var $=_e.length,et;return _e[0]==="#"&&($===4||$===5?et={r:255&map$1[_e[1]]*17,g:255&map$1[_e[2]]*17,b:255&map$1[_e[3]]*17,a:$===5?map$1[_e[4]]*17:255}:($===7||$===9)&&(et={r:map$1[_e[1]]<<4|map$1[_e[2]],g:map$1[_e[3]]<<4|map$1[_e[4]],b:map$1[_e[5]]<<4|map$1[_e[6]],a:$===9?map$1[_e[7]]<<4|map$1[_e[8]]:255})),et}const alpha=(_e,$)=>_e<255?$(_e):"";function hexString(_e){var $=isShort(_e)?h1:h2;return _e?"#"+$(_e.r)+$(_e.g)+$(_e.b)+alpha(_e.a,$):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(_e,$,et){const tt=$*Math.min(et,1-et),rt=(nt,it=(nt+_e/30)%12)=>et-tt*Math.max(Math.min(it-3,9-it,1),-1);return[rt(0),rt(8),rt(4)]}function hsv2rgbn(_e,$,et){const tt=(rt,nt=(rt+_e/60)%6)=>et-et*$*Math.max(Math.min(nt,4-nt,1),0);return[tt(5),tt(3),tt(1)]}function hwb2rgbn(_e,$,et){const tt=hsl2rgbn(_e,1,.5);let rt;for($+et>1&&(rt=1/($+et),$*=rt,et*=rt),rt=0;rt<3;rt++)tt[rt]*=1-$-et,tt[rt]+=$;return tt}function hueValue(_e,$,et,tt,rt){return _e===rt?($-et)/tt+($<et?6:0):$===rt?(et-_e)/tt+2:(_e-$)/tt+4}function rgb2hsl(_e){const et=_e.r/255,tt=_e.g/255,rt=_e.b/255,nt=Math.max(et,tt,rt),it=Math.min(et,tt,rt),at=(nt+it)/2;let st,ot,lt;return nt!==it&&(lt=nt-it,ot=at>.5?lt/(2-nt-it):lt/(nt+it),st=hueValue(et,tt,rt,lt,nt),st=st*60+.5),[st|0,ot||0,at]}function calln(_e,$,et,tt){return(Array.isArray($)?_e($[0],$[1],$[2]):_e($,et,tt)).map(n2b)}function hsl2rgb(_e,$,et){return calln(hsl2rgbn,_e,$,et)}function hwb2rgb(_e,$,et){return calln(hwb2rgbn,_e,$,et)}function hsv2rgb(_e,$,et){return calln(hsv2rgbn,_e,$,et)}function hue(_e){return(_e%360+360)%360}function hueParse(_e){const $=HUE_RE.exec(_e);let et=255,tt;if(!$)return;$[5]!==tt&&(et=$[6]?p2b(+$[5]):n2b(+$[5]));const rt=hue(+$[2]),nt=+$[3]/100,it=+$[4]/100;return $[1]==="hwb"?tt=hwb2rgb(rt,nt,it):$[1]==="hsv"?tt=hsv2rgb(rt,nt,it):tt=hsl2rgb(rt,nt,it),{r:tt[0],g:tt[1],b:tt[2],a:et}}function rotate(_e,$){var et=rgb2hsl(_e);et[0]=hue(et[0]+$),et=hsl2rgb(et),_e.r=et[0],_e.g=et[1],_e.b=et[2]}function hslString(_e){if(!_e)return;const $=rgb2hsl(_e),et=$[0],tt=n2p($[1]),rt=n2p($[2]);return _e.a<255?`hsla(${et}, ${tt}%, ${rt}%, ${b2n(_e.a)})`:`hsl(${et}, ${tt}%, ${rt}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const _e={},$=Object.keys(names$1),et=Object.keys(map);let tt,rt,nt,it,at;for(tt=0;tt<$.length;tt++){for(it=at=$[tt],rt=0;rt<et.length;rt++)nt=et[rt],at=at.replace(nt,map[nt]);nt=parseInt(names$1[it],16),_e[at]=[nt>>16&255,nt>>8&255,nt&255]}return _e}let names;function nameParse(_e){names||(names=unpack(),names.transparent=[0,0,0,0]);const $=names[_e.toLowerCase()];return $&&{r:$[0],g:$[1],b:$[2],a:$.length===4?$[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(_e){const $=RGB_RE.exec(_e);let et=255,tt,rt,nt;if($){if($[7]!==tt){const it=+$[7];et=$[8]?p2b(it):lim(it*255,0,255)}return tt=+$[1],rt=+$[3],nt=+$[5],tt=255&($[2]?p2b(tt):lim(tt,0,255)),rt=255&($[4]?p2b(rt):lim(rt,0,255)),nt=255&($[6]?p2b(nt):lim(nt,0,255)),{r:tt,g:rt,b:nt,a:et}}}function rgbString(_e){return _e&&(_e.a<255?`rgba(${_e.r}, ${_e.g}, ${_e.b}, ${b2n(_e.a)})`:`rgb(${_e.r}, ${_e.g}, ${_e.b})`)}const to=_e=>_e<=.0031308?_e*12.92:Math.pow(_e,1/2.4)*1.055-.055,from=_e=>_e<=.04045?_e/12.92:Math.pow((_e+.055)/1.055,2.4);function interpolate$1(_e,$,et){const tt=from(b2n(_e.r)),rt=from(b2n(_e.g)),nt=from(b2n(_e.b));return{r:n2b(to(tt+et*(from(b2n($.r))-tt))),g:n2b(to(rt+et*(from(b2n($.g))-rt))),b:n2b(to(nt+et*(from(b2n($.b))-nt))),a:_e.a+et*($.a-_e.a)}}function modHSL(_e,$,et){if(_e){let tt=rgb2hsl(_e);tt[$]=Math.max(0,Math.min(tt[$]+tt[$]*et,$===0?360:1)),tt=hsl2rgb(tt),_e.r=tt[0],_e.g=tt[1],_e.b=tt[2]}}function clone$1(_e,$){return _e&&Object.assign($||{},_e)}function fromObject(_e){var $={r:0,g:0,b:0,a:255};return Array.isArray(_e)?_e.length>=3&&($={r:_e[0],g:_e[1],b:_e[2],a:255},_e.length>3&&($.a=n2b(_e[3]))):($=clone$1(_e,{r:0,g:0,b:0,a:1}),$.a=n2b($.a)),$}function functionParse(_e){return _e.charAt(0)==="r"?rgbParse(_e):hueParse(_e)}class Color{constructor($){if($ instanceof Color)return $;const et=typeof $;let tt;et==="object"?tt=fromObject($):et==="string"&&(tt=hexParse($)||nameParse($)||functionParse($)),this._rgb=tt,this._valid=!!tt}get valid(){return this._valid}get rgb(){var $=clone$1(this._rgb);return $&&($.a=b2n($.a)),$}set rgb($){this._rgb=fromObject($)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix($,et){if($){const tt=this.rgb,rt=$.rgb;let nt;const it=et===nt?.5:et,at=2*it-1,st=tt.a-rt.a,ot=((at*st===-1?at:(at+st)/(1+at*st))+1)/2;nt=1-ot,tt.r=255&ot*tt.r+nt*rt.r+.5,tt.g=255&ot*tt.g+nt*rt.g+.5,tt.b=255&ot*tt.b+nt*rt.b+.5,tt.a=it*tt.a+(1-it)*rt.a,this.rgb=tt}return this}interpolate($,et){return $&&(this._rgb=interpolate$1(this._rgb,$._rgb,et)),this}clone(){return new Color(this.rgb)}alpha($){return this._rgb.a=n2b($),this}clearer($){const et=this._rgb;return et.a*=1-$,this}greyscale(){const $=this._rgb,et=round($.r*.3+$.g*.59+$.b*.11);return $.r=$.g=$.b=et,this}opaquer($){const et=this._rgb;return et.a*=1+$,this}negate(){const $=this._rgb;return $.r=255-$.r,$.g=255-$.g,$.b=255-$.b,this}lighten($){return modHSL(this._rgb,2,$),this}darken($){return modHSL(this._rgb,2,-$),this}saturate($){return modHSL(this._rgb,1,$),this}desaturate($){return modHSL(this._rgb,1,-$),this}rotate($){return rotate(this._rgb,$),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let _e=0;return()=>_e++})();function isNullOrUndef(_e){return _e==null}function isArray(_e){if(Array.isArray&&Array.isArray(_e))return!0;const $=Object.prototype.toString.call(_e);return $.slice(0,7)==="[object"&&$.slice(-6)==="Array]"}function isObject(_e){return _e!==null&&Object.prototype.toString.call(_e)==="[object Object]"}function isNumberFinite(_e){return(typeof _e=="number"||_e instanceof Number)&&isFinite(+_e)}function finiteOrDefault(_e,$){return isNumberFinite(_e)?_e:$}function valueOrDefault(_e,$){return typeof _e>"u"?$:_e}const toDimension=(_e,$)=>typeof _e=="string"&&_e.endsWith("%")?parseFloat(_e)/100*$:+_e;function callback(_e,$,et){if(_e&&typeof _e.call=="function")return _e.apply(et,$)}function each(_e,$,et,tt){let rt,nt,it;if(isArray(_e))for(nt=_e.length,rt=0;rt<nt;rt++)$.call(et,_e[rt],rt);else if(isObject(_e))for(it=Object.keys(_e),nt=it.length,rt=0;rt<nt;rt++)$.call(et,_e[it[rt]],it[rt])}function _elementsEqual(_e,$){let et,tt,rt,nt;if(!_e||!$||_e.length!==$.length)return!1;for(et=0,tt=_e.length;et<tt;++et)if(rt=_e[et],nt=$[et],rt.datasetIndex!==nt.datasetIndex||rt.index!==nt.index)return!1;return!0}function clone(_e){if(isArray(_e))return _e.map(clone);if(isObject(_e)){const $=Object.create(null),et=Object.keys(_e),tt=et.length;let rt=0;for(;rt<tt;++rt)$[et[rt]]=clone(_e[et[rt]]);return $}return _e}function isValidKey(_e){return["__proto__","prototype","constructor"].indexOf(_e)===-1}function _merger(_e,$,et,tt){if(!isValidKey(_e))return;const rt=$[_e],nt=et[_e];isObject(rt)&&isObject(nt)?merge(rt,nt,tt):$[_e]=clone(nt)}function merge(_e,$,et){const tt=isArray($)?$:[$],rt=tt.length;if(!isObject(_e))return _e;et=et||{};const nt=et.merger||_merger;let it;for(let at=0;at<rt;++at){if(it=tt[at],!isObject(it))continue;const st=Object.keys(it);for(let ot=0,lt=st.length;ot<lt;++ot)nt(st[ot],_e,it,et)}return _e}function mergeIf(_e,$){return merge(_e,$,{merger:_mergerIf})}function _mergerIf(_e,$,et){if(!isValidKey(_e))return;const tt=$[_e],rt=et[_e];isObject(tt)&&isObject(rt)?mergeIf(tt,rt):Object.prototype.hasOwnProperty.call($,_e)||($[_e]=clone(rt))}const keyResolvers={"":_e=>_e,x:_e=>_e.x,y:_e=>_e.y};function _splitKey(_e){const $=_e.split("."),et=[];let tt="";for(const rt of $)tt+=rt,tt.endsWith("\\")?tt=tt.slice(0,-1)+".":(et.push(tt),tt="");return et}function _getKeyResolver(_e){const $=_splitKey(_e);return et=>{for(const tt of $){if(tt==="")break;et=et&&et[tt]}return et}}function resolveObjectKey(_e,$){return(keyResolvers[$]||(keyResolvers[$]=_getKeyResolver($)))(_e)}function _capitalize(_e){return _e.charAt(0).toUpperCase()+_e.slice(1)}const defined=_e=>typeof _e<"u",isFunction=_e=>typeof _e=="function",setsEqual=(_e,$)=>{if(_e.size!==$.size)return!1;for(const et of _e)if(!$.has(et))return!1;return!0};function _isClickEvent(_e){return _e.type==="mouseup"||_e.type==="click"||_e.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(_e,$,et){return Math.abs(_e-$)<et}function niceNum(_e){const $=Math.round(_e);_e=almostEquals(_e,$,_e/1e3)?$:_e;const et=Math.pow(10,Math.floor(log10(_e))),tt=_e/et;return(tt<=1?1:tt<=2?2:tt<=5?5:10)*et}function _factorize(_e){const $=[],et=Math.sqrt(_e);let tt;for(tt=1;tt<et;tt++)_e%tt===0&&($.push(tt),$.push(_e/tt));return et===(et|0)&&$.push(et),$.sort((rt,nt)=>rt-nt).pop(),$}function isNumber(_e){return!isNaN(parseFloat(_e))&&isFinite(_e)}function almostWhole(_e,$){const et=Math.round(_e);return et-$<=_e&&et+$>=_e}function _setMinAndMaxByKey(_e,$,et){let tt,rt,nt;for(tt=0,rt=_e.length;tt<rt;tt++)nt=_e[tt][et],isNaN(nt)||($.min=Math.min($.min,nt),$.max=Math.max($.max,nt))}function toRadians(_e){return _e*(PI/180)}function toDegrees(_e){return _e*(180/PI)}function _decimalPlaces(_e){if(!isNumberFinite(_e))return;let $=1,et=0;for(;Math.round(_e*$)/$!==_e;)$*=10,et++;return et}function getAngleFromPoint(_e,$){const et=$.x-_e.x,tt=$.y-_e.y,rt=Math.sqrt(et*et+tt*tt);let nt=Math.atan2(tt,et);return nt<-.5*PI&&(nt+=TAU),{angle:nt,distance:rt}}function distanceBetweenPoints(_e,$){return Math.sqrt(Math.pow($.x-_e.x,2)+Math.pow($.y-_e.y,2))}function _angleDiff(_e,$){return(_e-$+PITAU)%TAU-PI}function _normalizeAngle(_e){return(_e%TAU+TAU)%TAU}function _angleBetween(_e,$,et,tt){const rt=_normalizeAngle(_e),nt=_normalizeAngle($),it=_normalizeAngle(et),at=_normalizeAngle(nt-rt),st=_normalizeAngle(it-rt),ot=_normalizeAngle(rt-nt),lt=_normalizeAngle(rt-it);return rt===nt||rt===it||tt&&nt===it||at>st&&ot<lt}function _limitValue(_e,$,et){return Math.max($,Math.min(et,_e))}function _int16Range(_e){return _limitValue(_e,-32768,32767)}function _isBetween(_e,$,et,tt=1e-6){return _e>=Math.min($,et)-tt&&_e<=Math.max($,et)+tt}function _lookup(_e,$,et){et=et||(it=>_e[it]<$);let tt=_e.length-1,rt=0,nt;for(;tt-rt>1;)nt=rt+tt>>1,et(nt)?rt=nt:tt=nt;return{lo:rt,hi:tt}}const _lookupByKey=(_e,$,et,tt)=>_lookup(_e,et,tt?rt=>{const nt=_e[rt][$];return nt<et||nt===et&&_e[rt+1][$]===et}:rt=>_e[rt][$]<et),_rlookupByKey=(_e,$,et)=>_lookup(_e,et,tt=>_e[tt][$]>=et);function _filterBetween(_e,$,et){let tt=0,rt=_e.length;for(;tt<rt&&_e[tt]<$;)tt++;for(;rt>tt&&_e[rt-1]>et;)rt--;return tt>0||rt<_e.length?_e.slice(tt,rt):_e}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(_e,$){if(_e._chartjs){_e._chartjs.listeners.push($);return}Object.defineProperty(_e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[$]}}),arrayEvents.forEach(et=>{const tt="_onData"+_capitalize(et),rt=_e[et];Object.defineProperty(_e,et,{configurable:!0,enumerable:!1,value(...nt){const it=rt.apply(this,nt);return _e._chartjs.listeners.forEach(at=>{typeof at[tt]=="function"&&at[tt](...nt)}),it}})})}function unlistenArrayEvents(_e,$){const et=_e._chartjs;if(!et)return;const tt=et.listeners,rt=tt.indexOf($);rt!==-1&&tt.splice(rt,1),!(tt.length>0)&&(arrayEvents.forEach(nt=>{delete _e[nt]}),delete _e._chartjs)}function _arrayUnique(_e){const $=new Set(_e);return $.size===_e.length?_e:Array.from($)}const requestAnimFrame=function(){return typeof window>"u"?function(_e){return _e()}:window.requestAnimationFrame}();function throttled(_e,$){let et=[],tt=!1;return function(...rt){et=rt,tt||(tt=!0,requestAnimFrame.call(window,()=>{tt=!1,_e.apply($,et)}))}}function debounce(_e,$){let et;return function(...tt){return $?(clearTimeout(et),et=setTimeout(_e,$,tt)):_e.apply(this,tt),$}}const _toLeftRightCenter=_e=>_e==="start"?"left":_e==="end"?"right":"center",_alignStartEnd=(_e,$,et)=>_e==="start"?$:_e==="end"?et:($+et)/2,_textX=(_e,$,et,tt)=>_e===(tt?"left":"right")?et:_e==="center"?($+et)/2:$;function _getStartAndCountOfVisiblePoints(_e,$,et){const tt=$.length;let rt=0,nt=tt;if(_e._sorted){const{iScale:it,_parsed:at}=_e,st=it.axis,{min:ot,max:lt,minDefined:ct,maxDefined:ut}=it.getUserBounds();ct&&(rt=_limitValue(Math.min(_lookupByKey(at,st,ot).lo,et?tt:_lookupByKey($,st,it.getPixelForValue(ot)).lo),0,tt-1)),ut?nt=_limitValue(Math.max(_lookupByKey(at,it.axis,lt,!0).hi+1,et?0:_lookupByKey($,st,it.getPixelForValue(lt),!0).hi+1),rt,tt)-rt:nt=tt-rt}return{start:rt,count:nt}}function _scaleRangesChanged(_e){const{xScale:$,yScale:et,_scaleRanges:tt}=_e,rt={xmin:$.min,xmax:$.max,ymin:et.min,ymax:et.max};if(!tt)return _e._scaleRanges=rt,!0;const nt=tt.xmin!==$.min||tt.xmax!==$.max||tt.ymin!==et.min||tt.ymax!==et.max;return Object.assign(tt,rt),nt}const atEdge=_e=>_e===0||_e===1,elasticIn=(_e,$,et)=>-(Math.pow(2,10*(_e-=1))*Math.sin((_e-$)*TAU/et)),elasticOut=(_e,$,et)=>Math.pow(2,-10*_e)*Math.sin((_e-$)*TAU/et)+1,effects={linear:_e=>_e,easeInQuad:_e=>_e*_e,easeOutQuad:_e=>-_e*(_e-2),easeInOutQuad:_e=>(_e/=.5)<1?.5*_e*_e:-.5*(--_e*(_e-2)-1),easeInCubic:_e=>_e*_e*_e,easeOutCubic:_e=>(_e-=1)*_e*_e+1,easeInOutCubic:_e=>(_e/=.5)<1?.5*_e*_e*_e:.5*((_e-=2)*_e*_e+2),easeInQuart:_e=>_e*_e*_e*_e,easeOutQuart:_e=>-((_e-=1)*_e*_e*_e-1),easeInOutQuart:_e=>(_e/=.5)<1?.5*_e*_e*_e*_e:-.5*((_e-=2)*_e*_e*_e-2),easeInQuint:_e=>_e*_e*_e*_e*_e,easeOutQuint:_e=>(_e-=1)*_e*_e*_e*_e+1,easeInOutQuint:_e=>(_e/=.5)<1?.5*_e*_e*_e*_e*_e:.5*((_e-=2)*_e*_e*_e*_e+2),easeInSine:_e=>-Math.cos(_e*HALF_PI)+1,easeOutSine:_e=>Math.sin(_e*HALF_PI),easeInOutSine:_e=>-.5*(Math.cos(PI*_e)-1),easeInExpo:_e=>_e===0?0:Math.pow(2,10*(_e-1)),easeOutExpo:_e=>_e===1?1:-Math.pow(2,-10*_e)+1,easeInOutExpo:_e=>atEdge(_e)?_e:_e<.5?.5*Math.pow(2,10*(_e*2-1)):.5*(-Math.pow(2,-10*(_e*2-1))+2),easeInCirc:_e=>_e>=1?_e:-(Math.sqrt(1-_e*_e)-1),easeOutCirc:_e=>Math.sqrt(1-(_e-=1)*_e),easeInOutCirc:_e=>(_e/=.5)<1?-.5*(Math.sqrt(1-_e*_e)-1):.5*(Math.sqrt(1-(_e-=2)*_e)+1),easeInElastic:_e=>atEdge(_e)?_e:elasticIn(_e,.075,.3),easeOutElastic:_e=>atEdge(_e)?_e:elasticOut(_e,.075,.3),easeInOutElastic(_e){return atEdge(_e)?_e:_e<.5?.5*elasticIn(_e*2,.1125,.45):.5+.5*elasticOut(_e*2-1,.1125,.45)},easeInBack(_e){return _e*_e*((1.70158+1)*_e-1.70158)},easeOutBack(_e){return(_e-=1)*_e*((1.70158+1)*_e+1.70158)+1},easeInOutBack(_e){let $=1.70158;return(_e/=.5)<1?.5*(_e*_e*((($*=1.525)+1)*_e-$)):.5*((_e-=2)*_e*((($*=1.525)+1)*_e+$)+2)},easeInBounce:_e=>1-effects.easeOutBounce(1-_e),easeOutBounce(_e){return _e<1/2.75?7.5625*_e*_e:_e<2/2.75?7.5625*(_e-=1.5/2.75)*_e+.75:_e<2.5/2.75?7.5625*(_e-=2.25/2.75)*_e+.9375:7.5625*(_e-=2.625/2.75)*_e+.984375},easeInOutBounce:_e=>_e<.5?effects.easeInBounce(_e*2)*.5:effects.easeOutBounce(_e*2-1)*.5+.5};function isPatternOrGradient(_e){if(_e&&typeof _e=="object"){const $=_e.toString();return $==="[object CanvasPattern]"||$==="[object CanvasGradient]"}return!1}function color(_e){return isPatternOrGradient(_e)?_e:new Color(_e)}function getHoverColor(_e){return isPatternOrGradient(_e)?_e:new Color(_e).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(_e){_e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),_e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:$=>$!=="onProgress"&&$!=="onComplete"&&$!=="fn"}),_e.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),_e.describe("animations",{_fallback:"animation"}),_e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:$=>$|0}}}})}function applyLayoutsDefaults(_e){_e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(_e,$){$=$||{};const et=_e+JSON.stringify($);let tt=intlCache.get(et);return tt||(tt=new Intl.NumberFormat(_e,$),intlCache.set(et,tt)),tt}function formatNumber(_e,$,et){return getNumberFormat($,et).format(_e)}const formatters={values(_e){return isArray(_e)?_e:""+_e},numeric(_e,$,et){if(_e===0)return"0";const tt=this.chart.options.locale;let rt,nt=_e;if(et.length>1){const ot=Math.max(Math.abs(et[0].value),Math.abs(et[et.length-1].value));(ot<1e-4||ot>1e15)&&(rt="scientific"),nt=calculateDelta(_e,et)}const it=log10(Math.abs(nt)),at=isNaN(it)?1:Math.max(Math.min(-1*Math.floor(it),20),0),st={notation:rt,minimumFractionDigits:at,maximumFractionDigits:at};return Object.assign(st,this.options.ticks.format),formatNumber(_e,tt,st)},logarithmic(_e,$,et){if(_e===0)return"0";const tt=et[$].significand||_e/Math.pow(10,Math.floor(log10(_e)));return[1,2,3,5,10,15].includes(tt)||$>.8*et.length?formatters.numeric.call(this,_e,$,et):""}};function calculateDelta(_e,$){let et=$.length>3?$[2].value-$[1].value:$[1].value-$[0].value;return Math.abs(et)>=1&&_e!==Math.floor(_e)&&(et=_e-Math.floor(_e)),et}var Ticks={formatters};function applyScaleDefaults(_e){_e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:($,et)=>et.lineWidth,tickColor:($,et)=>et.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),_e.route("scale.ticks","color","","color"),_e.route("scale.grid","color","","borderColor"),_e.route("scale.border","color","","borderColor"),_e.route("scale.title","color","","color"),_e.describe("scale",{_fallback:!1,_scriptable:$=>!$.startsWith("before")&&!$.startsWith("after")&&$!=="callback"&&$!=="parser",_indexable:$=>$!=="borderDash"&&$!=="tickBorderDash"&&$!=="dash"}),_e.describe("scales",{_fallback:"scale"}),_e.describe("scale.ticks",{_scriptable:$=>$!=="backdropPadding"&&$!=="callback",_indexable:$=>$!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(_e,$){if(!$)return _e;const et=$.split(".");for(let tt=0,rt=et.length;tt<rt;++tt){const nt=et[tt];_e=_e[nt]||(_e[nt]=Object.create(null))}return _e}function set(_e,$,et){return typeof $=="string"?merge(getScope$1(_e,$),et):merge(getScope$1(_e,""),$)}class Defaults{constructor($,et){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=tt=>tt.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(tt,rt)=>getHoverColor(rt.backgroundColor),this.hoverBorderColor=(tt,rt)=>getHoverColor(rt.borderColor),this.hoverColor=(tt,rt)=>getHoverColor(rt.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe($),this.apply(et)}set($,et){return set(this,$,et)}get($){return getScope$1(this,$)}describe($,et){return set(descriptors,$,et)}override($,et){return set(overrides,$,et)}route($,et,tt,rt){const nt=getScope$1(this,$),it=getScope$1(this,tt),at="_"+et;Object.defineProperties(nt,{[at]:{value:nt[et],writable:!0},[et]:{enumerable:!0,get(){const st=this[at],ot=it[rt];return isObject(st)?Object.assign({},ot,st):valueOrDefault(st,ot)},set(st){this[at]=st}}})}apply($){$.forEach(et=>et(this))}}var defaults=new Defaults({_scriptable:_e=>!_e.startsWith("on"),_indexable:_e=>_e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(_e){return!_e||isNullOrUndef(_e.size)||isNullOrUndef(_e.family)?null:(_e.style?_e.style+" ":"")+(_e.weight?_e.weight+" ":"")+_e.size+"px "+_e.family}function _measureText(_e,$,et,tt,rt){let nt=$[rt];return nt||(nt=$[rt]=_e.measureText(rt).width,et.push(rt)),nt>tt&&(tt=nt),tt}function _alignPixel(_e,$,et){const tt=_e.currentDevicePixelRatio,rt=et!==0?Math.max(et/2,.5):0;return Math.round(($-rt)*tt)/tt+rt}function clearCanvas(_e,$){!$&&!_e||($=$||_e.getContext("2d"),$.save(),$.resetTransform(),$.clearRect(0,0,_e.width,_e.height),$.restore())}function drawPoint(_e,$,et,tt){drawPointLegend(_e,$,et,tt,null)}function drawPointLegend(_e,$,et,tt,rt){let nt,it,at,st,ot,lt,ct,ut;const dt=$.pointStyle,ht=$.rotation,mt=$.radius;let pt=(ht||0)*RAD_PER_DEG;if(dt&&typeof dt=="object"&&(nt=dt.toString(),nt==="[object HTMLImageElement]"||nt==="[object HTMLCanvasElement]")){_e.save(),_e.translate(et,tt),_e.rotate(pt),_e.drawImage(dt,-dt.width/2,-dt.height/2,dt.width,dt.height),_e.restore();return}if(!(isNaN(mt)||mt<=0)){switch(_e.beginPath(),dt){default:rt?_e.ellipse(et,tt,rt/2,mt,0,0,TAU):_e.arc(et,tt,mt,0,TAU),_e.closePath();break;case"triangle":lt=rt?rt/2:mt,_e.moveTo(et+Math.sin(pt)*lt,tt-Math.cos(pt)*mt),pt+=TWO_THIRDS_PI,_e.lineTo(et+Math.sin(pt)*lt,tt-Math.cos(pt)*mt),pt+=TWO_THIRDS_PI,_e.lineTo(et+Math.sin(pt)*lt,tt-Math.cos(pt)*mt),_e.closePath();break;case"rectRounded":ot=mt*.516,st=mt-ot,it=Math.cos(pt+QUARTER_PI)*st,ct=Math.cos(pt+QUARTER_PI)*(rt?rt/2-ot:st),at=Math.sin(pt+QUARTER_PI)*st,ut=Math.sin(pt+QUARTER_PI)*(rt?rt/2-ot:st),_e.arc(et-ct,tt-at,ot,pt-PI,pt-HALF_PI),_e.arc(et+ut,tt-it,ot,pt-HALF_PI,pt),_e.arc(et+ct,tt+at,ot,pt,pt+HALF_PI),_e.arc(et-ut,tt+it,ot,pt+HALF_PI,pt+PI),_e.closePath();break;case"rect":if(!ht){st=Math.SQRT1_2*mt,lt=rt?rt/2:st,_e.rect(et-lt,tt-st,2*lt,2*st);break}pt+=QUARTER_PI;case"rectRot":ct=Math.cos(pt)*(rt?rt/2:mt),it=Math.cos(pt)*mt,at=Math.sin(pt)*mt,ut=Math.sin(pt)*(rt?rt/2:mt),_e.moveTo(et-ct,tt-at),_e.lineTo(et+ut,tt-it),_e.lineTo(et+ct,tt+at),_e.lineTo(et-ut,tt+it),_e.closePath();break;case"crossRot":pt+=QUARTER_PI;case"cross":ct=Math.cos(pt)*(rt?rt/2:mt),it=Math.cos(pt)*mt,at=Math.sin(pt)*mt,ut=Math.sin(pt)*(rt?rt/2:mt),_e.moveTo(et-ct,tt-at),_e.lineTo(et+ct,tt+at),_e.moveTo(et+ut,tt-it),_e.lineTo(et-ut,tt+it);break;case"star":ct=Math.cos(pt)*(rt?rt/2:mt),it=Math.cos(pt)*mt,at=Math.sin(pt)*mt,ut=Math.sin(pt)*(rt?rt/2:mt),_e.moveTo(et-ct,tt-at),_e.lineTo(et+ct,tt+at),_e.moveTo(et+ut,tt-it),_e.lineTo(et-ut,tt+it),pt+=QUARTER_PI,ct=Math.cos(pt)*(rt?rt/2:mt),it=Math.cos(pt)*mt,at=Math.sin(pt)*mt,ut=Math.sin(pt)*(rt?rt/2:mt),_e.moveTo(et-ct,tt-at),_e.lineTo(et+ct,tt+at),_e.moveTo(et+ut,tt-it),_e.lineTo(et-ut,tt+it);break;case"line":it=rt?rt/2:Math.cos(pt)*mt,at=Math.sin(pt)*mt,_e.moveTo(et-it,tt-at),_e.lineTo(et+it,tt+at);break;case"dash":_e.moveTo(et,tt),_e.lineTo(et+Math.cos(pt)*(rt?rt/2:mt),tt+Math.sin(pt)*mt);break;case!1:_e.closePath();break}_e.fill(),$.borderWidth>0&&_e.stroke()}}function _isPointInArea(_e,$,et){return et=et||.5,!$||_e&&_e.x>$.left-et&&_e.x<$.right+et&&_e.y>$.top-et&&_e.y<$.bottom+et}function clipArea(_e,$){_e.save(),_e.beginPath(),_e.rect($.left,$.top,$.right-$.left,$.bottom-$.top),_e.clip()}function unclipArea(_e){_e.restore()}function _steppedLineTo(_e,$,et,tt,rt){if(!$)return _e.lineTo(et.x,et.y);if(rt==="middle"){const nt=($.x+et.x)/2;_e.lineTo(nt,$.y),_e.lineTo(nt,et.y)}else rt==="after"!=!!tt?_e.lineTo($.x,et.y):_e.lineTo(et.x,$.y);_e.lineTo(et.x,et.y)}function _bezierCurveTo(_e,$,et,tt){if(!$)return _e.lineTo(et.x,et.y);_e.bezierCurveTo(tt?$.cp1x:$.cp2x,tt?$.cp1y:$.cp2y,tt?et.cp2x:et.cp1x,tt?et.cp2y:et.cp1y,et.x,et.y)}function setRenderOpts(_e,$){$.translation&&_e.translate($.translation[0],$.translation[1]),isNullOrUndef($.rotation)||_e.rotate($.rotation),$.color&&(_e.fillStyle=$.color),$.textAlign&&(_e.textAlign=$.textAlign),$.textBaseline&&(_e.textBaseline=$.textBaseline)}function decorateText(_e,$,et,tt,rt){if(rt.strikethrough||rt.underline){const nt=_e.measureText(tt),it=$-nt.actualBoundingBoxLeft,at=$+nt.actualBoundingBoxRight,st=et-nt.actualBoundingBoxAscent,ot=et+nt.actualBoundingBoxDescent,lt=rt.strikethrough?(st+ot)/2:ot;_e.strokeStyle=_e.fillStyle,_e.beginPath(),_e.lineWidth=rt.decorationWidth||2,_e.moveTo(it,lt),_e.lineTo(at,lt),_e.stroke()}}function drawBackdrop(_e,$){const et=_e.fillStyle;_e.fillStyle=$.color,_e.fillRect($.left,$.top,$.width,$.height),_e.fillStyle=et}function renderText(_e,$,et,tt,rt,nt={}){const it=isArray($)?$:[$],at=nt.strokeWidth>0&&nt.strokeColor!=="";let st,ot;for(_e.save(),_e.font=rt.string,setRenderOpts(_e,nt),st=0;st<it.length;++st)ot=it[st],nt.backdrop&&drawBackdrop(_e,nt.backdrop),at&&(nt.strokeColor&&(_e.strokeStyle=nt.strokeColor),isNullOrUndef(nt.strokeWidth)||(_e.lineWidth=nt.strokeWidth),_e.strokeText(ot,et,tt,nt.maxWidth)),_e.fillText(ot,et,tt,nt.maxWidth),decorateText(_e,et,tt,ot,nt),tt+=Number(rt.lineHeight);_e.restore()}function addRoundedRectPath(_e,$){const{x:et,y:tt,w:rt,h:nt,radius:it}=$;_e.arc(et+it.topLeft,tt+it.topLeft,it.topLeft,1.5*PI,PI,!0),_e.lineTo(et,tt+nt-it.bottomLeft),_e.arc(et+it.bottomLeft,tt+nt-it.bottomLeft,it.bottomLeft,PI,HALF_PI,!0),_e.lineTo(et+rt-it.bottomRight,tt+nt),_e.arc(et+rt-it.bottomRight,tt+nt-it.bottomRight,it.bottomRight,HALF_PI,0,!0),_e.lineTo(et+rt,tt+it.topRight),_e.arc(et+rt-it.topRight,tt+it.topRight,it.topRight,0,-HALF_PI,!0),_e.lineTo(et+it.topLeft,tt)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(_e,$){const et=(""+_e).match(LINE_HEIGHT);if(!et||et[1]==="normal")return $*1.2;switch(_e=+et[2],et[3]){case"px":return _e;case"%":_e/=100;break}return $*_e}const numberOrZero=_e=>+_e||0;function _readValueToProps(_e,$){const et={},tt=isObject($),rt=tt?Object.keys($):$,nt=isObject(_e)?tt?it=>valueOrDefault(_e[it],_e[$[it]]):it=>_e[it]:()=>_e;for(const it of rt)et[it]=numberOrZero(nt(it));return et}function toTRBL(_e){return _readValueToProps(_e,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(_e){return _readValueToProps(_e,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(_e){const $=toTRBL(_e);return $.width=$.left+$.right,$.height=$.top+$.bottom,$}function toFont(_e,$){_e=_e||{},$=$||defaults.font;let et=valueOrDefault(_e.size,$.size);typeof et=="string"&&(et=parseInt(et,10));let tt=valueOrDefault(_e.style,$.style);tt&&!(""+tt).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+tt+'"'),tt=void 0);const rt={family:valueOrDefault(_e.family,$.family),lineHeight:toLineHeight(valueOrDefault(_e.lineHeight,$.lineHeight),et),size:et,style:tt,weight:valueOrDefault(_e.weight,$.weight),string:""};return rt.string=toFontString(rt),rt}function resolve(_e,$,et,tt){let rt,nt,it;for(rt=0,nt=_e.length;rt<nt;++rt)if(it=_e[rt],it!==void 0&&it!==void 0)return it}function _addGrace(_e,$,et){const{min:tt,max:rt}=_e,nt=toDimension($,(rt-tt)/2),it=(at,st)=>et&&at===0?0:at+st;return{min:it(tt,-Math.abs(nt)),max:it(rt,nt)}}function createContext(_e,$){return Object.assign(Object.create(_e),$)}function _createResolver(_e,$=[""],et,tt,rt=()=>_e[0]){const nt=et||_e;typeof tt>"u"&&(tt=_resolve("_fallback",_e));const it={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:_e,_rootScopes:nt,_fallback:tt,_getTarget:rt,override:at=>_createResolver([at,..._e],$,nt,tt)};return new Proxy(it,{deleteProperty(at,st){return delete at[st],delete at._keys,delete _e[0][st],!0},get(at,st){return _cached(at,st,()=>_resolveWithPrefixes(st,$,_e,at))},getOwnPropertyDescriptor(at,st){return Reflect.getOwnPropertyDescriptor(at._scopes[0],st)},getPrototypeOf(){return Reflect.getPrototypeOf(_e[0])},has(at,st){return getKeysFromAllScopes(at).includes(st)},ownKeys(at){return getKeysFromAllScopes(at)},set(at,st,ot){const lt=at._storage||(at._storage=rt());return at[st]=lt[st]=ot,delete at._keys,!0}})}function _attachContext(_e,$,et,tt){const rt={_cacheable:!1,_proxy:_e,_context:$,_subProxy:et,_stack:new Set,_descriptors:_descriptors(_e,tt),setContext:nt=>_attachContext(_e,nt,et,tt),override:nt=>_attachContext(_e.override(nt),$,et,tt)};return new Proxy(rt,{deleteProperty(nt,it){return delete nt[it],delete _e[it],!0},get(nt,it,at){return _cached(nt,it,()=>_resolveWithContext(nt,it,at))},getOwnPropertyDescriptor(nt,it){return nt._descriptors.allKeys?Reflect.has(_e,it)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(_e,it)},getPrototypeOf(){return Reflect.getPrototypeOf(_e)},has(nt,it){return Reflect.has(_e,it)},ownKeys(){return Reflect.ownKeys(_e)},set(nt,it,at){return _e[it]=at,delete nt[it],!0}})}function _descriptors(_e,$={scriptable:!0,indexable:!0}){const{_scriptable:et=$.scriptable,_indexable:tt=$.indexable,_allKeys:rt=$.allKeys}=_e;return{allKeys:rt,scriptable:et,indexable:tt,isScriptable:isFunction(et)?et:()=>et,isIndexable:isFunction(tt)?tt:()=>tt}}const readKey=(_e,$)=>_e?_e+_capitalize($):$,needsSubResolver=(_e,$)=>isObject($)&&_e!=="adapters"&&(Object.getPrototypeOf($)===null||$.constructor===Object);function _cached(_e,$,et){if(Object.prototype.hasOwnProperty.call(_e,$)||$==="constructor")return _e[$];const tt=et();return _e[$]=tt,tt}function _resolveWithContext(_e,$,et){const{_proxy:tt,_context:rt,_subProxy:nt,_descriptors:it}=_e;let at=tt[$];return isFunction(at)&&it.isScriptable($)&&(at=_resolveScriptable($,at,_e,et)),isArray(at)&&at.length&&(at=_resolveArray($,at,_e,it.isIndexable)),needsSubResolver($,at)&&(at=_attachContext(at,rt,nt&&nt[$],it)),at}function _resolveScriptable(_e,$,et,tt){const{_proxy:rt,_context:nt,_subProxy:it,_stack:at}=et;if(at.has(_e))throw new Error("Recursion detected: "+Array.from(at).join("->")+"->"+_e);at.add(_e);let st=$(nt,it||tt);return at.delete(_e),needsSubResolver(_e,st)&&(st=createSubResolver(rt._scopes,rt,_e,st)),st}function _resolveArray(_e,$,et,tt){const{_proxy:rt,_context:nt,_subProxy:it,_descriptors:at}=et;if(typeof nt.index<"u"&&tt(_e))return $[nt.index%$.length];if(isObject($[0])){const st=$,ot=rt._scopes.filter(lt=>lt!==st);$=[];for(const lt of st){const ct=createSubResolver(ot,rt,_e,lt);$.push(_attachContext(ct,nt,it&&it[_e],at))}}return $}function resolveFallback(_e,$,et){return isFunction(_e)?_e($,et):_e}const getScope=(_e,$)=>_e===!0?$:typeof _e=="string"?resolveObjectKey($,_e):void 0;function addScopes(_e,$,et,tt,rt){for(const nt of $){const it=getScope(et,nt);if(it){_e.add(it);const at=resolveFallback(it._fallback,et,rt);if(typeof at<"u"&&at!==et&&at!==tt)return at}else if(it===!1&&typeof tt<"u"&&et!==tt)return null}return!1}function createSubResolver(_e,$,et,tt){const rt=$._rootScopes,nt=resolveFallback($._fallback,et,tt),it=[..._e,...rt],at=new Set;at.add(tt);let st=addScopesFromKey(at,it,et,nt||et,tt);return st===null||typeof nt<"u"&&nt!==et&&(st=addScopesFromKey(at,it,nt,st,tt),st===null)?!1:_createResolver(Array.from(at),[""],rt,nt,()=>subGetTarget($,et,tt))}function addScopesFromKey(_e,$,et,tt,rt){for(;et;)et=addScopes(_e,$,et,tt,rt);return et}function subGetTarget(_e,$,et){const tt=_e._getTarget();$ in tt||(tt[$]={});const rt=tt[$];return isArray(rt)&&isObject(et)?et:rt||{}}function _resolveWithPrefixes(_e,$,et,tt){let rt;for(const nt of $)if(rt=_resolve(readKey(nt,_e),et),typeof rt<"u")return needsSubResolver(_e,rt)?createSubResolver(et,tt,_e,rt):rt}function _resolve(_e,$){for(const et of $){if(!et)continue;const tt=et[_e];if(typeof tt<"u")return tt}}function getKeysFromAllScopes(_e){let $=_e._keys;return $||($=_e._keys=resolveKeysFromAllScopes(_e._scopes)),$}function resolveKeysFromAllScopes(_e){const $=new Set;for(const et of _e)for(const tt of Object.keys(et).filter(rt=>!rt.startsWith("_")))$.add(tt);return Array.from($)}const EPSILON=Number.EPSILON||1e-14,getPoint=(_e,$)=>$<_e.length&&!_e[$].skip&&_e[$],getValueAxis=_e=>_e==="x"?"y":"x";function splineCurve(_e,$,et,tt){const rt=_e.skip?$:_e,nt=$,it=et.skip?$:et,at=distanceBetweenPoints(nt,rt),st=distanceBetweenPoints(it,nt);let ot=at/(at+st),lt=st/(at+st);ot=isNaN(ot)?0:ot,lt=isNaN(lt)?0:lt;const ct=tt*ot,ut=tt*lt;return{previous:{x:nt.x-ct*(it.x-rt.x),y:nt.y-ct*(it.y-rt.y)},next:{x:nt.x+ut*(it.x-rt.x),y:nt.y+ut*(it.y-rt.y)}}}function monotoneAdjust(_e,$,et){const tt=_e.length;let rt,nt,it,at,st,ot=getPoint(_e,0);for(let lt=0;lt<tt-1;++lt)if(st=ot,ot=getPoint(_e,lt+1),!(!st||!ot)){if(almostEquals($[lt],0,EPSILON)){et[lt]=et[lt+1]=0;continue}rt=et[lt]/$[lt],nt=et[lt+1]/$[lt],at=Math.pow(rt,2)+Math.pow(nt,2),!(at<=9)&&(it=3/Math.sqrt(at),et[lt]=rt*it*$[lt],et[lt+1]=nt*it*$[lt])}}function monotoneCompute(_e,$,et="x"){const tt=getValueAxis(et),rt=_e.length;let nt,it,at,st=getPoint(_e,0);for(let ot=0;ot<rt;++ot){if(it=at,at=st,st=getPoint(_e,ot+1),!at)continue;const lt=at[et],ct=at[tt];it&&(nt=(lt-it[et])/3,at[`cp1${et}`]=lt-nt,at[`cp1${tt}`]=ct-nt*$[ot]),st&&(nt=(st[et]-lt)/3,at[`cp2${et}`]=lt+nt,at[`cp2${tt}`]=ct+nt*$[ot])}}function splineCurveMonotone(_e,$="x"){const et=getValueAxis($),tt=_e.length,rt=Array(tt).fill(0),nt=Array(tt);let it,at,st,ot=getPoint(_e,0);for(it=0;it<tt;++it)if(at=st,st=ot,ot=getPoint(_e,it+1),!!st){if(ot){const lt=ot[$]-st[$];rt[it]=lt!==0?(ot[et]-st[et])/lt:0}nt[it]=at?ot?sign(rt[it-1])!==sign(rt[it])?0:(rt[it-1]+rt[it])/2:rt[it-1]:rt[it]}monotoneAdjust(_e,rt,nt),monotoneCompute(_e,nt,$)}function capControlPoint(_e,$,et){return Math.max(Math.min(_e,et),$)}function capBezierPoints(_e,$){let et,tt,rt,nt,it,at=_isPointInArea(_e[0],$);for(et=0,tt=_e.length;et<tt;++et)it=nt,nt=at,at=et<tt-1&&_isPointInArea(_e[et+1],$),nt&&(rt=_e[et],it&&(rt.cp1x=capControlPoint(rt.cp1x,$.left,$.right),rt.cp1y=capControlPoint(rt.cp1y,$.top,$.bottom)),at&&(rt.cp2x=capControlPoint(rt.cp2x,$.left,$.right),rt.cp2y=capControlPoint(rt.cp2y,$.top,$.bottom)))}function _updateBezierControlPoints(_e,$,et,tt,rt){let nt,it,at,st;if($.spanGaps&&(_e=_e.filter(ot=>!ot.skip)),$.cubicInterpolationMode==="monotone")splineCurveMonotone(_e,rt);else{let ot=tt?_e[_e.length-1]:_e[0];for(nt=0,it=_e.length;nt<it;++nt)at=_e[nt],st=splineCurve(ot,at,_e[Math.min(nt+1,it-(tt?0:1))%it],$.tension),at.cp1x=st.previous.x,at.cp1y=st.previous.y,at.cp2x=st.next.x,at.cp2y=st.next.y,ot=at}$.capBezierPoints&&capBezierPoints(_e,et)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(_e){let $=_e.parentNode;return $&&$.toString()==="[object ShadowRoot]"&&($=$.host),$}function parseMaxStyle(_e,$,et){let tt;return typeof _e=="string"?(tt=parseInt(_e,10),_e.indexOf("%")!==-1&&(tt=tt/100*$.parentNode[et])):tt=_e,tt}const getComputedStyle$1=_e=>_e.ownerDocument.defaultView.getComputedStyle(_e,null);function getStyle(_e,$){return getComputedStyle$1(_e).getPropertyValue($)}const positions=["top","right","bottom","left"];function getPositionedStyle(_e,$,et){const tt={};et=et?"-"+et:"";for(let rt=0;rt<4;rt++){const nt=positions[rt];tt[nt]=parseFloat(_e[$+"-"+nt+et])||0}return tt.width=tt.left+tt.right,tt.height=tt.top+tt.bottom,tt}const useOffsetPos=(_e,$,et)=>(_e>0||$>0)&&(!et||!et.shadowRoot);function getCanvasPosition(_e,$){const et=_e.touches,tt=et&&et.length?et[0]:_e,{offsetX:rt,offsetY:nt}=tt;let it=!1,at,st;if(useOffsetPos(rt,nt,_e.target))at=rt,st=nt;else{const ot=$.getBoundingClientRect();at=tt.clientX-ot.left,st=tt.clientY-ot.top,it=!0}return{x:at,y:st,box:it}}function getRelativePosition(_e,$){if("native"in _e)return _e;const{canvas:et,currentDevicePixelRatio:tt}=$,rt=getComputedStyle$1(et),nt=rt.boxSizing==="border-box",it=getPositionedStyle(rt,"padding"),at=getPositionedStyle(rt,"border","width"),{x:st,y:ot,box:lt}=getCanvasPosition(_e,et),ct=it.left+(lt&&at.left),ut=it.top+(lt&&at.top);let{width:dt,height:ht}=$;return nt&&(dt-=it.width+at.width,ht-=it.height+at.height),{x:Math.round((st-ct)/dt*et.width/tt),y:Math.round((ot-ut)/ht*et.height/tt)}}function getContainerSize(_e,$,et){let tt,rt;if($===void 0||et===void 0){const nt=_e&&_getParentNode(_e);if(!nt)$=_e.clientWidth,et=_e.clientHeight;else{const it=nt.getBoundingClientRect(),at=getComputedStyle$1(nt),st=getPositionedStyle(at,"border","width"),ot=getPositionedStyle(at,"padding");$=it.width-ot.width-st.width,et=it.height-ot.height-st.height,tt=parseMaxStyle(at.maxWidth,nt,"clientWidth"),rt=parseMaxStyle(at.maxHeight,nt,"clientHeight")}}return{width:$,height:et,maxWidth:tt||INFINITY,maxHeight:rt||INFINITY}}const round1=_e=>Math.round(_e*10)/10;function getMaximumSize(_e,$,et,tt){const rt=getComputedStyle$1(_e),nt=getPositionedStyle(rt,"margin"),it=parseMaxStyle(rt.maxWidth,_e,"clientWidth")||INFINITY,at=parseMaxStyle(rt.maxHeight,_e,"clientHeight")||INFINITY,st=getContainerSize(_e,$,et);let{width:ot,height:lt}=st;if(rt.boxSizing==="content-box"){const ut=getPositionedStyle(rt,"border","width"),dt=getPositionedStyle(rt,"padding");ot-=dt.width+ut.width,lt-=dt.height+ut.height}return ot=Math.max(0,ot-nt.width),lt=Math.max(0,tt?ot/tt:lt-nt.height),ot=round1(Math.min(ot,it,st.maxWidth)),lt=round1(Math.min(lt,at,st.maxHeight)),ot&&!lt&&(lt=round1(ot/2)),($!==void 0||et!==void 0)&&tt&&st.height&&lt>st.height&&(lt=st.height,ot=round1(Math.floor(lt*tt))),{width:ot,height:lt}}function retinaScale(_e,$,et){const tt=$||1,rt=Math.floor(_e.height*tt),nt=Math.floor(_e.width*tt);_e.height=Math.floor(_e.height),_e.width=Math.floor(_e.width);const it=_e.canvas;return it.style&&(et||!it.style.height&&!it.style.width)&&(it.style.height=`${_e.height}px`,it.style.width=`${_e.width}px`),_e.currentDevicePixelRatio!==tt||it.height!==rt||it.width!==nt?(_e.currentDevicePixelRatio=tt,it.height=rt,it.width=nt,_e.ctx.setTransform(tt,0,0,tt,0,0),!0):!1}const supportsEventListenerOptions=function(){let _e=!1;try{const $={get passive(){return _e=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,$),window.removeEventListener("test",null,$))}catch{}return _e}();function readUsedSize(_e,$){const et=getStyle(_e,$),tt=et&&et.match(/^(\d+)(\.\d+)?px$/);return tt?+tt[1]:void 0}function _pointInLine(_e,$,et,tt){return{x:_e.x+et*($.x-_e.x),y:_e.y+et*($.y-_e.y)}}function _steppedInterpolation(_e,$,et,tt){return{x:_e.x+et*($.x-_e.x),y:tt==="middle"?et<.5?_e.y:$.y:tt==="after"?et<1?_e.y:$.y:et>0?$.y:_e.y}}function _bezierInterpolation(_e,$,et,tt){const rt={x:_e.cp2x,y:_e.cp2y},nt={x:$.cp1x,y:$.cp1y},it=_pointInLine(_e,rt,et),at=_pointInLine(rt,nt,et),st=_pointInLine(nt,$,et),ot=_pointInLine(it,at,et),lt=_pointInLine(at,st,et);return _pointInLine(ot,lt,et)}const getRightToLeftAdapter=function(_e,$){return{x(et){return _e+_e+$-et},setWidth(et){$=et},textAlign(et){return et==="center"?et:et==="right"?"left":"right"},xPlus(et,tt){return et-tt},leftForLtr(et,tt){return et-tt}}},getLeftToRightAdapter=function(){return{x(_e){return _e},setWidth(_e){},textAlign(_e){return _e},xPlus(_e,$){return _e+$},leftForLtr(_e,$){return _e}}};function getRtlAdapter(_e,$,et){return _e?getRightToLeftAdapter($,et):getLeftToRightAdapter()}function overrideTextDirection(_e,$){let et,tt;($==="ltr"||$==="rtl")&&(et=_e.canvas.style,tt=[et.getPropertyValue("direction"),et.getPropertyPriority("direction")],et.setProperty("direction",$,"important"),_e.prevTextDirection=tt)}function restoreTextDirection(_e,$){$!==void 0&&(delete _e.prevTextDirection,_e.canvas.style.setProperty("direction",$[0],$[1]))}function propertyFn(_e){return _e==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:($,et)=>$-et,normalize:$=>$}}function normalizeSegment({start:_e,end:$,count:et,loop:tt,style:rt}){return{start:_e%et,end:$%et,loop:tt&&($-_e+1)%et===0,style:rt}}function getSegment(_e,$,et){const{property:tt,start:rt,end:nt}=et,{between:it,normalize:at}=propertyFn(tt),st=$.length;let{start:ot,end:lt,loop:ct}=_e,ut,dt;if(ct){for(ot+=st,lt+=st,ut=0,dt=st;ut<dt&&it(at($[ot%st][tt]),rt,nt);++ut)ot--,lt--;ot%=st,lt%=st}return lt<ot&&(lt+=st),{start:ot,end:lt,loop:ct,style:_e.style}}function _boundSegment(_e,$,et){if(!et)return[_e];const{property:tt,start:rt,end:nt}=et,it=$.length,{compare:at,between:st,normalize:ot}=propertyFn(tt),{start:lt,end:ct,loop:ut,style:dt}=getSegment(_e,$,et),ht=[];let mt=!1,pt=null,ft,gt,bt;const _t=()=>st(rt,bt,ft)&&at(rt,bt)!==0,yt=()=>at(nt,ft)===0||st(nt,bt,ft),vt=()=>mt||_t(),xt=()=>!mt||yt();for(let wt=lt,St=lt;wt<=ct;++wt)gt=$[wt%it],!gt.skip&&(ft=ot(gt[tt]),ft!==bt&&(mt=st(ft,rt,nt),pt===null&&vt()&&(pt=at(ft,rt)===0?wt:St),pt!==null&&xt()&&(ht.push(normalizeSegment({start:pt,end:wt,loop:ut,count:it,style:dt})),pt=null),St=wt,bt=ft));return pt!==null&&ht.push(normalizeSegment({start:pt,end:ct,loop:ut,count:it,style:dt})),ht}function _boundSegments(_e,$){const et=[],tt=_e.segments;for(let rt=0;rt<tt.length;rt++){const nt=_boundSegment(tt[rt],_e.points,$);nt.length&&et.push(...nt)}return et}function findStartAndEnd(_e,$,et,tt){let rt=0,nt=$-1;if(et&&!tt)for(;rt<$&&!_e[rt].skip;)rt++;for(;rt<$&&_e[rt].skip;)rt++;for(rt%=$,et&&(nt+=rt);nt>rt&&_e[nt%$].skip;)nt--;return nt%=$,{start:rt,end:nt}}function solidSegments(_e,$,et,tt){const rt=_e.length,nt=[];let it=$,at=_e[$],st;for(st=$+1;st<=et;++st){const ot=_e[st%rt];ot.skip||ot.stop?at.skip||(tt=!1,nt.push({start:$%rt,end:(st-1)%rt,loop:tt}),$=it=ot.stop?st:null):(it=st,at.skip&&($=st)),at=ot}return it!==null&&nt.push({start:$%rt,end:it%rt,loop:tt}),nt}function _computeSegments(_e,$){const et=_e.points,tt=_e.options.spanGaps,rt=et.length;if(!rt)return[];const nt=!!_e._loop,{start:it,end:at}=findStartAndEnd(et,rt,nt,tt);if(tt===!0)return splitByStyles(_e,[{start:it,end:at,loop:nt}],et,$);const st=at<it?at+rt:at,ot=!!_e._fullLoop&&it===0&&at===rt-1;return splitByStyles(_e,solidSegments(et,it,st,ot),et,$)}function splitByStyles(_e,$,et,tt){return!tt||!tt.setContext||!et?$:doSplitByStyles(_e,$,et,tt)}function doSplitByStyles(_e,$,et,tt){const rt=_e._chart.getContext(),nt=readStyle(_e.options),{_datasetIndex:it,options:{spanGaps:at}}=_e,st=et.length,ot=[];let lt=nt,ct=$[0].start,ut=ct;function dt(ht,mt,pt,ft){const gt=at?-1:1;if(ht!==mt){for(ht+=st;et[ht%st].skip;)ht-=gt;for(;et[mt%st].skip;)mt+=gt;ht%st!==mt%st&&(ot.push({start:ht%st,end:mt%st,loop:pt,style:ft}),lt=ft,ct=mt%st)}}for(const ht of $){ct=at?ct:ht.start;let mt=et[ct%st],pt;for(ut=ct+1;ut<=ht.end;ut++){const ft=et[ut%st];pt=readStyle(tt.setContext(createContext(rt,{type:"segment",p0:mt,p1:ft,p0DataIndex:(ut-1)%st,p1DataIndex:ut%st,datasetIndex:it}))),styleChanged(pt,lt)&&dt(ct,ut-1,ht.loop,lt),mt=ft,lt=pt}ct<ut-1&&dt(ct,ut-1,ht.loop,lt)}return ot}function readStyle(_e){return{backgroundColor:_e.backgroundColor,borderCapStyle:_e.borderCapStyle,borderDash:_e.borderDash,borderDashOffset:_e.borderDashOffset,borderJoinStyle:_e.borderJoinStyle,borderWidth:_e.borderWidth,borderColor:_e.borderColor}}function styleChanged(_e,$){if(!$)return!1;const et=[],tt=function(rt,nt){return isPatternOrGradient(nt)?(et.includes(nt)||et.push(nt),et.indexOf(nt)):nt};return JSON.stringify(_e,tt)!==JSON.stringify($,tt)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify($,et,tt,rt){const nt=et.listeners[rt],it=et.duration;nt.forEach(at=>at({chart:$,initial:et.initial,numSteps:it,currentStep:Math.min(tt-et.start,it)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update($=Date.now()){let et=0;this._charts.forEach((tt,rt)=>{if(!tt.running||!tt.items.length)return;const nt=tt.items;let it=nt.length-1,at=!1,st;for(;it>=0;--it)st=nt[it],st._active?(st._total>tt.duration&&(tt.duration=st._total),st.tick($),at=!0):(nt[it]=nt[nt.length-1],nt.pop());at&&(rt.draw(),this._notify(rt,tt,$,"progress")),nt.length||(tt.running=!1,this._notify(rt,tt,$,"complete"),tt.initial=!1),et+=nt.length}),this._lastDate=$,et===0&&(this._running=!1)}_getAnims($){const et=this._charts;let tt=et.get($);return tt||(tt={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},et.set($,tt)),tt}listen($,et,tt){this._getAnims($).listeners[et].push(tt)}add($,et){!et||!et.length||this._getAnims($).items.push(...et)}has($){return this._getAnims($).items.length>0}start($){const et=this._charts.get($);et&&(et.running=!0,et.start=Date.now(),et.duration=et.items.reduce((tt,rt)=>Math.max(tt,rt._duration),0),this._refresh())}running($){if(!this._running)return!1;const et=this._charts.get($);return!(!et||!et.running||!et.items.length)}stop($){const et=this._charts.get($);if(!et||!et.items.length)return;const tt=et.items;let rt=tt.length-1;for(;rt>=0;--rt)tt[rt].cancel();et.items=[],this._notify($,et,Date.now(),"complete")}remove($){return this._charts.delete($)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(_e,$,et){return et>.5?$:_e},color(_e,$,et){const tt=color(_e||transparent),rt=tt.valid&&color($||transparent);return rt&&rt.valid?rt.mix(tt,et).hexString():$},number(_e,$,et){return _e+($-_e)*et}};class Animation{constructor($,et,tt,rt){const nt=et[tt];rt=resolve([$.to,rt,nt,$.from]);const it=resolve([$.from,nt,rt]);this._active=!0,this._fn=$.fn||interpolators[$.type||typeof it],this._easing=effects[$.easing]||effects.linear,this._start=Math.floor(Date.now()+($.delay||0)),this._duration=this._total=Math.floor($.duration),this._loop=!!$.loop,this._target=et,this._prop=tt,this._from=it,this._to=rt,this._promises=void 0}active(){return this._active}update($,et,tt){if(this._active){this._notify(!1);const rt=this._target[this._prop],nt=tt-this._start,it=this._duration-nt;this._start=tt,this._duration=Math.floor(Math.max(it,$.duration)),this._total+=nt,this._loop=!!$.loop,this._to=resolve([$.to,et,rt,$.from]),this._from=resolve([$.from,rt,et])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick($){const et=$-this._start,tt=this._duration,rt=this._prop,nt=this._from,it=this._loop,at=this._to;let st;if(this._active=nt!==at&&(it||et<tt),!this._active){this._target[rt]=at,this._notify(!0);return}if(et<0){this._target[rt]=nt;return}st=et/tt%2,st=it&&st>1?2-st:st,st=this._easing(Math.min(1,Math.max(0,st))),this._target[rt]=this._fn(nt,at,st)}wait(){const $=this._promises||(this._promises=[]);return new Promise((et,tt)=>{$.push({res:et,rej:tt})})}_notify($){const et=$?"res":"rej",tt=this._promises||[];for(let rt=0;rt<tt.length;rt++)tt[rt][et]()}}class Animations{constructor($,et){this._chart=$,this._properties=new Map,this.configure(et)}configure($){if(!isObject($))return;const et=Object.keys(defaults.animation),tt=this._properties;Object.getOwnPropertyNames($).forEach(rt=>{const nt=$[rt];if(!isObject(nt))return;const it={};for(const at of et)it[at]=nt[at];(isArray(nt.properties)&&nt.properties||[rt]).forEach(at=>{(at===rt||!tt.has(at))&&tt.set(at,it)})})}_animateOptions($,et){const tt=et.options,rt=resolveTargetOptions($,tt);if(!rt)return[];const nt=this._createAnimations(rt,tt);return tt.$shared&&awaitAll($.options.$animations,tt).then(()=>{$.options=tt},()=>{}),nt}_createAnimations($,et){const tt=this._properties,rt=[],nt=$.$animations||($.$animations={}),it=Object.keys(et),at=Date.now();let st;for(st=it.length-1;st>=0;--st){const ot=it[st];if(ot.charAt(0)==="$")continue;if(ot==="options"){rt.push(...this._animateOptions($,et));continue}const lt=et[ot];let ct=nt[ot];const ut=tt.get(ot);if(ct)if(ut&&ct.active()){ct.update(ut,lt,at);continue}else ct.cancel();if(!ut||!ut.duration){$[ot]=lt;continue}nt[ot]=ct=new Animation(ut,$,ot,lt),rt.push(ct)}return rt}update($,et){if(this._properties.size===0){Object.assign($,et);return}const tt=this._createAnimations($,et);if(tt.length)return animator.add(this._chart,tt),!0}}function awaitAll(_e,$){const et=[],tt=Object.keys($);for(let rt=0;rt<tt.length;rt++){const nt=_e[tt[rt]];nt&&nt.active()&&et.push(nt.wait())}return Promise.all(et)}function resolveTargetOptions(_e,$){if(!$)return;let et=_e.options;if(!et){_e.options=$;return}return et.$shared&&(_e.options=et=Object.assign({},et,{$shared:!1,$animations:{}})),et}function scaleClip(_e,$){const et=_e&&_e.options||{},tt=et.reverse,rt=et.min===void 0?$:0,nt=et.max===void 0?$:0;return{start:tt?nt:rt,end:tt?rt:nt}}function defaultClip(_e,$,et){if(et===!1)return!1;const tt=scaleClip(_e,et),rt=scaleClip($,et);return{top:rt.end,right:tt.end,bottom:rt.start,left:tt.start}}function toClip(_e){let $,et,tt,rt;return isObject(_e)?($=_e.top,et=_e.right,tt=_e.bottom,rt=_e.left):$=et=tt=rt=_e,{top:$,right:et,bottom:tt,left:rt,disabled:_e===!1}}function getSortedDatasetIndices(_e,$){const et=[],tt=_e._getSortedDatasetMetas($);let rt,nt;for(rt=0,nt=tt.length;rt<nt;++rt)et.push(tt[rt].index);return et}function applyStack(_e,$,et,tt={}){const rt=_e.keys,nt=tt.mode==="single";let it,at,st,ot;if($===null)return;let lt=!1;for(it=0,at=rt.length;it<at;++it){if(st=+rt[it],st===et){if(lt=!0,tt.all)continue;break}ot=_e.values[st],isNumberFinite(ot)&&(nt||$===0||sign($)===sign(ot))&&($+=ot)}return!lt&&!tt.all?0:$}function convertObjectDataToArray(_e,$){const{iScale:et,vScale:tt}=$,rt=et.axis==="x"?"x":"y",nt=tt.axis==="x"?"x":"y",it=Object.keys(_e),at=new Array(it.length);let st,ot,lt;for(st=0,ot=it.length;st<ot;++st)lt=it[st],at[st]={[rt]:lt,[nt]:_e[lt]};return at}function isStacked(_e,$){const et=_e&&_e.options.stacked;return et||et===void 0&&$.stack!==void 0}function getStackKey(_e,$,et){return`${_e.id}.${$.id}.${et.stack||et.type}`}function getUserBounds(_e){const{min:$,max:et,minDefined:tt,maxDefined:rt}=_e.getUserBounds();return{min:tt?$:Number.NEGATIVE_INFINITY,max:rt?et:Number.POSITIVE_INFINITY}}function getOrCreateStack(_e,$,et){const tt=_e[$]||(_e[$]={});return tt[et]||(tt[et]={})}function getLastIndexInStack(_e,$,et,tt){for(const rt of $.getMatchingVisibleMetas(tt).reverse()){const nt=_e[rt.index];if(et&&nt>0||!et&&nt<0)return rt.index}return null}function updateStacks(_e,$){const{chart:et,_cachedMeta:tt}=_e,rt=et._stacks||(et._stacks={}),{iScale:nt,vScale:it,index:at}=tt,st=nt.axis,ot=it.axis,lt=getStackKey(nt,it,tt),ct=$.length;let ut;for(let dt=0;dt<ct;++dt){const ht=$[dt],{[st]:mt,[ot]:pt}=ht,ft=ht._stacks||(ht._stacks={});ut=ft[ot]=getOrCreateStack(rt,lt,mt),ut[at]=pt,ut._top=getLastIndexInStack(ut,it,!0,tt.type),ut._bottom=getLastIndexInStack(ut,it,!1,tt.type);const gt=ut._visualValues||(ut._visualValues={});gt[at]=pt}}function getFirstScaleId(_e,$){const et=_e.scales;return Object.keys(et).filter(tt=>et[tt].axis===$).shift()}function createDatasetContext(_e,$){return createContext(_e,{active:!1,dataset:void 0,datasetIndex:$,index:$,mode:"default",type:"dataset"})}function createDataContext(_e,$,et){return createContext(_e,{active:!1,dataIndex:$,parsed:void 0,raw:void 0,element:et,index:$,mode:"default",type:"data"})}function clearStacks(_e,$){const et=_e.controller.index,tt=_e.vScale&&_e.vScale.axis;if(tt){$=$||_e._parsed;for(const rt of $){const nt=rt._stacks;if(!nt||nt[tt]===void 0||nt[tt][et]===void 0)return;delete nt[tt][et],nt[tt]._visualValues!==void 0&&nt[tt]._visualValues[et]!==void 0&&delete nt[tt]._visualValues[et]}}}const isDirectUpdateMode=_e=>_e==="reset"||_e==="none",cloneIfNotShared=(_e,$)=>$?_e:Object.assign({},_e),createStack=(_e,$,et)=>_e&&!$.hidden&&$._stacked&&{keys:getSortedDatasetIndices(et,!0),values:null};class DatasetController{constructor($,et){this.chart=$,this._ctx=$.ctx,this.index=et,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const $=this._cachedMeta;this.configure(),this.linkScales(),$._stacked=isStacked($.vScale,$),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex($){this.index!==$&&clearStacks(this._cachedMeta),this.index=$}linkScales(){const $=this.chart,et=this._cachedMeta,tt=this.getDataset(),rt=(ct,ut,dt,ht)=>ct==="x"?ut:ct==="r"?ht:dt,nt=et.xAxisID=valueOrDefault(tt.xAxisID,getFirstScaleId($,"x")),it=et.yAxisID=valueOrDefault(tt.yAxisID,getFirstScaleId($,"y")),at=et.rAxisID=valueOrDefault(tt.rAxisID,getFirstScaleId($,"r")),st=et.indexAxis,ot=et.iAxisID=rt(st,nt,it,at),lt=et.vAxisID=rt(st,it,nt,at);et.xScale=this.getScaleForId(nt),et.yScale=this.getScaleForId(it),et.rScale=this.getScaleForId(at),et.iScale=this.getScaleForId(ot),et.vScale=this.getScaleForId(lt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId($){return this.chart.scales[$]}_getOtherScale($){const et=this._cachedMeta;return $===et.iScale?et.vScale:et.iScale}reset(){this._update("reset")}_destroy(){const $=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),$._stacked&&clearStacks($)}_dataCheck(){const $=this.getDataset(),et=$.data||($.data=[]),tt=this._data;if(isObject(et)){const rt=this._cachedMeta;this._data=convertObjectDataToArray(et,rt)}else if(tt!==et){if(tt){unlistenArrayEvents(tt,this);const rt=this._cachedMeta;clearStacks(rt),rt._parsed=[]}et&&Object.isExtensible(et)&&listenArrayEvents(et,this),this._syncList=[],this._data=et}}addElements(){const $=this._cachedMeta;this._dataCheck(),this.datasetElementType&&($.dataset=new this.datasetElementType)}buildOrUpdateElements($){const et=this._cachedMeta,tt=this.getDataset();let rt=!1;this._dataCheck();const nt=et._stacked;et._stacked=isStacked(et.vScale,et),et.stack!==tt.stack&&(rt=!0,clearStacks(et),et.stack=tt.stack),this._resyncElements($),(rt||nt!==et._stacked)&&(updateStacks(this,et._parsed),et._stacked=isStacked(et.vScale,et))}configure(){const $=this.chart.config,et=$.datasetScopeKeys(this._type),tt=$.getOptionScopes(this.getDataset(),et,!0);this.options=$.createResolver(tt,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse($,et){const{_cachedMeta:tt,_data:rt}=this,{iScale:nt,_stacked:it}=tt,at=nt.axis;let st=$===0&&et===rt.length?!0:tt._sorted,ot=$>0&&tt._parsed[$-1],lt,ct,ut;if(this._parsing===!1)tt._parsed=rt,tt._sorted=!0,ut=rt;else{isArray(rt[$])?ut=this.parseArrayData(tt,rt,$,et):isObject(rt[$])?ut=this.parseObjectData(tt,rt,$,et):ut=this.parsePrimitiveData(tt,rt,$,et);const dt=()=>ct[at]===null||ot&&ct[at]<ot[at];for(lt=0;lt<et;++lt)tt._parsed[lt+$]=ct=ut[lt],st&&(dt()&&(st=!1),ot=ct);tt._sorted=st}it&&updateStacks(this,ut)}parsePrimitiveData($,et,tt,rt){const{iScale:nt,vScale:it}=$,at=nt.axis,st=it.axis,ot=nt.getLabels(),lt=nt===it,ct=new Array(rt);let ut,dt,ht;for(ut=0,dt=rt;ut<dt;++ut)ht=ut+tt,ct[ut]={[at]:lt||nt.parse(ot[ht],ht),[st]:it.parse(et[ht],ht)};return ct}parseArrayData($,et,tt,rt){const{xScale:nt,yScale:it}=$,at=new Array(rt);let st,ot,lt,ct;for(st=0,ot=rt;st<ot;++st)lt=st+tt,ct=et[lt],at[st]={x:nt.parse(ct[0],lt),y:it.parse(ct[1],lt)};return at}parseObjectData($,et,tt,rt){const{xScale:nt,yScale:it}=$,{xAxisKey:at="x",yAxisKey:st="y"}=this._parsing,ot=new Array(rt);let lt,ct,ut,dt;for(lt=0,ct=rt;lt<ct;++lt)ut=lt+tt,dt=et[ut],ot[lt]={x:nt.parse(resolveObjectKey(dt,at),ut),y:it.parse(resolveObjectKey(dt,st),ut)};return ot}getParsed($){return this._cachedMeta._parsed[$]}getDataElement($){return this._cachedMeta.data[$]}applyStack($,et,tt){const rt=this.chart,nt=this._cachedMeta,it=et[$.axis],at={keys:getSortedDatasetIndices(rt,!0),values:et._stacks[$.axis]._visualValues};return applyStack(at,it,nt.index,{mode:tt})}updateRangeFromParsed($,et,tt,rt){const nt=tt[et.axis];let it=nt===null?NaN:nt;const at=rt&&tt._stacks[et.axis];rt&&at&&(rt.values=at,it=applyStack(rt,nt,this._cachedMeta.index)),$.min=Math.min($.min,it),$.max=Math.max($.max,it)}getMinMax($,et){const tt=this._cachedMeta,rt=tt._parsed,nt=tt._sorted&&$===tt.iScale,it=rt.length,at=this._getOtherScale($),st=createStack(et,tt,this.chart),ot={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:lt,max:ct}=getUserBounds(at);let ut,dt;function ht(){dt=rt[ut];const mt=dt[at.axis];return!isNumberFinite(dt[$.axis])||lt>mt||ct<mt}for(ut=0;ut<it&&!(!ht()&&(this.updateRangeFromParsed(ot,$,dt,st),nt));++ut);if(nt){for(ut=it-1;ut>=0;--ut)if(!ht()){this.updateRangeFromParsed(ot,$,dt,st);break}}return ot}getAllParsedValues($){const et=this._cachedMeta._parsed,tt=[];let rt,nt,it;for(rt=0,nt=et.length;rt<nt;++rt)it=et[rt][$.axis],isNumberFinite(it)&&tt.push(it);return tt}getMaxOverflow(){return!1}getLabelAndValue($){const et=this._cachedMeta,tt=et.iScale,rt=et.vScale,nt=this.getParsed($);return{label:tt?""+tt.getLabelForValue(nt[tt.axis]):"",value:rt?""+rt.getLabelForValue(nt[rt.axis]):""}}_update($){const et=this._cachedMeta;this.update($||"default"),et._clip=toClip(valueOrDefault(this.options.clip,defaultClip(et.xScale,et.yScale,this.getMaxOverflow())))}update($){}draw(){const $=this._ctx,et=this.chart,tt=this._cachedMeta,rt=tt.data||[],nt=et.chartArea,it=[],at=this._drawStart||0,st=this._drawCount||rt.length-at,ot=this.options.drawActiveElementsOnTop;let lt;for(tt.dataset&&tt.dataset.draw($,nt,at,st),lt=at;lt<at+st;++lt){const ct=rt[lt];ct.hidden||(ct.active&&ot?it.push(ct):ct.draw($,nt))}for(lt=0;lt<it.length;++lt)it[lt].draw($,nt)}getStyle($,et){const tt=et?"active":"default";return $===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(tt):this.resolveDataElementOptions($||0,tt)}getContext($,et,tt){const rt=this.getDataset();let nt;if($>=0&&$<this._cachedMeta.data.length){const it=this._cachedMeta.data[$];nt=it.$context||(it.$context=createDataContext(this.getContext(),$,it)),nt.parsed=this.getParsed($),nt.raw=rt.data[$],nt.index=nt.dataIndex=$}else nt=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),nt.dataset=rt,nt.index=nt.datasetIndex=this.index;return nt.active=!!et,nt.mode=tt,nt}resolveDatasetElementOptions($){return this._resolveElementOptions(this.datasetElementType.id,$)}resolveDataElementOptions($,et){return this._resolveElementOptions(this.dataElementType.id,et,$)}_resolveElementOptions($,et="default",tt){const rt=et==="active",nt=this._cachedDataOpts,it=$+"-"+et,at=nt[it],st=this.enableOptionSharing&&defined(tt);if(at)return cloneIfNotShared(at,st);const ot=this.chart.config,lt=ot.datasetElementScopeKeys(this._type,$),ct=rt?[`${$}Hover`,"hover",$,""]:[$,""],ut=ot.getOptionScopes(this.getDataset(),lt),dt=Object.keys(defaults.elements[$]),ht=()=>this.getContext(tt,rt,et),mt=ot.resolveNamedOptions(ut,dt,ht,ct);return mt.$shared&&(mt.$shared=st,nt[it]=Object.freeze(cloneIfNotShared(mt,st))),mt}_resolveAnimations($,et,tt){const rt=this.chart,nt=this._cachedDataOpts,it=`animation-${et}`,at=nt[it];if(at)return at;let st;if(rt.options.animation!==!1){const lt=this.chart.config,ct=lt.datasetAnimationScopeKeys(this._type,et),ut=lt.getOptionScopes(this.getDataset(),ct);st=lt.createResolver(ut,this.getContext($,tt,et))}const ot=new Animations(rt,st&&st.animations);return st&&st._cacheable&&(nt[it]=Object.freeze(ot)),ot}getSharedOptions($){if($.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},$))}includeOptions($,et){return!et||isDirectUpdateMode($)||this.chart._animationsDisabled}_getSharedOptions($,et){const tt=this.resolveDataElementOptions($,et),rt=this._sharedOptions,nt=this.getSharedOptions(tt),it=this.includeOptions(et,nt)||nt!==rt;return this.updateSharedOptions(nt,et,tt),{sharedOptions:nt,includeOptions:it}}updateElement($,et,tt,rt){isDirectUpdateMode(rt)?Object.assign($,tt):this._resolveAnimations(et,rt).update($,tt)}updateSharedOptions($,et,tt){$&&!isDirectUpdateMode(et)&&this._resolveAnimations(void 0,et).update($,tt)}_setStyle($,et,tt,rt){$.active=rt;const nt=this.getStyle(et,rt);this._resolveAnimations(et,tt,rt).update($,{options:!rt&&this.getSharedOptions(nt)||nt})}removeHoverStyle($,et,tt){this._setStyle($,tt,"active",!1)}setHoverStyle($,et,tt){this._setStyle($,tt,"active",!0)}_removeDatasetHoverStyle(){const $=this._cachedMeta.dataset;$&&this._setStyle($,void 0,"active",!1)}_setDatasetHoverStyle(){const $=this._cachedMeta.dataset;$&&this._setStyle($,void 0,"active",!0)}_resyncElements($){const et=this._data,tt=this._cachedMeta.data;for(const[at,st,ot]of this._syncList)this[at](st,ot);this._syncList=[];const rt=tt.length,nt=et.length,it=Math.min(nt,rt);it&&this.parse(0,it),nt>rt?this._insertElements(rt,nt-rt,$):nt<rt&&this._removeElements(nt,rt-nt)}_insertElements($,et,tt=!0){const rt=this._cachedMeta,nt=rt.data,it=$+et;let at;const st=ot=>{for(ot.length+=et,at=ot.length-1;at>=it;at--)ot[at]=ot[at-et]};for(st(nt),at=$;at<it;++at)nt[at]=new this.dataElementType;this._parsing&&st(rt._parsed),this.parse($,et),tt&&this.updateElements(nt,$,et,"reset")}updateElements($,et,tt,rt){}_removeElements($,et){const tt=this._cachedMeta;if(this._parsing){const rt=tt._parsed.splice($,et);tt._stacked&&clearStacks(tt,rt)}tt.data.splice($,et)}_sync($){if(this._parsing)this._syncList.push($);else{const[et,tt,rt]=$;this[et](tt,rt)}this.chart._dataChanges.push([this.index,...$])}_onDataPush(){const $=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-$,$])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice($,et){et&&this._sync(["_removeElements",$,et]);const tt=arguments.length-2;tt&&this._sync(["_insertElements",$,tt])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Lr(DatasetController,"defaults",{}),Lr(DatasetController,"datasetElementType",null),Lr(DatasetController,"dataElementType",null);class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update($){const et=this._cachedMeta,{dataset:tt,data:rt=[],_dataset:nt}=et,it=this.chart._animationsDisabled;let{start:at,count:st}=_getStartAndCountOfVisiblePoints(et,rt,it);this._drawStart=at,this._drawCount=st,_scaleRangesChanged(et)&&(at=0,st=rt.length),tt._chart=this.chart,tt._datasetIndex=this.index,tt._decimated=!!nt._decimated,tt.points=rt;const ot=this.resolveDatasetElementOptions($);this.options.showLine||(ot.borderWidth=0),ot.segment=this.options.segment,this.updateElement(tt,void 0,{animated:!it,options:ot},$),this.updateElements(rt,at,st,$)}updateElements($,et,tt,rt){const nt=rt==="reset",{iScale:it,vScale:at,_stacked:st,_dataset:ot}=this._cachedMeta,{sharedOptions:lt,includeOptions:ct}=this._getSharedOptions(et,rt),ut=it.axis,dt=at.axis,{spanGaps:ht,segment:mt}=this.options,pt=isNumber(ht)?ht:Number.POSITIVE_INFINITY,ft=this.chart._animationsDisabled||nt||rt==="none",gt=et+tt,bt=$.length;let _t=et>0&&this.getParsed(et-1);for(let yt=0;yt<bt;++yt){const vt=$[yt],xt=ft?vt:{};if(yt<et||yt>=gt){xt.skip=!0;continue}const wt=this.getParsed(yt),St=isNullOrUndef(wt[dt]),Ot=xt[ut]=it.getPixelForValue(wt[ut],yt),Et=xt[dt]=nt||St?at.getBasePixel():at.getPixelForValue(st?this.applyStack(at,wt,st):wt[dt],yt);xt.skip=isNaN(Ot)||isNaN(Et)||St,xt.stop=yt>0&&Math.abs(wt[ut]-_t[ut])>pt,mt&&(xt.parsed=wt,xt.raw=ot.data[yt]),ct&&(xt.options=lt||this.resolveDataElementOptions(yt,vt.active?"active":rt)),ft||this.updateElement(vt,yt,xt,rt),_t=wt}}getMaxOverflow(){const $=this._cachedMeta,et=$.dataset,tt=et.options&&et.options.borderWidth||0,rt=$.data||[];if(!rt.length)return tt;const nt=rt[0].size(this.resolveDataElementOptions(0)),it=rt[rt.length-1].size(this.resolveDataElementOptions(rt.length-1));return Math.max(tt,nt,it)/2}draw(){const $=this._cachedMeta;$.dataset.updateControlPoints(this.chart.chartArea,$.iScale.axis),super.draw()}}Lr(LineController,"id","line"),Lr(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Lr(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor($){Lr(this,"options");this.options=$||{}}static override($){Object.assign(DateAdapterBase.prototype,$)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(_e,$,et,tt){const{controller:rt,data:nt,_sorted:it}=_e,at=rt._cachedMeta.iScale;if(at&&$===at.axis&&$!=="r"&&it&&nt.length){const st=at._reversePixels?_rlookupByKey:_lookupByKey;if(tt){if(rt._sharedOptions){const ot=nt[0],lt=typeof ot.getRange=="function"&&ot.getRange($);if(lt){const ct=st(nt,$,et-lt),ut=st(nt,$,et+lt);return{lo:ct.lo,hi:ut.hi}}}}else return st(nt,$,et)}return{lo:0,hi:nt.length-1}}function evaluateInteractionItems(_e,$,et,tt,rt){const nt=_e.getSortedVisibleDatasetMetas(),it=et[$];for(let at=0,st=nt.length;at<st;++at){const{index:ot,data:lt}=nt[at],{lo:ct,hi:ut}=binarySearch(nt[at],$,it,rt);for(let dt=ct;dt<=ut;++dt){const ht=lt[dt];ht.skip||tt(ht,ot,dt)}}}function getDistanceMetricForAxis(_e){const $=_e.indexOf("x")!==-1,et=_e.indexOf("y")!==-1;return function(tt,rt){const nt=$?Math.abs(tt.x-rt.x):0,it=et?Math.abs(tt.y-rt.y):0;return Math.sqrt(Math.pow(nt,2)+Math.pow(it,2))}}function getIntersectItems(_e,$,et,tt,rt){const nt=[];return!rt&&!_e.isPointInArea($)||evaluateInteractionItems(_e,et,$,function(at,st,ot){!rt&&!_isPointInArea(at,_e.chartArea,0)||at.inRange($.x,$.y,tt)&&nt.push({element:at,datasetIndex:st,index:ot})},!0),nt}function getNearestRadialItems(_e,$,et,tt){let rt=[];function nt(it,at,st){const{startAngle:ot,endAngle:lt}=it.getProps(["startAngle","endAngle"],tt),{angle:ct}=getAngleFromPoint(it,{x:$.x,y:$.y});_angleBetween(ct,ot,lt)&&rt.push({element:it,datasetIndex:at,index:st})}return evaluateInteractionItems(_e,et,$,nt),rt}function getNearestCartesianItems(_e,$,et,tt,rt,nt){let it=[];const at=getDistanceMetricForAxis(et);let st=Number.POSITIVE_INFINITY;function ot(lt,ct,ut){const dt=lt.inRange($.x,$.y,rt);if(tt&&!dt)return;const ht=lt.getCenterPoint(rt);if(!(!!nt||_e.isPointInArea(ht))&&!dt)return;const pt=at($,ht);pt<st?(it=[{element:lt,datasetIndex:ct,index:ut}],st=pt):pt===st&&it.push({element:lt,datasetIndex:ct,index:ut})}return evaluateInteractionItems(_e,et,$,ot),it}function getNearestItems(_e,$,et,tt,rt,nt){return!nt&&!_e.isPointInArea($)?[]:et==="r"&&!tt?getNearestRadialItems(_e,$,et,rt):getNearestCartesianItems(_e,$,et,tt,rt,nt)}function getAxisItems(_e,$,et,tt,rt){const nt=[],it=et==="x"?"inXRange":"inYRange";let at=!1;return evaluateInteractionItems(_e,et,$,(st,ot,lt)=>{st[it]&&st[it]($[et],rt)&&(nt.push({element:st,datasetIndex:ot,index:lt}),at=at||st.inRange($.x,$.y,rt))}),tt&&!at?[]:nt}var Interaction={evaluateInteractionItems,modes:{index(_e,$,et,tt){const rt=getRelativePosition($,_e),nt=et.axis||"x",it=et.includeInvisible||!1,at=et.intersect?getIntersectItems(_e,rt,nt,tt,it):getNearestItems(_e,rt,nt,!1,tt,it),st=[];return at.length?(_e.getSortedVisibleDatasetMetas().forEach(ot=>{const lt=at[0].index,ct=ot.data[lt];ct&&!ct.skip&&st.push({element:ct,datasetIndex:ot.index,index:lt})}),st):[]},dataset(_e,$,et,tt){const rt=getRelativePosition($,_e),nt=et.axis||"xy",it=et.includeInvisible||!1;let at=et.intersect?getIntersectItems(_e,rt,nt,tt,it):getNearestItems(_e,rt,nt,!1,tt,it);if(at.length>0){const st=at[0].datasetIndex,ot=_e.getDatasetMeta(st).data;at=[];for(let lt=0;lt<ot.length;++lt)at.push({element:ot[lt],datasetIndex:st,index:lt})}return at},point(_e,$,et,tt){const rt=getRelativePosition($,_e),nt=et.axis||"xy",it=et.includeInvisible||!1;return getIntersectItems(_e,rt,nt,tt,it)},nearest(_e,$,et,tt){const rt=getRelativePosition($,_e),nt=et.axis||"xy",it=et.includeInvisible||!1;return getNearestItems(_e,rt,nt,et.intersect,tt,it)},x(_e,$,et,tt){const rt=getRelativePosition($,_e);return getAxisItems(_e,rt,"x",et.intersect,tt)},y(_e,$,et,tt){const rt=getRelativePosition($,_e);return getAxisItems(_e,rt,"y",et.intersect,tt)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(_e,$){return _e.filter(et=>et.pos===$)}function filterDynamicPositionByAxis(_e,$){return _e.filter(et=>STATIC_POSITIONS.indexOf(et.pos)===-1&&et.box.axis===$)}function sortByWeight(_e,$){return _e.sort((et,tt)=>{const rt=$?tt:et,nt=$?et:tt;return rt.weight===nt.weight?rt.index-nt.index:rt.weight-nt.weight})}function wrapBoxes(_e){const $=[];let et,tt,rt,nt,it,at;for(et=0,tt=(_e||[]).length;et<tt;++et)rt=_e[et],{position:nt,options:{stack:it,stackWeight:at=1}}=rt,$.push({index:et,box:rt,pos:nt,horizontal:rt.isHorizontal(),weight:rt.weight,stack:it&&nt+it,stackWeight:at});return $}function buildStacks(_e){const $={};for(const et of _e){const{stack:tt,pos:rt,stackWeight:nt}=et;if(!tt||!STATIC_POSITIONS.includes(rt))continue;const it=$[tt]||($[tt]={count:0,placed:0,weight:0,size:0});it.count++,it.weight+=nt}return $}function setLayoutDims(_e,$){const et=buildStacks(_e),{vBoxMaxWidth:tt,hBoxMaxHeight:rt}=$;let nt,it,at;for(nt=0,it=_e.length;nt<it;++nt){at=_e[nt];const{fullSize:st}=at.box,ot=et[at.stack],lt=ot&&at.stackWeight/ot.weight;at.horizontal?(at.width=lt?lt*tt:st&&$.availableWidth,at.height=rt):(at.width=tt,at.height=lt?lt*rt:st&&$.availableHeight)}return et}function buildLayoutBoxes(_e){const $=wrapBoxes(_e),et=sortByWeight($.filter(ot=>ot.box.fullSize),!0),tt=sortByWeight(filterByPosition($,"left"),!0),rt=sortByWeight(filterByPosition($,"right")),nt=sortByWeight(filterByPosition($,"top"),!0),it=sortByWeight(filterByPosition($,"bottom")),at=filterDynamicPositionByAxis($,"x"),st=filterDynamicPositionByAxis($,"y");return{fullSize:et,leftAndTop:tt.concat(nt),rightAndBottom:rt.concat(st).concat(it).concat(at),chartArea:filterByPosition($,"chartArea"),vertical:tt.concat(rt).concat(st),horizontal:nt.concat(it).concat(at)}}function getCombinedMax(_e,$,et,tt){return Math.max(_e[et],$[et])+Math.max(_e[tt],$[tt])}function updateMaxPadding(_e,$){_e.top=Math.max(_e.top,$.top),_e.left=Math.max(_e.left,$.left),_e.bottom=Math.max(_e.bottom,$.bottom),_e.right=Math.max(_e.right,$.right)}function updateDims(_e,$,et,tt){const{pos:rt,box:nt}=et,it=_e.maxPadding;if(!isObject(rt)){et.size&&(_e[rt]-=et.size);const ct=tt[et.stack]||{size:0,count:1};ct.size=Math.max(ct.size,et.horizontal?nt.height:nt.width),et.size=ct.size/ct.count,_e[rt]+=et.size}nt.getPadding&&updateMaxPadding(it,nt.getPadding());const at=Math.max(0,$.outerWidth-getCombinedMax(it,_e,"left","right")),st=Math.max(0,$.outerHeight-getCombinedMax(it,_e,"top","bottom")),ot=at!==_e.w,lt=st!==_e.h;return _e.w=at,_e.h=st,et.horizontal?{same:ot,other:lt}:{same:lt,other:ot}}function handleMaxPadding(_e){const $=_e.maxPadding;function et(tt){const rt=Math.max($[tt]-_e[tt],0);return _e[tt]+=rt,rt}_e.y+=et("top"),_e.x+=et("left"),et("right"),et("bottom")}function getMargins(_e,$){const et=$.maxPadding;function tt(rt){const nt={left:0,top:0,right:0,bottom:0};return rt.forEach(it=>{nt[it]=Math.max($[it],et[it])}),nt}return tt(_e?["left","right"]:["top","bottom"])}function fitBoxes(_e,$,et,tt){const rt=[];let nt,it,at,st,ot,lt;for(nt=0,it=_e.length,ot=0;nt<it;++nt){at=_e[nt],st=at.box,st.update(at.width||$.w,at.height||$.h,getMargins(at.horizontal,$));const{same:ct,other:ut}=updateDims($,et,at,tt);ot|=ct&&rt.length,lt=lt||ut,st.fullSize||rt.push(at)}return ot&&fitBoxes(rt,$,et,tt)||lt}function setBoxDims(_e,$,et,tt,rt){_e.top=et,_e.left=$,_e.right=$+tt,_e.bottom=et+rt,_e.width=tt,_e.height=rt}function placeBoxes(_e,$,et,tt){const rt=et.padding;let{x:nt,y:it}=$;for(const at of _e){const st=at.box,ot=tt[at.stack]||{count:1,placed:0,weight:1},lt=at.stackWeight/ot.weight||1;if(at.horizontal){const ct=$.w*lt,ut=ot.size||st.height;defined(ot.start)&&(it=ot.start),st.fullSize?setBoxDims(st,rt.left,it,et.outerWidth-rt.right-rt.left,ut):setBoxDims(st,$.left+ot.placed,it,ct,ut),ot.start=it,ot.placed+=ct,it=st.bottom}else{const ct=$.h*lt,ut=ot.size||st.width;defined(ot.start)&&(nt=ot.start),st.fullSize?setBoxDims(st,nt,rt.top,ut,et.outerHeight-rt.bottom-rt.top):setBoxDims(st,nt,$.top+ot.placed,ut,ct),ot.start=nt,ot.placed+=ct,nt=st.right}}$.x=nt,$.y=it}var layouts={addBox(_e,$){_e.boxes||(_e.boxes=[]),$.fullSize=$.fullSize||!1,$.position=$.position||"top",$.weight=$.weight||0,$._layers=$._layers||function(){return[{z:0,draw(et){$.draw(et)}}]},_e.boxes.push($)},removeBox(_e,$){const et=_e.boxes?_e.boxes.indexOf($):-1;et!==-1&&_e.boxes.splice(et,1)},configure(_e,$,et){$.fullSize=et.fullSize,$.position=et.position,$.weight=et.weight},update(_e,$,et,tt){if(!_e)return;const rt=toPadding(_e.options.layout.padding),nt=Math.max($-rt.width,0),it=Math.max(et-rt.height,0),at=buildLayoutBoxes(_e.boxes),st=at.vertical,ot=at.horizontal;each(_e.boxes,mt=>{typeof mt.beforeLayout=="function"&&mt.beforeLayout()});const lt=st.reduce((mt,pt)=>pt.box.options&&pt.box.options.display===!1?mt:mt+1,0)||1,ct=Object.freeze({outerWidth:$,outerHeight:et,padding:rt,availableWidth:nt,availableHeight:it,vBoxMaxWidth:nt/2/lt,hBoxMaxHeight:it/2}),ut=Object.assign({},rt);updateMaxPadding(ut,toPadding(tt));const dt=Object.assign({maxPadding:ut,w:nt,h:it,x:rt.left,y:rt.top},rt),ht=setLayoutDims(st.concat(ot),ct);fitBoxes(at.fullSize,dt,ct,ht),fitBoxes(st,dt,ct,ht),fitBoxes(ot,dt,ct,ht)&&fitBoxes(st,dt,ct,ht),handleMaxPadding(dt),placeBoxes(at.leftAndTop,dt,ct,ht),dt.x+=dt.w,dt.y+=dt.h,placeBoxes(at.rightAndBottom,dt,ct,ht),_e.chartArea={left:dt.left,top:dt.top,right:dt.left+dt.w,bottom:dt.top+dt.h,height:dt.h,width:dt.w},each(at.chartArea,mt=>{const pt=mt.box;Object.assign(pt,_e.chartArea),pt.update(dt.w,dt.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext($,et){}releaseContext($){return!1}addEventListener($,et,tt){}removeEventListener($,et,tt){}getDevicePixelRatio(){return 1}getMaximumSize($,et,tt,rt){return et=Math.max(0,et||$.width),tt=tt||$.height,{width:et,height:Math.max(0,rt?Math.floor(et/rt):tt)}}isAttached($){return!0}updateConfig($){}}class BasicPlatform extends BasePlatform{acquireContext($){return $&&$.getContext&&$.getContext("2d")||null}updateConfig($){$.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=_e=>_e===null||_e==="";function initCanvas(_e,$){const et=_e.style,tt=_e.getAttribute("height"),rt=_e.getAttribute("width");if(_e[EXPANDO_KEY]={initial:{height:tt,width:rt,style:{display:et.display,height:et.height,width:et.width}}},et.display=et.display||"block",et.boxSizing=et.boxSizing||"border-box",isNullOrEmpty(rt)){const nt=readUsedSize(_e,"width");nt!==void 0&&(_e.width=nt)}if(isNullOrEmpty(tt))if(_e.style.height==="")_e.height=_e.width/($||2);else{const nt=readUsedSize(_e,"height");nt!==void 0&&(_e.height=nt)}return _e}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(_e,$,et){_e&&_e.addEventListener($,et,eventListenerOptions)}function removeListener(_e,$,et){_e&&_e.canvas&&_e.canvas.removeEventListener($,et,eventListenerOptions)}function fromNativeEvent(_e,$){const et=EVENT_TYPES[_e.type]||_e.type,{x:tt,y:rt}=getRelativePosition(_e,$);return{type:et,chart:$,native:_e,x:tt!==void 0?tt:null,y:rt!==void 0?rt:null}}function nodeListContains(_e,$){for(const et of _e)if(et===$||et.contains($))return!0}function createAttachObserver(_e,$,et){const tt=_e.canvas,rt=new MutationObserver(nt=>{let it=!1;for(const at of nt)it=it||nodeListContains(at.addedNodes,tt),it=it&&!nodeListContains(at.removedNodes,tt);it&&et()});return rt.observe(document,{childList:!0,subtree:!0}),rt}function createDetachObserver(_e,$,et){const tt=_e.canvas,rt=new MutationObserver(nt=>{let it=!1;for(const at of nt)it=it||nodeListContains(at.removedNodes,tt),it=it&&!nodeListContains(at.addedNodes,tt);it&&et()});return rt.observe(document,{childList:!0,subtree:!0}),rt}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const _e=window.devicePixelRatio;_e!==oldDevicePixelRatio&&(oldDevicePixelRatio=_e,drpListeningCharts.forEach(($,et)=>{et.currentDevicePixelRatio!==_e&&$()}))}function listenDevicePixelRatioChanges(_e,$){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(_e,$)}function unlistenDevicePixelRatioChanges(_e){drpListeningCharts.delete(_e),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(_e,$,et){const tt=_e.canvas,rt=tt&&_getParentNode(tt);if(!rt)return;const nt=throttled((at,st)=>{const ot=rt.clientWidth;et(at,st),ot<rt.clientWidth&&et()},window),it=new ResizeObserver(at=>{const st=at[0],ot=st.contentRect.width,lt=st.contentRect.height;ot===0&&lt===0||nt(ot,lt)});return it.observe(rt),listenDevicePixelRatioChanges(_e,nt),it}function releaseObserver(_e,$,et){et&&et.disconnect(),$==="resize"&&unlistenDevicePixelRatioChanges(_e)}function createProxyAndListen(_e,$,et){const tt=_e.canvas,rt=throttled(nt=>{_e.ctx!==null&&et(fromNativeEvent(nt,_e))},_e);return addListener(tt,$,rt),rt}class DomPlatform extends BasePlatform{acquireContext($,et){const tt=$&&$.getContext&&$.getContext("2d");return tt&&tt.canvas===$?(initCanvas($,et),tt):null}releaseContext($){const et=$.canvas;if(!et[EXPANDO_KEY])return!1;const tt=et[EXPANDO_KEY].initial;["height","width"].forEach(nt=>{const it=tt[nt];isNullOrUndef(it)?et.removeAttribute(nt):et.setAttribute(nt,it)});const rt=tt.style||{};return Object.keys(rt).forEach(nt=>{et.style[nt]=rt[nt]}),et.width=et.width,delete et[EXPANDO_KEY],!0}addEventListener($,et,tt){this.removeEventListener($,et);const rt=$.$proxies||($.$proxies={}),it={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[et]||createProxyAndListen;rt[et]=it($,et,tt)}removeEventListener($,et){const tt=$.$proxies||($.$proxies={}),rt=tt[et];if(!rt)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[et]||removeListener)($,et,rt),tt[et]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize($,et,tt,rt){return getMaximumSize($,et,tt,rt)}isAttached($){const et=$&&_getParentNode($);return!!(et&&et.isConnected)}}function _detectPlatform(_e){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&_e instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){Lr(this,"x");Lr(this,"y");Lr(this,"active",!1);Lr(this,"options");Lr(this,"$animations")}tooltipPosition($){const{x:et,y:tt}=this.getProps(["x","y"],$);return{x:et,y:tt}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps($,et){const tt=this.$animations;if(!et||!tt)return this;const rt={};return $.forEach(nt=>{rt[nt]=tt[nt]&&tt[nt].active()?tt[nt]._to:this[nt]}),rt}}Lr(Element,"defaults",{}),Lr(Element,"defaultRoutes");function autoSkip(_e,$){const et=_e.options.ticks,tt=determineMaxTicks(_e),rt=Math.min(et.maxTicksLimit||tt,tt),nt=et.major.enabled?getMajorIndices($):[],it=nt.length,at=nt[0],st=nt[it-1],ot=[];if(it>rt)return skipMajors($,ot,nt,it/rt),ot;const lt=calculateSpacing(nt,$,rt);if(it>0){let ct,ut;const dt=it>1?Math.round((st-at)/(it-1)):null;for(skip($,ot,lt,isNullOrUndef(dt)?0:at-dt,at),ct=0,ut=it-1;ct<ut;ct++)skip($,ot,lt,nt[ct],nt[ct+1]);return skip($,ot,lt,st,isNullOrUndef(dt)?$.length:st+dt),ot}return skip($,ot,lt),ot}function determineMaxTicks(_e){const $=_e.options.offset,et=_e._tickSize(),tt=_e._length/et+($?0:1),rt=_e._maxLength/et;return Math.floor(Math.min(tt,rt))}function calculateSpacing(_e,$,et){const tt=getEvenSpacing(_e),rt=$.length/et;if(!tt)return Math.max(rt,1);const nt=_factorize(tt);for(let it=0,at=nt.length-1;it<at;it++){const st=nt[it];if(st>rt)return st}return Math.max(rt,1)}function getMajorIndices(_e){const $=[];let et,tt;for(et=0,tt=_e.length;et<tt;et++)_e[et].major&&$.push(et);return $}function skipMajors(_e,$,et,tt){let rt=0,nt=et[0],it;for(tt=Math.ceil(tt),it=0;it<_e.length;it++)it===nt&&($.push(_e[it]),rt++,nt=et[rt*tt])}function skip(_e,$,et,tt,rt){const nt=valueOrDefault(tt,0),it=Math.min(valueOrDefault(rt,_e.length),_e.length);let at=0,st,ot,lt;for(et=Math.ceil(et),rt&&(st=rt-tt,et=st/Math.floor(st/et)),lt=nt;lt<0;)at++,lt=Math.round(nt+at*et);for(ot=Math.max(nt,0);ot<it;ot++)ot===lt&&($.push(_e[ot]),at++,lt=Math.round(nt+at*et))}function getEvenSpacing(_e){const $=_e.length;let et,tt;if($<2)return!1;for(tt=_e[0],et=1;et<$;++et)if(_e[et]-_e[et-1]!==tt)return!1;return tt}const reverseAlign=_e=>_e==="left"?"right":_e==="right"?"left":_e,offsetFromEdge=(_e,$,et)=>$==="top"||$==="left"?_e[$]+et:_e[$]-et,getTicksLimit=(_e,$)=>Math.min($||_e,_e);function sample(_e,$){const et=[],tt=_e.length/$,rt=_e.length;let nt=0;for(;nt<rt;nt+=tt)et.push(_e[Math.floor(nt)]);return et}function getPixelForGridLine(_e,$,et){const tt=_e.ticks.length,rt=Math.min($,tt-1),nt=_e._startPixel,it=_e._endPixel,at=1e-6;let st=_e.getPixelForTick(rt),ot;if(!(et&&(tt===1?ot=Math.max(st-nt,it-st):$===0?ot=(_e.getPixelForTick(1)-st)/2:ot=(st-_e.getPixelForTick(rt-1))/2,st+=rt<$?ot:-ot,st<nt-at||st>it+at)))return st}function garbageCollect(_e,$){each(_e,et=>{const tt=et.gc,rt=tt.length/2;let nt;if(rt>$){for(nt=0;nt<rt;++nt)delete et.data[tt[nt]];tt.splice(0,rt)}})}function getTickMarkLength(_e){return _e.drawTicks?_e.tickLength:0}function getTitleHeight(_e,$){if(!_e.display)return 0;const et=toFont(_e.font,$),tt=toPadding(_e.padding);return(isArray(_e.text)?_e.text.length:1)*et.lineHeight+tt.height}function createScaleContext(_e,$){return createContext(_e,{scale:$,type:"scale"})}function createTickContext(_e,$,et){return createContext(_e,{tick:et,index:$,type:"tick"})}function titleAlign(_e,$,et){let tt=_toLeftRightCenter(_e);return(et&&$!=="right"||!et&&$==="right")&&(tt=reverseAlign(tt)),tt}function titleArgs(_e,$,et,tt){const{top:rt,left:nt,bottom:it,right:at,chart:st}=_e,{chartArea:ot,scales:lt}=st;let ct=0,ut,dt,ht;const mt=it-rt,pt=at-nt;if(_e.isHorizontal()){if(dt=_alignStartEnd(tt,nt,at),isObject(et)){const ft=Object.keys(et)[0],gt=et[ft];ht=lt[ft].getPixelForValue(gt)+mt-$}else et==="center"?ht=(ot.bottom+ot.top)/2+mt-$:ht=offsetFromEdge(_e,et,$);ut=at-nt}else{if(isObject(et)){const ft=Object.keys(et)[0],gt=et[ft];dt=lt[ft].getPixelForValue(gt)-pt+$}else et==="center"?dt=(ot.left+ot.right)/2-pt+$:dt=offsetFromEdge(_e,et,$);ht=_alignStartEnd(tt,it,rt),ct=et==="left"?-HALF_PI:HALF_PI}return{titleX:dt,titleY:ht,maxWidth:ut,rotation:ct}}class Scale extends Element{constructor($){super(),this.id=$.id,this.type=$.type,this.options=void 0,this.ctx=$.ctx,this.chart=$.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init($){this.options=$.setContext(this.getContext()),this.axis=$.axis,this._userMin=this.parse($.min),this._userMax=this.parse($.max),this._suggestedMin=this.parse($.suggestedMin),this._suggestedMax=this.parse($.suggestedMax)}parse($,et){return $}getUserBounds(){let{_userMin:$,_userMax:et,_suggestedMin:tt,_suggestedMax:rt}=this;return $=finiteOrDefault($,Number.POSITIVE_INFINITY),et=finiteOrDefault(et,Number.NEGATIVE_INFINITY),tt=finiteOrDefault(tt,Number.POSITIVE_INFINITY),rt=finiteOrDefault(rt,Number.NEGATIVE_INFINITY),{min:finiteOrDefault($,tt),max:finiteOrDefault(et,rt),minDefined:isNumberFinite($),maxDefined:isNumberFinite(et)}}getMinMax($){let{min:et,max:tt,minDefined:rt,maxDefined:nt}=this.getUserBounds(),it;if(rt&&nt)return{min:et,max:tt};const at=this.getMatchingVisibleMetas();for(let st=0,ot=at.length;st<ot;++st)it=at[st].controller.getMinMax(this,$),rt||(et=Math.min(et,it.min)),nt||(tt=Math.max(tt,it.max));return et=nt&&et>tt?tt:et,tt=rt&&et>tt?et:tt,{min:finiteOrDefault(et,finiteOrDefault(tt,et)),max:finiteOrDefault(tt,finiteOrDefault(et,tt))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const $=this.chart.data;return this.options.labels||(this.isHorizontal()?$.xLabels:$.yLabels)||$.labels||[]}getLabelItems($=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems($))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update($,et,tt){const{beginAtZero:rt,grace:nt,ticks:it}=this.options,at=it.sampleSize;this.beforeUpdate(),this.maxWidth=$,this.maxHeight=et,this._margins=tt=Object.assign({left:0,right:0,top:0,bottom:0},tt),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+tt.left+tt.right:this.height+tt.top+tt.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,nt,rt),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const st=at<this.ticks.length;this._convertTicksToLabels(st?sample(this.ticks,at):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),it.display&&(it.autoSkip||it.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),st&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let $=this.options.reverse,et,tt;this.isHorizontal()?(et=this.left,tt=this.right):(et=this.top,tt=this.bottom,$=!$),this._startPixel=et,this._endPixel=tt,this._reversePixels=$,this._length=tt-et,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks($){this.chart.notifyPlugins($,this.getContext()),callback(this.options[$],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels($){const et=this.options.ticks;let tt,rt,nt;for(tt=0,rt=$.length;tt<rt;tt++)nt=$[tt],nt.label=callback(et.callback,[nt.value,tt,$],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const $=this.options,et=$.ticks,tt=getTicksLimit(this.ticks.length,$.ticks.maxTicksLimit),rt=et.minRotation||0,nt=et.maxRotation;let it=rt,at,st,ot;if(!this._isVisible()||!et.display||rt>=nt||tt<=1||!this.isHorizontal()){this.labelRotation=rt;return}const lt=this._getLabelSizes(),ct=lt.widest.width,ut=lt.highest.height,dt=_limitValue(this.chart.width-ct,0,this.maxWidth);at=$.offset?this.maxWidth/tt:dt/(tt-1),ct+6>at&&(at=dt/(tt-($.offset?.5:1)),st=this.maxHeight-getTickMarkLength($.grid)-et.padding-getTitleHeight($.title,this.chart.options.font),ot=Math.sqrt(ct*ct+ut*ut),it=toDegrees(Math.min(Math.asin(_limitValue((lt.highest.height+6)/at,-1,1)),Math.asin(_limitValue(st/ot,-1,1))-Math.asin(_limitValue(ut/ot,-1,1)))),it=Math.max(rt,Math.min(nt,it))),this.labelRotation=it}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const $={width:0,height:0},{chart:et,options:{ticks:tt,title:rt,grid:nt}}=this,it=this._isVisible(),at=this.isHorizontal();if(it){const st=getTitleHeight(rt,et.options.font);if(at?($.width=this.maxWidth,$.height=getTickMarkLength(nt)+st):($.height=this.maxHeight,$.width=getTickMarkLength(nt)+st),tt.display&&this.ticks.length){const{first:ot,last:lt,widest:ct,highest:ut}=this._getLabelSizes(),dt=tt.padding*2,ht=toRadians(this.labelRotation),mt=Math.cos(ht),pt=Math.sin(ht);if(at){const ft=tt.mirror?0:pt*ct.width+mt*ut.height;$.height=Math.min(this.maxHeight,$.height+ft+dt)}else{const ft=tt.mirror?0:mt*ct.width+pt*ut.height;$.width=Math.min(this.maxWidth,$.width+ft+dt)}this._calculatePadding(ot,lt,pt,mt)}}this._handleMargins(),at?(this.width=this._length=et.width-this._margins.left-this._margins.right,this.height=$.height):(this.width=$.width,this.height=this._length=et.height-this._margins.top-this._margins.bottom)}_calculatePadding($,et,tt,rt){const{ticks:{align:nt,padding:it},position:at}=this.options,st=this.labelRotation!==0,ot=at!=="top"&&this.axis==="x";if(this.isHorizontal()){const lt=this.getPixelForTick(0)-this.left,ct=this.right-this.getPixelForTick(this.ticks.length-1);let ut=0,dt=0;st?ot?(ut=rt*$.width,dt=tt*et.height):(ut=tt*$.height,dt=rt*et.width):nt==="start"?dt=et.width:nt==="end"?ut=$.width:nt!=="inner"&&(ut=$.width/2,dt=et.width/2),this.paddingLeft=Math.max((ut-lt+it)*this.width/(this.width-lt),0),this.paddingRight=Math.max((dt-ct+it)*this.width/(this.width-ct),0)}else{let lt=et.height/2,ct=$.height/2;nt==="start"?(lt=0,ct=$.height):nt==="end"&&(lt=et.height,ct=0),this.paddingTop=lt+it,this.paddingBottom=ct+it}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:$,position:et}=this.options;return et==="top"||et==="bottom"||$==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels($){this.beforeTickToLabelConversion(),this.generateTickLabels($);let et,tt;for(et=0,tt=$.length;et<tt;et++)isNullOrUndef($[et].label)&&($.splice(et,1),tt--,et--);this.afterTickToLabelConversion()}_getLabelSizes(){let $=this._labelSizes;if(!$){const et=this.options.ticks.sampleSize;let tt=this.ticks;et<tt.length&&(tt=sample(tt,et)),this._labelSizes=$=this._computeLabelSizes(tt,tt.length,this.options.ticks.maxTicksLimit)}return $}_computeLabelSizes($,et,tt){const{ctx:rt,_longestTextCache:nt}=this,it=[],at=[],st=Math.floor(et/getTicksLimit(et,tt));let ot=0,lt=0,ct,ut,dt,ht,mt,pt,ft,gt,bt,_t,yt;for(ct=0;ct<et;ct+=st){if(ht=$[ct].label,mt=this._resolveTickFontOptions(ct),rt.font=pt=mt.string,ft=nt[pt]=nt[pt]||{data:{},gc:[]},gt=mt.lineHeight,bt=_t=0,!isNullOrUndef(ht)&&!isArray(ht))bt=_measureText(rt,ft.data,ft.gc,bt,ht),_t=gt;else if(isArray(ht))for(ut=0,dt=ht.length;ut<dt;++ut)yt=ht[ut],!isNullOrUndef(yt)&&!isArray(yt)&&(bt=_measureText(rt,ft.data,ft.gc,bt,yt),_t+=gt);it.push(bt),at.push(_t),ot=Math.max(bt,ot),lt=Math.max(_t,lt)}garbageCollect(nt,et);const vt=it.indexOf(ot),xt=at.indexOf(lt),wt=St=>({width:it[St]||0,height:at[St]||0});return{first:wt(0),last:wt(et-1),widest:wt(vt),highest:wt(xt),widths:it,heights:at}}getLabelForValue($){return $}getPixelForValue($,et){return NaN}getValueForPixel($){}getPixelForTick($){const et=this.ticks;return $<0||$>et.length-1?null:this.getPixelForValue(et[$].value)}getPixelForDecimal($){this._reversePixels&&($=1-$);const et=this._startPixel+$*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,et,0):et)}getDecimalForPixel($){const et=($-this._startPixel)/this._length;return this._reversePixels?1-et:et}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:$,max:et}=this;return $<0&&et<0?et:$>0&&et>0?$:0}getContext($){const et=this.ticks||[];if($>=0&&$<et.length){const tt=et[$];return tt.$context||(tt.$context=createTickContext(this.getContext(),$,tt))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const $=this.options.ticks,et=toRadians(this.labelRotation),tt=Math.abs(Math.cos(et)),rt=Math.abs(Math.sin(et)),nt=this._getLabelSizes(),it=$.autoSkipPadding||0,at=nt?nt.widest.width+it:0,st=nt?nt.highest.height+it:0;return this.isHorizontal()?st*tt>at*rt?at/tt:st/rt:st*rt<at*tt?st/tt:at/rt}_isVisible(){const $=this.options.display;return $!=="auto"?!!$:this.getMatchingVisibleMetas().length>0}_computeGridLineItems($){const et=this.axis,tt=this.chart,rt=this.options,{grid:nt,position:it,border:at}=rt,st=nt.offset,ot=this.isHorizontal(),ct=this.ticks.length+(st?1:0),ut=getTickMarkLength(nt),dt=[],ht=at.setContext(this.getContext()),mt=ht.display?ht.width:0,pt=mt/2,ft=function(zt){return _alignPixel(tt,zt,mt)};let gt,bt,_t,yt,vt,xt,wt,St,Ot,Et,Tt,It;if(it==="top")gt=ft(this.bottom),xt=this.bottom-ut,St=gt-pt,Et=ft($.top)+pt,It=$.bottom;else if(it==="bottom")gt=ft(this.top),Et=$.top,It=ft($.bottom)-pt,xt=gt+pt,St=this.top+ut;else if(it==="left")gt=ft(this.right),vt=this.right-ut,wt=gt-pt,Ot=ft($.left)+pt,Tt=$.right;else if(it==="right")gt=ft(this.left),Ot=$.left,Tt=ft($.right)-pt,vt=gt+pt,wt=this.left+ut;else if(et==="x"){if(it==="center")gt=ft(($.top+$.bottom)/2+.5);else if(isObject(it)){const zt=Object.keys(it)[0],Ft=it[zt];gt=ft(this.chart.scales[zt].getPixelForValue(Ft))}Et=$.top,It=$.bottom,xt=gt+pt,St=xt+ut}else if(et==="y"){if(it==="center")gt=ft(($.left+$.right)/2);else if(isObject(it)){const zt=Object.keys(it)[0],Ft=it[zt];gt=ft(this.chart.scales[zt].getPixelForValue(Ft))}vt=gt-pt,wt=vt-ut,Ot=$.left,Tt=$.right}const Wt=valueOrDefault(rt.ticks.maxTicksLimit,ct),Lt=Math.max(1,Math.ceil(ct/Wt));for(bt=0;bt<ct;bt+=Lt){const zt=this.getContext(bt),Ft=nt.setContext(zt),Rt=at.setContext(zt),jt=Ft.lineWidth,Ct=Ft.color,Dt=Rt.dash||[],Mt=Rt.dashOffset,At=Ft.tickWidth,Pt=Ft.tickColor,Nt=Ft.tickBorderDash||[],Bt=Ft.tickBorderDashOffset;_t=getPixelForGridLine(this,bt,st),_t!==void 0&&(yt=_alignPixel(tt,_t,jt),ot?vt=wt=Ot=Tt=yt:xt=St=Et=It=yt,dt.push({tx1:vt,ty1:xt,tx2:wt,ty2:St,x1:Ot,y1:Et,x2:Tt,y2:It,width:jt,color:Ct,borderDash:Dt,borderDashOffset:Mt,tickWidth:At,tickColor:Pt,tickBorderDash:Nt,tickBorderDashOffset:Bt}))}return this._ticksLength=ct,this._borderValue=gt,dt}_computeLabelItems($){const et=this.axis,tt=this.options,{position:rt,ticks:nt}=tt,it=this.isHorizontal(),at=this.ticks,{align:st,crossAlign:ot,padding:lt,mirror:ct}=nt,ut=getTickMarkLength(tt.grid),dt=ut+lt,ht=ct?-lt:dt,mt=-toRadians(this.labelRotation),pt=[];let ft,gt,bt,_t,yt,vt,xt,wt,St,Ot,Et,Tt,It="middle";if(rt==="top")vt=this.bottom-ht,xt=this._getXAxisLabelAlignment();else if(rt==="bottom")vt=this.top+ht,xt=this._getXAxisLabelAlignment();else if(rt==="left"){const Lt=this._getYAxisLabelAlignment(ut);xt=Lt.textAlign,yt=Lt.x}else if(rt==="right"){const Lt=this._getYAxisLabelAlignment(ut);xt=Lt.textAlign,yt=Lt.x}else if(et==="x"){if(rt==="center")vt=($.top+$.bottom)/2+dt;else if(isObject(rt)){const Lt=Object.keys(rt)[0],zt=rt[Lt];vt=this.chart.scales[Lt].getPixelForValue(zt)+dt}xt=this._getXAxisLabelAlignment()}else if(et==="y"){if(rt==="center")yt=($.left+$.right)/2-dt;else if(isObject(rt)){const Lt=Object.keys(rt)[0],zt=rt[Lt];yt=this.chart.scales[Lt].getPixelForValue(zt)}xt=this._getYAxisLabelAlignment(ut).textAlign}et==="y"&&(st==="start"?It="top":st==="end"&&(It="bottom"));const Wt=this._getLabelSizes();for(ft=0,gt=at.length;ft<gt;++ft){bt=at[ft],_t=bt.label;const Lt=nt.setContext(this.getContext(ft));wt=this.getPixelForTick(ft)+nt.labelOffset,St=this._resolveTickFontOptions(ft),Ot=St.lineHeight,Et=isArray(_t)?_t.length:1;const zt=Et/2,Ft=Lt.color,Rt=Lt.textStrokeColor,jt=Lt.textStrokeWidth;let Ct=xt;it?(yt=wt,xt==="inner"&&(ft===gt-1?Ct=this.options.reverse?"left":"right":ft===0?Ct=this.options.reverse?"right":"left":Ct="center"),rt==="top"?ot==="near"||mt!==0?Tt=-Et*Ot+Ot/2:ot==="center"?Tt=-Wt.highest.height/2-zt*Ot+Ot:Tt=-Wt.highest.height+Ot/2:ot==="near"||mt!==0?Tt=Ot/2:ot==="center"?Tt=Wt.highest.height/2-zt*Ot:Tt=Wt.highest.height-Et*Ot,ct&&(Tt*=-1),mt!==0&&!Lt.showLabelBackdrop&&(yt+=Ot/2*Math.sin(mt))):(vt=wt,Tt=(1-Et)*Ot/2);let Dt;if(Lt.showLabelBackdrop){const Mt=toPadding(Lt.backdropPadding),At=Wt.heights[ft],Pt=Wt.widths[ft];let Nt=Tt-Mt.top,Bt=0-Mt.left;switch(It){case"middle":Nt-=At/2;break;case"bottom":Nt-=At;break}switch(xt){case"center":Bt-=Pt/2;break;case"right":Bt-=Pt;break;case"inner":ft===gt-1?Bt-=Pt:ft>0&&(Bt-=Pt/2);break}Dt={left:Bt,top:Nt,width:Pt+Mt.width,height:At+Mt.height,color:Lt.backdropColor}}pt.push({label:_t,font:St,textOffset:Tt,options:{rotation:mt,color:Ft,strokeColor:Rt,strokeWidth:jt,textAlign:Ct,textBaseline:It,translation:[yt,vt],backdrop:Dt}})}return pt}_getXAxisLabelAlignment(){const{position:$,ticks:et}=this.options;if(-toRadians(this.labelRotation))return $==="top"?"left":"right";let rt="center";return et.align==="start"?rt="left":et.align==="end"?rt="right":et.align==="inner"&&(rt="inner"),rt}_getYAxisLabelAlignment($){const{position:et,ticks:{crossAlign:tt,mirror:rt,padding:nt}}=this.options,it=this._getLabelSizes(),at=$+nt,st=it.widest.width;let ot,lt;return et==="left"?rt?(lt=this.right+nt,tt==="near"?ot="left":tt==="center"?(ot="center",lt+=st/2):(ot="right",lt+=st)):(lt=this.right-at,tt==="near"?ot="right":tt==="center"?(ot="center",lt-=st/2):(ot="left",lt=this.left)):et==="right"?rt?(lt=this.left+nt,tt==="near"?ot="right":tt==="center"?(ot="center",lt-=st/2):(ot="left",lt-=st)):(lt=this.left+at,tt==="near"?ot="left":tt==="center"?(ot="center",lt+=st/2):(ot="right",lt=this.right)):ot="right",{textAlign:ot,x:lt}}_computeLabelArea(){if(this.options.ticks.mirror)return;const $=this.chart,et=this.options.position;if(et==="left"||et==="right")return{top:0,left:this.left,bottom:$.height,right:this.right};if(et==="top"||et==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:$.width}}drawBackground(){const{ctx:$,options:{backgroundColor:et},left:tt,top:rt,width:nt,height:it}=this;et&&($.save(),$.fillStyle=et,$.fillRect(tt,rt,nt,it),$.restore())}getLineWidthForValue($){const et=this.options.grid;if(!this._isVisible()||!et.display)return 0;const rt=this.ticks.findIndex(nt=>nt.value===$);return rt>=0?et.setContext(this.getContext(rt)).lineWidth:0}drawGrid($){const et=this.options.grid,tt=this.ctx,rt=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems($));let nt,it;const at=(st,ot,lt)=>{!lt.width||!lt.color||(tt.save(),tt.lineWidth=lt.width,tt.strokeStyle=lt.color,tt.setLineDash(lt.borderDash||[]),tt.lineDashOffset=lt.borderDashOffset,tt.beginPath(),tt.moveTo(st.x,st.y),tt.lineTo(ot.x,ot.y),tt.stroke(),tt.restore())};if(et.display)for(nt=0,it=rt.length;nt<it;++nt){const st=rt[nt];et.drawOnChartArea&&at({x:st.x1,y:st.y1},{x:st.x2,y:st.y2},st),et.drawTicks&&at({x:st.tx1,y:st.ty1},{x:st.tx2,y:st.ty2},{color:st.tickColor,width:st.tickWidth,borderDash:st.tickBorderDash,borderDashOffset:st.tickBorderDashOffset})}}drawBorder(){const{chart:$,ctx:et,options:{border:tt,grid:rt}}=this,nt=tt.setContext(this.getContext()),it=tt.display?nt.width:0;if(!it)return;const at=rt.setContext(this.getContext(0)).lineWidth,st=this._borderValue;let ot,lt,ct,ut;this.isHorizontal()?(ot=_alignPixel($,this.left,it)-it/2,lt=_alignPixel($,this.right,at)+at/2,ct=ut=st):(ct=_alignPixel($,this.top,it)-it/2,ut=_alignPixel($,this.bottom,at)+at/2,ot=lt=st),et.save(),et.lineWidth=nt.width,et.strokeStyle=nt.color,et.beginPath(),et.moveTo(ot,ct),et.lineTo(lt,ut),et.stroke(),et.restore()}drawLabels($){if(!this.options.ticks.display)return;const tt=this.ctx,rt=this._computeLabelArea();rt&&clipArea(tt,rt);const nt=this.getLabelItems($);for(const it of nt){const at=it.options,st=it.font,ot=it.label,lt=it.textOffset;renderText(tt,ot,0,lt,st,at)}rt&&unclipArea(tt)}drawTitle(){const{ctx:$,options:{position:et,title:tt,reverse:rt}}=this;if(!tt.display)return;const nt=toFont(tt.font),it=toPadding(tt.padding),at=tt.align;let st=nt.lineHeight/2;et==="bottom"||et==="center"||isObject(et)?(st+=it.bottom,isArray(tt.text)&&(st+=nt.lineHeight*(tt.text.length-1))):st+=it.top;const{titleX:ot,titleY:lt,maxWidth:ct,rotation:ut}=titleArgs(this,st,et,at);renderText($,tt.text,0,0,nt,{color:tt.color,maxWidth:ct,rotation:ut,textAlign:titleAlign(at,et,rt),textBaseline:"middle",translation:[ot,lt]})}draw($){this._isVisible()&&(this.drawBackground(),this.drawGrid($),this.drawBorder(),this.drawTitle(),this.drawLabels($))}_layers(){const $=this.options,et=$.ticks&&$.ticks.z||0,tt=valueOrDefault($.grid&&$.grid.z,-1),rt=valueOrDefault($.border&&$.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:et,draw:nt=>{this.draw(nt)}}]:[{z:tt,draw:nt=>{this.drawBackground(),this.drawGrid(nt),this.drawTitle()}},{z:rt,draw:()=>{this.drawBorder()}},{z:et,draw:nt=>{this.drawLabels(nt)}}]}getMatchingVisibleMetas($){const et=this.chart.getSortedVisibleDatasetMetas(),tt=this.axis+"AxisID",rt=[];let nt,it;for(nt=0,it=et.length;nt<it;++nt){const at=et[nt];at[tt]===this.id&&(!$||at.type===$)&&rt.push(at)}return rt}_resolveTickFontOptions($){const et=this.options.ticks.setContext(this.getContext($));return toFont(et.font)}_maxDigits(){const $=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/$}}class TypedRegistry{constructor($,et,tt){this.type=$,this.scope=et,this.override=tt,this.items=Object.create(null)}isForType($){return Object.prototype.isPrototypeOf.call(this.type.prototype,$.prototype)}register($){const et=Object.getPrototypeOf($);let tt;isIChartComponent(et)&&(tt=this.register(et));const rt=this.items,nt=$.id,it=this.scope+"."+nt;if(!nt)throw new Error("class does not have id: "+$);return nt in rt||(rt[nt]=$,registerDefaults($,it,tt),this.override&&defaults.override($.id,$.overrides)),it}get($){return this.items[$]}unregister($){const et=this.items,tt=$.id,rt=this.scope;tt in et&&delete et[tt],rt&&tt in defaults[rt]&&(delete defaults[rt][tt],this.override&&delete overrides[tt])}}function registerDefaults(_e,$,et){const tt=merge(Object.create(null),[et?defaults.get(et):{},defaults.get($),_e.defaults]);defaults.set($,tt),_e.defaultRoutes&&routeDefaults($,_e.defaultRoutes),_e.descriptors&&defaults.describe($,_e.descriptors)}function routeDefaults(_e,$){Object.keys($).forEach(et=>{const tt=et.split("."),rt=tt.pop(),nt=[_e].concat(tt).join("."),it=$[et].split("."),at=it.pop(),st=it.join(".");defaults.route(nt,rt,st,at)})}function isIChartComponent(_e){return"id"in _e&&"defaults"in _e}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...$){this._each("register",$)}remove(...$){this._each("unregister",$)}addControllers(...$){this._each("register",$,this.controllers)}addElements(...$){this._each("register",$,this.elements)}addPlugins(...$){this._each("register",$,this.plugins)}addScales(...$){this._each("register",$,this.scales)}getController($){return this._get($,this.controllers,"controller")}getElement($){return this._get($,this.elements,"element")}getPlugin($){return this._get($,this.plugins,"plugin")}getScale($){return this._get($,this.scales,"scale")}removeControllers(...$){this._each("unregister",$,this.controllers)}removeElements(...$){this._each("unregister",$,this.elements)}removePlugins(...$){this._each("unregister",$,this.plugins)}removeScales(...$){this._each("unregister",$,this.scales)}_each($,et,tt){[...et].forEach(rt=>{const nt=tt||this._getRegistryForType(rt);tt||nt.isForType(rt)||nt===this.plugins&&rt.id?this._exec($,nt,rt):each(rt,it=>{const at=tt||this._getRegistryForType(it);this._exec($,at,it)})})}_exec($,et,tt){const rt=_capitalize($);callback(tt["before"+rt],[],tt),et[$](tt),callback(tt["after"+rt],[],tt)}_getRegistryForType($){for(let et=0;et<this._typedRegistries.length;et++){const tt=this._typedRegistries[et];if(tt.isForType($))return tt}return this.plugins}_get($,et,tt){const rt=et.get($);if(rt===void 0)throw new Error('"'+$+'" is not a registered '+tt+".");return rt}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify($,et,tt,rt){et==="beforeInit"&&(this._init=this._createDescriptors($,!0),this._notify(this._init,$,"install"));const nt=rt?this._descriptors($).filter(rt):this._descriptors($),it=this._notify(nt,$,et,tt);return et==="afterDestroy"&&(this._notify(nt,$,"stop"),this._notify(this._init,$,"uninstall")),it}_notify($,et,tt,rt){rt=rt||{};for(const nt of $){const it=nt.plugin,at=it[tt],st=[et,rt,nt.options];if(callback(at,st,it)===!1&&rt.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors($){if(this._cache)return this._cache;const et=this._cache=this._createDescriptors($);return this._notifyStateChanges($),et}_createDescriptors($,et){const tt=$&&$.config,rt=valueOrDefault(tt.options&&tt.options.plugins,{}),nt=allPlugins(tt);return rt===!1&&!et?[]:createDescriptors($,nt,rt,et)}_notifyStateChanges($){const et=this._oldCache||[],tt=this._cache,rt=(nt,it)=>nt.filter(at=>!it.some(st=>at.plugin.id===st.plugin.id));this._notify(rt(et,tt),$,"stop"),this._notify(rt(tt,et),$,"start")}}function allPlugins(_e){const $={},et=[],tt=Object.keys(registry.plugins.items);for(let nt=0;nt<tt.length;nt++)et.push(registry.getPlugin(tt[nt]));const rt=_e.plugins||[];for(let nt=0;nt<rt.length;nt++){const it=rt[nt];et.indexOf(it)===-1&&(et.push(it),$[it.id]=!0)}return{plugins:et,localIds:$}}function getOpts(_e,$){return!$&&_e===!1?null:_e===!0?{}:_e}function createDescriptors(_e,{plugins:$,localIds:et},tt,rt){const nt=[],it=_e.getContext();for(const at of $){const st=at.id,ot=getOpts(tt[st],rt);ot!==null&&nt.push({plugin:at,options:pluginOpts(_e.config,{plugin:at,local:et[st]},ot,it)})}return nt}function pluginOpts(_e,{plugin:$,local:et},tt,rt){const nt=_e.pluginScopeKeys($),it=_e.getOptionScopes(tt,nt);return et&&$.defaults&&it.push($.defaults),_e.createResolver(it,rt,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(_e,$){const et=defaults.datasets[_e]||{};return(($.datasets||{})[_e]||{}).indexAxis||$.indexAxis||et.indexAxis||"x"}function getAxisFromDefaultScaleID(_e,$){let et=_e;return _e==="_index_"?et=$:_e==="_value_"&&(et=$==="x"?"y":"x"),et}function getDefaultScaleIDFromAxis(_e,$){return _e===$?"_index_":"_value_"}function idMatchesAxis(_e){if(_e==="x"||_e==="y"||_e==="r")return _e}function axisFromPosition(_e){if(_e==="top"||_e==="bottom")return"x";if(_e==="left"||_e==="right")return"y"}function determineAxis(_e,...$){if(idMatchesAxis(_e))return _e;for(const et of $){const tt=et.axis||axisFromPosition(et.position)||_e.length>1&&idMatchesAxis(_e[0].toLowerCase());if(tt)return tt}throw new Error(`Cannot determine type of '${_e}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(_e,$,et){if(et[$+"AxisID"]===_e)return{axis:$}}function retrieveAxisFromDatasets(_e,$){if($.data&&$.data.datasets){const et=$.data.datasets.filter(tt=>tt.xAxisID===_e||tt.yAxisID===_e);if(et.length)return getAxisFromDataset(_e,"x",et[0])||getAxisFromDataset(_e,"y",et[0])}return{}}function mergeScaleConfig(_e,$){const et=overrides[_e.type]||{scales:{}},tt=$.scales||{},rt=getIndexAxis(_e.type,$),nt=Object.create(null);return Object.keys(tt).forEach(it=>{const at=tt[it];if(!isObject(at))return console.error(`Invalid scale configuration for scale: ${it}`);if(at._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${it}`);const st=determineAxis(it,at,retrieveAxisFromDatasets(it,_e),defaults.scales[at.type]),ot=getDefaultScaleIDFromAxis(st,rt),lt=et.scales||{};nt[it]=mergeIf(Object.create(null),[{axis:st},at,lt[st],lt[ot]])}),_e.data.datasets.forEach(it=>{const at=it.type||_e.type,st=it.indexAxis||getIndexAxis(at,$),lt=(overrides[at]||{}).scales||{};Object.keys(lt).forEach(ct=>{const ut=getAxisFromDefaultScaleID(ct,st),dt=it[ut+"AxisID"]||ut;nt[dt]=nt[dt]||Object.create(null),mergeIf(nt[dt],[{axis:ut},tt[dt],lt[ct]])})}),Object.keys(nt).forEach(it=>{const at=nt[it];mergeIf(at,[defaults.scales[at.type],defaults.scale])}),nt}function initOptions(_e){const $=_e.options||(_e.options={});$.plugins=valueOrDefault($.plugins,{}),$.scales=mergeScaleConfig(_e,$)}function initData(_e){return _e=_e||{},_e.datasets=_e.datasets||[],_e.labels=_e.labels||[],_e}function initConfig(_e){return _e=_e||{},_e.data=initData(_e.data),initOptions(_e),_e}const keyCache=new Map,keysCached=new Set;function cachedKeys(_e,$){let et=keyCache.get(_e);return et||(et=$(),keyCache.set(_e,et),keysCached.add(et)),et}const addIfFound=(_e,$,et)=>{const tt=resolveObjectKey($,et);tt!==void 0&&_e.add(tt)};class Config{constructor($){this._config=initConfig($),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type($){this._config.type=$}get data(){return this._config.data}set data($){this._config.data=initData($)}get options(){return this._config.options}set options($){this._config.options=$}get plugins(){return this._config.plugins}update(){const $=this._config;this.clearCache(),initOptions($)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys($){return cachedKeys($,()=>[[`datasets.${$}`,""]])}datasetAnimationScopeKeys($,et){return cachedKeys(`${$}.transition.${et}`,()=>[[`datasets.${$}.transitions.${et}`,`transitions.${et}`],[`datasets.${$}`,""]])}datasetElementScopeKeys($,et){return cachedKeys(`${$}-${et}`,()=>[[`datasets.${$}.elements.${et}`,`datasets.${$}`,`elements.${et}`,""]])}pluginScopeKeys($){const et=$.id,tt=this.type;return cachedKeys(`${tt}-plugin-${et}`,()=>[[`plugins.${et}`,...$.additionalOptionScopes||[]]])}_cachedScopes($,et){const tt=this._scopeCache;let rt=tt.get($);return(!rt||et)&&(rt=new Map,tt.set($,rt)),rt}getOptionScopes($,et,tt){const{options:rt,type:nt}=this,it=this._cachedScopes($,tt),at=it.get(et);if(at)return at;const st=new Set;et.forEach(lt=>{$&&(st.add($),lt.forEach(ct=>addIfFound(st,$,ct))),lt.forEach(ct=>addIfFound(st,rt,ct)),lt.forEach(ct=>addIfFound(st,overrides[nt]||{},ct)),lt.forEach(ct=>addIfFound(st,defaults,ct)),lt.forEach(ct=>addIfFound(st,descriptors,ct))});const ot=Array.from(st);return ot.length===0&&ot.push(Object.create(null)),keysCached.has(et)&&it.set(et,ot),ot}chartOptionScopes(){const{options:$,type:et}=this;return[$,overrides[et]||{},defaults.datasets[et]||{},{type:et},defaults,descriptors]}resolveNamedOptions($,et,tt,rt=[""]){const nt={$shared:!0},{resolver:it,subPrefixes:at}=getResolver(this._resolverCache,$,rt);let st=it;if(needContext(it,et)){nt.$shared=!1,tt=isFunction(tt)?tt():tt;const ot=this.createResolver($,tt,at);st=_attachContext(it,tt,ot)}for(const ot of et)nt[ot]=st[ot];return nt}createResolver($,et,tt=[""],rt){const{resolver:nt}=getResolver(this._resolverCache,$,tt);return isObject(et)?_attachContext(nt,et,void 0,rt):nt}}function getResolver(_e,$,et){let tt=_e.get($);tt||(tt=new Map,_e.set($,tt));const rt=et.join();let nt=tt.get(rt);return nt||(nt={resolver:_createResolver($,et),subPrefixes:et.filter(at=>!at.toLowerCase().includes("hover"))},tt.set(rt,nt)),nt}const hasFunction=_e=>isObject(_e)&&Object.getOwnPropertyNames(_e).some($=>isFunction(_e[$]));function needContext(_e,$){const{isScriptable:et,isIndexable:tt}=_descriptors(_e);for(const rt of $){const nt=et(rt),it=tt(rt),at=(it||nt)&&_e[rt];if(nt&&(isFunction(at)||hasFunction(at))||it&&isArray(at))return!0}return!1}var version="4.4.7";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(_e,$){return _e==="top"||_e==="bottom"||KNOWN_POSITIONS.indexOf(_e)===-1&&$==="x"}function compare2Level(_e,$){return function(et,tt){return et[_e]===tt[_e]?et[$]-tt[$]:et[_e]-tt[_e]}}function onAnimationsComplete(_e){const $=_e.chart,et=$.options.animation;$.notifyPlugins("afterRender"),callback(et&&et.onComplete,[_e],$)}function onAnimationProgress(_e){const $=_e.chart,et=$.options.animation;callback(et&&et.onProgress,[_e],$)}function getCanvas(_e){return _isDomSupported()&&typeof _e=="string"?_e=document.getElementById(_e):_e&&_e.length&&(_e=_e[0]),_e&&_e.canvas&&(_e=_e.canvas),_e}const instances={},getChart=_e=>{const $=getCanvas(_e);return Object.values(instances).filter(et=>et.canvas===$).pop()};function moveNumericKeys(_e,$,et){const tt=Object.keys(_e);for(const rt of tt){const nt=+rt;if(nt>=$){const it=_e[rt];delete _e[rt],(et>0||nt>$)&&(_e[nt+et]=it)}}}function determineLastEvent(_e,$,et,tt){return!et||_e.type==="mouseout"?null:tt?$:_e}function getSizeForArea(_e,$,et){return _e.options.clip?_e[et]:$[et]}function getDatasetArea(_e,$){const{xScale:et,yScale:tt}=_e;return et&&tt?{left:getSizeForArea(et,$,"left"),right:getSizeForArea(et,$,"right"),top:getSizeForArea(tt,$,"top"),bottom:getSizeForArea(tt,$,"bottom")}:$}var an;let Chart$1=(an=class{static register(...$){registry.add(...$),invalidatePlugins()}static unregister(...$){registry.remove(...$),invalidatePlugins()}constructor($,et){const tt=this.config=new Config(et),rt=getCanvas($),nt=getChart(rt);if(nt)throw new Error("Canvas is already in use. Chart with ID '"+nt.id+"' must be destroyed before the canvas with ID '"+nt.canvas.id+"' can be reused.");const it=tt.createResolver(tt.chartOptionScopes(),this.getContext());this.platform=new(tt.platform||_detectPlatform(rt)),this.platform.updateConfig(tt);const at=this.platform.acquireContext(rt,it.aspectRatio),st=at&&at.canvas,ot=st&&st.height,lt=st&&st.width;if(this.id=uid(),this.ctx=at,this.canvas=st,this.width=lt,this.height=ot,this._options=it,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(ct=>this.update(ct),it.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!at||!st){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:$,maintainAspectRatio:et},width:tt,height:rt,_aspectRatio:nt}=this;return isNullOrUndef($)?et&&nt?nt:rt?tt/rt:null:$}get data(){return this.config.data}set data($){this.config.data=$}get options(){return this._options}set options($){this.config.options=$}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize($,et){animator.running(this)?this._resizeBeforeDraw={width:$,height:et}:this._resize($,et)}_resize($,et){const tt=this.options,rt=this.canvas,nt=tt.maintainAspectRatio&&this.aspectRatio,it=this.platform.getMaximumSize(rt,$,et,nt),at=tt.devicePixelRatio||this.platform.getDevicePixelRatio(),st=this.width?"resize":"attach";this.width=it.width,this.height=it.height,this._aspectRatio=this.aspectRatio,retinaScale(this,at,!0)&&(this.notifyPlugins("resize",{size:it}),callback(tt.onResize,[this,it],this),this.attached&&this._doResize(st)&&this.render())}ensureScalesHaveIDs(){const et=this.options.scales||{};each(et,(tt,rt)=>{tt.id=rt})}buildOrUpdateScales(){const $=this.options,et=$.scales,tt=this.scales,rt=Object.keys(tt).reduce((it,at)=>(it[at]=!1,it),{});let nt=[];et&&(nt=nt.concat(Object.keys(et).map(it=>{const at=et[it],st=determineAxis(it,at),ot=st==="r",lt=st==="x";return{options:at,dposition:ot?"chartArea":lt?"bottom":"left",dtype:ot?"radialLinear":lt?"category":"linear"}}))),each(nt,it=>{const at=it.options,st=at.id,ot=determineAxis(st,at),lt=valueOrDefault(at.type,it.dtype);(at.position===void 0||positionIsHorizontal(at.position,ot)!==positionIsHorizontal(it.dposition))&&(at.position=it.dposition),rt[st]=!0;let ct=null;if(st in tt&&tt[st].type===lt)ct=tt[st];else{const ut=registry.getScale(lt);ct=new ut({id:st,type:lt,ctx:this.ctx,chart:this}),tt[ct.id]=ct}ct.init(at,$)}),each(rt,(it,at)=>{it||delete tt[at]}),each(tt,it=>{layouts.configure(this,it,it.options),layouts.addBox(this,it)})}_updateMetasets(){const $=this._metasets,et=this.data.datasets.length,tt=$.length;if($.sort((rt,nt)=>rt.index-nt.index),tt>et){for(let rt=et;rt<tt;++rt)this._destroyDatasetMeta(rt);$.splice(et,tt-et)}this._sortedMetasets=$.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:$,data:{datasets:et}}=this;$.length>et.length&&delete this._stacks,$.forEach((tt,rt)=>{et.filter(nt=>nt===tt._dataset).length===0&&this._destroyDatasetMeta(rt)})}buildOrUpdateControllers(){const $=[],et=this.data.datasets;let tt,rt;for(this._removeUnreferencedMetasets(),tt=0,rt=et.length;tt<rt;tt++){const nt=et[tt];let it=this.getDatasetMeta(tt);const at=nt.type||this.config.type;if(it.type&&it.type!==at&&(this._destroyDatasetMeta(tt),it=this.getDatasetMeta(tt)),it.type=at,it.indexAxis=nt.indexAxis||getIndexAxis(at,this.options),it.order=nt.order||0,it.index=tt,it.label=""+nt.label,it.visible=this.isDatasetVisible(tt),it.controller)it.controller.updateIndex(tt),it.controller.linkScales();else{const st=registry.getController(at),{datasetElementType:ot,dataElementType:lt}=defaults.datasets[at];Object.assign(st,{dataElementType:registry.getElement(lt),datasetElementType:ot&&registry.getElement(ot)}),it.controller=new st(this,tt),$.push(it.controller)}}return this._updateMetasets(),$}_resetElements(){each(this.data.datasets,($,et)=>{this.getDatasetMeta(et).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update($){const et=this.config;et.update();const tt=this._options=et.createResolver(et.chartOptionScopes(),this.getContext()),rt=this._animationsDisabled=!tt.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:$,cancelable:!0})===!1)return;const nt=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let it=0;for(let ot=0,lt=this.data.datasets.length;ot<lt;ot++){const{controller:ct}=this.getDatasetMeta(ot),ut=!rt&&nt.indexOf(ct)===-1;ct.buildOrUpdateElements(ut),it=Math.max(+ct.getMaxOverflow(),it)}it=this._minPadding=tt.layout.autoPadding?it:0,this._updateLayout(it),rt||each(nt,ot=>{ot.reset()}),this._updateDatasets($),this.notifyPlugins("afterUpdate",{mode:$}),this._layers.sort(compare2Level("z","_idx"));const{_active:at,_lastEvent:st}=this;st?this._eventHandler(st,!0):at.length&&this._updateHoverStyles(at,at,!0),this.render()}_updateScales(){each(this.scales,$=>{layouts.removeBox(this,$)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const $=this.options,et=new Set(Object.keys(this._listeners)),tt=new Set($.events);(!setsEqual(et,tt)||!!this._responsiveListeners!==$.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:$}=this,et=this._getUniformDataChanges()||[];for(const{method:tt,start:rt,count:nt}of et){const it=tt==="_removeElements"?-nt:nt;moveNumericKeys($,rt,it)}}_getUniformDataChanges(){const $=this._dataChanges;if(!$||!$.length)return;this._dataChanges=[];const et=this.data.datasets.length,tt=nt=>new Set($.filter(it=>it[0]===nt).map((it,at)=>at+","+it.splice(1).join(","))),rt=tt(0);for(let nt=1;nt<et;nt++)if(!setsEqual(rt,tt(nt)))return;return Array.from(rt).map(nt=>nt.split(",")).map(nt=>({method:nt[1],start:+nt[2],count:+nt[3]}))}_updateLayout($){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,$);const et=this.chartArea,tt=et.width<=0||et.height<=0;this._layers=[],each(this.boxes,rt=>{tt&&rt.position==="chartArea"||(rt.configure&&rt.configure(),this._layers.push(...rt._layers()))},this),this._layers.forEach((rt,nt)=>{rt._idx=nt}),this.notifyPlugins("afterLayout")}_updateDatasets($){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:$,cancelable:!0})!==!1){for(let et=0,tt=this.data.datasets.length;et<tt;++et)this.getDatasetMeta(et).controller.configure();for(let et=0,tt=this.data.datasets.length;et<tt;++et)this._updateDataset(et,isFunction($)?$({datasetIndex:et}):$);this.notifyPlugins("afterDatasetsUpdate",{mode:$})}}_updateDataset($,et){const tt=this.getDatasetMeta($),rt={meta:tt,index:$,mode:et,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",rt)!==!1&&(tt.controller._update(et),rt.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",rt))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let $;if(this._resizeBeforeDraw){const{width:tt,height:rt}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(tt,rt)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const et=this._layers;for($=0;$<et.length&&et[$].z<=0;++$)et[$].draw(this.chartArea);for(this._drawDatasets();$<et.length;++$)et[$].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas($){const et=this._sortedMetasets,tt=[];let rt,nt;for(rt=0,nt=et.length;rt<nt;++rt){const it=et[rt];(!$||it.visible)&&tt.push(it)}return tt}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const $=this.getSortedVisibleDatasetMetas();for(let et=$.length-1;et>=0;--et)this._drawDataset($[et]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset($){const et=this.ctx,tt=$._clip,rt=!tt.disabled,nt=getDatasetArea($,this.chartArea),it={meta:$,index:$.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",it)!==!1&&(rt&&clipArea(et,{left:tt.left===!1?0:nt.left-tt.left,right:tt.right===!1?this.width:nt.right+tt.right,top:tt.top===!1?0:nt.top-tt.top,bottom:tt.bottom===!1?this.height:nt.bottom+tt.bottom}),$.controller.draw(),rt&&unclipArea(et),it.cancelable=!1,this.notifyPlugins("afterDatasetDraw",it))}isPointInArea($){return _isPointInArea($,this.chartArea,this._minPadding)}getElementsAtEventForMode($,et,tt,rt){const nt=Interaction.modes[et];return typeof nt=="function"?nt(this,$,tt,rt):[]}getDatasetMeta($){const et=this.data.datasets[$],tt=this._metasets;let rt=tt.filter(nt=>nt&&nt._dataset===et).pop();return rt||(rt={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:et&&et.order||0,index:$,_dataset:et,_parsed:[],_sorted:!1},tt.push(rt)),rt}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible($){const et=this.data.datasets[$];if(!et)return!1;const tt=this.getDatasetMeta($);return typeof tt.hidden=="boolean"?!tt.hidden:!et.hidden}setDatasetVisibility($,et){const tt=this.getDatasetMeta($);tt.hidden=!et}toggleDataVisibility($){this._hiddenIndices[$]=!this._hiddenIndices[$]}getDataVisibility($){return!this._hiddenIndices[$]}_updateVisibility($,et,tt){const rt=tt?"show":"hide",nt=this.getDatasetMeta($),it=nt.controller._resolveAnimations(void 0,rt);defined(et)?(nt.data[et].hidden=!tt,this.update()):(this.setDatasetVisibility($,tt),it.update(nt,{visible:tt}),this.update(at=>at.datasetIndex===$?rt:void 0))}hide($,et){this._updateVisibility($,et,!1)}show($,et){this._updateVisibility($,et,!0)}_destroyDatasetMeta($){const et=this._metasets[$];et&&et.controller&&et.controller._destroy(),delete this._metasets[$]}_stop(){let $,et;for(this.stop(),animator.remove(this),$=0,et=this.data.datasets.length;$<et;++$)this._destroyDatasetMeta($)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:$,ctx:et}=this;this._stop(),this.config.clearCache(),$&&(this.unbindEvents(),clearCanvas($,et),this.platform.releaseContext(et),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...$){return this.canvas.toDataURL(...$)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const $=this._listeners,et=this.platform,tt=(nt,it)=>{et.addEventListener(this,nt,it),$[nt]=it},rt=(nt,it,at)=>{nt.offsetX=it,nt.offsetY=at,this._eventHandler(nt)};each(this.options.events,nt=>tt(nt,rt))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const $=this._responsiveListeners,et=this.platform,tt=(st,ot)=>{et.addEventListener(this,st,ot),$[st]=ot},rt=(st,ot)=>{$[st]&&(et.removeEventListener(this,st,ot),delete $[st])},nt=(st,ot)=>{this.canvas&&this.resize(st,ot)};let it;const at=()=>{rt("attach",at),this.attached=!0,this.resize(),tt("resize",nt),tt("detach",it)};it=()=>{this.attached=!1,rt("resize",nt),this._stop(),this._resize(0,0),tt("attach",at)},et.isAttached(this.canvas)?at():it()}unbindEvents(){each(this._listeners,($,et)=>{this.platform.removeEventListener(this,et,$)}),this._listeners={},each(this._responsiveListeners,($,et)=>{this.platform.removeEventListener(this,et,$)}),this._responsiveListeners=void 0}updateHoverStyle($,et,tt){const rt=tt?"set":"remove";let nt,it,at,st;for(et==="dataset"&&(nt=this.getDatasetMeta($[0].datasetIndex),nt.controller["_"+rt+"DatasetHoverStyle"]()),at=0,st=$.length;at<st;++at){it=$[at];const ot=it&&this.getDatasetMeta(it.datasetIndex).controller;ot&&ot[rt+"HoverStyle"](it.element,it.datasetIndex,it.index)}}getActiveElements(){return this._active||[]}setActiveElements($){const et=this._active||[],tt=$.map(({datasetIndex:nt,index:it})=>{const at=this.getDatasetMeta(nt);if(!at)throw new Error("No dataset found at index "+nt);return{datasetIndex:nt,element:at.data[it],index:it}});!_elementsEqual(tt,et)&&(this._active=tt,this._lastEvent=null,this._updateHoverStyles(tt,et))}notifyPlugins($,et,tt){return this._plugins.notify(this,$,et,tt)}isPluginEnabled($){return this._plugins._cache.filter(et=>et.plugin.id===$).length===1}_updateHoverStyles($,et,tt){const rt=this.options.hover,nt=(st,ot)=>st.filter(lt=>!ot.some(ct=>lt.datasetIndex===ct.datasetIndex&&lt.index===ct.index)),it=nt(et,$),at=tt?$:nt($,et);it.length&&this.updateHoverStyle(it,rt.mode,!1),at.length&&rt.mode&&this.updateHoverStyle(at,rt.mode,!0)}_eventHandler($,et){const tt={event:$,replay:et,cancelable:!0,inChartArea:this.isPointInArea($)},rt=it=>(it.options.events||this.options.events).includes($.native.type);if(this.notifyPlugins("beforeEvent",tt,rt)===!1)return;const nt=this._handleEvent($,et,tt.inChartArea);return tt.cancelable=!1,this.notifyPlugins("afterEvent",tt,rt),(nt||tt.changed)&&this.render(),this}_handleEvent($,et,tt){const{_active:rt=[],options:nt}=this,it=et,at=this._getActiveElements($,rt,tt,it),st=_isClickEvent($),ot=determineLastEvent($,this._lastEvent,tt,st);tt&&(this._lastEvent=null,callback(nt.onHover,[$,at,this],this),st&&callback(nt.onClick,[$,at,this],this));const lt=!_elementsEqual(at,rt);return(lt||et)&&(this._active=at,this._updateHoverStyles(at,rt,et)),this._lastEvent=ot,lt}_getActiveElements($,et,tt,rt){if($.type==="mouseout")return[];if(!tt)return et;const nt=this.options.hover;return this.getElementsAtEventForMode($,nt.mode,nt,rt)}},Lr(an,"defaults",defaults),Lr(an,"instances",instances),Lr(an,"overrides",overrides),Lr(an,"registry",registry),Lr(an,"version",version),Lr(an,"getChart",getChart),an);function invalidatePlugins(){return each(Chart$1.instances,_e=>_e._plugins.invalidate())}function setStyle(_e,$,et=$){_e.lineCap=valueOrDefault(et.borderCapStyle,$.borderCapStyle),_e.setLineDash(valueOrDefault(et.borderDash,$.borderDash)),_e.lineDashOffset=valueOrDefault(et.borderDashOffset,$.borderDashOffset),_e.lineJoin=valueOrDefault(et.borderJoinStyle,$.borderJoinStyle),_e.lineWidth=valueOrDefault(et.borderWidth,$.borderWidth),_e.strokeStyle=valueOrDefault(et.borderColor,$.borderColor)}function lineTo(_e,$,et){_e.lineTo(et.x,et.y)}function getLineMethod(_e){return _e.stepped?_steppedLineTo:_e.tension||_e.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(_e,$,et={}){const tt=_e.length,{start:rt=0,end:nt=tt-1}=et,{start:it,end:at}=$,st=Math.max(rt,it),ot=Math.min(nt,at),lt=rt<it&&nt<it||rt>at&&nt>at;return{count:tt,start:st,loop:$.loop,ilen:ot<st&&!lt?tt+ot-st:ot-st}}function pathSegment(_e,$,et,tt){const{points:rt,options:nt}=$,{count:it,start:at,loop:st,ilen:ot}=pathVars(rt,et,tt),lt=getLineMethod(nt);let{move:ct=!0,reverse:ut}=tt||{},dt,ht,mt;for(dt=0;dt<=ot;++dt)ht=rt[(at+(ut?ot-dt:dt))%it],!ht.skip&&(ct?(_e.moveTo(ht.x,ht.y),ct=!1):lt(_e,mt,ht,ut,nt.stepped),mt=ht);return st&&(ht=rt[(at+(ut?ot:0))%it],lt(_e,mt,ht,ut,nt.stepped)),!!st}function fastPathSegment(_e,$,et,tt){const rt=$.points,{count:nt,start:it,ilen:at}=pathVars(rt,et,tt),{move:st=!0,reverse:ot}=tt||{};let lt=0,ct=0,ut,dt,ht,mt,pt,ft;const gt=_t=>(it+(ot?at-_t:_t))%nt,bt=()=>{mt!==pt&&(_e.lineTo(lt,pt),_e.lineTo(lt,mt),_e.lineTo(lt,ft))};for(st&&(dt=rt[gt(0)],_e.moveTo(dt.x,dt.y)),ut=0;ut<=at;++ut){if(dt=rt[gt(ut)],dt.skip)continue;const _t=dt.x,yt=dt.y,vt=_t|0;vt===ht?(yt<mt?mt=yt:yt>pt&&(pt=yt),lt=(ct*lt+_t)/++ct):(bt(),_e.lineTo(_t,yt),ht=vt,ct=0,mt=pt=yt),ft=yt}bt()}function _getSegmentMethod(_e){const $=_e.options,et=$.borderDash&&$.borderDash.length;return!_e._decimated&&!_e._loop&&!$.tension&&$.cubicInterpolationMode!=="monotone"&&!$.stepped&&!et?fastPathSegment:pathSegment}function _getInterpolationMethod(_e){return _e.stepped?_steppedInterpolation:_e.tension||_e.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(_e,$,et,tt){let rt=$._path;rt||(rt=$._path=new Path2D,$.path(rt,et,tt)&&rt.closePath()),setStyle(_e,$.options),_e.stroke(rt)}function strokePathDirect(_e,$,et,tt){const{segments:rt,options:nt}=$,it=_getSegmentMethod($);for(const at of rt)setStyle(_e,nt,at.style),_e.beginPath(),it(_e,$,at,{start:et,end:et+tt-1})&&_e.closePath(),_e.stroke()}const usePath2D=typeof Path2D=="function";function draw(_e,$,et,tt){usePath2D&&!$.options.segment?strokePathWithCache(_e,$,et,tt):strokePathDirect(_e,$,et,tt)}class LineElement extends Element{constructor($){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,$&&Object.assign(this,$)}updateControlPoints($,et){const tt=this.options;if((tt.tension||tt.cubicInterpolationMode==="monotone")&&!tt.stepped&&!this._pointsUpdated){const rt=tt.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,tt,$,rt,et),this._pointsUpdated=!0}}set points($){this._points=$,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const $=this.segments,et=this.points;return $.length&&et[$[0].start]}last(){const $=this.segments,et=this.points,tt=$.length;return tt&&et[$[tt-1].end]}interpolate($,et){const tt=this.options,rt=$[et],nt=this.points,it=_boundSegments(this,{property:et,start:rt,end:rt});if(!it.length)return;const at=[],st=_getInterpolationMethod(tt);let ot,lt;for(ot=0,lt=it.length;ot<lt;++ot){const{start:ct,end:ut}=it[ot],dt=nt[ct],ht=nt[ut];if(dt===ht){at.push(dt);continue}const mt=Math.abs((rt-dt[et])/(ht[et]-dt[et])),pt=st(dt,ht,mt,tt.stepped);pt[et]=$[et],at.push(pt)}return at.length===1?at[0]:at}pathSegment($,et,tt){return _getSegmentMethod(this)($,this,et,tt)}path($,et,tt){const rt=this.segments,nt=_getSegmentMethod(this);let it=this._loop;et=et||0,tt=tt||this.points.length-et;for(const at of rt)it&=nt($,this,at,{start:et,end:et+tt-1});return!!it}draw($,et,tt,rt){const nt=this.options||{};(this.points||[]).length&&nt.borderWidth&&($.save(),draw($,this,tt,rt),$.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Lr(LineElement,"id","line"),Lr(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Lr(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Lr(LineElement,"descriptors",{_scriptable:!0,_indexable:$=>$!=="borderDash"&&$!=="fill"});function inRange$1(_e,$,et,tt){const rt=_e.options,{[et]:nt}=_e.getProps([et],tt);return Math.abs($-nt)<rt.radius+rt.hitRadius}class PointElement extends Element{constructor(et){super();Lr(this,"parsed");Lr(this,"skip");Lr(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,et&&Object.assign(this,et)}inRange(et,tt,rt){const nt=this.options,{x:it,y:at}=this.getProps(["x","y"],rt);return Math.pow(et-it,2)+Math.pow(tt-at,2)<Math.pow(nt.hitRadius+nt.radius,2)}inXRange(et,tt){return inRange$1(this,et,"x",tt)}inYRange(et,tt){return inRange$1(this,et,"y",tt)}getCenterPoint(et){const{x:tt,y:rt}=this.getProps(["x","y"],et);return{x:tt,y:rt}}size(et){et=et||this.options||{};let tt=et.radius||0;tt=Math.max(tt,tt&&et.hoverRadius||0);const rt=tt&&et.borderWidth||0;return(tt+rt)*2}draw(et,tt){const rt=this.options;this.skip||rt.radius<.1||!_isPointInArea(this,tt,this.size(rt)/2)||(et.strokeStyle=rt.borderColor,et.lineWidth=rt.borderWidth,et.fillStyle=rt.backgroundColor,drawPoint(et,rt,this.x,this.y))}getRange(){const et=this.options||{};return et.radius+et.hitRadius}}Lr(PointElement,"id","point"),Lr(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Lr(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(_e,$)=>{let{boxHeight:et=$,boxWidth:tt=$}=_e;return _e.usePointStyle&&(et=Math.min(et,$),tt=_e.pointStyleWidth||Math.min(tt,$)),{boxWidth:tt,boxHeight:et,itemHeight:Math.max($,et)}},itemsEqual=(_e,$)=>_e!==null&&$!==null&&_e.datasetIndex===$.datasetIndex&&_e.index===$.index;class Legend extends Element{constructor($){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=$.chart,this.options=$.options,this.ctx=$.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update($,et,tt){this.maxWidth=$,this.maxHeight=et,this._margins=tt,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const $=this.options.labels||{};let et=callback($.generateLabels,[this.chart],this)||[];$.filter&&(et=et.filter(tt=>$.filter(tt,this.chart.data))),$.sort&&(et=et.sort((tt,rt)=>$.sort(tt,rt,this.chart.data))),this.options.reverse&&et.reverse(),this.legendItems=et}fit(){const{options:$,ctx:et}=this;if(!$.display){this.width=this.height=0;return}const tt=$.labels,rt=toFont(tt.font),nt=rt.size,it=this._computeTitleHeight(),{boxWidth:at,itemHeight:st}=getBoxSize(tt,nt);let ot,lt;et.font=rt.string,this.isHorizontal()?(ot=this.maxWidth,lt=this._fitRows(it,nt,at,st)+10):(lt=this.maxHeight,ot=this._fitCols(it,rt,at,st)+10),this.width=Math.min(ot,$.maxWidth||this.maxWidth),this.height=Math.min(lt,$.maxHeight||this.maxHeight)}_fitRows($,et,tt,rt){const{ctx:nt,maxWidth:it,options:{labels:{padding:at}}}=this,st=this.legendHitBoxes=[],ot=this.lineWidths=[0],lt=rt+at;let ct=$;nt.textAlign="left",nt.textBaseline="middle";let ut=-1,dt=-lt;return this.legendItems.forEach((ht,mt)=>{const pt=tt+et/2+nt.measureText(ht.text).width;(mt===0||ot[ot.length-1]+pt+2*at>it)&&(ct+=lt,ot[ot.length-(mt>0?0:1)]=0,dt+=lt,ut++),st[mt]={left:0,top:dt,row:ut,width:pt,height:rt},ot[ot.length-1]+=pt+at}),ct}_fitCols($,et,tt,rt){const{ctx:nt,maxHeight:it,options:{labels:{padding:at}}}=this,st=this.legendHitBoxes=[],ot=this.columnSizes=[],lt=it-$;let ct=at,ut=0,dt=0,ht=0,mt=0;return this.legendItems.forEach((pt,ft)=>{const{itemWidth:gt,itemHeight:bt}=calculateItemSize(tt,et,nt,pt,rt);ft>0&&dt+bt+2*at>lt&&(ct+=ut+at,ot.push({width:ut,height:dt}),ht+=ut+at,mt++,ut=dt=0),st[ft]={left:ht,top:dt,col:mt,width:gt,height:bt},ut=Math.max(ut,gt),dt+=bt+at}),ct+=ut,ot.push({width:ut,height:dt}),ct}adjustHitBoxes(){if(!this.options.display)return;const $=this._computeTitleHeight(),{legendHitBoxes:et,options:{align:tt,labels:{padding:rt},rtl:nt}}=this,it=getRtlAdapter(nt,this.left,this.width);if(this.isHorizontal()){let at=0,st=_alignStartEnd(tt,this.left+rt,this.right-this.lineWidths[at]);for(const ot of et)at!==ot.row&&(at=ot.row,st=_alignStartEnd(tt,this.left+rt,this.right-this.lineWidths[at])),ot.top+=this.top+$+rt,ot.left=it.leftForLtr(it.x(st),ot.width),st+=ot.width+rt}else{let at=0,st=_alignStartEnd(tt,this.top+$+rt,this.bottom-this.columnSizes[at].height);for(const ot of et)ot.col!==at&&(at=ot.col,st=_alignStartEnd(tt,this.top+$+rt,this.bottom-this.columnSizes[at].height)),ot.top=st,ot.left+=this.left+rt,ot.left=it.leftForLtr(it.x(ot.left),ot.width),st+=ot.height+rt}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const $=this.ctx;clipArea($,this),this._draw(),unclipArea($)}}_draw(){const{options:$,columnSizes:et,lineWidths:tt,ctx:rt}=this,{align:nt,labels:it}=$,at=defaults.color,st=getRtlAdapter($.rtl,this.left,this.width),ot=toFont(it.font),{padding:lt}=it,ct=ot.size,ut=ct/2;let dt;this.drawTitle(),rt.textAlign=st.textAlign("left"),rt.textBaseline="middle",rt.lineWidth=.5,rt.font=ot.string;const{boxWidth:ht,boxHeight:mt,itemHeight:pt}=getBoxSize(it,ct),ft=function(vt,xt,wt){if(isNaN(ht)||ht<=0||isNaN(mt)||mt<0)return;rt.save();const St=valueOrDefault(wt.lineWidth,1);if(rt.fillStyle=valueOrDefault(wt.fillStyle,at),rt.lineCap=valueOrDefault(wt.lineCap,"butt"),rt.lineDashOffset=valueOrDefault(wt.lineDashOffset,0),rt.lineJoin=valueOrDefault(wt.lineJoin,"miter"),rt.lineWidth=St,rt.strokeStyle=valueOrDefault(wt.strokeStyle,at),rt.setLineDash(valueOrDefault(wt.lineDash,[])),it.usePointStyle){const Ot={radius:mt*Math.SQRT2/2,pointStyle:wt.pointStyle,rotation:wt.rotation,borderWidth:St},Et=st.xPlus(vt,ht/2),Tt=xt+ut;drawPointLegend(rt,Ot,Et,Tt,it.pointStyleWidth&&ht)}else{const Ot=xt+Math.max((ct-mt)/2,0),Et=st.leftForLtr(vt,ht),Tt=toTRBLCorners(wt.borderRadius);rt.beginPath(),Object.values(Tt).some(It=>It!==0)?addRoundedRectPath(rt,{x:Et,y:Ot,w:ht,h:mt,radius:Tt}):rt.rect(Et,Ot,ht,mt),rt.fill(),St!==0&&rt.stroke()}rt.restore()},gt=function(vt,xt,wt){renderText(rt,wt.text,vt,xt+pt/2,ot,{strikethrough:wt.hidden,textAlign:st.textAlign(wt.textAlign)})},bt=this.isHorizontal(),_t=this._computeTitleHeight();bt?dt={x:_alignStartEnd(nt,this.left+lt,this.right-tt[0]),y:this.top+lt+_t,line:0}:dt={x:this.left+lt,y:_alignStartEnd(nt,this.top+_t+lt,this.bottom-et[0].height),line:0},overrideTextDirection(this.ctx,$.textDirection);const yt=pt+lt;this.legendItems.forEach((vt,xt)=>{rt.strokeStyle=vt.fontColor,rt.fillStyle=vt.fontColor;const wt=rt.measureText(vt.text).width,St=st.textAlign(vt.textAlign||(vt.textAlign=it.textAlign)),Ot=ht+ut+wt;let Et=dt.x,Tt=dt.y;st.setWidth(this.width),bt?xt>0&&Et+Ot+lt>this.right&&(Tt=dt.y+=yt,dt.line++,Et=dt.x=_alignStartEnd(nt,this.left+lt,this.right-tt[dt.line])):xt>0&&Tt+yt>this.bottom&&(Et=dt.x=Et+et[dt.line].width+lt,dt.line++,Tt=dt.y=_alignStartEnd(nt,this.top+_t+lt,this.bottom-et[dt.line].height));const It=st.x(Et);if(ft(It,Tt,vt),Et=_textX(St,Et+ht+ut,bt?Et+Ot:this.right,$.rtl),gt(st.x(Et),Tt,vt),bt)dt.x+=Ot+lt;else if(typeof vt.text!="string"){const Wt=ot.lineHeight;dt.y+=calculateLegendItemHeight(vt,Wt)+lt}else dt.y+=yt}),restoreTextDirection(this.ctx,$.textDirection)}drawTitle(){const $=this.options,et=$.title,tt=toFont(et.font),rt=toPadding(et.padding);if(!et.display)return;const nt=getRtlAdapter($.rtl,this.left,this.width),it=this.ctx,at=et.position,st=tt.size/2,ot=rt.top+st;let lt,ct=this.left,ut=this.width;if(this.isHorizontal())ut=Math.max(...this.lineWidths),lt=this.top+ot,ct=_alignStartEnd($.align,ct,this.right-ut);else{const ht=this.columnSizes.reduce((mt,pt)=>Math.max(mt,pt.height),0);lt=ot+_alignStartEnd($.align,this.top,this.bottom-ht-$.labels.padding-this._computeTitleHeight())}const dt=_alignStartEnd(at,ct,ct+ut);it.textAlign=nt.textAlign(_toLeftRightCenter(at)),it.textBaseline="middle",it.strokeStyle=et.color,it.fillStyle=et.color,it.font=tt.string,renderText(it,et.text,dt,lt,tt)}_computeTitleHeight(){const $=this.options.title,et=toFont($.font),tt=toPadding($.padding);return $.display?et.lineHeight+tt.height:0}_getLegendItemAt($,et){let tt,rt,nt;if(_isBetween($,this.left,this.right)&&_isBetween(et,this.top,this.bottom)){for(nt=this.legendHitBoxes,tt=0;tt<nt.length;++tt)if(rt=nt[tt],_isBetween($,rt.left,rt.left+rt.width)&&_isBetween(et,rt.top,rt.top+rt.height))return this.legendItems[tt]}return null}handleEvent($){const et=this.options;if(!isListened($.type,et))return;const tt=this._getLegendItemAt($.x,$.y);if($.type==="mousemove"||$.type==="mouseout"){const rt=this._hoveredItem,nt=itemsEqual(rt,tt);rt&&!nt&&callback(et.onLeave,[$,rt,this],this),this._hoveredItem=tt,tt&&!nt&&callback(et.onHover,[$,tt,this],this)}else tt&&callback(et.onClick,[$,tt,this],this)}}function calculateItemSize(_e,$,et,tt,rt){const nt=calculateItemWidth(tt,_e,$,et),it=calculateItemHeight(rt,tt,$.lineHeight);return{itemWidth:nt,itemHeight:it}}function calculateItemWidth(_e,$,et,tt){let rt=_e.text;return rt&&typeof rt!="string"&&(rt=rt.reduce((nt,it)=>nt.length>it.length?nt:it)),$+et.size/2+tt.measureText(rt).width}function calculateItemHeight(_e,$,et){let tt=_e;return typeof $.text!="string"&&(tt=calculateLegendItemHeight($,et)),tt}function calculateLegendItemHeight(_e,$){const et=_e.text?_e.text.length:0;return $*et}function isListened(_e,$){return!!((_e==="mousemove"||_e==="mouseout")&&($.onHover||$.onLeave)||$.onClick&&(_e==="click"||_e==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(_e,$,et){const tt=_e.legend=new Legend({ctx:_e.ctx,options:et,chart:_e});layouts.configure(_e,tt,et),layouts.addBox(_e,tt)},stop(_e){layouts.removeBox(_e,_e.legend),delete _e.legend},beforeUpdate(_e,$,et){const tt=_e.legend;layouts.configure(_e,tt,et),tt.options=et},afterUpdate(_e){const $=_e.legend;$.buildLabels(),$.adjustHitBoxes()},afterEvent(_e,$){$.replay||_e.legend.handleEvent($.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(_e,$,et){const tt=$.datasetIndex,rt=et.chart;rt.isDatasetVisible(tt)?(rt.hide(tt),$.hidden=!0):(rt.show(tt),$.hidden=!1)},onHover:null,onLeave:null,labels:{color:_e=>_e.chart.options.color,boxWidth:40,padding:10,generateLabels(_e){const $=_e.data.datasets,{labels:{usePointStyle:et,pointStyle:tt,textAlign:rt,color:nt,useBorderRadius:it,borderRadius:at}}=_e.legend.options;return _e._getSortedDatasetMetas().map(st=>{const ot=st.controller.getStyle(et?0:void 0),lt=toPadding(ot.borderWidth);return{text:$[st.index].label,fillStyle:ot.backgroundColor,fontColor:nt,hidden:!st.visible,lineCap:ot.borderCapStyle,lineDash:ot.borderDash,lineDashOffset:ot.borderDashOffset,lineJoin:ot.borderJoinStyle,lineWidth:(lt.width+lt.height)/4,strokeStyle:ot.borderColor,pointStyle:tt||ot.pointStyle,rotation:ot.rotation,textAlign:rt||ot.textAlign,borderRadius:it&&(at||ot.borderRadius),datasetIndex:st.index}},this)}},title:{color:_e=>_e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:_e=>!_e.startsWith("on"),labels:{_scriptable:_e=>!["generateLabels","filter","sort"].includes(_e)}}};class Title extends Element{constructor($){super(),this.chart=$.chart,this.options=$.options,this.ctx=$.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update($,et){const tt=this.options;if(this.left=0,this.top=0,!tt.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=$,this.height=this.bottom=et;const rt=isArray(tt.text)?tt.text.length:1;this._padding=toPadding(tt.padding);const nt=rt*toFont(tt.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=nt:this.width=nt}isHorizontal(){const $=this.options.position;return $==="top"||$==="bottom"}_drawArgs($){const{top:et,left:tt,bottom:rt,right:nt,options:it}=this,at=it.align;let st=0,ot,lt,ct;return this.isHorizontal()?(lt=_alignStartEnd(at,tt,nt),ct=et+$,ot=nt-tt):(it.position==="left"?(lt=tt+$,ct=_alignStartEnd(at,rt,et),st=PI*-.5):(lt=nt-$,ct=_alignStartEnd(at,et,rt),st=PI*.5),ot=rt-et),{titleX:lt,titleY:ct,maxWidth:ot,rotation:st}}draw(){const $=this.ctx,et=this.options;if(!et.display)return;const tt=toFont(et.font),nt=tt.lineHeight/2+this._padding.top,{titleX:it,titleY:at,maxWidth:st,rotation:ot}=this._drawArgs(nt);renderText($,et.text,0,0,tt,{color:et.color,maxWidth:st,rotation:ot,textAlign:_toLeftRightCenter(et.align),textBaseline:"middle",translation:[it,at]})}}function createTitle(_e,$){const et=new Title({ctx:_e.ctx,options:$,chart:_e});layouts.configure(_e,et,$),layouts.addBox(_e,et),_e.titleBlock=et}var plugin_title={id:"title",_element:Title,start(_e,$,et){createTitle(_e,et)},stop(_e){const $=_e.titleBlock;layouts.removeBox(_e,$),delete _e.titleBlock},beforeUpdate(_e,$,et){const tt=_e.titleBlock;layouts.configure(_e,tt,et),tt.options=et},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(_e){if(!_e.length)return!1;let $,et,tt=new Set,rt=0,nt=0;for($=0,et=_e.length;$<et;++$){const at=_e[$].element;if(at&&at.hasValue()){const st=at.tooltipPosition();tt.add(st.x),rt+=st.y,++nt}}return nt===0||tt.size===0?!1:{x:[...tt].reduce((at,st)=>at+st)/tt.size,y:rt/nt}},nearest(_e,$){if(!_e.length)return!1;let et=$.x,tt=$.y,rt=Number.POSITIVE_INFINITY,nt,it,at;for(nt=0,it=_e.length;nt<it;++nt){const st=_e[nt].element;if(st&&st.hasValue()){const ot=st.getCenterPoint(),lt=distanceBetweenPoints($,ot);lt<rt&&(rt=lt,at=st)}}if(at){const st=at.tooltipPosition();et=st.x,tt=st.y}return{x:et,y:tt}}};function pushOrConcat(_e,$){return $&&(isArray($)?Array.prototype.push.apply(_e,$):_e.push($)),_e}function splitNewlines(_e){return(typeof _e=="string"||_e instanceof String)&&_e.indexOf(`
`)>-1?_e.split(`
`):_e}function createTooltipItem(_e,$){const{element:et,datasetIndex:tt,index:rt}=$,nt=_e.getDatasetMeta(tt).controller,{label:it,value:at}=nt.getLabelAndValue(rt);return{chart:_e,label:it,parsed:nt.getParsed(rt),raw:_e.data.datasets[tt].data[rt],formattedValue:at,dataset:nt.getDataset(),dataIndex:rt,datasetIndex:tt,element:et}}function getTooltipSize(_e,$){const et=_e.chart.ctx,{body:tt,footer:rt,title:nt}=_e,{boxWidth:it,boxHeight:at}=$,st=toFont($.bodyFont),ot=toFont($.titleFont),lt=toFont($.footerFont),ct=nt.length,ut=rt.length,dt=tt.length,ht=toPadding($.padding);let mt=ht.height,pt=0,ft=tt.reduce((_t,yt)=>_t+yt.before.length+yt.lines.length+yt.after.length,0);if(ft+=_e.beforeBody.length+_e.afterBody.length,ct&&(mt+=ct*ot.lineHeight+(ct-1)*$.titleSpacing+$.titleMarginBottom),ft){const _t=$.displayColors?Math.max(at,st.lineHeight):st.lineHeight;mt+=dt*_t+(ft-dt)*st.lineHeight+(ft-1)*$.bodySpacing}ut&&(mt+=$.footerMarginTop+ut*lt.lineHeight+(ut-1)*$.footerSpacing);let gt=0;const bt=function(_t){pt=Math.max(pt,et.measureText(_t).width+gt)};return et.save(),et.font=ot.string,each(_e.title,bt),et.font=st.string,each(_e.beforeBody.concat(_e.afterBody),bt),gt=$.displayColors?it+2+$.boxPadding:0,each(tt,_t=>{each(_t.before,bt),each(_t.lines,bt),each(_t.after,bt)}),gt=0,et.font=lt.string,each(_e.footer,bt),et.restore(),pt+=ht.width,{width:pt,height:mt}}function determineYAlign(_e,$){const{y:et,height:tt}=$;return et<tt/2?"top":et>_e.height-tt/2?"bottom":"center"}function doesNotFitWithAlign(_e,$,et,tt){const{x:rt,width:nt}=tt,it=et.caretSize+et.caretPadding;if(_e==="left"&&rt+nt+it>$.width||_e==="right"&&rt-nt-it<0)return!0}function determineXAlign(_e,$,et,tt){const{x:rt,width:nt}=et,{width:it,chartArea:{left:at,right:st}}=_e;let ot="center";return tt==="center"?ot=rt<=(at+st)/2?"left":"right":rt<=nt/2?ot="left":rt>=it-nt/2&&(ot="right"),doesNotFitWithAlign(ot,_e,$,et)&&(ot="center"),ot}function determineAlignment(_e,$,et){const tt=et.yAlign||$.yAlign||determineYAlign(_e,et);return{xAlign:et.xAlign||$.xAlign||determineXAlign(_e,$,et,tt),yAlign:tt}}function alignX(_e,$){let{x:et,width:tt}=_e;return $==="right"?et-=tt:$==="center"&&(et-=tt/2),et}function alignY(_e,$,et){let{y:tt,height:rt}=_e;return $==="top"?tt+=et:$==="bottom"?tt-=rt+et:tt-=rt/2,tt}function getBackgroundPoint(_e,$,et,tt){const{caretSize:rt,caretPadding:nt,cornerRadius:it}=_e,{xAlign:at,yAlign:st}=et,ot=rt+nt,{topLeft:lt,topRight:ct,bottomLeft:ut,bottomRight:dt}=toTRBLCorners(it);let ht=alignX($,at);const mt=alignY($,st,ot);return st==="center"?at==="left"?ht+=ot:at==="right"&&(ht-=ot):at==="left"?ht-=Math.max(lt,ut)+rt:at==="right"&&(ht+=Math.max(ct,dt)+rt),{x:_limitValue(ht,0,tt.width-$.width),y:_limitValue(mt,0,tt.height-$.height)}}function getAlignedX(_e,$,et){const tt=toPadding(et.padding);return $==="center"?_e.x+_e.width/2:$==="right"?_e.x+_e.width-tt.right:_e.x+tt.left}function getBeforeAfterBodyLines(_e){return pushOrConcat([],splitNewlines(_e))}function createTooltipContext(_e,$,et){return createContext(_e,{tooltip:$,tooltipItems:et,type:"tooltip"})}function overrideCallbacks(_e,$){const et=$&&$.dataset&&$.dataset.tooltip&&$.dataset.tooltip.callbacks;return et?_e.override(et):_e}const defaultCallbacks={beforeTitle:noop,title(_e){if(_e.length>0){const $=_e[0],et=$.chart.data.labels,tt=et?et.length:0;if(this&&this.options&&this.options.mode==="dataset")return $.dataset.label||"";if($.label)return $.label;if(tt>0&&$.dataIndex<tt)return et[$.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(_e){if(this&&this.options&&this.options.mode==="dataset")return _e.label+": "+_e.formattedValue||_e.formattedValue;let $=_e.dataset.label||"";$&&($+=": ");const et=_e.formattedValue;return isNullOrUndef(et)||($+=et),$},labelColor(_e){const et=_e.chart.getDatasetMeta(_e.datasetIndex).controller.getStyle(_e.dataIndex);return{borderColor:et.borderColor,backgroundColor:et.backgroundColor,borderWidth:et.borderWidth,borderDash:et.borderDash,borderDashOffset:et.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(_e){const et=_e.chart.getDatasetMeta(_e.datasetIndex).controller.getStyle(_e.dataIndex);return{pointStyle:et.pointStyle,rotation:et.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(_e,$,et,tt){const rt=_e[$].call(et,tt);return typeof rt>"u"?defaultCallbacks[$].call(et,tt):rt}class Tooltip extends Element{constructor($){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=$.chart,this.options=$.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize($){this.options=$,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const $=this._cachedAnimations;if($)return $;const et=this.chart,tt=this.options.setContext(this.getContext()),rt=tt.enabled&&et.options.animation&&tt.animations,nt=new Animations(this.chart,rt);return rt._cacheable&&(this._cachedAnimations=Object.freeze(nt)),nt}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle($,et){const{callbacks:tt}=et,rt=invokeCallbackWithFallback(tt,"beforeTitle",this,$),nt=invokeCallbackWithFallback(tt,"title",this,$),it=invokeCallbackWithFallback(tt,"afterTitle",this,$);let at=[];return at=pushOrConcat(at,splitNewlines(rt)),at=pushOrConcat(at,splitNewlines(nt)),at=pushOrConcat(at,splitNewlines(it)),at}getBeforeBody($,et){return getBeforeAfterBodyLines(invokeCallbackWithFallback(et.callbacks,"beforeBody",this,$))}getBody($,et){const{callbacks:tt}=et,rt=[];return each($,nt=>{const it={before:[],lines:[],after:[]},at=overrideCallbacks(tt,nt);pushOrConcat(it.before,splitNewlines(invokeCallbackWithFallback(at,"beforeLabel",this,nt))),pushOrConcat(it.lines,invokeCallbackWithFallback(at,"label",this,nt)),pushOrConcat(it.after,splitNewlines(invokeCallbackWithFallback(at,"afterLabel",this,nt))),rt.push(it)}),rt}getAfterBody($,et){return getBeforeAfterBodyLines(invokeCallbackWithFallback(et.callbacks,"afterBody",this,$))}getFooter($,et){const{callbacks:tt}=et,rt=invokeCallbackWithFallback(tt,"beforeFooter",this,$),nt=invokeCallbackWithFallback(tt,"footer",this,$),it=invokeCallbackWithFallback(tt,"afterFooter",this,$);let at=[];return at=pushOrConcat(at,splitNewlines(rt)),at=pushOrConcat(at,splitNewlines(nt)),at=pushOrConcat(at,splitNewlines(it)),at}_createItems($){const et=this._active,tt=this.chart.data,rt=[],nt=[],it=[];let at=[],st,ot;for(st=0,ot=et.length;st<ot;++st)at.push(createTooltipItem(this.chart,et[st]));return $.filter&&(at=at.filter((lt,ct,ut)=>$.filter(lt,ct,ut,tt))),$.itemSort&&(at=at.sort((lt,ct)=>$.itemSort(lt,ct,tt))),each(at,lt=>{const ct=overrideCallbacks($.callbacks,lt);rt.push(invokeCallbackWithFallback(ct,"labelColor",this,lt)),nt.push(invokeCallbackWithFallback(ct,"labelPointStyle",this,lt)),it.push(invokeCallbackWithFallback(ct,"labelTextColor",this,lt))}),this.labelColors=rt,this.labelPointStyles=nt,this.labelTextColors=it,this.dataPoints=at,at}update($,et){const tt=this.options.setContext(this.getContext()),rt=this._active;let nt,it=[];if(!rt.length)this.opacity!==0&&(nt={opacity:0});else{const at=positioners[tt.position].call(this,rt,this._eventPosition);it=this._createItems(tt),this.title=this.getTitle(it,tt),this.beforeBody=this.getBeforeBody(it,tt),this.body=this.getBody(it,tt),this.afterBody=this.getAfterBody(it,tt),this.footer=this.getFooter(it,tt);const st=this._size=getTooltipSize(this,tt),ot=Object.assign({},at,st),lt=determineAlignment(this.chart,tt,ot),ct=getBackgroundPoint(tt,ot,lt,this.chart);this.xAlign=lt.xAlign,this.yAlign=lt.yAlign,nt={opacity:1,x:ct.x,y:ct.y,width:st.width,height:st.height,caretX:at.x,caretY:at.y}}this._tooltipItems=it,this.$context=void 0,nt&&this._resolveAnimations().update(this,nt),$&&tt.external&&tt.external.call(this,{chart:this.chart,tooltip:this,replay:et})}drawCaret($,et,tt,rt){const nt=this.getCaretPosition($,tt,rt);et.lineTo(nt.x1,nt.y1),et.lineTo(nt.x2,nt.y2),et.lineTo(nt.x3,nt.y3)}getCaretPosition($,et,tt){const{xAlign:rt,yAlign:nt}=this,{caretSize:it,cornerRadius:at}=tt,{topLeft:st,topRight:ot,bottomLeft:lt,bottomRight:ct}=toTRBLCorners(at),{x:ut,y:dt}=$,{width:ht,height:mt}=et;let pt,ft,gt,bt,_t,yt;return nt==="center"?(_t=dt+mt/2,rt==="left"?(pt=ut,ft=pt-it,bt=_t+it,yt=_t-it):(pt=ut+ht,ft=pt+it,bt=_t-it,yt=_t+it),gt=pt):(rt==="left"?ft=ut+Math.max(st,lt)+it:rt==="right"?ft=ut+ht-Math.max(ot,ct)-it:ft=this.caretX,nt==="top"?(bt=dt,_t=bt-it,pt=ft-it,gt=ft+it):(bt=dt+mt,_t=bt+it,pt=ft+it,gt=ft-it),yt=bt),{x1:pt,x2:ft,x3:gt,y1:bt,y2:_t,y3:yt}}drawTitle($,et,tt){const rt=this.title,nt=rt.length;let it,at,st;if(nt){const ot=getRtlAdapter(tt.rtl,this.x,this.width);for($.x=getAlignedX(this,tt.titleAlign,tt),et.textAlign=ot.textAlign(tt.titleAlign),et.textBaseline="middle",it=toFont(tt.titleFont),at=tt.titleSpacing,et.fillStyle=tt.titleColor,et.font=it.string,st=0;st<nt;++st)et.fillText(rt[st],ot.x($.x),$.y+it.lineHeight/2),$.y+=it.lineHeight+at,st+1===nt&&($.y+=tt.titleMarginBottom-at)}}_drawColorBox($,et,tt,rt,nt){const it=this.labelColors[tt],at=this.labelPointStyles[tt],{boxHeight:st,boxWidth:ot}=nt,lt=toFont(nt.bodyFont),ct=getAlignedX(this,"left",nt),ut=rt.x(ct),dt=st<lt.lineHeight?(lt.lineHeight-st)/2:0,ht=et.y+dt;if(nt.usePointStyle){const mt={radius:Math.min(ot,st)/2,pointStyle:at.pointStyle,rotation:at.rotation,borderWidth:1},pt=rt.leftForLtr(ut,ot)+ot/2,ft=ht+st/2;$.strokeStyle=nt.multiKeyBackground,$.fillStyle=nt.multiKeyBackground,drawPoint($,mt,pt,ft),$.strokeStyle=it.borderColor,$.fillStyle=it.backgroundColor,drawPoint($,mt,pt,ft)}else{$.lineWidth=isObject(it.borderWidth)?Math.max(...Object.values(it.borderWidth)):it.borderWidth||1,$.strokeStyle=it.borderColor,$.setLineDash(it.borderDash||[]),$.lineDashOffset=it.borderDashOffset||0;const mt=rt.leftForLtr(ut,ot),pt=rt.leftForLtr(rt.xPlus(ut,1),ot-2),ft=toTRBLCorners(it.borderRadius);Object.values(ft).some(gt=>gt!==0)?($.beginPath(),$.fillStyle=nt.multiKeyBackground,addRoundedRectPath($,{x:mt,y:ht,w:ot,h:st,radius:ft}),$.fill(),$.stroke(),$.fillStyle=it.backgroundColor,$.beginPath(),addRoundedRectPath($,{x:pt,y:ht+1,w:ot-2,h:st-2,radius:ft}),$.fill()):($.fillStyle=nt.multiKeyBackground,$.fillRect(mt,ht,ot,st),$.strokeRect(mt,ht,ot,st),$.fillStyle=it.backgroundColor,$.fillRect(pt,ht+1,ot-2,st-2))}$.fillStyle=this.labelTextColors[tt]}drawBody($,et,tt){const{body:rt}=this,{bodySpacing:nt,bodyAlign:it,displayColors:at,boxHeight:st,boxWidth:ot,boxPadding:lt}=tt,ct=toFont(tt.bodyFont);let ut=ct.lineHeight,dt=0;const ht=getRtlAdapter(tt.rtl,this.x,this.width),mt=function(wt){et.fillText(wt,ht.x($.x+dt),$.y+ut/2),$.y+=ut+nt},pt=ht.textAlign(it);let ft,gt,bt,_t,yt,vt,xt;for(et.textAlign=it,et.textBaseline="middle",et.font=ct.string,$.x=getAlignedX(this,pt,tt),et.fillStyle=tt.bodyColor,each(this.beforeBody,mt),dt=at&&pt!=="right"?it==="center"?ot/2+lt:ot+2+lt:0,_t=0,vt=rt.length;_t<vt;++_t){for(ft=rt[_t],gt=this.labelTextColors[_t],et.fillStyle=gt,each(ft.before,mt),bt=ft.lines,at&&bt.length&&(this._drawColorBox(et,$,_t,ht,tt),ut=Math.max(ct.lineHeight,st)),yt=0,xt=bt.length;yt<xt;++yt)mt(bt[yt]),ut=ct.lineHeight;each(ft.after,mt)}dt=0,ut=ct.lineHeight,each(this.afterBody,mt),$.y-=nt}drawFooter($,et,tt){const rt=this.footer,nt=rt.length;let it,at;if(nt){const st=getRtlAdapter(tt.rtl,this.x,this.width);for($.x=getAlignedX(this,tt.footerAlign,tt),$.y+=tt.footerMarginTop,et.textAlign=st.textAlign(tt.footerAlign),et.textBaseline="middle",it=toFont(tt.footerFont),et.fillStyle=tt.footerColor,et.font=it.string,at=0;at<nt;++at)et.fillText(rt[at],st.x($.x),$.y+it.lineHeight/2),$.y+=it.lineHeight+tt.footerSpacing}}drawBackground($,et,tt,rt){const{xAlign:nt,yAlign:it}=this,{x:at,y:st}=$,{width:ot,height:lt}=tt,{topLeft:ct,topRight:ut,bottomLeft:dt,bottomRight:ht}=toTRBLCorners(rt.cornerRadius);et.fillStyle=rt.backgroundColor,et.strokeStyle=rt.borderColor,et.lineWidth=rt.borderWidth,et.beginPath(),et.moveTo(at+ct,st),it==="top"&&this.drawCaret($,et,tt,rt),et.lineTo(at+ot-ut,st),et.quadraticCurveTo(at+ot,st,at+ot,st+ut),it==="center"&&nt==="right"&&this.drawCaret($,et,tt,rt),et.lineTo(at+ot,st+lt-ht),et.quadraticCurveTo(at+ot,st+lt,at+ot-ht,st+lt),it==="bottom"&&this.drawCaret($,et,tt,rt),et.lineTo(at+dt,st+lt),et.quadraticCurveTo(at,st+lt,at,st+lt-dt),it==="center"&&nt==="left"&&this.drawCaret($,et,tt,rt),et.lineTo(at,st+ct),et.quadraticCurveTo(at,st,at+ct,st),et.closePath(),et.fill(),rt.borderWidth>0&&et.stroke()}_updateAnimationTarget($){const et=this.chart,tt=this.$animations,rt=tt&&tt.x,nt=tt&&tt.y;if(rt||nt){const it=positioners[$.position].call(this,this._active,this._eventPosition);if(!it)return;const at=this._size=getTooltipSize(this,$),st=Object.assign({},it,this._size),ot=determineAlignment(et,$,st),lt=getBackgroundPoint($,st,ot,et);(rt._to!==lt.x||nt._to!==lt.y)&&(this.xAlign=ot.xAlign,this.yAlign=ot.yAlign,this.width=at.width,this.height=at.height,this.caretX=it.x,this.caretY=it.y,this._resolveAnimations().update(this,lt))}}_willRender(){return!!this.opacity}draw($){const et=this.options.setContext(this.getContext());let tt=this.opacity;if(!tt)return;this._updateAnimationTarget(et);const rt={width:this.width,height:this.height},nt={x:this.x,y:this.y};tt=Math.abs(tt)<.001?0:tt;const it=toPadding(et.padding),at=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;et.enabled&&at&&($.save(),$.globalAlpha=tt,this.drawBackground(nt,$,rt,et),overrideTextDirection($,et.textDirection),nt.y+=it.top,this.drawTitle(nt,$,et),this.drawBody(nt,$,et),this.drawFooter(nt,$,et),restoreTextDirection($,et.textDirection),$.restore())}getActiveElements(){return this._active||[]}setActiveElements($,et){const tt=this._active,rt=$.map(({datasetIndex:at,index:st})=>{const ot=this.chart.getDatasetMeta(at);if(!ot)throw new Error("Cannot find a dataset at index "+at);return{datasetIndex:at,element:ot.data[st],index:st}}),nt=!_elementsEqual(tt,rt),it=this._positionChanged(rt,et);(nt||it)&&(this._active=rt,this._eventPosition=et,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent($,et,tt=!0){if(et&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const rt=this.options,nt=this._active||[],it=this._getActiveElements($,nt,et,tt),at=this._positionChanged(it,$),st=et||!_elementsEqual(it,nt)||at;return st&&(this._active=it,(rt.enabled||rt.external)&&(this._eventPosition={x:$.x,y:$.y},this.update(!0,et))),st}_getActiveElements($,et,tt,rt){const nt=this.options;if($.type==="mouseout")return[];if(!rt)return et.filter(at=>this.chart.data.datasets[at.datasetIndex]&&this.chart.getDatasetMeta(at.datasetIndex).controller.getParsed(at.index)!==void 0);const it=this.chart.getElementsAtEventForMode($,nt.mode,nt,tt);return nt.reverse&&it.reverse(),it}_positionChanged($,et){const{caretX:tt,caretY:rt,options:nt}=this,it=positioners[nt.position].call(this,$,et);return it!==!1&&(tt!==it.x||rt!==it.y)}}Lr(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(_e,$,et){et&&(_e.tooltip=new Tooltip({chart:_e,options:et}))},beforeUpdate(_e,$,et){_e.tooltip&&_e.tooltip.initialize(et)},reset(_e,$,et){_e.tooltip&&_e.tooltip.initialize(et)},afterDraw(_e){const $=_e.tooltip;if($&&$._willRender()){const et={tooltip:$};if(_e.notifyPlugins("beforeTooltipDraw",{...et,cancelable:!0})===!1)return;$.draw(_e.ctx),_e.notifyPlugins("afterTooltipDraw",et)}},afterEvent(_e,$){if(_e.tooltip){const et=$.replay;_e.tooltip.handleEvent($.event,et,$.inChartArea)&&($.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(_e,$)=>$.bodyFont.size,boxWidth:(_e,$)=>$.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:_e=>_e!=="filter"&&_e!=="itemSort"&&_e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(_e,$,et,tt)=>(typeof $=="string"?(et=_e.push($)-1,tt.unshift({index:et,label:$})):isNaN($)&&(et=null),et);function findOrAddLabel(_e,$,et,tt){const rt=_e.indexOf($);if(rt===-1)return addIfString(_e,$,et,tt);const nt=_e.lastIndexOf($);return rt!==nt?et:rt}const validIndex=(_e,$)=>_e===null?null:_limitValue(Math.round(_e),0,$);function _getLabelForValue(_e){const $=this.getLabels();return _e>=0&&_e<$.length?$[_e]:_e}class CategoryScale extends Scale{constructor($){super($),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init($){const et=this._addedLabels;if(et.length){const tt=this.getLabels();for(const{index:rt,label:nt}of et)tt[rt]===nt&&tt.splice(rt,1);this._addedLabels=[]}super.init($)}parse($,et){if(isNullOrUndef($))return null;const tt=this.getLabels();return et=isFinite(et)&&tt[et]===$?et:findOrAddLabel(tt,$,valueOrDefault(et,$),this._addedLabels),validIndex(et,tt.length-1)}determineDataLimits(){const{minDefined:$,maxDefined:et}=this.getUserBounds();let{min:tt,max:rt}=this.getMinMax(!0);this.options.bounds==="ticks"&&($||(tt=0),et||(rt=this.getLabels().length-1)),this.min=tt,this.max=rt}buildTicks(){const $=this.min,et=this.max,tt=this.options.offset,rt=[];let nt=this.getLabels();nt=$===0&&et===nt.length-1?nt:nt.slice($,et+1),this._valueRange=Math.max(nt.length-(tt?0:1),1),this._startValue=this.min-(tt?.5:0);for(let it=$;it<=et;it++)rt.push({value:it});return rt}getLabelForValue($){return _getLabelForValue.call(this,$)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue($){return typeof $!="number"&&($=this.parse($)),$===null?NaN:this.getPixelForDecimal(($-this._startValue)/this._valueRange)}getPixelForTick($){const et=this.ticks;return $<0||$>et.length-1?null:this.getPixelForValue(et[$].value)}getValueForPixel($){return Math.round(this._startValue+this.getDecimalForPixel($)*this._valueRange)}getBasePixel(){return this.bottom}}Lr(CategoryScale,"id","category"),Lr(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(_e,$){const et=[],{bounds:rt,step:nt,min:it,max:at,precision:st,count:ot,maxTicks:lt,maxDigits:ct,includeBounds:ut}=_e,dt=nt||1,ht=lt-1,{min:mt,max:pt}=$,ft=!isNullOrUndef(it),gt=!isNullOrUndef(at),bt=!isNullOrUndef(ot),_t=(pt-mt)/(ct+1);let yt=niceNum((pt-mt)/ht/dt)*dt,vt,xt,wt,St;if(yt<1e-14&&!ft&&!gt)return[{value:mt},{value:pt}];St=Math.ceil(pt/yt)-Math.floor(mt/yt),St>ht&&(yt=niceNum(St*yt/ht/dt)*dt),isNullOrUndef(st)||(vt=Math.pow(10,st),yt=Math.ceil(yt*vt)/vt),rt==="ticks"?(xt=Math.floor(mt/yt)*yt,wt=Math.ceil(pt/yt)*yt):(xt=mt,wt=pt),ft&&gt&&nt&&almostWhole((at-it)/nt,yt/1e3)?(St=Math.round(Math.min((at-it)/yt,lt)),yt=(at-it)/St,xt=it,wt=at):bt?(xt=ft?it:xt,wt=gt?at:wt,St=ot-1,yt=(wt-xt)/St):(St=(wt-xt)/yt,almostEquals(St,Math.round(St),yt/1e3)?St=Math.round(St):St=Math.ceil(St));const Ot=Math.max(_decimalPlaces(yt),_decimalPlaces(xt));vt=Math.pow(10,isNullOrUndef(st)?Ot:st),xt=Math.round(xt*vt)/vt,wt=Math.round(wt*vt)/vt;let Et=0;for(ft&&(ut&&xt!==it?(et.push({value:it}),xt<it&&Et++,almostEquals(Math.round((xt+Et*yt)*vt)/vt,it,relativeLabelSize(it,_t,_e))&&Et++):xt<it&&Et++);Et<St;++Et){const Tt=Math.round((xt+Et*yt)*vt)/vt;if(gt&&Tt>at)break;et.push({value:Tt})}return gt&&ut&&wt!==at?et.length&&almostEquals(et[et.length-1].value,at,relativeLabelSize(at,_t,_e))?et[et.length-1].value=at:et.push({value:at}):(!gt||wt===at)&&et.push({value:wt}),et}function relativeLabelSize(_e,$,{horizontal:et,minRotation:tt}){const rt=toRadians(tt),nt=(et?Math.sin(rt):Math.cos(rt))||.001,it=.75*$*(""+_e).length;return Math.min($/nt,it)}class LinearScaleBase extends Scale{constructor($){super($),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse($,et){return isNullOrUndef($)||(typeof $=="number"||$ instanceof Number)&&!isFinite(+$)?null:+$}handleTickRangeOptions(){const{beginAtZero:$}=this.options,{minDefined:et,maxDefined:tt}=this.getUserBounds();let{min:rt,max:nt}=this;const it=st=>rt=et?rt:st,at=st=>nt=tt?nt:st;if($){const st=sign(rt),ot=sign(nt);st<0&&ot<0?at(0):st>0&&ot>0&&it(0)}if(rt===nt){let st=nt===0?1:Math.abs(nt*.05);at(nt+st),$||it(rt-st)}this.min=rt,this.max=nt}getTickLimit(){const $=this.options.ticks;let{maxTicksLimit:et,stepSize:tt}=$,rt;return tt?(rt=Math.ceil(this.max/tt)-Math.floor(this.min/tt)+1,rt>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${tt} would result generating up to ${rt} ticks. Limiting to 1000.`),rt=1e3)):(rt=this.computeTickLimit(),et=et||11),et&&(rt=Math.min(et,rt)),rt}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const $=this.options,et=$.ticks;let tt=this.getTickLimit();tt=Math.max(2,tt);const rt={maxTicks:tt,bounds:$.bounds,min:$.min,max:$.max,precision:et.precision,step:et.stepSize,count:et.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:et.minRotation||0,includeBounds:et.includeBounds!==!1},nt=this._range||this,it=generateTicks$1(rt,nt);return $.bounds==="ticks"&&_setMinAndMaxByKey(it,this,"value"),$.reverse?(it.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),it}configure(){const $=this.ticks;let et=this.min,tt=this.max;if(super.configure(),this.options.offset&&$.length){const rt=(tt-et)/Math.max($.length-1,1)/2;et-=rt,tt+=rt}this._startValue=et,this._endValue=tt,this._valueRange=tt-et}getLabelForValue($){return formatNumber($,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:$,max:et}=this.getMinMax(!0);this.min=isNumberFinite($)?$:0,this.max=isNumberFinite(et)?et:1,this.handleTickRangeOptions()}computeTickLimit(){const $=this.isHorizontal(),et=$?this.width:this.height,tt=toRadians(this.options.ticks.minRotation),rt=($?Math.sin(tt):Math.cos(tt))||.001,nt=this._resolveTickFontOptions(0);return Math.ceil(et/Math.min(40,nt.lineHeight/rt))}getPixelForValue($){return $===null?NaN:this.getPixelForDecimal(($-this._startValue)/this._valueRange)}getValueForPixel($){return this._startValue+this.getDecimalForPixel($)*this._valueRange}}Lr(LinearScale,"id","linear"),Lr(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(_e,$){return _e-$}function parse(_e,$){if(isNullOrUndef($))return null;const et=_e._adapter,{parser:tt,round:rt,isoWeekday:nt}=_e._parseOpts;let it=$;return typeof tt=="function"&&(it=tt(it)),isNumberFinite(it)||(it=typeof tt=="string"?et.parse(it,tt):et.parse(it)),it===null?null:(rt&&(it=rt==="week"&&(isNumber(nt)||nt===!0)?et.startOf(it,"isoWeek",nt):et.startOf(it,rt)),+it)}function determineUnitForAutoTicks(_e,$,et,tt){const rt=UNITS.length;for(let nt=UNITS.indexOf(_e);nt<rt-1;++nt){const it=INTERVALS[UNITS[nt]],at=it.steps?it.steps:Number.MAX_SAFE_INTEGER;if(it.common&&Math.ceil((et-$)/(at*it.size))<=tt)return UNITS[nt]}return UNITS[rt-1]}function determineUnitForFormatting(_e,$,et,tt,rt){for(let nt=UNITS.length-1;nt>=UNITS.indexOf(et);nt--){const it=UNITS[nt];if(INTERVALS[it].common&&_e._adapter.diff(rt,tt,it)>=$-1)return it}return UNITS[et?UNITS.indexOf(et):0]}function determineMajorUnit(_e){for(let $=UNITS.indexOf(_e)+1,et=UNITS.length;$<et;++$)if(INTERVALS[UNITS[$]].common)return UNITS[$]}function addTick(_e,$,et){if(!et)_e[$]=!0;else if(et.length){const{lo:tt,hi:rt}=_lookup(et,$),nt=et[tt]>=$?et[tt]:et[rt];_e[nt]=!0}}function setMajorTicks(_e,$,et,tt){const rt=_e._adapter,nt=+rt.startOf($[0].value,tt),it=$[$.length-1].value;let at,st;for(at=nt;at<=it;at=+rt.add(at,1,tt))st=et[at],st>=0&&($[st].major=!0);return $}function ticksFromTimestamps(_e,$,et){const tt=[],rt={},nt=$.length;let it,at;for(it=0;it<nt;++it)at=$[it],rt[at]=it,tt.push({value:at,major:!1});return nt===0||!et?tt:setMajorTicks(_e,tt,rt,et)}class TimeScale extends Scale{constructor($){super($),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init($,et={}){const tt=$.time||($.time={}),rt=this._adapter=new adapters._date($.adapters.date);rt.init(et),mergeIf(tt.displayFormats,rt.formats()),this._parseOpts={parser:tt.parser,round:tt.round,isoWeekday:tt.isoWeekday},super.init($),this._normalized=et.normalized}parse($,et){return $===void 0?null:parse(this,$)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const $=this.options,et=this._adapter,tt=$.time.unit||"day";let{min:rt,max:nt,minDefined:it,maxDefined:at}=this.getUserBounds();function st(ot){!it&&!isNaN(ot.min)&&(rt=Math.min(rt,ot.min)),!at&&!isNaN(ot.max)&&(nt=Math.max(nt,ot.max))}(!it||!at)&&(st(this._getLabelBounds()),($.bounds!=="ticks"||$.ticks.source!=="labels")&&st(this.getMinMax(!1))),rt=isNumberFinite(rt)&&!isNaN(rt)?rt:+et.startOf(Date.now(),tt),nt=isNumberFinite(nt)&&!isNaN(nt)?nt:+et.endOf(Date.now(),tt)+1,this.min=Math.min(rt,nt-1),this.max=Math.max(rt+1,nt)}_getLabelBounds(){const $=this.getLabelTimestamps();let et=Number.POSITIVE_INFINITY,tt=Number.NEGATIVE_INFINITY;return $.length&&(et=$[0],tt=$[$.length-1]),{min:et,max:tt}}buildTicks(){const $=this.options,et=$.time,tt=$.ticks,rt=tt.source==="labels"?this.getLabelTimestamps():this._generate();$.bounds==="ticks"&&rt.length&&(this.min=this._userMin||rt[0],this.max=this._userMax||rt[rt.length-1]);const nt=this.min,it=this.max,at=_filterBetween(rt,nt,it);return this._unit=et.unit||(tt.autoSkip?determineUnitForAutoTicks(et.minUnit,this.min,this.max,this._getLabelCapacity(nt)):determineUnitForFormatting(this,at.length,et.minUnit,this.min,this.max)),this._majorUnit=!tt.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(rt),$.reverse&&at.reverse(),ticksFromTimestamps(this,at,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map($=>+$.value))}initOffsets($=[]){let et=0,tt=0,rt,nt;this.options.offset&&$.length&&(rt=this.getDecimalForValue($[0]),$.length===1?et=1-rt:et=(this.getDecimalForValue($[1])-rt)/2,nt=this.getDecimalForValue($[$.length-1]),$.length===1?tt=nt:tt=(nt-this.getDecimalForValue($[$.length-2]))/2);const it=$.length<3?.5:.25;et=_limitValue(et,0,it),tt=_limitValue(tt,0,it),this._offsets={start:et,end:tt,factor:1/(et+1+tt)}}_generate(){const $=this._adapter,et=this.min,tt=this.max,rt=this.options,nt=rt.time,it=nt.unit||determineUnitForAutoTicks(nt.minUnit,et,tt,this._getLabelCapacity(et)),at=valueOrDefault(rt.ticks.stepSize,1),st=it==="week"?nt.isoWeekday:!1,ot=isNumber(st)||st===!0,lt={};let ct=et,ut,dt;if(ot&&(ct=+$.startOf(ct,"isoWeek",st)),ct=+$.startOf(ct,ot?"day":it),$.diff(tt,et,it)>1e5*at)throw new Error(et+" and "+tt+" are too far apart with stepSize of "+at+" "+it);const ht=rt.ticks.source==="data"&&this.getDataTimestamps();for(ut=ct,dt=0;ut<tt;ut=+$.add(ut,at,it),dt++)addTick(lt,ut,ht);return(ut===tt||rt.bounds==="ticks"||dt===1)&&addTick(lt,ut,ht),Object.keys(lt).sort(sorter).map(mt=>+mt)}getLabelForValue($){const et=this._adapter,tt=this.options.time;return tt.tooltipFormat?et.format($,tt.tooltipFormat):et.format($,tt.displayFormats.datetime)}format($,et){const rt=this.options.time.displayFormats,nt=this._unit,it=et||rt[nt];return this._adapter.format($,it)}_tickFormatFunction($,et,tt,rt){const nt=this.options,it=nt.ticks.callback;if(it)return callback(it,[$,et,tt],this);const at=nt.time.displayFormats,st=this._unit,ot=this._majorUnit,lt=st&&at[st],ct=ot&&at[ot],ut=tt[et],dt=ot&&ct&&ut&&ut.major;return this._adapter.format($,rt||(dt?ct:lt))}generateTickLabels($){let et,tt,rt;for(et=0,tt=$.length;et<tt;++et)rt=$[et],rt.label=this._tickFormatFunction(rt.value,et,$)}getDecimalForValue($){return $===null?NaN:($-this.min)/(this.max-this.min)}getPixelForValue($){const et=this._offsets,tt=this.getDecimalForValue($);return this.getPixelForDecimal((et.start+tt)*et.factor)}getValueForPixel($){const et=this._offsets,tt=this.getDecimalForPixel($)/et.factor-et.end;return this.min+tt*(this.max-this.min)}_getLabelSize($){const et=this.options.ticks,tt=this.ctx.measureText($).width,rt=toRadians(this.isHorizontal()?et.maxRotation:et.minRotation),nt=Math.cos(rt),it=Math.sin(rt),at=this._resolveTickFontOptions(0).size;return{w:tt*nt+at*it,h:tt*it+at*nt}}_getLabelCapacity($){const et=this.options.time,tt=et.displayFormats,rt=tt[et.unit]||tt.millisecond,nt=this._tickFormatFunction($,0,ticksFromTimestamps(this,[$],this._majorUnit),rt),it=this._getLabelSize(nt),at=Math.floor(this.isHorizontal()?this.width/it.w:this.height/it.h)-1;return at>0?at:1}getDataTimestamps(){let $=this._cache.data||[],et,tt;if($.length)return $;const rt=this.getMatchingVisibleMetas();if(this._normalized&&rt.length)return this._cache.data=rt[0].controller.getAllParsedValues(this);for(et=0,tt=rt.length;et<tt;++et)$=$.concat(rt[et].controller.getAllParsedValues(this));return this._cache.data=this.normalize($)}getLabelTimestamps(){const $=this._cache.labels||[];let et,tt;if($.length)return $;const rt=this.getLabels();for(et=0,tt=rt.length;et<tt;++et)$.push(parse(this,rt[et]));return this._cache.labels=this._normalized?$:this.normalize($)}normalize($){return _arrayUnique($.sort(sorter))}}Lr(TimeScale,"id","time"),Lr(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(_e,$,et){let tt=0,rt=_e.length-1,nt,it,at,st;et?($>=_e[tt].pos&&$<=_e[rt].pos&&({lo:tt,hi:rt}=_lookupByKey(_e,"pos",$)),{pos:nt,time:at}=_e[tt],{pos:it,time:st}=_e[rt]):($>=_e[tt].time&&$<=_e[rt].time&&({lo:tt,hi:rt}=_lookupByKey(_e,"time",$)),{time:nt,pos:at}=_e[tt],{time:it,pos:st}=_e[rt]);const ot=it-nt;return ot?at+(st-at)*($-nt)/ot:at}class TimeSeriesScale extends TimeScale{constructor($){super($),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const $=this._getTimestampsForTable(),et=this._table=this.buildLookupTable($);this._minPos=interpolate(et,this.min),this._tableRange=interpolate(et,this.max)-this._minPos,super.initOffsets($)}buildLookupTable($){const{min:et,max:tt}=this,rt=[],nt=[];let it,at,st,ot,lt;for(it=0,at=$.length;it<at;++it)ot=$[it],ot>=et&&ot<=tt&&rt.push(ot);if(rt.length<2)return[{time:et,pos:0},{time:tt,pos:1}];for(it=0,at=rt.length;it<at;++it)lt=rt[it+1],st=rt[it-1],ot=rt[it],Math.round((lt+st)/2)!==ot&&nt.push({time:ot,pos:it/(at-1)});return nt}_generate(){const $=this.min,et=this.max;let tt=super.getDataTimestamps();return(!tt.includes($)||!tt.length)&&tt.splice(0,0,$),(!tt.includes(et)||tt.length===1)&&tt.push(et),tt.sort((rt,nt)=>rt-nt)}_getTimestampsForTable(){let $=this._cache.all||[];if($.length)return $;const et=this.getDataTimestamps(),tt=this.getLabelTimestamps();return et.length&&tt.length?$=this.normalize(et.concat(tt)):$=et.length?et:tt,$=this._cache.all=$,$}getDecimalForValue($){return(interpolate(this._table,$)-this._minPos)/this._tableRange}getValueForPixel($){const et=this._offsets,tt=this.getDecimalForPixel($)/et.factor-et.end;return interpolate(this._table,tt*this._tableRange+this._minPos,!0)}}Lr(TimeSeriesScale,"id","timeseries"),Lr(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(_e,$){typeof _e=="function"?_e($):_e&&(_e.current=$)}function setOptions(_e,$){const et=_e.options;et&&$&&Object.assign(et,$)}function setLabels(_e,$){_e.labels=$}function setDatasets(_e,$){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const tt=[];_e.datasets=$.map(rt=>{const nt=_e.datasets.find(it=>it[et]===rt[et]);return!nt||!rt.data||tt.includes(nt)?{...rt}:(tt.push(nt),Object.assign(nt,rt),nt)})}function cloneData(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const et={labels:[],datasets:[]};return setLabels(et,_e.labels),setDatasets(et,_e.datasets,$),et}function ChartComponent(_e,$){const{height:et=150,width:tt=300,redraw:rt=!1,datasetIdKey:nt,type:it,data:at,options:st,plugins:ot=[],fallbackContent:lt,updateMode:ct,...ut}=_e,dt=reactExports.useRef(null),ht=reactExports.useRef(null),mt=()=>{dt.current&&(ht.current=new Chart$1(dt.current,{type:it,data:cloneData(at,nt),options:st&&{...st},plugins:ot}),reforwardRef($,ht.current))},pt=()=>{reforwardRef($,null),ht.current&&(ht.current.destroy(),ht.current=null)};return reactExports.useEffect(()=>{!rt&&ht.current&&st&&setOptions(ht.current,st)},[rt,st]),reactExports.useEffect(()=>{!rt&&ht.current&&setLabels(ht.current.config.data,at.labels)},[rt,at.labels]),reactExports.useEffect(()=>{!rt&&ht.current&&at.datasets&&setDatasets(ht.current.config.data,at.datasets,nt)},[rt,at.datasets]),reactExports.useEffect(()=>{ht.current&&(rt?(pt(),setTimeout(mt)):ht.current.update(ct))},[rt,st,at.labels,at.datasets,ct]),reactExports.useEffect(()=>{ht.current&&(pt(),setTimeout(mt))},[it]),reactExports.useEffect(()=>(mt(),()=>pt()),[]),React.createElement("canvas",{ref:dt,role:"img",height:et,width:tt,...ut},lt)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(_e,$){return Chart$1.register($),reactExports.forwardRef((et,tt)=>React.createElement(Chart,{...et,ref:tt,type:_e}))}const Line=createTypedChart("line",LineController);Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend);function SavingsManagement(){const[_e,$]=reactExports.useState([]),[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(!1),[it,at]=reactExports.useState(!1),[st,ot]=reactExports.useState(!0),[lt,ct]=reactExports.useState({name:"",type:"bank",currency:"EUR",balance:0,balance_date:new Date().toISOString().split("T")[0]}),[ut,dt]=reactExports.useState({name:"",target_amount:0,target_date:"",category:"",current_amount:0}),[ht,mt]=reactExports.useState([]),[pt,ft]=reactExports.useState(null);reactExports.useEffect(()=>{gt(),pt&&bt(pt)},[pt]);const gt=async()=>{try{const[St,Ot]=await Promise.all([supabase.from("savings_accounts").select("*"),supabase.from("savings_goals").select("*")]);if(St.error)throw St.error;if(Ot.error)throw Ot.error;$(St.data||[]),tt(Ot.data||[])}catch(St){console.error("Error fetching savings data:",St),kt.error("Failed to load savings data")}finally{ot(!1)}},bt=async St=>{try{const{data:Ot,error:Et}=await supabase.from("savings_history").select("*").eq("account_id",St).order("recorded_at",{ascending:!0});if(Et)throw Et;mt(Ot||[])}catch(Ot){console.error("Error fetching balance history:",Ot),kt.error("Failed to load balance history")}},_t=async()=>{try{const{data:St,error:Ot}=await supabase.auth.getUser();if(Ot)throw Ot;const{error:Et}=await supabase.from("savings_accounts").insert([{name:lt.name,type:lt.type,currency:lt.currency,balance:lt.balance,last_updated:new Date(lt.balance_date).toISOString(),user_id:St.user.id}]);if(Et)throw Et;kt.success("Savings account added successfully"),nt(!1),ct({name:"",type:"bank",currency:"EUR",balance:0,balance_date:new Date().toISOString().split("T")[0]}),gt()}catch(St){console.error("Error adding account:",St),kt.error("Failed to add savings account")}},yt=async()=>{try{const{data:St,error:Ot}=await supabase.auth.getUser();if(Ot)throw Ot;const{error:Et}=await supabase.from("savings_goals").insert([{...ut,status:"in_progress",user_id:St.user.id}]);if(Et)throw Et;kt.success("Savings goal added successfully"),at(!1),dt({name:"",target_amount:0,target_date:"",category:"",current_amount:0}),gt()}catch(St){console.error("Error adding goal:",St),kt.error("Failed to add savings goal")}},vt=async(St,Ot,Et)=>{try{const{error:Tt}=await supabase.from("savings_accounts").update({balance:Ot,last_updated:new Date(Et).toISOString()}).eq("id",St);if(Tt)throw Tt;kt.success("Balance updated successfully"),gt(),pt===St&&bt(St)}catch(Tt){console.error("Error updating balance:",Tt),kt.error("Failed to update balance")}},xt=()=>_e.reduce((St,Ot)=>St+Ot.balance,0),wt=()=>{if(!pt||ht.length===0)return null;const St=_e.find(Tt=>Tt.id===pt);if(!St)return null;const Ot={labels:ht.map(Tt=>new Date(Tt.recorded_at).toLocaleDateString()),datasets:[{label:`Balance History - ${St.name}`,data:ht.map(Tt=>Tt.balance),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},Et={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Savings Balance History"}},scales:{y:{beginAtZero:!0}}};return jsxRuntimeExports.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow",children:jsxRuntimeExports.jsx(Line,{data:Ot,options:Et})})};return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Savings Management"}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Savings Accounts"}),jsxRuntimeExports.jsxs("button",{onClick:()=>nt(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[jsxRuntimeExports.jsx(PlusCircle,{size:20})," Add Account"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_e.map(St=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white rounded-lg shadow",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:St.name}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:St.type})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[St.currency," ",St.balance.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(St.last_updated).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ft(St.id),className:"p-2 hover:bg-gray-100 rounded text-blue-600",children:"View History"}),jsxRuntimeExports.jsx("button",{onClick:()=>{const Ot=prompt("Enter new balance:",St.balance.toString()),Et=prompt("Enter date (YYYY-MM-DD):",new Date().toISOString().split("T")[0]);Ot&&!isNaN(parseFloat(Ot))&&Et&&vt(St.id,parseFloat(Ot),Et)},className:"p-2 hover:bg-gray-100 rounded",children:jsxRuntimeExports.jsx(Pen,{size:16})})]})]})]},St.id))}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-lg",children:["Total Savings: ",jsxRuntimeExports.jsxs("span",{className:"font-bold",children:["",xt().toFixed(2)]})]})}),wt()]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Savings Goals"}),jsxRuntimeExports.jsxs("button",{onClick:()=>at(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[jsxRuntimeExports.jsx(PlusCircle,{size:20})," Add Goal"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:et.map(St=>jsxRuntimeExports.jsxs("div",{className:"p-4 bg-white rounded-lg shadow",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:St.name}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{children:"Progress"}),jsxRuntimeExports.jsxs("span",{children:[(St.current_amount/St.target_amount*100).toFixed(1),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${St.current_amount/St.target_amount*100}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsxs("span",{children:["",St.current_amount.toFixed(2)," / ",St.target_amount.toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-500",children:["Due: ",new Date(St.target_date).toLocaleDateString()]})]})]},St.id))})]}),rt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add Savings Account"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:lt.name,onChange:St=>ct({...lt,name:St.target.value}),className:"w-full p-2 border rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),jsxRuntimeExports.jsxs("select",{value:lt.type,onChange:St=>ct({...lt,type:St.target.value}),className:"w-full p-2 border rounded",children:[jsxRuntimeExports.jsx("option",{value:"bank",children:"Bank Account"}),jsxRuntimeExports.jsx("option",{value:"crypto",children:"Cryptocurrency"}),jsxRuntimeExports.jsx("option",{value:"investment",children:"Investment"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Currency"}),jsxRuntimeExports.jsxs("select",{value:lt.currency,onChange:St=>ct({...lt,currency:St.target.value}),className:"w-full p-2 border rounded",children:[jsxRuntimeExports.jsx("option",{value:"EUR",children:"EUR"}),jsxRuntimeExports.jsx("option",{value:"USD",children:"USD"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Initial Balance"}),jsxRuntimeExports.jsx("input",{type:"number",value:lt.balance,onChange:St=>ct({...lt,balance:parseFloat(St.target.value)}),className:"w-full p-2 border rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Balance Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:lt.balance_date,onChange:St=>ct({...lt,balance_date:St.target.value}),className:"w-full p-2 border rounded"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>nt(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:_t,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Account"})]})]})}),it&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add Savings Goal"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Goal Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:ut.name,onChange:St=>dt({...ut,name:St.target.value}),className:"w-full p-2 border rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),jsxRuntimeExports.jsxs("select",{value:ut.category,onChange:St=>dt({...ut,category:St.target.value}),className:"w-full p-2 border rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a category"}),jsxRuntimeExports.jsx("option",{value:"wedding",children:"Wedding"}),jsxRuntimeExports.jsx("option",{value:"travel",children:"Travel"}),jsxRuntimeExports.jsx("option",{value:"emergency",children:"Emergency Fund"}),jsxRuntimeExports.jsx("option",{value:"house",children:"House"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.target_amount,onChange:St=>dt({...ut,target_amount:parseFloat(St.target.value)}),className:"w-full p-2 border rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Current Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:ut.current_amount,onChange:St=>dt({...ut,current_amount:parseFloat(St.target.value)}),className:"w-full p-2 border rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:ut.target_date,onChange:St=>dt({...ut,target_date:St.target.value}),className:"w-full p-2 border rounded"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>at(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:yt,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Goal"})]})]})})]})}function PrivateRoute({children:_e}){const{user:$}=useAuthContext();return $?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}function App(){return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(De,{position:"top-right"}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Dashboard,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/income",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Income,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/budget",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(BudgetManagement,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/savings",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(SavingsManagement,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/analytics",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Analytics,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/statements",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(BankStatements,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Settings,{})})})})]})]})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{getDefaultExportFromCjs as g};
